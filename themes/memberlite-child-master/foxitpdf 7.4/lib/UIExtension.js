!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("jquery"),require("hammerjs"),require("eventemitter3"),require("jquery-contextmenu"),require("dialog-polyfill"),require("i18next"),require("i18next-chained-backend"),require("i18next-localstorage-backend"),require("i18next-xhr-backend"),require("file-saver"),require("babel-polyfill")):"function"==typeof define&&define.amd?define(["jquery","hammerjs","eventemitter3","jquery-contextmenu","dialog-polyfill","i18next","i18next-chained-backend","i18next-localstorage-backend","i18next-xhr-backend","file-saver","babel-polyfill"],e):"object"==typeof exports?exports.UIExtension=e(require("jquery"),require("hammerjs"),require("eventemitter3"),require("jquery-contextmenu"),require("dialog-polyfill"),require("i18next"),require("i18next-chained-backend"),require("i18next-localstorage-backend"),require("i18next-xhr-backend"),require("file-saver"),require("babel-polyfill")):t.UIExtension=e(t.jQuery,t.Hammer,t.EventEmitter,t["jquery-contextmenu"],t.dialogPolyfill,t.i18next,t.i18nextChainedBackend,t.i18nextLocalStorageBackend,t.i18nextXHRBackend,t.saveAs,t["babel-polyfill"])}(self,(function(__WEBPACK_EXTERNAL_MODULE__3__,__WEBPACK_EXTERNAL_MODULE__19__,__WEBPACK_EXTERNAL_MODULE__56__,__WEBPACK_EXTERNAL_MODULE__89__,__WEBPACK_EXTERNAL_MODULE__91__,__WEBPACK_EXTERNAL_MODULE__137__,__WEBPACK_EXTERNAL_MODULE__138__,__WEBPACK_EXTERNAL_MODULE__139__,__WEBPACK_EXTERNAL_MODULE__140__,__WEBPACK_EXTERNAL_MODULE__253__,__WEBPACK_EXTERNAL_MODULE__295__){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=103)}([function(t,e,n){"use strict";t.exports=n(386)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(16),i=(o=r)&&o.__esModule?o:{default:o};e.default=Object.assign({jrLicenseSuccess:"jr-license-success",srLicenseSuccess:"sr-license-success",beforeOpenFile:"before-open-file",openingFile:"opening-file",startConvert:"start-convert",finishConvert:"finish-convert",openFileSuccess:"open-file-success",openFileFailed:"open-file-failed",willCloseDocument:"will-close-document",renderFileSuccess:"render-file-success",renderFileFailed:"render-file-error",renderPageSuccess:"render-page-success",beforeZoomTo:"before-zoom-to",zoomToSuccess:"zoom-to-success",zoomToFailed:"zoom-to-failed",startChangeViewMode:"start-change-view-mode",changeViewModeSuccess:"change-view-mode-success",changeViewModeFailed:"change-view-mode-failed",pagesLayoutRedrawBegin:"pages-layout-redraw-begin",pageLayoutRedraw:"page-layout-redraw",pagesLayoutRedrawEnd:"pages-layout-redraw-end",copyTextSuccess:"copy-text-success",copyTextFailed:"copy-text-failed",tapPage:"tap-page",tapAnnotation:"tap-annotation",pressPage:"press-page",pressAnnotation:"press-annotation",pressText:"press-text",rightClickPage:"right-click-page",rightClickAnnotation:"right-click-annotation",doubleTapPage:"double-tap-page",doubleTapAnnotation:"double-tap-annotation",activeAnnotationBefore:"active-annotation-before",activeAnnotation:"active-annotation",activeAnnotationAfter:"active-annotation-after",panActiveAnnotation:"pan-active-annotation",doubleTapActiveAnnotation:"double-tap-active-annotation",contextMenuActiveAnnotation:"contextmenu-action-annotation",unActiveAnnotation:"unactive-annotation",updateActiveAnnotation:"update-action-annotation",updateActionAnnotation:"update-action-annotation",removeActiveAnnotationBefore:"remove-action-annotation-before",removeActionAnnotationBefore:"remove-action-annotation-before",removeActiveAnnotationSuccess:"remove-action-annotation-success",removeActionAnnotationSuccess:"remove-action-annotation-success",removeActiveAnnotationFailed:"remove-action-annotation-failed",removeActionAnnotationFailed:"remove-action-annotation-failed",switchStateHandler:"switch-state-handler",deactiveStateHandler:"deactive-state-handler",redactAnnotRendered:"redact-annot-rendered",redactAnnotAllApplyed:"applyed-all-redaction",redactAnnotApplyed:"applyed-redaction",pageNumberChange:"page-number-change",beforeDocumentRotation:"before-document-rotation",afterDocumentRotation:"after-document-rotation",createPageAreaRenderer:"create-page-area-renderer",destroyPageAreaRenderer:"destroy-page-area-renderer",startUpdatePageAreaRenderer:"start-update-page-area-renderer",createSnapshotArea:"create-snapshot-area",updateSnapshotArea:"update-snapshot-area",stabilizedSnapshotArea:"stabilized-snapshot-area",switchPageAreaRenderer:"switch-page-area-renderer",fitWidthResizeViewport:"fit-width-resize-viewport",signatureFieldMouseLButtonDown:"signature-field-Lbutton-down",signatureFieldMouseLButtonUp:"signature-field-LButton-up",signatureFieldMouseEnter:"signature-field-mouse-enter",signatureFieldMouseExit:"signature-field-mouse-exit",visiblePagesRenderCompleted:"completed-render-visible-pages",marqueeZoomIn:"marquee-zoom-in",marqueeZoomOut:"marquee-zoom-out",inkSignAdded:"inkSign-added",inkSignDeleted:"inkSign-deleted",pageMoved:"page-moved",pageRemoved:"page-removed",pageAdded:"page-added",customDataAdd:"custom-data-add",customDataImported:"custom-data-imported",customDataRemoved:"custom-data-removed",customDataUpdated:"custom-data-updated",distanceAnnotCreationStart:"distance-creation-start",updateCreatingDistanceAnnot:"distance-creation-update",distanceAnnotCreationEnd:"distance-creation-end",distanceAnnotCreationCancel:"distance-creation-cancel",addEditImage:"add-edit-image",applicationOfInkSign:"application-of-ink-sign",checkTheSearch:"check-the-search",activeElementChanged:"active-element-changed",cancelCreatingDistance:"cancel-creating-measurement",completeCreatingDistance:"complete-creating-measurement",eraserSuccess:"eraser-success",addAnnotSuccess:"add-annot-success",cancelAddAnnot:"cancel-add-annot",globalAnnotFlagChanged:"global-annot-flag-changed",toolbarTabsClicked:"toolbar-tabs-clicked",disableScroll:"disable-scroll",enableScroll:"enable-scroll",selectText:"select-text",changeEnableJS:"change-enable-js",toggleEngineSr2JrSuccess:"toggle-engine-sr-to-jr-success",iconInited:"iconInited",iconAdded:"iconAdded",iconRemoved:"iconRemoved"},i.default)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=l(n(40)),i=l(n(30)),a=l(n(235)),s=l(n(71)),c=l(n(32)),u=l(n(7));function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var p=["window","document","top","setTimeout","setInterval","Function","eval"],d=["location","screen"],h=window.Function,g={};var m=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return o.component=n,o.data=Object.assign({},n.$options.$initData||{}),o.methods={},o.$$sources={},o.addDestroyHook((function(){var t=o.$$sources;for(var e in t){t[e].destroy()}o.$$sources={}})),o.$$code={},o.root=n.getRoot(),o.$$watches=[],n.parent&&o.setParentScope(n.parent.controller),o}return f(e,t),e.getName=function(){(0,c.default)()},e.isFake=function(){return!1},o(e,null,[{key:"permission",get:function(){return 4294967295}}]),e.prototype.getComponentByName=function(t){return this.component.getRoot().getComponentByName(t)},e.prototype.eval=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=t.trim();var n=this.compileCode(t);return n.call(null,e)},e.prototype.watch=function(t,e){var n=this,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("function"!=typeof e)throw new TypeError("Illigal argument: callback must be a function");var r=new Error,i=this.compileCode(t),a=function(){try{return i()}catch(e){u.default.getLogger(n.constructor.getName()).warn("excute expression error",t,e,r)}},s=void 0,c=void 0,l=function(){var t=a(),n=s,r=c;if(s=t,o){var i=JSON.stringify(t);c=i,i!==r&&e(t,n)}else(t!==n||Array.isArray(t)&&Array.isArray(n)&&t.length!==n.length)&&e(t,n)};return l.$expression=t,this.$$watches.push(l),function(){var t=n.$$watches.indexOf(l);t>-1&&n.$$watches.splice(t,1)}},e.prototype.digest=function(){this.$$watches.forEach((function(t){return t()}))},e.prototype.applyAll=function(){var t=this;this.digest(),this.component.isContainer()&&this.component.$container.each((function(e){e.controller!==t.component.controller&&e.controller.applyAll()}))},e.prototype.compileCode=function(t){return function(t){if(g[t])return g[t];var e=(0,s.default)("$$self"),n=(0,s.default)("$$sandbox"),o=(0,s.default)("$$tempValue");return g[t]=new h(e,"\n            var "+n+" = "+e+"._sandbox();\n            with("+n+") {\n                return (function("+o+") {\n                    "+o+" = "+o+" || {};\n                    with("+o+") {\n                        with("+e+".methods) {\n                            return (function(){\n                                'use strict';\n                                return "+t+";\n                            }).call(this)\n                        }\n                    }\n                }).bind("+n+");\n            }\n        ")}(t).call(this,this)},e.prototype._sandbox=function(){var t=this,e=Object.create(this.data);return p.forEach((function(t){return e[t]=void 0})),d.forEach((function(t){return n(t,window[t])})),n("$controller",this),n("$this",this),n("$rootComponent",this.root),n("$root",this.root.controller.data),n("$component",this.component),n("$data",this.data),n("$pdfui",this.pdfUI),n("$$",(function(e){return t.getComponentByName(e)})),e;function n(t,n){return Object.defineProperty(e,t,{get:function(){return n}})}},e.prototype.setTimeout=function(t){function e(e,n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t,e){var n=this;if("function"!=typeof t)throw new TypeError("Illegal argument: callback is not a function");var o=setTimeout((function(){try{t()}finally{n.digest()}}),e);return function(){return clearTimeout(o)}})),e.prototype.setInterval=function(t){function e(e,n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t,e){var n=this;if("function"!=typeof t)throw new TypeError("Illegal argument: callback is not a function");var o=setInterval((function(){try{t()}finally{n.digest()}}),e);return function(){return clearInterval(o)}})),e.prototype.getDataSource=function(t){t=t.trim();var e=this.$$sources[t];if(e)return e;var n=t.split("."),o="",r=n.slice(0,n.length-1).reduce((function(t,e){if(null==t)throw new Error("cannot access "+e+" from '"+t+"': "+o+" ");return o=o?o+"."+e:e,t[e]}),this.data),i=n[n.length-1];return this.$$sources[t]=new a.default(r,i)},e.prototype.setParentScope=function(t){if(this.$parent!==t)if(this.$parent=t,t){if(this.data.isPrototypeOf(t.data)||this.data===t.data)return;this.data=e(this.data,t.data),this.methods=e(this.methods,t.methods),this.data.$parent=t.data}else this.data=e(this.data,Object.prototype),this.methods=e(this.methods,Object.prototype),this.data.$parent=null;function e(t,e){return null==e&&(e=Object.prototype),Object.setPrototypeOf?(Object.setPrototypeOf(t,e),t):Object.create(e,Object.getOwnPropertyDescriptors(t))}},e.prototype.setPDFUIInstance=function(t){this.pdfUI=t},e.prototype.getPDFUI=function(){return this.pdfUI},e.prototype.prelink=function(){(0,r.default)()},e.prototype.postlink=function(){(0,r.default)()},e.prototype.mounted=function(){var t=this;this.addDestroyHook(this.getPDFUI().addViewerEventListener("open-file-success",(function(e){return t.changePeimission(e)}))),this.addDestroyHook(this.getPDFUI().addViewerEventListener("permission-changed",(function(e){return t.changePeimission(e)})))},e.prototype.changePeimission=function(t){var e=this;this.getPDFUI().getPDFDocRender().then((function(t){return t.getUserPermission().getValue()})).then((function(t){t&e.constructor.permission?e.component.lock&&e.component.unlock():e.component.lock&&e.component.lock()}))},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.handle=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];(0,r.default)(e)},e.prototype.uninstall=function(){this.destroy()},e}(i.default);e.default=m},function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE__3__},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")};e.convertFromNumberToHex=function(t){if("number"!=typeof t)throw new TypeError("Unexpected color value:"+t);if(t<0)return-1;var e=t.toString(16),n=6;t>16777215&&(n=8);for(;e.length<n;)e="0"+e;return"#"+e},e.convertFromNumberToRGBA=function(t){var e=void 0;t<16777216?e=255:(e=t/r&255,t&=16777215);return{r:t>>16&255,g:t>>8&255,b:255&t,a:e}},e.colorConvertor=i,e.standardColorAsARGBNumber=function(t){if(t<=16777215)return 4278190080+t;if(t>16777215)return t;if("string"==typeof t){if((t=t.replace("#","").trim()).match(/^[0-9A-F]{8}$/i))return parseInt(t,16);if(t.match(/^[0-9A-F]{6}$/i))return 4278190080+parseInt(t,16);if(t.match(/^rgb\(\d{1,3}(,\d{1,3}){2}\)$/i)){var e=t.split(/\D+/).map((function(t){return parseInt(t)})),n=o(e,4),r=n[1],i=n[2],a=n[3];return 4278190080+(r<<16)+(i<<8)+a}if(t.match(/^rgba\(\d{1,3}(,\d{1,3}){3}\)$/i)){var s=t.split(/\D+/).map((function(t){return parseInt(t)})),c=o(s,5),u=c[1],l=c[2],f=c[3],p=c[4];return Math.floor(4278190080*p)+(u<<16)+(l<<8)+f}}throw new Error('incorrect color format: "'+t+'"')},e.convertFromNumberToJSColor=function(t){return["RGB",((16711680&t)>>16)/255,((65280&t)>>8)/255,(255&t)/255]},e.getTransparentOrColor=function(t){var e=void 0;e=0===t?"transparent":i(16777215&t,"#");return e};var r=Math.pow(2,24);function i(t){var e,n,o,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"HTML",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a="",s=void 0;switch("number"==typeof t&&(t=["int",t]),t[0]){case"int":e=(16711680&t[1])>>16,n=(65280&t[1])>>8,o=255&t[1];break;case"T":e=0,n=0,o=0,i=0;break;case"G":e=n=o=255*t[1];break;case"RGB":e=255*t[1],n=255*t[2],o=255*t[3];break;case"CMYK":e=(1-t[4])*(1-t[1])*255,n=(1-t[4])*(1-t[2])*255,o=(1-t[4])*(1-t[3])*255;break;case"r":e=+(s=t.match(/rgba?\((\d*),\s*(\d*),\s*(\d*),?\s*([\.0-9]*)?\)/))[1],n=+s[2],o=+s[3];break;case"#":var c=4==t.length?/#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])$/:/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/;s=t.match(c),e=parseInt(s[1],16),n=parseInt(s[2],16),o=parseInt(s[3],16);break;default:throw new Error("Unsupported color format")}switch(r){case"HTML":a=e===n&&n===o&&-1===o?"transparent":"rgba("+parseInt(e)+","+parseInt(n)+","+parseInt(o)+","+i+")";break;case"RGB":a=["RGB",e/255,n/255,o/255];break;case"#":a+=e<16?"#0"+e.toString(16):"#"+e.toString(16),a+=n<16?"0"+n.toString(16):n.toString(16),a+=o<16?"0"+o.toString(16):o.toString(16);break;case"int":a=0,a|=(i*=255)<<24,a|=e<<16,a|=n<<8,a|=o,a>>>=0}return a}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ORIENTATION_VERTICAL="vertical",e.ORIENTATION_HORIZONTAL="horizontal",e.ROOT_MODULE_NAME="",e.WEBPDF_VIEWER_COMPONENT_NAME="pdf-viewer",e.NAMESPACE_SEPERATOR=":",e.PDFUI_BINDER="pdfui-event-binder",e.MODAL_LAYER_BINDER="pdfui-default-modal-binder",e.KEY_MAP_OPEN_SIDEBAR="pdfui-open-sidebar",e.KEY_MAP_CLOSE_SIDEBAR="pdfui-close-sidebar",e.KEY_MAP_OPEN_QUICK_SEARCH="pdfui-open-quick-search",e.KEY_MAP_EXIT_TO_HAND_STATE="pdfui-exit-to-hand-state",e.KEY_MAP_EXIT_LAYER="pdfui-exit-modal-layer",e.KEY_MAP_COPY_ANNOT="pdfui-copy-annot",e.COMPONENT_BROADCAST_LOCALIZE="localize",e.FRAGMENT_ACTION={BEFORE:"before",AFTER:"after",APPEND:"append",PREPEND:"prepend",INSERT:"insert",FILL:"fill",REPLACE:"replace",EXT:"ext",REMOVE:"remove"},e.FRAGMENT_SELECT_HANDLER={THROW_ERROR_IF_NOT_FOUND:"throw",LOG_MESSAGE_IF_NOT_FOUND:"warn",IGNORE_IF_NOT_FOUND:"ignore"},e.COMPONENT_EVENTS={DISABLE:"disable",ENABLE:"enable",ACTIVE:"active",DEACTIVE:"deactive",SHOWN:"shown",HIDDEN:"hidden",DESTROYED:"destroyed",REMOVED:"removed",CHILD_INSERTED:"child_inserted",INSERTED:"inserted",MOUNTED:"mounted",CLOSED:"closed",EXPAND:"expand",BEFORE_EXPAND:"before_expand",RESIZESTART:"resizestart",RESIZE:"resize",COLLAPSE:"collapse"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(417);Object.defineProperty(e,"MARKUP_ANNOTATION_STATE",{enumerable:!0,get:function(){return(t=o,t&&t.__esModule?t:{default:t}).default;var t}});e.BORDER_STYLE={SOLID:0,DASHED:1,UNDERLINE:2,BEVELED:3,INSET:4,CLOUDY:5},e.POINT_TYPE={MOVE_TO:1,LINE_TO:2,LINE_TO_CLOSE_FIGURE:3,BEZIER_TO:4,BEZIER_TO_CLOSE_FIGURE:5},e.Intents={LINE_ARROW:"LineArrow",LINE_DIMENSION:"LineDimension",POLYGON_CLOUD:"PolygonCloud",POLYGON_DIMENSION:"PolygonDimension",POLYLINE_DIMENSION:"PolyLineDimension",FREETEXT_TYPEWRITER:"FreeTextTypewriter",FREETEXT_CALLOUT:"FreeTextCallout",STRIKEOUT_TEXTEDIT:"StrikeOutTextEdit"};var r=e.LineEndingName={0:"None",1:"Square",2:"Circle",3:"Diamond",4:"OpenArrow",5:"ClosedArrow",6:"Butt",7:"ROpenArrow",8:"RClosedArrow",9:"Slash"};e.LineEndingStyle=Object.keys(r).reduce((function(t,e){return t[r[e]]=Number(e),t}),{}),e.LINE_CAPTION_POSITION={POS_INLINE:0,POS_TOP:1},e.AnnotFlagsName={0:"invisible",1:"hidden",2:"print",3:"nozoom",4:"norotate",5:"noview",6:"readonly",7:"locked",8:"togglenoview"},e.PDFDocPermission={PrintLowQuality:4,ModifyDocument:8,Extract:16,AnnotForm:32,FillForm:256,ExtractAccess:512,Assemble:1024,PrintHighQuality:2048},e.MeasureType={MeasureTypeX:0,MeasureTypeY:1,MeasureTypeD:2,MeasureTypeA:3,MeasureTypeT:4,MeasureTypeS:5},e.STORE_NAMES={SELECTION_INFO:"viewer--store-selection-info"},e.CREATING_MEASUREMENT_CONTEXTMENU="creating-measurement-contextmenu",e.HIGHLIGHTING_MODE={NONE:0,INVERT:1,OUTLINE:2,PUSH:3,TOGGLE:4},e.RESOLVED_PROMISE_VOID=Promise.resolve()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(134)),r=f(n(406)),i=n(72),a=f(n(407)),s=f(n(236)),c=f(n(408)),u=f(n(409)),l=f(n(135));function f(t){return t&&t.__esModule?t:{default:t}}var p={},d=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.toggleLogger=function(t){o.logOff="boolean"==typeof t?t:!o.logOff},t.getLogger=function(t){return p[t]=p[t]||this.createLogger(t)},t.createLogger=function(t){var e,n=void 0,f=void 0;switch(o.logLayout){case"complex":n=new c.default;break;case"simple":default:n=new r.default}switch(o.logLevel){case"debug":f=i.LEVEL_DEBUG;break;case"info":f=i.LEVEL_INFO;break;case"warn":f=i.LEVEL_WARN;break;case"error":default:f=i.LEVEL_ERROR}return e=o.logAppenders.map((function(t){switch(t){case"console":return new s.default;case"websocket":return new WebsocketAppender}})).filter((function(t){return t instanceof l.default})),new a.default(new u.default(e),n,t,f)},t}();e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(1),i=(o=r)&&o.__esModule?o:{default:o};function a(){}a.prototype=i.default,e.default=Object.assign(new a,{addTextMarkupSuccess:"add-text-markup-success",fullscreenchange:"fullscreenchange",appendCommentListGroup:"apppend-commentlist-group",destroyCommentListGroup:"destroy-commentlist-group",appendCommentListComment:"append-commentlist-comment",appendCommentListReply:"append-commentlist-reply",destroyCommentListComment:"destroy-commentlist-comment",destroyCommentListReply:"destroy-commentlist-reply",applicationDestroyed:"uiextension-destroyed",addReplySuccess:"add-reply-success",deleteReplySuccess:"delete-reply-success",addActionSuccess:"add-action-success",addContentSuccess:"add-content-success",markRedactionSuccess:"mark-redaction-success",addReviewStateSuccess:"add-review-state-success",addonLoaded:"pdfui-init-process-addon-loaded",initializationCompleted:"pdfui-intialization-completed",commentGroupAnnotationsUpdated:"pdfui-comment-group-annotations-updated",startScrollingPage:"pdfui-start-scrolling-page",scrollingPage:"pdfui-scrolling-page",endScrollingPage:"pdfui-end-scrolling-page",stampSelectedChange:"stampSelectedChange"})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r,i=e.isTouchDevice=(r=" -webkit- -moz- -o- -ms- ".split(" "),!!("ontouchstart"in window||navigator.maxTouchPoints||window.DocumentTouch&&document instanceof DocumentTouch)||(o=["(",r.join("touch-enabled),("),"heartz",")"].join(""),!!window.matchMedia&&window.matchMedia(o).matches)),a=navigator.userAgent.toLowerCase(),s=e.isMac=/macintosh|mac os x/.test(a),c=e.isIOS=/ipad|iphone|ipod/.test(a),u=e.isIPHONE=/iphone/.test(a),l=e.isIPAD=/ipad/.test(a),f=e.isIPOD=/ipod/.test(a),p=e.isAndroid=/android/.test(a),d=e.isBlackBerry=/blackberry/.test(a),h=e.isWebOS=/webos/.test(a),g=e.isKindle=/silk|kindle/.test(a),m=e.isTablet=/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(a),v=e.isMobile=!m&&(/mobile/.test(a)||c||p||d||h||g),y=e.isDesktop=!(v||m||p||u||l||f||g||h),b=e.isMiPad=/(MI(.*|\s*)PAD).*/i.test(a),w=e.isXiaomi=!b&&/MI(\s+|\d+?|HM|xiaomi).*/i.test(a),_=e.isHuawei=/HUAWEI/.test(navigator.userAgent);e.DEVICE_DETACTION={mac:s,ios:c,iphone:u,ipad:l,ipod:f,android:p,blackberry:d,webos:h,kindle:g,tablet:m,mobile:v,desktop:y,xiaomi:w,huawei:_,touch:i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(30)),r=a(n(32)),i=a(n(40));a(n(2)),a(n(15));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.module,r=n.localizer,i=n.node,a=n.parentComponent,u=n.attrValue,l=n.subName,f=n.attrName;s(this,e);var p=c(this,t.call(this));return p.node=i,p.module=o,p.localizer=r,p.parentComponent=a,p.subName=l,p.attrValue=u,p.attrName=f,p.isParser=!1,p.order=1,p.directiveName=p.constructor.getName(),p}return u(e,t),e.getName=function(){(0,r.default)()},e.isParser=function(){return!1},e.isFake=function(){return!1},e.prototype.findClosestDirective=function(t,e){var n=this.parentComponent;if("string"==typeof e)for(;n;){if(!!n.directive.findDirective(e))return;var o=n.directive.findDirective(t);if(o)return o;n=n.parent}else for(;n;){var r=n.directive.findDirective(t);if(r)return r;n=n.parent}},e.prototype.processComponentOptions=function(t){},e.prototype.parseComponent=function(){},e.prototype.init=function(t){this.component=t,this.controller=t.controller,this.directiveOption=t.$options[this.directiveName]||{}},e.prototype.emit=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this,o=this.component.parent;o&&o.directive.receiveEmit(n,t,e)},e.prototype.receiveEmit=function(t,e,n){},e.prototype.broadcast=function(t,e){this.component.isContainer()&&this.component.children().forEach((function(n){n.directive.receiveBroadcast(t,e)}))},e.prototype.receiveBroadcast=function(t,e){},e.prototype.beforeComponentRender=function(){(0,i.default)()},e.prototype.afterComponentRender=function(){(0,i.default)()},e.prototype.componentPrelink=function(){(0,i.default)()},e.prototype.componentPostlink=function(){(0,i.default)()},e.prototype.componentMounted=function(){(0,i.default)()},e.prototype.componentDestroyed=function(){this.destroy()},e}(o.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CustomScrollWrap=e.PDF=e.Log=e.UserPermission=e.shared=e.STATE_HANDLER_NAMES=e.SnapshotServer=e.SoundComponent=e.StrikeOutTextEditComponent=e.ScreenComponent=e.FreeTextBoxComponent=e.FreeTextCalloutComponent=e.FreeTextTypeWritterComponent=e.PolygonCloudAnnotComponent=e.InkComponent=e.StampComponent=e.FreeTextComponent=e.SquareComponent=e.CaretComponent=e.FileAttachmentComponent=e.NoteComponent=e.CircleComponent=e.LinkAnnotComponent=e.PolygonComponent=e.PolyLineComponent=e.LineComponent=e.SquigglyComponent=e.UnderlineComponent=e.StrikeOutComponent=e.HighlightComponent=e.TextMarkupAnnotComponent=e.MarkupAnnotComponent=e.AnnotComponent=e.PageCustomRender=e.PDFPageRendering=e.DocCustomRender=e.PDFDocRendering=e.PDFViewerRendering=e.ScrollWrap=e.RetryPasswordComponent=e.IContextMenu=e.Matrix=e.ViewerEvents=e.Events=e.stateHandler=e.IStateHandler=e.viewMode=e.IViewMode=e.PDFViewer=e.Consts=e.BrowserInfo=e.DeviceInfo=e.vendors=e.Deps=e.PropertiesControl=e.ShapeControl=e.TileJREngineApRenderer=e.LocalCanvasApRenderer=e.AnnotationApRenderer=e.ui=e.constants=void 0;var o=Tt(n(224)),r=Tt(n(73)),i=Tt(n(46)),a=Tt(n(1)),s=Tt(n(70)),c=Tt(n(237)),u=Tt(n(136)),l=Tt(n(225)),f=Tt(n(231)),p=Tt(n(232)),d=Tt(n(228)),h=Tt(n(230)),g=Tt(n(62)),m=Tt(n(41)),v=Tt(n(80)),y=Tt(n(244)),b=Tt(n(141)),w=Tt(n(246)),_=Tt(n(247)),P=Tt(n(113)),O=Tt(n(144)),E=Tt(n(147)),x=Tt(n(249)),C=Tt(n(250)),A=Tt(n(251)),S=Tt(n(252)),D=Tt(n(254)),R=Tt(n(150)),j=Tt(n(152)),T=Tt(n(255)),M=Tt(n(256)),I=Tt(n(257)),k=Tt(n(151)),F=Tt(n(258)),N=Tt(n(261)),L=Tt(n(262)),V=Tt(n(263)),B=Tt(n(264)),U=Tt(n(271)),H=Tt(n(33)),q=Tt(n(92)),$=Tt(n(118)),W=Tt(n(233)),z=jt(n(6)),Y=jt(n(13)),G=jt(n(9)),K=jt(n(26)),J=jt(n(28)),X=jt(n(76)),Z=jt(n(44)),Q=jt(n(72)),tt=n(134),et=jt(n(651)),nt=jt(n(105)),ot=Tt(n(75)),rt=Tt(n(292)),it=Tt(n(19)),at=Tt(n(56)),st=Tt(n(3)),ct=Tt(n(653)),ut=Tt(n(24)),lt=Tt(n(106)),ft=Tt(n(142)),pt=n(38),dt=Tt(n(16)),ht=Tt(n(29)),gt=Tt(n(245)),mt=Tt(n(654)),vt=jt(n(43));n(293),n(296);var yt=n(661),bt=Tt(n(119)),wt=Tt(n(159)),_t=Tt(n(158)),Pt=Tt(n(272)),Ot=Tt(n(160)),Et=n(17),xt=n(662),Ct=n(171),At=Tt(n(282)),St=Tt(n(50)),Dt=Tt(n(109)),Rt=Tt(n(93));function jt(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Tt(t){return t&&t.__esModule?t:{default:t}}var Mt=a.default,It={Hammer:it.default,EventEmitter:at.default,jQuery:st.default},kt=It,Ft={browser:J,units:Z,download:X,createClass:yt.createClass,DebounceAsyncTaskExecutor:Et.DebounceAsyncTaskExecutor,ThrottleAsyncTaskExecutor:xt.ThrottleAsyncTaskExecutor,QueuedAsyncTaskExecutor:Ct.QueuedAsyncTaskExecutor,areaSelections:et,activation:nt,keyboardStatus:ot.default},Nt={LEVELS:Q,setLogLevel:tt.setLogLevel},Lt={IStateHandler:i.default},Vt={IViewMode:r.default},Bt={IFloatingTooltip:bt.default,IViewerUI:wt.default,IContextMenu:$.default,TinyViewerUI:_t.default,TinyFloatingTooltip:Pt.default,TextSelectionTool:Ot.default},Ut={constant:Object.assign({Cipher_Type:ct.default,User_Permissions:ut.default,DataEvents:dt.default},vt),actions:mt.default,annots:{constant:{Annot_Flags:lt.default,Annot_Type:ft.default,MARKUP_ANNOTATION_STATE:z.MARKUP_ANNOTATION_STATE}},form:{constant:{Field_Flag:pt.FieldFlag,Field_Type:pt.FieldType}},HeaderFooter:At.default,DataEvents:dt.default,AnnotUpdatedType:ht.default,Error_Code:gt.default},Ht={ViewerEvents:Mt,STATE_HANDLER_NAMES:Y};e.constants=Ht,e.ui=Bt,e.AnnotationApRenderer=Dt.default,e.LocalCanvasApRenderer=St.default,e.TileJREngineApRenderer=Rt.default,e.ShapeControl=H.default,e.PropertiesControl=q.default,e.Deps=It,e.vendors=kt,e.DeviceInfo=G,e.BrowserInfo=K,e.Consts=z,e.PDFViewer=o.default,e.IViewMode=r.default,e.viewMode=Vt,e.IStateHandler=i.default,e.stateHandler=Lt,e.Events=a.default,e.ViewerEvents=Mt,e.Matrix=s.default,e.IContextMenu=$.default,e.RetryPasswordComponent=c.default,e.ScrollWrap=u.default,e.PDFViewerRendering=l.default,e.PDFDocRendering=f.default,e.DocCustomRender=p.default,e.PDFPageRendering=d.default,e.PageCustomRender=h.default,e.AnnotComponent=g.default,e.MarkupAnnotComponent=m.default,e.TextMarkupAnnotComponent=v.default,e.HighlightComponent=y.default,e.StrikeOutComponent=b.default,e.UnderlineComponent=w.default,e.SquigglyComponent=_.default,e.LineComponent=P.default,e.PolyLineComponent=O.default,e.PolygonComponent=E.default,e.LinkAnnotComponent=x.default,e.CircleComponent=C.default,e.NoteComponent=A.default,e.FileAttachmentComponent=S.default,e.CaretComponent=D.default,e.SquareComponent=R.default,e.FreeTextComponent=j.default,e.StampComponent=T.default,e.InkComponent=M.default,e.PolygonCloudAnnotComponent=I.default,e.FreeTextTypeWritterComponent=k.default,e.FreeTextCalloutComponent=F.default,e.FreeTextBoxComponent=N.default,e.ScreenComponent=L.default,e.StrikeOutTextEditComponent=V.default,e.SoundComponent=B.default,e.SnapshotServer=U.default,e.STATE_HANDLER_NAMES=Y,e.shared=Ft,e.UserPermission=W.default,e.Log=Nt,e.PDF=Ut,e.CustomScrollWrap=rt.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(120)),r=n(5);function i(t){return t&&t.__esModule?t:{default:t}}var a=i(n(7)).default.getLogger("modular");e.default=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.modules={},this.modules[r.ROOT_MODULE_NAME]=new o.default(r.ROOT_MODULE_NAME,[])}return t.prototype.module=function(t,e){var n=this;if(Array.isArray(e)){if(this.modules[t])throw new Error("Duplicated Modular name, it must be unique.");e=e.map((function(t,e){if("string"==typeof t)return n._module(t);if(t instanceof o.default)return t;throw new Error("Unexpected module type at position: "+e)}));var r=this.root();return e.indexOf(-1===r)&&e.push(r),this.modules[t]=new o.default(t,e)}return this._module(t)},t.prototype.root=function(){return this.modules[r.ROOT_MODULE_NAME]},t.prototype._module=function(t){var e=this.modules[t];if(!e)throw new Error("No module found: '"+t+"'");return e},t.prototype._nostrictModule=function(t){return this.modules[t]||a.warn("module not found: "+t+", using root module instead."),this.modules[t]||this.root()},t}())},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.STATE_HANDLER_HAND="hand",e.STATE_HANDLER_CHECK_THE_SEARCH="checkTheSearch",e.STATE_HANDLER_CREATE_CARET="createCaret",e.STATE_HANDLER_CREATE_ARROW="createArrow",e.STATE_HANDLER_CREATE_CREATE_AREA_HIGHLIGHT="createAreaHighlight",e.STATE_HANDLER_CREATE_CIRCLE="createCircle",e.STATE_HANDLER_CREATE_FILE_ATTACHMENT="createFileAttachment",e.STATE_HANDLER_CREATE_HIGHLIGHT="createHighlight",e.STATE_HANDLER_CREATE_IMAGE="createImage",e.STATE_HANDLER_CREATE_EDIT_IMAGE="createEditImage",e.STATE_HANDLER_CREATE_LINK="createLink",e.STATE_HANDLER_CREATE_LINE="createLine",e.STATE_HANDLER_CREATE_PENCIL="createPencil",e.STATE_HANDLER_CREATE_POLYGON_CLOUD="createPolygonCloud",e.STATE_HANDLER_CREATE_POLYGON="createPolygon",e.STATE_HANDLER_CREATE_POLYLINE="createPolyline",e.STATE_HANDLER_CREATE_REPLACE="createReplace",e.STATE_HANDLER_CREATE_SQUARE="createSquare",e.STATE_HANDLER_CREATE_SQUIGGLY="createSquiggly",e.STATE_HANDLER_CREATE_STAMP="createStamp",e.STATE_HANDLER_CREATE_STRIKE_OUT="createStrikeOut",e.STATE_HANDLER_CREATE_TEXT="createText",e.STATE_HANDLER_CREATE_UNDERLINE="createUnderline",e.STATE_HANDLER_MARQUEE="marquee",e.STATE_HANDLER_ERASER="eraser",e.STATE_HANDLER_LOUPE="loupe",e.STATE_HANDLER_SELECT_TEXT_ANNOTATION="select-text-annotation",e.STATE_HANDLER_CREATE_TEXT_FIELD="createTextField"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=s(n(2)),i=s(n(1)),a=s(n(57));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var p=function(t){function e(n,o){u(this,e);var r=l(this,t.call(this,n));return"string"==typeof o?r.stateName=o:(r.ExpectedStateHandlerClass=o,r.stateName=o.getStateName()),r}return f(e,t),e.getName=function(){return"StatefulController"},e.ext=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"StatefulControllerImpl",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4294967295;return c({},n,function(e){function i(n){return u(this,i),l(this,e.call(this,n,t))}return f(i,e),i.getName=function(){return n},o(i,null,[{key:"permission",get:function(){return r}}]),i}(e))[n]},e.prototype.postlink=function(){var t=this,e=this.getPDFUI();this.ExpectedStateHandlerClass?this.registerPromise=this.getPDFUI().getStateHandlerManager().then((function(e){return e.register(t.ExpectedStateHandlerClass),e})):this.registerPromise=this.getPDFUI().getStateHandlerManager(),this.addDestroyHook(e.addViewerEventListener(i.default.deactiveStateHandler,(function(e){e.getStateName()===t.stateName&&(t.component.deactive(),t.stateOut())}))),this.addDestroyHook(e.addViewerEventListener(i.default.switchStateHandler,(function(e,n){e.getStateName()===t.stateName&&(t.component.active(),t.stateIn())}))),this.addDestroyHook(e.addViewerEventListener(i.default.openFileSuccess,(function(n){e.getStateHandlerManager().then((function(e){e.getCurrentStates().getStateName()!==t.stateName?(t.component.deactive(),t.stateOut()):(t.component.active(),t.stateIn())}))})))},e.prototype.handle=function(){var t=this;return this.registerPromise.then((function(e){e.getCurrentStates().getStateName()===t.stateName?e.switchTo(a.default.getStateName()):e.switchTo(t.stateName)}))},e.prototype.stateIn=function(){},e.prototype.stateOut=function(){},e}(r.default);e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LockType=e.ComponentLifecycle=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=g(n(56)),a=g(n(32)),s=g(n(283)),c=g(n(284));n(285);var u=g(n(7)),l=n(5),f=g(n(614)),p=g(n(286)),d=g(n(618)),h=g(n(165));g(n(167));function g(t){return t&&t.__esModule?t:{default:t}}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var v=0;function y(t){return t+"-"+v++}var b=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));a.$options=n,a.context=n.context,a.lockType=_.none,a.parser=n.parser,a.module=o,a.localizer=r,a.viewConfig=n.viewConfig,a.cls=n.cls,a.nodeName=a.viewConfig.nodeName;var s=a.viewConfig.attrs;if(a.name=s.name||n.name||y("component_name"),a.id=y("component"),a.attrs=s,a.tempAttrs=s,a.node=n.viewConfig.vnode,a.parent=n.parentComponent,a.texts=[],a.isMounted=!1,a.element=a.createDOMElement(),a.directive=new d.default(a),a.subject$=new i.default,a.lifecycleStates=Object.keys(w).reduce((function(t,e){return t[e]=!1,t}),{}),n.events)for(var c in n.events){var u=n.events[c];"function"==typeof u&&a.on(c,u)}return a._disableReason={},a.setController(f.default.newControllerInstance(n,a)),n.controllerAlias&&(a.controller.data[n.controllerAlias]=a.controller),a.constructor.getMetadataResolver().resolve(a),a.element.getComponent=function(){return a},a}return m(e,t),e.getName=function(){(0,a.default)()},e.preprocess=function(t){},e.getMetadata=function(){return{options:{disabled:{type:"boolean",defaultValue:!1},visible:{type:"boolean",field:"isVisible",defaultValue:!0},canBeDisabled:{type:"boolean",defaultValue:!0},active:{type:"boolean",field:"isActive",defaultValue:!1}}}},e.getMetadataResolver=function(){return this.$metadata||(this.$metadata=new p.default(this)),this.$metadata},e.isFake=function(){return!1},e.handleParseError=function(){},e.prototype.setDirective=function(t){this.directive=t},e.prototype.getDirectiveByName=function(t){return this.directive&&this.directive.getDirective(t)},e.prototype.setController=function(t){this.controller&&this.controller.uninstall(),this.controller=t},e.prototype.setPDFUIInstance=function(t){this.pdfUI=t,this.controller.setPDFUIInstance(t)},e.prototype.getPDFUI=function(){return this.pdfUI},e.prototype.resetDataScope=function(){var t=this.parent?this.parent.controller:void 0;this.controller.setParentScope(t),this.controller.digest()},e.prototype.getRoot=function(){if(this.__root__)return this.__root__;for(var t=this;t.parent;)t=t.parent;return this.__root__=t,t},e.prototype.nextSiblings=function(){if(this.parent){var t=this.parent.indexOf(this);return this.parent.childAt(t+1)}},e.prototype.previousSiblings=function(){if(this.parent){var t=this.parent.indexOf(this);return this.parent.childAt(t-1)}},e.prototype.brothers=function(){return this.parent?this.parent.children():[this]},e.prototype.createDOMElement=function(){return document.createElement("span")},e.prototype.appendSlot=function(t,e){var n=this.getSlotContainer(t);if(!n)throw new Error("slot not exists: "+t);e.children().forEach((function(t){n.appendChild(t.element)}))},e.prototype.getSlotContainer=function(t){return this.element.querySelector("[slot="+JSON.stringify(t)+"]")||this.element.querySelector('[slot=""]')},e.prototype.on=function(t,e){var n=this;return this.subject$.on(t,e),function(){n.subject$&&n.subject$.off(t,e)}},e.prototype.once=function(t,e){var n=this;return this.subject$.once(t,e),function(){n.subject$&&n.subject$.off(t,e)}},e.prototype.off=function(t,e){this.subject$.off(t,e)},e.prototype.trigger=function(t){for(var e,n=arguments.length,o=Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];(e=this.subject$).emit.apply(e,[t].concat(o))},e.prototype.broadcast=function(t,e){},e.prototype.receiveBroadcast=function(t,e){},e.prototype.prerender=function(){if(this.attrs)for(var t in this.attrs)"@"!==t[0]&&this.setAttribute(t,this.attrs[t]);if("string"==typeof this.cls)this.element.classList.add(this.cls.split(" "));else if(Array.isArray(this.cls)){var e;(e=this.element.classList).add.apply(e,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(this.cls))}this.setAttribute("component-name",this.name),this.setAttribute("component-type",this.nodeName)},e.prototype.render=function(){this.acceptText()&&(this.textElement=this.renderText()),this.context.store.dispatch("component-lifecycle-update",w.render),this.lifecycleStates[w.render]=!0},e.prototype.mounted=function(){this.isMounted||(this.dispatchLifecycleChange(w.mounted),this.isMounted=!0,this.element.dataset&&(this.element.dataset.webpdf_component=this.id),this.texts.forEach((function(t){return t.mounted()})),this.trigger(l.COMPONENT_EVENTS.MOUNTED),this.directive.componentMounted(),this.controller.mounted(),this.controller.digest())},e.prototype.triggerHandler=function(){(0,s.default)()},e.prototype.lock=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_.available;switch(this.lockType!=_.none&&this.lockType!=t&&this.unlock(),t){case _.visibility:this.hide();break;case _.available:this.disable();break;default:return}this.lockType=t},e.prototype.unlock=function(){if(this.isLocked){var t=this.lockType;switch(this.lockType=_.none,t){case _.visibility:this.show();break;case _.available:this.enable()}}},e.prototype.disable=function(){this.canBeDisabled&&!this.disabled&&(this.disabled=!0,this.doDisable(),this.trigger(l.COMPONENT_EVENTS.DISABLE))},e.prototype.enable=function(){this.disabled&&(this.lockType!==_.available?(this.disabled=!1,this.doEnable(),this.trigger(l.COMPONENT_EVENTS.ENABLE)):u.default.getLogger(this.nodeName+"#enable()").warn("Cannot enable this locked component!",this))},e.prototype.active=function(){this.disabled||this.isActive||(this.isActive=!0,this.doActive(),this.trigger(l.COMPONENT_EVENTS.ACTIVE))},e.prototype.deactive=function(){this.isActive&&(this.isActive=!1,this.doDeactive(),this.trigger(l.COMPONENT_EVENTS.DEACTIVE))},e.prototype.show=function(){this.isVisible||(this.lockType!==_.visibility?(this.isVisible=!0,this.doShown(),this.trigger(l.COMPONENT_EVENTS.SHOWN)):u.default.getLogger(this.nodeName+"#show()").warn("Cannot show this locked component!",this))},e.prototype.hide=function(){this.isVisible&&(this.isVisible=!1,this.doHidden(),this.trigger(l.COMPONENT_EVENTS.HIDDEN))},e.prototype.addDestroyHook=function(){for(var e,n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];(e=t.prototype.addDestroyHook).call.apply(e,[this].concat(o))},e.prototype.destroy=function(){this.isDestroyed||(this.dispatchLifecycleChange(w.destroyed),t.prototype.destroy.call(this),this.doDestroy(),this.controller.destroy(),this.directive.componentDestroyed(),this.trigger(l.COMPONENT_EVENTS.DESTROYED),this.subject$.removeAllListeners(),this.$options=null,this.parser=null,this.module=null,this.localizer=null,this.viewConfig=null,this.attrs=null,this.tempAttrs=null,this.node=null,this.parent=null,this.element=null,this.directive=null,this.subject$=null,this.__root__=null)},e.prototype.removeElement=function(){this.element&&this.element.remove()},e.prototype.remove=function(){var t=this.parent;this.parent=null,t&&t.removeChild(this),t||this.removeElement()},e.prototype.isContainer=function(){return!1},e.prototype.isNative=function(){return!1},e.prototype.before=function(t){if(this.parent&&this.parent.isContainer()){var e=this.index();this.parent.insert(t,e)}},e.prototype.after=function(t){if(this.parent&&this.parent.isContainer()){var e=this.parent.indexOf(this);this.parent.insert(t,e+1)}},e.prototype.index=function(){if(this.parent&&this.parent.isContainer())return this.parent.indexOf(this)},e.prototype.getComponentByName=function(t){if(this.name===t)return this},e.prototype.findChildren=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e&&t(this)?[this]:[]},e.prototype.getClosestComponentByName=function(t){return this.findClosestComponent((function(e){return e.name===t}))},e.prototype.getClosestComponentByType=function(t){return this.findClosestComponent((function(e){return e.nodeName===t}))},e.prototype.getClosestComponentByClass=function(t){return this.findClosestComponent((function(e){return e instanceof t}))},e.prototype.findClosestComponent=function(t){if("function"!=typeof t)throw new TypeError("callback must be a function, but actual: "+(void 0===t?"undefined":o(t)));for(var e=this;e;){if(t(e))return e;e=e.parent}},e.prototype.getAllComponentsByName=function(t){return this.name===t?[this]:[]},e.prototype.getAllComponentsByType=function(t){return this.constructor.getName()===t?[this]:[]},e.prototype.querySelectorAll=function(t){return h.default.parseSelectors(t).selectFrom([this])},e.prototype.querySelector=function(t){return this.querySelectorAll(t)[0]},e.prototype.doActive=function(){this.element.classList.add("active")},e.prototype.doDeactive=function(){this.element.classList.remove("active")},e.prototype.doDisable=function(){this.element.classList.add("disabled")},e.prototype.doEnable=function(){this.element.classList.remove("disabled")},e.prototype.doDestroy=function(){this.remove(),this.destroyHooks.forEach((function(t){try{t()}catch(t){u.default.getLogger("Component#doDestroy()").error("an error occurred while calling the destroy hook",t)}}))},e.prototype.doHidden=function(){this.element.classList.add("fv__ui-hide")},e.prototype.doShown=function(){this.element.classList.remove("fv__ui-hide")},e.prototype.getConfig=function(t){return"string"==typeof filed?this.$options:this.$options[t]},e.prototype.addCSSClass=function(t){t&&this.element.classList.add(t)},e.prototype.removeCSSClass=function(t){t&&this.element.classList.remove(t)},e.prototype.attachEventToElement=function(t,e,n,o){var r=this;e.split(/[\s,;]+/).forEach((function(e){t.addEventListener(e,n,o),r.addDestroyHook((function(){t.removeEventListener(e,n,o)}))}))},e.prototype.setAttribute=function(t,e){this.element.setAttribute?this.element.setAttribute(t,e):this.element[t]=e},e.prototype.getAttribute=function(t){return this.element.getAttribute?this.element.getAttribute(t):this.element[t]},e.prototype.removeAttribute=function(t){this.element.removeAttribute(t)},e.prototype.getDomElement=function(){return this.element},e.prototype.localize=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.localizer;return this.element?t.localizeRecursive(this.element,{}):Promise.resolve()},e.prototype.prelink=function(){this.dispatchLifecycleChange(w.prelink),this.controller.prelink(),this.controller.digest()},e.prototype.postlink=function(){this.dispatchLifecycleChange(w.postlink),this.update(),this.controller.postlink(),this.controller.digest()},e.prototype.update=function(){this.updateDisableStatus(),this.updateVisiblityStatus()},e.prototype.updateActiveStatus=function(){var t=this.isActive,e=this.$options.active;"function"==typeof e&&(t=e.call(this)),!1===t?this.doDeactive():this.doActive()},e.prototype.updateVisiblityStatus=function(){var t=this.isVisible,e=this.$options.visible;"function"==typeof e&&(t=e.call(this)),!1===t?this.doHidden():this.doShown()},e.prototype.updateDisableStatus=function(){var t=this.disabled,e=this.$options.disabled;"function"==typeof e&&(t=e.call(this)),!1===t?this.doEnable():this.doDisable()},e.prototype.acceptText=function(){return!1},e.prototype.appendText=function(t){t.parent=this,this.texts.push(t)},e.prototype.renderText=function(){},e.prototype.removeText=function(t){var e=this.texts.indexOf(t);return e>-1?(this.texts.splice(e,1),!0):faslse},e.prototype.setText=function(t){if(this.acceptText()){var e=this.pdfUI.parseTemplate("<text>"+t+"</text>",[]);this.text=void 0,this.texts=[e],this.renderText()}},e.prototype.sync=function(t,e){if(0===t.indexOf("attr.")){var n=t.substring("attr.".length);return this.setAttribute(n,e),!0}if(0===t.indexOf("prop."))return this[t.substring("prop.".length)]=e,!0;switch(t){case"disabled":this.syncDisableStatus(e);break;case"visible":this.syncVisibleStatus();break;case"canBeDisabled":this.syncCanBeDisabledStatus();break;case"active":this.syncActiveStatus();break;default:return!1}return!0},e.prototype.syncDisableStatus=function(t){t?this.disable():this.enable()},e.prototype.syncVisibleStatus=function(t){t?this.show():this.hide()},e.prototype.syncCanBeDisabledStatus=function(t){!t&&this.disabled&&this.enable(),this.canBeDisabled=t},e.prototype.syncActiveStatus=function(t){t?this.active():this.deactive()},e.prototype.getTooltipAnchor=function(){return this.element},e.prototype.isLifecycleReached=function(t){return!!this.lifecycleStates[t]},e.prototype.waitForComponentLifecycle=function(t,e){var n=this,o=this.getRoot();if(0===o.getAllComponentsByName(t).length&&0===o.node.querySelectorAll(t).length)throw new Error("Component not found in layout template: "+t);var r=this._getLifecycleDispatchKey(e);return new Promise((function(e){var i=n.context.store.subscribe(r,(function(){var n=o.querySelectorAll(t);e(n),i()}))}))},e.prototype.dispatchLifecycleChange=function(t){this.context.store.dispatch(this._getLifecycleDispatchKey(t),this),this.lifecycleStates[t]=!0},e.prototype._getLifecycleDispatchKey=function(t){return"component-lifecycle-update-"+this.name+"-"+t},r(e,[{key:"isLocked",get:function(){return this.lockType!==_.none}}]),e}(c.default);e.default=b;var w=e.ComponentLifecycle={prelink:"prelink",postlink:"postlink",mounted:"mounted",destroyed:"destroyed",render:"render"},_=e.LockType={visibility:"visibility",available:"available",none:"none"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={annotationUpdated:"annotation-updated",annotationIDUpdated:"annotation-id-updated",annotationAppearanceUpdated:"annotation-appearance-updated",annotationReplyAdd:"annotation-reply-add",annotationReviewStateAnnotAdd:"annotation-review-state-annot-add",annotationMarkedStateAnnotAdd:"annotation-marked-state-annot-add",annotationStatesCleared:"annotation-states-cleared",annotationRemoved:"annotation-removed",annotationMovedPosition:"annotation-moved-position",annotationAdded:"annotation-added",annotationAdd:"annotation-add",annotationImported:"annotation-imported",annotationImportedEx:"annotation-imported-ex",actionUpdated:"action-updated",actionAdd:"action-add",actionRemove:"action-remove",layerVisibleChange:"layer-visible-change",bookmarkAdded:"bookmark-added",bookmarkUpdated:"bookmark-updated",bookmarkRemoved:"bookmark-removed",stateAnnotNameUpdated:"state-annot-name-updated",pageInfoChange:"page-info-change",pageRotationChange:"page-rotation-change",imageAdded:"image-added",watermarkAdded:"watermark-added",graphicsUpdated:"graphics-updated",permissionChanged:"permission-changed",docPasswordChanged:"doc-password-changed",drmEncryptSuccess:"drm-encrypt-success",drmEncryptFailed:"drm-encrypt-failed",removePwdAndPerm:"remove-password-and-permission",pageMoved:"page-moved",pageRemoved:"page-removed",pageAdded:"page-added",insertPages:"import-pages",importPages:"import-pages",applyRedaction:"apply-redaction",removeReviewState:"remove-review-state",formValueChanged:"form-value-changed",metaDataChanged:"meta-data-changed",docModified:"doc-modified",flattened:"flattened",headerFooterUpdated:"headerFooterUpdated",headerFooterAdded:"headerFooterAdded"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SerialEnhancePromise=e.SerialPromise=e.DebounceAsyncTaskExecutor=e.DebouncePromiseQueue=void 0;var o,r=n(22),i=(o=r)&&o.__esModule?o:{default:o},a=n(395);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var c=function(){},u=function(){function t(){s(this,t),this.queue=[],this.promise=Promise.resolve()}return t.prototype.push=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return this.queue.push([t,n]),new Promise((function(t,n){setTimeout((function(){return e.exec()}),o)}))},t.prototype.exec=function(){var t=this;if(!this.execIng){var e=this.queue.pop();if(e){this.execIng=!0;for(var n=0,o=this.queue.length;n<o;n++)this.queue[n][1]();return this.queue=[],Promise.resolve(e[0]()).catch((function(){try{return Promise.resolve(e[1]()).catch(c)}catch(t){}})).finally((function(){t.execIng=!1,setTimeout((function(){t.exec()}),30)}))}}},t.prototype.end=function(){this.queue=[]},t}(),l=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;s(this,t),this.delay=e,this.queue=[],this.continueExec=!0,this.deferred=(0,i.default)(),this.task=Promise.resolve()}return t.prototype.serial=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.queue=t,this.exec()},t.prototype.push=function(){this.queue.push.apply(this.queue,arguments)},t.prototype.unshift=function(){this.queue.unshift.apply(this.queue,arguments)},t.prototype.concat=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.queue.concat(t)},t.prototype.exec=function(){var t=this;if(this.execIng)return this.deferred.promise;this.execIng=!0;var e=(this.queue.shift()||c)();return Promise.resolve(e).finally((function(){return t.execIng=!1,t.queue.length?t.continueExec?void t.task.then((function(e){t.exec()})):(t.queue=[],t.deferred.resolve(e)):t.deferred.resolve(e)})).catch(c),this.deferred.promise},t.prototype.end=function(){return this.continueExec=!1,this.deferred.promise},t}(),f=function(){function t(){s(this,t),this.queue=[],this.continueExec=!0,this.deferred=(0,i.default)(),this.task=Promise.resolve()}return t.prototype.serial=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.queue=t,this.exec(),this.deferred.promise},t.prototype.push=function(){this.queue.push.apply(this.queue,arguments)},t.prototype.unshift=function(){this.queue.unshift.apply(this.queue,arguments)},t.prototype.concat=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.queue.concat(t)},t.prototype.exec=function(){var t=this;if(!this.execIng){this.execIng=!0;var e=this.queue.shift()||[c],n=e[0]();return this.execIngEnd=e[1]||c,Promise.resolve(n).finally((function(){return t.execIng=!1,t.queue.length?t.continueExec?void t.task.then((function(e){return t.exec()})):(t.queue=[],t.deferred.resolve(n)):t.deferred.resolve(n)})).catch(c),this.deferred.promise}},t.prototype.end=function(){if(this.execIng)try{Promise.resolve(this.execIngEnd()).catch(c)}catch(t){}return this.continueExec=!1,this.queue=[],this.deferred.promise},t}();e.DebouncePromiseQueue=u,e.DebounceAsyncTaskExecutor=a.DebounceAsyncTaskExecutor,e.SerialPromise=l,e.SerialEnhancePromise=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(15)),r=s(n(637)),i=s(n(66)),a=n(5);function s(t){return t&&t.__esModule?t:{default:t}}function c(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(n,o,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,a));s.$container=new r.default;var c=void 0,u=void 0;return u=(c=n.viewConfig?n.viewConfig.attrs.layout:n.layout)instanceof i.default?c:(c?s.module.getLayoutClass(c):void 0)||i.default,s.layout=new u(n.viewConfig||n.layoutOptions),s}return u(e,t),e.prototype.isContainer=function(){return!0},e.prototype.mounted=function(){t.prototype.mounted.call(this),this.$container.each((function(t){return!t.isMounted&&t.mounted()}))},e.prototype.broadcast=function(t,e){this.$container.each((function(n){n.receiveBroadcast(t,e)}))},e.prototype.receiveBroadcast=function(t,e){this.broadcast(t,e)},e.prototype.createDOMElement=function(){return document.createElement("div")},e.prototype.append=function(t){return this.insert(t,this.size())},e.prototype.prepend=function(t){return this.insert(t,0)},e.prototype.insert=function(t,e,n){"string"==typeof t?this.insertTemplate(t,e,n):this.insertComponent(t,e)},e.prototype.insertComponent=function(t,e){if(t.parent&&t.parent!==this)throw new Error("Component must be removed from its parent to be inserted into other component!");-1===this.$container.indexOf(t)&&(this.$container.insert(t,e),t.parent=this,t.resetDataScope(),this.doInsert(t,e),this.trigger(a.COMPONENT_EVENTS.CHILD_INSERTED,t,e),t.trigger(a.COMPONENT_EVENTS.INSERTED))},e.prototype.insertTemplate=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=this.getPDFUI().parseTemplate(t,n);this.insertComponent(o,e),this.isMounted&&o.mounted()},e.prototype.insertAll=function(t,e){var n=this;t.forEach((function(t){if(t.parent!==n&&t.parent)throw new Error("Component must be removed from its parent to be inserted into other component!")})),this.$container.insertAll(t,e),t.forEach((function(t){t.parent=n,t.resetDataScope()})),this.doInsertAll(t,e),t.forEach((function(t){t.trigger(a.COMPONENT_EVENTS.INSERTED)}))},e.prototype.empty=function(){this.$container.each((function(t){return t.destroy()})),this.$container.empty(),this.rerenderChildren()},e.prototype.indexOf=function(t){return this.$container.indexOf(t)},e.prototype.children=function(){return this.$container.children()},e.prototype.size=function(){return this.$container.size()},e.prototype.first=function(){return this.childAt(0)},e.prototype.last=function(){return this.childAt(this.size()-1)},e.prototype.removeChild=function(t){this.$container.removeChild(t)&&(t.parent=null,t.controller.data!==this.controller.data&&t.controller.setParentScope(void 0),t.removeElement(),t.trigger(a.COMPONENT_EVENTS.REMOVED,this))},e.prototype.setLayout=function(t){this.layout=t,this.rerenderChildren()},e.prototype.doInsert=function(t,e){this.rerenderChildren()},e.prototype.doInsertAll=function(t,e){this.rerenderChildren()},e.prototype.rerenderChildren=function(){var t=this.$container.children().map((function(t){return t.element})),e=this.getContainerElement();this.diffRenderer(e,t)},e.prototype.diffRenderer=function(t,e){var n=Array.from(t.childNodes.values());n.forEach((function(o,r){e.includes(o)||(t.removeChild(o),n.splice(r,1))})),e.forEach((function(o,r){if(n[r]!==o){var i,a,s,c,u=n.indexOf(o),l=e[r-1];-1===u?(l?l.after(o):t.prepend(o),n.splice(r,0,o)):r<n.length?(o.before(n[r]),s=u,c=(i=n)[a=r],i[a]=i[s],i[s]=c,l?l.after(o):t.prepend(o)):(n.push(o),t.appendChild(o))}}))},e.prototype.localize=function(){var e=this;return t.prototype.localize.call(this).then((function(){e.broadcast(a.COMPONENT_BROADCAST_LOCALIZE)}))},e.prototype.getContainerElement=function(){return this.element},e.prototype.getComponentByName=function(t){return this.name===t?this:this.$container.eachUntil((function(e){return e.getComponentByName(t)}))},e.prototype.findChildren=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=[];return e&&t(this)&&n.push(this),this.$container.each((function(e){var o=e.findChildren(t,!0);o.length>0&&n.push.apply(n,c(o))})),n},e.prototype.getAllComponentsByName=function(t){return this.findChildren((function(e){return e.name===t}))},e.prototype.getAllComponentsByType=function(t){return this.findChildren((function(e){return e.constructor.getName()===t}))},e.prototype.childAt=function(t){return this.$container.childAt(t)},e.prototype.update=function(){t.prototype.update.call(this),this.$container.each((function(t){return t.update()}))},e.prototype.destroy=function(){this.$container.each((function(t){return t.destroy()})),t.prototype.destroy.call(this)},e.prototype.doActive=function(){},e.prototype.doDeactive=function(){},e.prototype.doDisable=function(){this.$container.each((function(t){return t.disable()}))},e.prototype.doEnable=function(){this.$container.each((function(t){return t.enable()}))},e.prototype.updateDisableStatus=function(){},e.prototype.appendText=function(t){this.append(t)},e}(o.default);e.default=l},function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE__19__},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRotatedRect=e.getSmartScale=e.getWHByMatrix=e.pxDPRpt=e.ptDPRpx=e.multiDPR=e.px2pt=e.pt2px=void 0;var o,r=n(28),i=(n(392),n(1131)),a=(o=i)&&o.__esModule?o:{default:o},s=n(64);var c=void 0;function u(t){return function(){if(!c){var t=(0,r.getDPI)();c=[t.x,t.y]}return c}()[t]}e.pt2px=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t*u(e)/72},e.px2pt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return 72*t/u(e)},e.multiDPR=function(t){return t*r.dpr},e.ptDPRpx=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return r.dpr*t*u(e)/72},e.pxDPRpt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t/r.dpr/u(e)*72},e.getWHByMatrix=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=new a.default(t,e,0).scale(n).rotateZ(o);return[Math.round(Math.abs(r.a)),Math.round(Math.abs(r.b))]},e.getSmartScale=function(t,e,n){return Math.min(Math.max(Math.ceil(4*t)/4,e),n)},e.getRotatedRect=function(t,e,n,o){switch((0,s.assertThat)((0,s.isValidRotationAngle)(o),"Illegal rotation value: "+o),o=(o%360+360)%360){case 0:return t;case 90:return{left:t.bottom,right:t.top,top:t.left,bottom:t.right};case 180:return{left:e-t.right,right:e-t.left,top:n-t.bottom,bottom:n-t.top};case 270:return{left:t.top,right:t.bottom,top:t.right,bottom:t.left}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t={};return t.promise=new Promise((function(e,n){t.resolve=e,t.reject=n})),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(5),r=c(n(166)),i=c(n(12)),a=c(n(165)),s=c(n(71));function c(t){return t&&t.__esModule?t:{default:t}}function u(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var d=c(n(7)).default.getLogger("UIXNode"),h=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.namespace,a=void 0===i?o.ROOT_MODULE_NAME:i,c=n.nodeName,u=n.attrs,p=void 0===u?{}:u,d=n.text,h=n.template,g=void 0===h?"":h;l(this,e);var m=f(this,t.call(this,{namespace:a,type:r.default.NODE_TYPE_CONTAINER,text:d}));return p.name=p.name||(0,s.default)("node_name"),m.$$options={namespace:a,nodeName:c,attrs:Object.assign({},p),text:d,template:g},m.nodeName=c,m.attrs=Object.assign({},p),m.name=p.name,m.children=[],m.template=g,m.directives=m.parseDirectiveAttrs(),m}return p(e,t),e.prototype.setComponentOptions=function(e){t.prototype.setComponentOptions.call(this,e),e&&e.attrs&&Object.assign(this.attrs,e.attrs),this.directives=this.parseDirectiveAttrs()},e.prototype.appendComponentOptions=function(e){t.prototype.appendComponentOptions.call(this,e),e&&e.attrs&&Object.assign(this.attrs,e.attrs),this.directives=this.parseDirectiveAttrs()},e.prototype.clone=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=new e(this.$$options);return n.children=this.children.map((function(e){var o=t?e.clone(t):e;return o.parent=n,o})),n.parent=this.parent,n.setComponentOptions(this.componentOptions),n},e.prototype.parseDirectiveAttrs=function(){var t=[];for(var e in this.attrs)if("@"===e[0]){var n=this._parseDirectiveName(e.substring(1)),o=n.ns,r=n.directiveName,i=n.subName;t.push({attrName:e,ns:o,directiveName:r,subName:i,attrValue:this.attrs[e]})}return t},e.prototype._parseDirectiveName=function(t){var e=t.indexOf(o.NAMESPACE_SEPERATOR),n=e>-1?t.substring(0,e):o.ROOT_MODULE_NAME,r=t.substring(Math.max(0,e+1)),i=void 0,a=void 0,s=r.indexOf(".");return-1!==s?(i=r.substring(0,s),a=r.substring(s+1)):i=r,{ns:n,directiveName:i,subName:a}},e.prototype.size=function(){return this.children.length},e.prototype.findByName=function(t){return this.findChildren((function(e){return e.name===t}))},e.prototype.findChildren=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=[];return n&&t(this)&&o.push(this),this.children.reduce((function(n,o){if(!(o instanceof e))return n;var r=o.findChildren(t,!0);return r.length>0&&n.push.apply(n,u(r)),n}),o),o},e.prototype.first=function(){return this.children[0]},e.prototype.last=function(){return this.children[this.children.length-1]},e.prototype.brothers=function(){return this.parent?this.parent.children:[this]},e.prototype.querySelectorAll=function(t){return a.default.parseSelectors(t).selectFrom([this])},e.prototype.childAt=function(t){return this.children[t]},e.prototype.append=function(t){return this.insert(t,this.children.length)},e.prototype.prepend=function(t){return this.insert(t,0)},e.prototype.insert=function(t,e){if(e<0)throw new Error("index out of bounds: "+e);e=Math.min(this.children.length,e),t.parent=this,this.children.splice(e,0,t)},e.prototype.removeChild=function(t){var e=this.children.indexOf(t);return-1!==e&&(t.parent=null,this.children.splice(e,1)),this},e.prototype.index=function(){return this.parent?this.parent.children.indexOf(this):-1},e.prototype.clear=function(){return this.children.forEach((function(t){return t.remove()})),this},e.prototype.setAttribute=function(t,e){this.attrs[t]=e,"name"===t&&(this.name=e)},e.prototype.hasAttribute=function(t){return t in this.attrs},e.prototype.getAttribute=function(t){return this.attrs[t]},e.prototype.removeAttribute=function(t){delete this.attrs[t]},e.prototype.getComponentClass=function(){return this.module.getComponentClass(this.nodeName)||i.default.root().getComponentClass("{native}")},e.prototype.toViewConfig=function(){return{nodeName:this.nodeName,attrs:this.attrs,textContent:this.text,vnode:this}},e.prototype.getParserDirectiveInstance=function(t,e){var n=this.directives.filter((function(t){var e=i.default._nostrictModule(t.ns);if(!e)return!1;var n=e.getDirectiveClass(t.directiveName);return n&&n.isParser()}));if(n.length>1){var o=n.map((function(t){return t.directiveName}));throw new Error("Conflict directive: "+o.join(" and ")+", both of them are parser directive")}var r=n[0];if(r){var a=i.default.module(r.ns),s=a.getDirectiveClass(r.directiveName),c=r.attrName;return new s({module:a,localizer:e,node:this,subName:r.subName,attrValue:r.attrValue,parentComponent:t,attrName:c})}},e.prototype.getDirectiveInstances=function(t,e){var n=this;return this.directives.map((function(o){var r=i.default._nostrictModule(o.ns);if(!r)return d.warn("directive module not found: "+o.ns),null;var a=r.getDirectiveClass(o.directiveName);if(!a||a.isParser())return d.warn("directive not found! module name: "+o.ns+", directive name: "+o.directiveName),null;var s=o.attrName,c=o.subName,u=o.attrValue;return new a({module:r,localizer:e,node:n,subName:c,attrValue:u,parentComponent:t,attrName:s})})).filter((function(t){return!!t})).sort((function(t,e){return t.order>e.order?-1:1}))},e}(r.default);e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={print:4,modify:8,extract:16,annotForm:32,fillForm:256,extractAccess:512,assemble:1024,printHigh:2048}},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=e.RectDiffer=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;o(this,t),this.top=e,this.left=n,this.bottom=r,this.right=i},i=(e.Rect=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;o(this,t),this.top=e,this.left=n,this.bottom=r,this.right=i},e.Boundary=function t(e,n,r,i){o(this,t),this.top=e,this.left=n,this.bottom=bottom,this.right=right},function(){function t(e){o(this,t),this.offsetLeft=0,this.offsetTop=0,this.offsetRight=0,this.offsetBottom=0,this.target=e}return t.isOverlap=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=Math.max(t.left,e.left),r=Math[n?"min":"max"](t.top,e.top),i=Math[n?"max":"min"](t.bottom,e.bottom),a=Math.min(t.right,e.right);if(o<=a)if(n){if(r>=i)return(a-o)*(r-i)}else if(r<=i)return(a-o)*(i-r);return 0},t.isInRect=function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t>=n.left&&t<=n.right)if(o){if(e>=n.bottom&&e<=n.top)return!0}else if(e<=n.bottom&&e>=n.top)return!0;return!1},t.rectInRect=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=t.left>=e.left&&t.right<=e.right;return!!o&&(n?t.top<=e.top&&t.bottom>=e.bottom:t.top>=e.top&&t.bottom<=e.bottom)},t.on=function(e){return new t(e)},t.subtract=function(t,e){return new r(t.top-e.top,t.left-e.left,t.bottom-e.bottom,t.right-e.right)},t.expandOffset=function(t,e){return new r(t.top-e.top,t.left-e.left,e.bottom-t.bottom,e.right-t.right)},t.copyTo=function(t,e){e.left=t.left,e.top=t.top,e.right=t.right,e.bottom=t.bottom},t.prototype.moveLeft=function(t){return this.offsetLeft+=t,this.offsetRight+=t,this},t.prototype.moveTop=function(t){return this.offsetTop+=t,this.offsetBottom+=t,this},t.prototype.move=function(t,e){return this.moveLeft(t).moveTop(e)},t.prototype.moveTo=function(t,e){return this.offsetLeft=this.offsetRight=this.target.left-t,this.offsetTop=this.offsetBottom=this.target.top-e,this},t.prototype.shrink=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;return this.add(new r(t,e,-n,-o))},t.prototype.expand=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;return this.add(new r(-t,-e,n,o))},t.prototype.zoom=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"center",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"center",o=this.target.right+this.offsetRight-(this.target.left+this.offsetLeft),i=this.target.bottom+this.offsetBottom-(this.target.top+this.offsetTop),a=o*t,s=i*t,c=a-o,u=s-i,l=0,f=0,p=0,d=0;switch(e){case"right":l=-c;break;case"center":l=-c/2,f=c/2;break;case"left":default:f=c}switch(n){case"bottom":p=-u;break;case"center":p=-u/2,d=u/2;break;case"top":default:d=u}return this.add(new r(p,l,d,f))},t.prototype.add=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.top,n=void 0===e?0:e,o=t.left,r=void 0===o?n:o,i=t.bottom,a=void 0===i?n:i,s=t.right,c=void 0===s?r:s;return this.offsetLeft+=r,this.offsetRight+=c,this.offsetBottom+=a,this.offsetTop+=n,this},t.prototype.extract=function(){var t=this.target.left+this.offsetLeft,e=this.target.right+this.offsetRight;return{left:t,top:this.target.top+this.offsetTop,right:e,bottom:this.target.bottom+this.offsetBottom}},t.prototype.boundary=function(){var t=this.target.left+this.offsetLeft,e=this.target.right+this.offsetRight,n=this.target.top+this.offsetTop;return{left:t,top:n,width:e-t,height:this.target.bottom+this.offsetBottom-n}},t.prototype.toPlainObject=function(){return{left:this.target.left,right:this.target.right,top:this.target.top,bottom:this.target.bottom}},t}());e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=navigator.userAgent.toLowerCase(),r=/opera|opr/.test(o),i=/msie/.test(o),a=/trident/.test(o),s=/\sapplewebkit\//.test(o),c=/chrome/.test(o),u=/safari/.test(o),l=/firefox/.test(o),f=/edg\//.test(o),p=e.isIE=(a||i)&&!r&&"msSaveBlob"in navigator,d=e.isIEAtLeast11=!i&&a&&!r,h=e.isEdge=o.indexOf("edge")>-1,g=e.isOpera=r,m=e.isWebkit=s,v=e.isChromiumEdge=!g&&c&&!!window.chrome&&f,y=e.isChrome=!g&&c&&!!window.chrome&&!f,b=e.isSafari=!/huawei/.test(o)&&!g&&u&&!c,w=e.isGecko="Gecko"==navigator.product&&!m&&!g,_=e.isFirefox=!y&&!g&&!b&&l,P=e.isMaxthon=/maxthon/.test(o),O=e.isQuirksMode="BackCompact"==document.CompactMode,E=e.isQQ=/tencenttraveler/.test(o)||/qqbrowser/.test(o),x=e.isSougou=/metasr/.test(o)||/sogou/.test(o),C=e.isBaidu=/baidubrowser/.test(o),A=e.isUC=/ucbrowser/.test(o),S=e.isLiebao=/liebao/.test(o),D=e.isMiuiBrowser=/miuibrowser/.test(o),R=e.isHuaweiBrowser=/huaweibrowser/.test(o)||/huaweialp/.test(o),j=e.is360=function(){if(E||A||x||D||S||P)return!1;if(-1===o.indexOf("chrome"))return!1;var t=function(t,e){var n=navigator.mimeTypes;for(var o in n)if(n[o][t]==e)return!0;return!1}("type","application/vnd.chromium.remoting-viewer");return!window.chrome||t}();e.isIE8=!!document.documentMode&&document.documentMode<8,e.isIE8Compact=8==document.documentMode,e.isIE9Compact=9==document.documentMode,e.isIE10Compact=10==document.documentMode,e.BROWSER_DETECTION={ie:p,ieAtLeast11:d,edge:h,"chromium-edge":v,opera:g,webkit:m,chrome:y,safari:b,gecko:w,firefox:_,maxthon:P,quirksMode:O,"quirks-mode":O,qq:E,sougou:x,baidu:C,liebao:S,uc:A,miui:D,huawei:R,360:j}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={},r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.property=function(t,e,n){var r=o;Object.getOwnPropertyDescriptor(t,"__lazy__")||Object.defineProperty(t,"__lazy__",{value:{},enumerable:!1,configurable:!1});var i=t.__lazy__[e]||{};t.__lazy__[e]=i,i.initialized=!1,Object.defineProperty(t,e,{get:function(){return r===o&&(r=n(),i.initialized=!0),r},enumerable:!0,configurable:!0})},t.isPropertyIntialized=function(t,e){var n=t.__lazy__;return!!(n&&n[e]&&n[e].initialized)},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var r=function(){var t=navigator.appVersion.match(/iphone/gi),e="undefined"!=typeof devicePixelRatio?devicePixelRatio:1;return t&&(e=Math.min(2,e)),e}();var i=void 0,a=void 0,s=void 0;function c(){return i||(i=function(){if("undefined"!=typeof screen&&screen.deviceXDPI)return{x:screen.deviceXDPI,y:screen.deviceYDPI};if("undefined"!=typeof document){var t=document.createElement("div");t.style.cssText="width:1in;height:1in;position:absolute;top:20in;border:none;padding:0;",document.body.appendChild(t);var e={x:parseInt(t.offsetWidth),y:parseInt(t.offsetHeight)};return t.parentNode.removeChild(t),e}return{x:96,y:96}}()),i}var u=void 0;e.getDPI=c,e.getPtPxRatio=function(){if(void 0===a){var t=c();a=t.x/72}return a},e.getPxPtRatio=function(){if(void 0===s){var t=c();s=72/t.x}return s},e.dpr=r,e.copyText=function(t){var e=u||((u=document.createElement("input")).type="text",u.style.opacity="0",u.style.top="-999px",u.style["z-index"]=-1,u.style.position="absolute",document.body.appendChild(u),u);e.value=t,e.select(),e.focus(),e.setSelectionRange(0,e.value.length);var n=document.execCommand("copy",!1,e.value);return e.blur(),n},e.eventPath=function(t){var e=t.composedPath&&t.composedPath()||t.path,n=t.target;return null!=e?e.indexOf(window)<0?e.concat(window):e:n===window?[window]:[n].concat(function t(e,n){n=n||[];var o=e.parentNode;return o?t(o,n.concat(o)):n}(n),window)},e.isIE10=function(){var t=navigator.userAgent.toLowerCase(),e=void 0;return!(!("ActiveXObject"in self)||!(e=t.match(/msie ([\d\.]+)/)))&&10===parseInt(e[1])},e.getCanvasPixelRatio=function(){if("object"!==("undefined"==typeof window?"undefined":o(window)))return 1;var t=window.devicePixelRatio||1,e=document.createElement("canvas").getContext("2d");return t/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={contentUpdated:"content-updated",borderInfoUpdated:"borderInfo-updated",borderStyleUpdated:"borderStyle-updated",borderWidthUpdated:"borderWidth-updated",borderColorUpdated:"borderColor-updated",modifiedDateTimeUpdated:"modifiedDateTime-updated",uniqueIDUpdated:"uniqueID-updated",flagsUpdated:"flags-updated",rectUpdated:"rect-updated",innerRectUpdated:"innerRect-updated",iconNameUpdated:"iconName-updated",rotationUpdated:"rotation-updated",defaultAppearanceUpdated:"defaultAppearance-updated",calloutLineEndingStyleUpdated:"calloutLineEndingStyle-updated",calloutLinePointsUpdated:"calloutLinePoints-updated",fillColorUpdated:"fillColor-updated",alignmentUpdated:"alignment-updated",inkListUpdated:"inkList-updated",endPointUpdated:"endPoint-updated",startPointUpdated:"startPoint-updated",endingStyleUpdated:"endingStyle-updated",enableCaptionUpdated:"enableCaption-updated",styleFillColorUpdated:"styleFillColor-updated",leaderLineLengthUpdated:"leaderLineLength-updated",measureRatioUpdated:"measureRatio-updated",measureUnitUpdated:"measureUnit-updated",removeAction:"remove-action",actionDataUpdated:"actionData-updated",addAction:"add-action",highlightingModeUpdated:"highlightingMode-updated",subjectUpdated:"subject-updated",titleUpdated:"title-updated",createDateTimeUpdated:"createDateTime-updated",opacityUpdated:"opacity-updated",intentUpdated:"intent-updated",vertexesUpdated:"vertexes-updated",applyFillColorUpdated:"applyFillColor-updated",quadPointsUpdated:"quadPoints-updated",reviewStateUpdated:"review-state-updated",markedStateUpdated:"marked-state-updated",statesCleared:"state-cleared",replyAdded:"add-replies"}},function(t,e,n){"use strict";function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.destroyHooks=[],this.isDestroyed=!1}return t.prototype.addDestroyHook=function(){for(var t,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];(t=this.destroyHooks).push.apply(t,o(n.filter((function(t){if("function"!=typeof t)throw new Error("[Illegal Argument] Invalid destroy hook:"+t+", It's not a function!");return!0}))))},t.prototype.destroy=function(){this.destroyHooks.forEach((function(t){return t()})),this.destroyHooks=[],this.isDestroyed=!0},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.KEY_MAP_SELECT_ALL_ANNOTATIONS="selectAllAnnotations",e.KEY_MAP_POLYLINE_DELETE_LAST_POINT="createPolyline_DeleteLastPoint",e.KEY_MAP_DOCUMENT_UNDO="undo",e.KEY_MAP_DOCUMENT_REDO="redo",e.KEY_MAP_ZOOM_IN="pageZoomIn",e.KEY_MAP_ZOOM_OUT="pageZoomOut",e.KEY_MAP_DELETE_ANNOTATION="delete-annotation",e.KEY_MAP_ESC_CREATING_DRAWING="cancel-creating-drawing-annot",e.KEY_MAP_UNACTIVE_ANNOTATION="unactive-annotation",e.KEY_MAP_UNFOCUS_FROM_EDITTING_TEXT_OBJECT="unfocus-from-editting-text-object",e.KEY_MAP_FIELD_TAB_NEXT="FIELD_TAB_ACTION",e.GLOBAL_BINDER="global-keyboard-event-binder",e.VIEWER_BINDER="pdf-viewer-keyboard-event-binder",e.ANNOTATION_PROPERTIES_BINDER="annotation-properties-keyboard-event-binder",e.ACTIVATION_ANNOTATION_BINDER="activation-annotation-keyboard-event-binder",e.DOCUMENT_PROPERTIES_BINDER="document-properties-keyboard-event-binder",e.FOCUS_ELEMENT_BINDER="focus-element-keyboard-event-binder",e.EDIT_TEXT_OBJECT_BINDER="focus-text-object-event-binder",e.ANNOTATION_CREATING_BINDER="create-annotation-keyboard-event-binder"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){throw new Error("Method not implemented")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=h(n(421)),i=h(n(40)),a=h(n(422)),s=n(19),c=n(94),u=h(n(75)),l=n(243),f=h(n(25)),p=h(n(7)),d=h(n(30));function h(t){return t&&t.__esModule?t:{default:t}}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var y=(0,l.identity)(!0),b=p.default.getLogger("ShapeControl"),w={};function _(t){var e=Object.keys(t).sort().map((function(e){return t[e]?1:0})).join("");if(e in w)return w[e].cloneNode(!0);var n=(new DOMParser).parseFromString((0,r.default)(t),"text/html").body.firstChild;return w[e]=n,n.cloneNode(!0)}var P=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.prestart,r=void 0===o?i.default:o,a=n.start,s=void 0===a?i.default:a,c=n.update,u=void 0===c?i.default:c,l=n.interceptor,f=void 0===l?y:l,p=n.moving,d=void 0===p?i.default:p,h=n.end,v=void 0===h?i.default:h,b=n.afterEnd,w=void 0===b?i.default:b,P=n.rotate,O=void 0===P?i.default:P,E=n.beforeRotateStart,x=void 0===E?i.default:E,C=n.rotateStart,A=void 0===C?i.default:C,S=n.rotateEnd,D=void 0===S?i.default:S,R=n.afterRotateEnd,j=void 0===R?i.default:R,T=n.enableDiagonally,M=void 0!==T&&T,I=n.enableFrame,k=void 0===I||I,F=n.enableSizeBox,N=void 0!==F&&F,L=n.resizable,V=void 0===L||L,B=n.moveable,U=void 0===B||B,H=n.rotatable,q=void 0!==H&&H,$=n.previewer,W=void 0!==$&&$,z=n.enableUniform,Y=void 0!==z&&z,G=n.minUniformSize,K=void 0===G?15:G,J=n.annotRender,X=void 0===J?null:J,Z=n.expansion,Q=void 0===Z?{left:1,top:1,right:1,bottom:1}:Z;g(this,e);var tt=m(this,t.call(this));return tt.ui=_({enableDiagonally:M,resizable:V,enableFrame:k,rotatable:q,moveable:U,previewer:W,enableSizeBox:N}),tt.onPrestart=r,tt.onStart=s,tt.onUpdate=u,tt.onMoving=d,tt.interceptor=f,tt.onEnd=v,tt.onAfterEnd=w,tt.onBeforeRotateStart=x,tt.onAfterRotateEnd=j,tt.rotate=O,tt.onRotateStart=A,tt.onRotateEnd=D,tt.enableUniform=Y,tt.minUniformSize=K,tt.rotatable=q,tt.moveable=U,tt.enablePreviewer=W,tt.isDisabled=!1,tt.enableDiagonally=M,tt.enableFrame=k,tt.enableSizeBox=N,tt.resizable=V,tt.annotRender=X,tt.rotateCursorStyle="fv__cursor-rotation",tt.rotateDegree=0,tt.isRotateStarted=!1,tt.expansion=Q,tt.companions=[],tt}return v(e,t),o(e,null,[{key:"ACTION_RESIZE",get:function(){return"resize"}},{key:"ACTION_MOVE",get:function(){return"move"}}]),e.prototype.init=function(){if(!this._isInitted){this._isInitted=!0;var t=this.ui.querySelector(".fv__shape-control-previewer");this.rotatingRod=this.ui.querySelector(".fv__shape-rotate"),this.shapeSizeBox=this.ui.querySelector(".fv__shape-size"),this.context=t.getContext("2d"),this.companionMargin={left:0,right:0,top:0,bottom:0},this.rotateDegreeBox=this.ui.querySelector(".fv-shape-rotate-degree"),this.updateRotateDegreeBox(this.rotateDegree),this.bindEvents()}},e.prototype.companion=function(t){var n=this;return t===this?i.default:t instanceof e?-1!==this.companions.indexOf(t)||t.companions.indexOf(this)>-1?i.default:(this.companions.push(t),this.updateMargin(),function(){var e=n.companions.indexOf(t);e>-1&&n.companions.splice(e,1)}):i.default},e.prototype.updateMargin=function(){if(0===this.companions.length)return this.setMargin(this.originMargin),void(this.companionMargin={left:0,right:0,top:0,bottom:0});var t=this.shape.getRect(),e=t.left,n=t.right,o=t.top,r=t.bottom;this.companions.forEach((function(t){var i=t.shape.getRect();e=Math.min(i.left,e),o=Math.min(i.top,o),n=Math.max(i.right,n),r=Math.max(i.bottom,r)}));var i=t.left-e,a=n-t.right,s=t.top-o,c=r-t.bottom;this.companionMargin={left:i,right:a,top:s,bottom:c},this.originMargin=this.shape.marginBox;var u={left:Math.max(this.companionMargin.left,this.originMargin.left),right:Math.max(this.companionMargin.right,this.originMargin.right),top:Math.max(this.companionMargin.top,this.originMargin.top),bottom:Math.max(this.companionMargin.bottom,this.originMargin.bottom)};this.setMargin(u)},e.prototype.clearCompanions=function(){this.companions.length=0,this.updateMargin()},e.prototype.getPreviewerContext=function(){return this.context},e.prototype.bindEvents=function(){var t=this,e=this.ui.querySelectorAll(".fv__shape-controller");Array.prototype.slice.call(e).forEach((function(e){return t._bindControllerEvents(e)})),this.moveable&&this._bindMoveAreaEvents(),this.rotatable&&this._bindRotateEvents()},e.prototype._bindControllerEvents=function(t){var n=this,o=new s.Manager(t);o.add(new s.Pan({direction:s.DIRECTION_ALL}));var r=void 0,i=void 0;o.on("panmove",(function(e){var o=e.deltaX,a=e.deltaY;if(!n.isDisabled){var s=o-r,c=a-i;r=o,i=a,n.resize(t.getAttribute("direction"),s,c),n._resizeSizeBox()}})),o.on("panstart",(function(e){var o=e.deltaX,a=e.deltaY;n.isDisabled||(r=o,i=a,n.start(),n.resize(t.getAttribute("direction"),o,a,!0))})),o.on("panend",(function(t){n.isDisabled||n.end(e.ACTION_RESIZE)})),o.on("pancancel",(function(t){n.isDisabled||n.cancel(e.ACTION_RESIZE)})),this.addDestroyHook((function(){o.destroy()}))},e.prototype._resizeSizeBox=function(){if(this.shapeSizeBox){var t=this.shape.getAdjustShape();t||(t=this.shape.shape);var e=parseInt(t.width),n=parseInt(t.height);this.shapeSizeBox.innerHTML=e<120?e+"px*"+n+"px":e<170?"W: "+e+"px, H: "+n+"px":"Width: "+e+"px, Height: "+n+"px",this.shapeSizeBox.style.top=n>100?"1px":"-22px"}},e.prototype._bindMoveAreaEvents=function(){var t=this,n=this.ui,o=new s.Manager(n.querySelector(".fv__shape-control-move-area"));o.add(new s.Pan({direction:s.DIRECTION_ALL}));var r=void 0,i=void 0;o.on("panstart",(function(e){var n=e.deltaX,o=e.deltaY;t.isDisabled||(r=n,i=o,t.start(),t.move(r,i,!0))})),o.on("panend",(function(n){t.isDisabled||t.end(e.ACTION_MOVE)})),o.on("pancancel",(function(n){t.isDisabled||t.cancel(e.ACTION_MOVE)})),o.on("panmove",(function(e){var n=e.deltaX,o=e.deltaY,a=e.center,s=e.direction;if(!t.isDisabled){var c=n-r,u=o-i;r=n,i=o;var l=t.ui.getBoundingClientRect(),f=l.left+l.width/2,p=l.top+l.height/2;a.x<f&&s&Hammer.DIRECTION_RIGHT&&(c=0),a.x>f&&s&Hammer.DIRECTION_LEFT&&(c=0),a.y<p&&s&Hammer.DIRECTION_DOWN&&(u=0),a.y>p&&s&Hammer.DIRECTION_UP&&(u=0),t.move(c,u)}})),this.addDestroyHook((function(){o.destroy()}))},e.prototype.disable=function(){this.isDisabled=!0,this.ui.classList.add("disable")},e.prototype.enable=function(){this.isDisabled=!1,this.ui.classList.remove("disable")},e.prototype.start=function(){this.isDisabled||(this.doStart(),this.onPrestart(),this.companions.forEach((function(t){return t.doStart()})))},e.prototype.doStart=function(){this.ui.style.willChange="left, top, width, height",this.shape.process()},e.prototype.move=function(t,n){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this.isDisabled){var r=this.shape.getAdjustRect();this.shape.adjustPosition(t,n);var i=this.shape.getAdjustRect(),a=i.left-r.left,s=i.top-r.top;this.interceptor(this.shape.getAdjustShape())?(this.shape.applyAdjustingToDom(this.ui),o&&this.onStart(this.shape.getAdjustShape(),this.context,e.ACTION_MOVE),this.onMoving(this.shape.getAdjustShape(),this.context,{offsetLeft:a,offsetTop:s}),this.companions.forEach((function(t){return t.move(a,s,o)}))):this.shape.undo()}},e.prototype.resize=function(t,n,o){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!this.isDisabled){switch(t){case c.DIR_EAST:case c.DIR_WEST:case c.DIR_NORTH:case c.DIR_SOUTH:case c.DIR_NORTH_EAST:case c.DIR_NORTH_WEST:case c.DIR_SOUTH_EAST:case c.DIR_SOUTH_WEST:break;default:throw new Error("Incorrect direction: "+t)}this._resize(t,n,o),this.interceptor(this.shape.getAdjustShape())?(this.shape.applyAdjustingToDom(this.ui),this._updatePreviewer(),r&&this.onStart(this.shape.getAdjustShape(),this.context,e.ACTION_RESIZE),this.onUpdate(this.shape.getAdjustShape(),this.context,{offsetLeft:n,offsetTop:o,direction:t}),this.companions.forEach((function(e){return e.resize(t,n,o,r)}))):this.shape.undo()}},e.prototype.end=function(t){this.isDisabled||(this.ui.style.willChange="auto",this.onEnd(this.shape.getAdjustShape(),this.context,t),this.shape.end(),this.shape.applyToDom(this.ui),this.companions.forEach((function(e){return e.end(t)})),this.onAfterEnd(t))},e.prototype.cancel=function(t){this.isDisabled||(this.shape.cancel(),this.shape.applyToDom(this.ui),this.onEnd(this.shape.getShape(),this.context,t),this.companions.forEach((function(e){return e.cancel(t)})),this.onAfterEnd(t))},e.prototype.rotateStart=function(){if(!this.isRotateStarted){var t=this.ui.getBoundingClientRect(),e={x:t.left+.5*t.width,y:t.top+.5*t.height};this.isRotateStarted=!0,this.rotationOffsetCenter=e,this.onRotateStart(this.rotateDegree,this.shape,this.context),this.companions.forEach((function(t){return t.rotateStart()}))}},e.prototype.rotating=function(t,e){if(this.isRotateStarted){var n=t-this.rotationOffsetCenter.x,o=e-this.rotationOffsetCenter.y,r=Math.atan2(o,n)/Math.PI*180+90;this.ui.style.transform="rotate("+r+"deg)",this.updateRotateDegreeBox(r),this.rotatingDegree=r,this.companions.forEach((function(t){t.ui.style.transform="rotate("+r+"deg)",t.updateRotateDegreeBox(r),t.rotatingDegree=r}))}},e.prototype.rotateEnd=function(){if(this.isRotateStarted){this.isRotateStarted=!1;var t=this.rotatingDegree-this.rotateDegree;this.rotateDegree=this.rotatingDegree,this.rotatingDegree=void 0,this.onRotateEnd(this.rotateDegree,t,this.shape,this.context),this.companions.forEach((function(t){t.rotateEnd()}))}},e.prototype.moveDirectly=function(t,e){if(!this.isDisabled){this.start();try{this.move(t,e,!0)}catch(t){throw this.cancel(),t}this.end()}},e.prototype.resizeDirectly=function(t,e,n){if(!this.isDisabled){this.start();try{this.resize(t,e,n,!0)}catch(t){throw this.cancel(),t}this.end()}},e.prototype._updatePreviewer=function(){if(this.enablePreviewer){var t=this.ui.querySelector(".fv__shape-control-previewer");t.setAttribute("width",this.ui.offsetWidth),t.setAttribute("height",this.ui.offsetHeight)}},e.prototype.hidePreviewer=function(){},e.prototype.showPreviewer=function(){},e.prototype.hidden=function(){},e.prototype.show=function(){},e.prototype._resize=function(t,e,n){var o=this.ui,r=void 0;switch(r=this.enableUniform?a.default.ADJUST_MODE_UNIFORM:u.default.isShift?a.default.ADJUST_MODE_SQUARE:a.default.ADJUST_MODE_FREE,t){case c.DIR_NORTH:i(t,this.shape.adjustNorth(n,r));break;case c.DIR_SOUTH:i(t,this.shape.adjustSouth(n,r));break;case c.DIR_EAST:i(t,this.shape.adjustEast(e,r));break;case c.DIR_WEST:i(t,this.shape.adjustWest(e,r));break;case c.DIR_NORTH_WEST:i(t,this.shape.adjustNorthWest(e,n,r,this.minUniformSize));break;case c.DIR_NORTH_EAST:i(t,this.shape.adjustNorthEast(e,n,r,this.minUniformSize));break;case c.DIR_SOUTH_WEST:i(t,this.shape.adjustSouthWest(e,n,r,this.minUniformSize));break;case c.DIR_SOUTH_EAST:i(t,this.shape.adjustSouthEast(e,n,r,this.minUniformSize));break;default:throw new Error("Incorrect direction: "+t)}function i(t,e){if(t!==e){var n=o.querySelector("[direction="+e+"]"),r=o.querySelector("[direction="+t+"]");n.setAttribute("direction",t),r.setAttribute("direction",e)}}},e.prototype.active=function(t,e,n){this.init(),this._applyAnnotBoundary(e);var o=t instanceof Element?t:t.get(0);this.ui.parentElement!==o&&o.appendChild(this.ui),this.shape=new a.default({left:e.left,top:e.top,right:e.left+e.width,bottom:e.top+e.height,box:n,expansion:this.expansion}),this.originMargin=this.shape.marginBox,this._updatePreviewer(),this._resizeSizeBox(),this.updateRotateDegreeBox(this.rotateDegree)},e.prototype.updateRotateDegreeBox=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;(t=parseInt(t))>180&&(t-=360),t*=-1,this.rotateDegreeBox&&(this.rotateDegreeBox.innerHTML=t+"",this.rotateDegreeBox.style.transform="rotate("+t+"deg)")},e.prototype.updateBoundary=function(t,e){Object.assign(this.shape.boundary,t),this._applyAnnotBoundary(this.shape.boundary),e&&this.updateBoundaryBox(e),this._updatePreviewer()},e.prototype.setMargin=function(t){t&&this.shape&&this.shape.setMargin(t)},e.prototype.updateBoundaryBox=function(t){this.shape.setBoundaryBox(t)},e.prototype.getCurrentShape=function(){return this.shape.getShape()},e.prototype.getAdjustingShape=function(){return this.shape.getAdjustShape()},e.prototype.getAdjustedOffset=function(){var t=this.getAdjustedRectDiff();return{offsetLeft:t.left,offsetTop:t.top}},e.prototype.getAdjustedRectDiff=function(){return f.default.subtract(this.shape.getAdjustRect(),this.shape.getRect())},e.prototype.deactive=function(){this.ui.parentNode&&this.ui.parentNode.removeChild(this.ui)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.disable(),this.ui.parentNode&&this.ui.parentNode.removeChild(this.ui)},e.prototype._applyAnnotBoundary=function(t){var e=t.left,n=t.top,o=t.width,r=t.height,i=this.expansion;this.ui.style.cssText+="\n            width: "+(o+(i.left+i.right))+"px;\n            height: "+(r+(i.top+i.bottom))+"px;\n            left: "+(e-i.left)+"px;\n            top: "+(n-i.top)+"px;\n            "},e.prototype._bindRotateEvents=function(){var t=this,e=this.ui.querySelector(".fv-shape-rotate-handle"),n=new s.Manager(e);n.add(new s.Pan({direction:s.DIRECTION_ALL}));n.on("panstart",(function(e){t.isDisabled||(t.onBeforeRotateStart(),t.rotateStart())})),n.on("panend",(function(e){e.deltaX,e.deltaY;t.isDisabled||(t.rotateEnd(),t.onAfterRotateEnd())})),n.on("pancancel",(function(t){b.debug("rotate c")})),n.on("panmove",(function(e){e.deltaX,e.deltaY;var n=e.center;!t.isDisabled&&t.isRotateStarted&&t.rotating(n.x,n.y)}))},e}(d.default);e.default=P},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=c(n(47)),r=c(n(156)),i=c(n(16)),a=n(4),s=c(n(29));function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o));return r.groupElements=[],r.replies=[],r.markedStates=[],r.reviewStates=[],r}return u(e,t),e.prototype.getFlags=function(){return-2&t.prototype.getFlags.call(this)},e.prototype.reviseSummary=function(t){var e=this,n=this.info,o=[],r=n.groupElementsSummary.map((function(e){return Promise.resolve(t(e.id))})),i=Promise.all(r).then((function(t){e.groupElements=t}));o.push(i);var a=n.groupHeaderSummary;a&&o.push(Promise.resolve(t(a.id)).then((function(t){e.groupHeader=t})));var s=n.repliesSummary.map((function(e){return Promise.resolve(t(e.id))})),c=Promise.all(s).then((function(t){e.replies=t}));o.push(c);var u=n.markedStatesSummary.map((function(e){return Promise.resolve(t(e.id))})),l=Promise.all(u).then((function(t){e.markedStates=t}));o.push(l);var f=n.reviewStatesSummary.map((function(e){return Promise.resolve(t(e.id))})),p=Promise.all(f).then((function(t){e.reviewStates=t}));o.push(p);var d=n.popupSummary;return d&&o.push(Promise.resolve(t(d.id)).then((function(t){e.popup=t}))),Promise.all(o).then((function(){return e.reviseSummaryIsOK=!0,e}))},e.prototype.getBitmap=function(t,e,n){var o=this.getPDFPage(),r=o.getPDFDoc();return this.page.doc.api.getAnnotBitmap(r.getId(),o.getId(),this.getId(),t,e,n)},e.prototype.getOpacity=function(){return this.info.opacity},e.prototype.setOpacity=function(t){var e=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return t=+t,this.page.doc.api.setAnnotOpacity(o.getId(),n.getId(),this.getId(),t).then((function(t){return n.getAnnotsByIdArray(t)})).then((function(t){return Promise.all(t.map((function(t){return t._update()})))})).then((function(t){return e.eventEmitter.emit(i.default.annotationUpdated,t,n,s.default.opacityUpdated),e.eventEmitter.emit(i.default.annotationAppearanceUpdated,t,n),t}))},e.prototype.getSubject=function(){return this.info.subject},e.prototype.setSubject=function(t){var e=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setSubject(o.getId(),n.getId(),this.getId(),t).then((function(){return e.update(s.default.subjectUpdated)}))},e.prototype.getTitle=function(){return this.info.title},e.prototype.setTitle=function(t){var e=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setTitle(o.getId(),n.getId(),this.getId(),t).then((function(){return e.update(s.default.titleUpdated)}))},e.prototype.isGrouped=function(){return this.info.isGrouped},e.prototype.isGroupHeader=function(){return this.info.isGroupHeader},e.prototype.getGroupElements=function(){return this.groupElements},e.prototype.getGroupHeader=function(){return this.groupHeader},e.prototype.getReplyCount=function(){return this.replies.length},e.prototype.getReply=function(t){return this.replies[t]},e.prototype.getReplies=function(){return this.replies},e.prototype.addReply=function(t){var e=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc(),r=this.getGroupHeader()||this;return this.page.doc.api.annotAddReply(o.getId(),n.getId(),this.getId(),t).then((function(t){r.info.repliesSummary.push({id:t.id,index:t.index});var o=e.page.doc.engine.annotManager.get(t,n);return n.addReplyAnnot(o)})).then((function(t){return r.replies.push(t),e.page.doc.engine.eventEmitter.emit(i.default.annotationReplyAdd,t,r),e.page.doc.engine.eventEmitter.emit(i.default.annotationUpdated,[e],n,s.default.replyAdded),t}))},e.prototype.removeRepliesByIdLocaly=function(t){if(!Array.isArray(t)||t.length<1||this.replies.length<1)return t||[];var e=t.slice(0);return this.replies=this.replies.filter((function(t){var n=e.indexOf(t.getId());return n>-1&&e.splice(n,1),-1==n})),e},e.prototype.getMarkedStateCount=function(){return this.markedStates.length},e.prototype.getMarkedState=function(t){return this.markedStates[t]},e.prototype.getMarkedStates=function(){return this.markedStates},e.prototype.getReviewStateCount=function(){return this.reviewStates.length},e.prototype.getReviewState=function(t){return this.reviewStates[t]},e.prototype.getReviewStates=function(){return this.reviewStates},e.prototype.addReviewState=function(t){var e=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc(),r=this.getGroupHeader()||this;return this.page.doc.api.addAnnotReviewState(o.getId(),n.getId(),this.getId(),t).then((function(t){r.info.reviewStatesSummary.push({id:t.id,index:t.index});var o=e.page.doc.engine.annotManager.get(t,n);return n.addAddonAnnot(o)})).then((function(t){return r.reviewStates.push(t),e.page.doc.engine.eventEmitter.emit(i.default.annotationReviewStateAnnotAdd,t,r),e.page.doc.engine.eventEmitter.emit(i.default.annotationUpdated,[e],n,s.default.reviewStateUpdated),t}))},e.prototype.removeReviewState=function(){var t=this,e=this.page,n=this.getReviewStates(),o=n[n.length-1];return e.removeAnnot(o).then((function(){t.reviewStates.pop(),t.page.doc.engine.eventEmitter.emit(i.default.removeReviewState,t),t.page.doc.engine.eventEmitter.emit(i.default.annotationUpdated,[t],e,s.default.reviewStateUpdated)}))},e.prototype.addMarkedState=function(t){var e=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc(),r=this.getGroupHeader()||this;return this.page.doc.api.addAnnotMarkedState(o.getId(),n.getId(),this.getId(),t).then((function(t){r.info.markedStatesSummary.push({id:t.id,index:t.index});var o=e.page.doc.engine.annotManager.get(t,n);return n.addAddonAnnot(o)})).then((function(t){return r.markedStates.push(t),e.page.doc.engine.eventEmitter.emit(i.default.annotationUpdated,[e],n,s.default.markedStateUpdated),e.page.doc.engine.eventEmitter.emit(i.default.annotationMarkedStateAnnotAdd,t,r),t}))},e.prototype.removeAllStateAnnots=function(){var t=this;this.checkModidyPerm();var e=this.getPDFPage(),n=e.getPDFDoc(),o=this.getGroupHeader()||this;return this.page.doc.api.removeAllStateAnnots(n.getId(),e.getId(),this.getId()).then((function(n){return!!n&&(o.info.markedStatesSummary.forEach((function(t){var n=t.id;e.removeAddonAnnotById(n)})),o.info.reviewStatesSummary.forEach((function(t){var n=t.id;e.removeAddonAnnotById(n)})),o.info.markedStatesSummary=[],o.info.reviewStatesSummary=[],o.reviewStates=[],o.markedStates=[],t.page.doc.engine.eventEmitter.emit(i.default.annotationUpdated,[t],e,s.default.statesCleared),t.page.doc.engine.eventEmitter.emit(i.default.annotationStatesCleared,o),n)}))},e.prototype.getPopup=function(){return this.popup},e.prototype.getCreateDateTime=function(){var t=this.info.creationTimestamp;return t>0?new Date(t):new Date},e.prototype.setCreateDateTime=function(t){var e=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setCreateDateTime(o.getId(),n.getId(),this.getId(),t).then((function(){return e.update(s.default.createDateTimeUpdated)}))},e.prototype.getIntent=function(){return this.info.intent},e.prototype.setIntent=function(t){var e=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setAnnotIntent(o.getId(),n.getId(),this.getId(),t).then((function(t){return n.getAnnotsByIdArray(t)})).then((function(e){for(var n=0;n<e.length;n++)e[n].info.intent=t;return e})).then((function(t){return e.eventEmitter.emit(i.default.annotationUpdated,t,n,s.default.intentUpdated),e.eventEmitter.emit(i.default.annotationAppearanceUpdated,t,n),t}))},e.prototype.getFillColor=function(){return this.info.fillColor},e.prototype.setFillColor=function(t){var e=this;t=0===t?0:(0,a.colorConvertor)(t,"int");var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setAnnotFillColor(o.getId(),n.getId(),this.getId(),t).then((function(t){return t?e.update(s.default.fillColorUpdated).then((function(){return e.eventEmitter.emit(i.default.annotationAppearanceUpdated,[e],n),t})):t}))},e.prototype.update=function(t){var e=this,n=this.getGroupElements();0==n.length&&(n=[this]);for(var o=[],r=0,a=n.length;r<a;r++){var s=n[r];o[r]=s._update()}return Promise.all(o).then((function(n){return t&&e.eventEmitter.emit(i.default.annotationUpdated,n,e.getPDFPage(),t),n}))},e.prototype.exportToJSON=function(){var e=t.prototype.exportToJSON.call(this),n=this.info.opacity,o=(0,r.default)(new Date(this.info.creationTimestamp),"D:yyyyMMddhhmmssTZ","'"),i=this.info.intent,a=this.info.subject,s=this.info.title,c=this.info.IRT,u=this.info.RT;i=i&&i.length>0?{IT:i,intent:i}:{};var l=Object.assign({},e,{opacity:n,creationdate:o,subject:a,title:s},i);return c&&u&&(l.inreplyto=c,l.replyType=u.toLowerCase()),this.popup&&(l.popup=this.popup.exportToJSON()),this.info.rotation&&(l.rotation=360-this.info.rotation),l},e.prototype.setContent=function(t){var e=this;return this.checkModidyPerm(),(this.getGroupHeader()||this)._setContent(t).then((function(t){return e.getPDFPage().getAnnotsByIdArray([t])})).then((function(n){var o=n[0];return o&&(o.info.content=t,o.info.modifiedTimestamp=(new Date).getTime()),e.eventEmitter.emit(i.default.annotationUpdated,n,e.getPDFPage(),s.default.contentUpdated),n}))},e}(o.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(37);e.default=function(t,e){var n=t.getBoundingClientRect(),r=e.srcEvent,i=(0,o.getClientX)(r),a=(0,o.getClientY)(r);return{x:i-n.left-e.deltaX,y:a-n.top-e.deltaY}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(267);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return i(e,t),e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getClientX=function(t){if("clientX"in t)return t.clientX;switch(t.type){case"touchstart":case"touchmove":return t.touches[0].clientX;case"touchend":case"touchcancel":return t.changedTouches[0].clientX}},e.getClientY=function(t){if("clientY"in t)return t.clientY;switch(t.type){case"touchstart":case"touchmove":return t.touches[0].clientY;case"touchend":case"touchcancel":return t.changedTouches[0].clientY}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={ReadOnly:1,Required:2,NoExport:4,Hidden:8,ButtonNoToggleToOff:256,ButtonRadiosInUnison:512,TextMultiline:256,TextPassword:512,TextDoNotScroll:1024,TextComb:2048,ComboEdit:256,ChoiseMultiSelect:256,inUnison:function(t){return t&o.ButtonRadiosInUnison},isHidden:function(t){return t&o.Hidden},isReadOnly:function(t){return t&o.ReadOnly},isRequired:function(t){return t&o.Required},isNoExport:function(t){return t&o.NoExport},isMultiline:function(t){return t&o.TextMultiline},isPassword:function(t){return t&o.TextPassword},isComb:function(t){return t&o.TextComb},isNoScroll:function(t){return t&o.TextDoNotScroll},isComboEdit:function(t){return t&o.ComboEdit}},r={FlagExclude:1,FlagIncludeNoValueFields:2,FlagExportFormat:4,FlagGetMethod:8,FlagWithCoordinates:16,FlagAsXFDF:32,FlagIncludeAppendSaves:64,FlagIncludeAnnotations:128,FlagSubmitAsPDF:256,FlagCanonicalFormat:512,FlagExclNonUserAnnots:1024,FlagExclFKey:2048,FlagEmbedForm:8192,isExclude:function(t){return t&r.FlagExclude},isIncludeNoValueFields:function(t){return t&r.FlagIncludeNoValueFields},isHTML:function(t){return t&r.FlagExportFormat},isGetMethod:function(t){return t&r.FlagGetMethod},isXFDF:function(t){return t&r.FlagAsXFDF},isPDF:function(t){return t&r.FlagSubmitAsPDF},getType:function(t){var e=r.isHTML(t);if(e)return"HTML";var n=r.isXFDF(t);if(n)return"XFDF";var o=r.isXFDF(t);return o?"PDF":e||n||o?void 0:"FDF"}},i={Unknown:0,PushButton:1,CheckBox:2,RadioButton:3,Text:6,ListBox:5,ComboBox:4,Sign:7},a=o;e.FieldType=i,e.FieldFlag=a,e.FormActionFlags=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={PageOpened:0,PageClosed:1,DocWillClose:2,DocWillSave:3,DocSaved:4,DocWillPrint:5,DocPrinted:6,FieldKeyStroke:7,FieldWillFormat:8,FieldValueChanged:9,FieldRecalculateValue:10,AnnotCursorEnter:11,AnnotCursorExit:12,AnnotMouseButtonPressed:13,AnnotMouseButtonReleased:14,AnnotReceiveInputFocus:15,AnnotLoseInputFocus:16,AnnotPageOpened:17,AnnotPageClosed:18,AnnotPageVisible:19,AnnotPageInvisible:20}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=v(n(62)),r=(v(n(61)),n(21),v(n(40))),i=v(n(3));n(89);var a=v(n(0)),s=n(108),c=v(n(91)),u=v(n(1)),l=v(n(92)),f=v(n(418)),p=v(n(240)),d=v(n(242)),h=n(4),g=v(n(93)),m=v(n(22));function v(t){return t&&t.__esModule?t:{default:t}}function y(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function b(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var w=s.defaultAnnotComponentKey,_=(0,s.getCommonContextMenu)(".fv__pdf-page-annot-handler-rect"),P=void 0,O=function(t){function e(n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i));s.name="markup",s.$ui.addClass("pdf-page-markup-annot-container"),s.$handler.addClass("pdf-page-markup-annot-handler-container"),s.apRenderer=s.generateApRenderer();var c=s.pdfViewer.i18n;return a.default.i18n=function(t){return c.t(t)},s.currentRenderDefer=(0,m.default)(),s.currentRenderDefer.isPending=!0,s}return b(e,t),e.getDefaultContextMenuConfig=function(){return _},e.setContextMenuConfig=function(t){P=t},e.prototype.isHTMLSimulate=function(t){return"canvas"===this.pdfViewer.config.annotRenderingMode[t||this.name]},e.prototype.generateApRenderer=function(){return new g.default(this)},e.prototype.getRenderPromise=function(){return this.currentRenderDefer.promise},e.prototype.getTileConfig=function(t,e){var n=this.pdfViewer,o=n.getSmartScale(t),r=n.config.tileSize,i=this.annot,a=i.getDeviceRect(1,e),s=i.getDeviceRect(o,e),c=s.right-s.left,u=s.bottom-s.top;return this.getAnnotFlag().checkNoZoom()&&(c=a.right-a.left,u=a.bottom-a.top),[Math.ceil(u/r),Math.ceil(c/r),c,u,r,o,t,e,a.left,a.top]},e.prototype.render=function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,r=this.annot,i=this.getAnnotFlag();return this.scale=n,this.rotate=o,this.currentRenderDefer.isPending||(this.currentRenderDefer=(0,m.default)()),i.checkInvisible()||i.checkHidden()||r.isEmpty()||r.isDeleted()||r.rectIsEmpty()||0==r.getOpacity()?(this.$ui.addClass("fv__markup-annot-invisible"),this.currentRenderDefer.resolve(),Promise.resolve()):(this.$ui.removeClass(["fv__annot-flags-nozoom","fv__markup-annot-invisible"]),this.apRenderer.render(n,o,this.visibleRect).then((function(){if(i.checkNoZoom()||"text"===r.getType()){e.$ui.addClass("fv__annot-flags-nozoom");var t,n;n=(t=e.annot.getRect()).top-t.bottom;var o=t.right-t.left;e.$ui.css({width:o+"px",height:n+"px"}).find(".fv__tiles-canvas").css({width:"auto",height:"auto"})}var a=r.getPopup();a&&a.getOpenStatus&&a.getOpenStatus()?e.showPopup():e.hidePopup()})).finally((function(){e.currentRenderDefer.resolve(),t.prototype.afterRender.call(e)})))},e.prototype.afterRender=function(t){t.transformed&&this.isActive&&this.active()},e.prototype.redraw=function(t){if(this.activeRect(),t&&this.apRenderer)try{this.apRenderer.clearCache()}catch(t){}return this.render()},e.prototype.active=function(){t.prototype.active.call(this),this.$handler.addClass("active")},e.prototype.activeMore=function(t,e){},e.prototype.activeMoreItem=function(){},e.prototype.unActive=function(){var e=this;this.isActive&&(t.prototype.unActive.call(this),this.$handler.removeClass("active"),this.getGroupRenders().map((function(t){t.component!=e&&t.component.unActive()})))},e.prototype.unActiveMore=function(){},e.prototype.renderDestroy=function(){this.apRenderer.destry(),this.$handler.remove()},e.prototype.showReplyDialog=function(){var t=this;this.updateDeleteStatus(!0);var e=this.annot,n={},o=e.getGroupHeader()||e,r=n.content=o.getContent(),a=n.replies=[];this.iterationGetRepliesInfo(o,a);var s=a.length,u=(0,f.default)(n),l=(0,i.default)(u);this.$replyDialog=l;var h=l[0],g=l.find(".fv__btn-reply")[0],m=l.find(".reply-textarea")[0],v=!1;this.replyDisabled()?(l.find(".fv__btn-reply").addClass("fv__btn-replay-disabled"),l.find(".content-textarea").prop({disabled:!0}),l.find(".reply-textarea").prop({disabled:!0})):(l.find(".fv__btn-reply").removeClass("fv__btn-replay-disabled"),l.find(".content-textarea").prop({disabled:!1}),l.find(".reply-textarea").prop({disabled:!1})),l.on("click",".fv__btn-close",(function(){t.hideReplyDialog()})).on("change",".content-textarea",(function(e){var n=e.target,o=n.value;t.setContent(o).then((function(t){if(t)return r=o;n.value=r}))})).on("input",".reply-textarea",(function(t){g.disabled=!m.value})).on("click",".fv__btn-reply",(function(e){if(!t.replyDisabled()&&!v){g.disabled=!0,v=!0;var n=m.value;t.addReply(n).then((function(e){var n={content:e.getContent()},o=n.replies=[];t.iterationGetRepliesInfo(e,o),s?l.find(".fv__replies_list").first().append((0,d.default)(n)):l.find(".fv__dialog-replies-block").first().html((0,p.default)([n])),s=!0,m.value="",g.disabled=!1,v=!1}),(function(){g.disabled=!1}))}})),l.appendTo(document.body),c.default.registerDialog(h),h.showModal()},e.prototype.hideReplyDialog=function(){var t=this.$replyDialog;t&&(t[0].close(),t.remove(),this.$replyDialog=null),this.updateDeleteStatus(!1)},e.prototype.addReply=function(t){var e=this;return this.annot.addReply(t).then((function(t){return e.pdfViewer.eventEmitter.emit(u.default.updateActionAnnotation,e),t}))},e.prototype.showContextMenu=function(t,e){return!!this.contextMenu&&(this.contextMenu.setCurrentTarget(this),this.contextMenu.showAt(t,e))},e.prototype.getPropertyOptions=function(){var t=this.annot;return{color:(0,h.colorConvertor)(t.getBorderColor(),"#"),opacity:t.getOpacity(),borderStyle:!1,disabled:this.propertyDisabled()}},e.prototype.showPropertiesDialog=function(){this.$propertiesControl=new l.default(this),this.updateDeleteStatus(!0)},e.prototype.hidePropertiesDialog=function(){this.$propertiesControl&&this.$propertiesControl.close(),this.bindEvent(),this.updateDeleteStatus(!1)},e.prototype.updateRender=function(){return Promise.resolve()},e.prototype.setContent=function(t){var e=this;return this.annot.setContent(t).then((function(t){return t&&e.pdfViewer.eventEmitter.emit(u.default.updateActionAnnotation,e),t}))},e.prototype.setColor=function(t){var e=this;return this.annot.setBorderColor(t).then((function(t){return t?e.updateRender().then((function(){return e.pdfViewer.eventEmitter.emit(u.default.updateActionAnnotation,e),t})):t}))},e.prototype.setOpacity=function(t){var e=this;return t==this.annot.getOpacity()?Promise.resolve(!0):this.annot.setOpacity(t).then((function(t){return t?e.updateRender().then((function(){return e.pdfViewer.eventEmitter.emit(u.default.updateActionAnnotation,e),t})):t}))},e.prototype.destroy=function(){this.unBindEvent(),this.$propertiesControl=null,this.hideReplyDialog(),this.contextMenu&&this.contextMenu.destroy(),this.blankHammar&&this.blankHammar.destroy(),this.unActive(),this.unActiveMore(),t.prototype.destroy.call(this),this.apRenderer.destroy()},e.prototype.remove=function(){this.destroy()},e.prototype.iterationGetRepliesInfo=function(t,e){for(var n=t.getReplies(),o=0,r=n.length;o<r;o++){var i=n[o];if(!i.isDeleted()){var a={content:i.getContent(),replies:[]};this.iterationGetRepliesInfo(i,a.replies),e.push(a)}}},e.prototype.removeAnnot=function(){var t=this;if(this.deleteDisabled())return!1;var e=this.pdfViewer,n=e.eventEmitter,o=this.annot;return Promise.resolve((e.customs.removeAnnotBefore||r.default)(this)).then((function(e){if(n.emit(u.default.removeActionAnnotationBefore,t),!1!==e)return o.getPDFPage().removeAnnot(o).then((function(e){if(e)return n.emit(u.default.removeActionAnnotationSuccess,t);n.emit(u.default.removeActionAnnotationFailed,t)}),(function(){n.emit(u.default.removeActionAnnotationFailed,t)}))}))},e.prototype.removeAnnotRender=function(){this.renderDestroy(),this.parent().remove()},e.prototype.willRedraw=function(){t.prototype.willRedraw.call(this),this.apRenderer.willRender(),(this.$rect=this.$rect||this.rectInit()).get(0).willChange="left, top, width, height"},e.prototype.afterRedraw=function(){t.prototype.afterRedraw.call(this),this.apRenderer.afterRender(),(this.$rect=this.$rect||this.rectInit()).get(0).willChange="auto"},e.prototype.activeRect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot,e=this.$rect=this.$rect||this.rectInit(),n=this.scale,o=this.rotate,r=t.getDeviceRect(n,o);e.css({left:r.left+"px",top:r.top+"px",width:r.right-r.left+"px",height:r.bottom-r.top+"px"})},e.prototype.rectInit=function(){var t=this,e=this.$handler,n=(0,i.default)(this.createRectDom());e.append(n);var o=n[0],r=this.rectHammer=new Hammer.Manager(o,{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]});return r.add(new Hammer.Tap({event:"doubletap",taps:2})),r.add(new Hammer.Tap({event:"singletap"})),r.get("doubletap").recognizeWith("singletap"),r.get("singletap").requireFailure("doubletap"),r.on("doubletap",(function(e){!1!==t.onDoubleTap(e)&&t.rectDoubleTap()})),this.contextMenu=this.pdfViewer.viewerUI.createContextMenu(this,e.get(0),this.getContextMenuConfig()),n.data(w,this),n},e.prototype.rectSingleTap=function(){},e.prototype.rectDoubleTap=function(t){this.showReplyDialog("comment")},e.prototype.createRectDom=function(){return(0,i.default)('<div class="fv__pdf-page-annot-handler-rect">')},e.prototype.doubleTapAnnot=function(){this.showReplyDialog("comment")},e.prototype.getContextMenuConfig=function(){if(P)return P;var t=this.constructor.getDefaultContextMenuConfig();for(var e in t)switch(e){case"items":var n=t[e],o=this.pdfViewer.i18n;for(var r in n){var i=n[r];i.nameI18nKey&&(i.name=o.t(i.nameI18nKey))}}return t},e.prototype.getRelevanceRenders=function(){var t=this.parent("annotsRender"),e=this.annot.getGroupHeader()||this.annot,n=[],o=e.getPopup(),r=[],i=[],a=[];!function(t,e){E(t,"getReplies",e)}(e,r),function(t,e){E(t,"getMarkedStates",e)}(e,i),function(t,e){E(t,"getReviewStates",e)}(e,a),o&&n.push(o.getId()),n.push.apply(n,r),n.push.apply(n,i),n.push.apply(n,a);var s=e.isGrouped()?e.getGroupElements():[e];return n.push.apply(n,y(s.map((function(t){return t.getId()})))),n.map((function(e){return t.getAnnotRender(e)})).filter((function(t){return!!t}))},e.prototype.getGroupRenders=function(){var t=this.parent("annotsRender"),e=this.annot;return((e=e.getGroupHeader()||e).isGrouped()?e.getGroupElements():[e]).map((function(e){return t.getAnnotRender(e.getId())}))},e.prototype.getGroupRect=function(){var t=this.getGroupRenders();if(t.length>1){var e=t.map((function(t){return t.component.getRect()}));return{left:Math.min.apply(Math,y(e.map((function(t){return t.left})))),right:Math.max.apply(Math,y(e.map((function(t){return t.right})))),top:Math.min.apply(Math,y(e.map((function(t){return t.top})))),bottom:Math.max.apply(Math,y(e.map((function(t){return t.bottom}))))}}var n=t[0].component.getRect();return Object.assign({},n)},e.prototype.showPopup=function(){},e.prototype.hidePopup=function(){},e.prototype.onDoubleTap=function(t){},e.prototype.invisibleRender=function(){this.apRenderer.invisibleRender()},e.prototype.getRenderingData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,o=t.prototype.getRenderingData.call(this,e,n);return Object.assign(o,{opacity:this.annot.getOpacity(),tileConfig:this.getTileConfig(e,n)})},e}(o.default);function E(t,e,n){var o=t[e](),r=o.length;if(!r)return n;for(var i=r;i--;){var a=o[i];E(a,e,n),n.push(a.getId())}return n}e.default=O},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(47)),r=a(n(16)),i=a(n(29));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var c=function(){function t(){s(this,t),this.init.apply(this,arguments)}return t.prototype.init=function(){if(1==arguments.length)this.info={type:arguments[0]};else{var t=Array.prototype.slice.call(arguments),e=t[0],n=t[1],o=t[2],r=(t[3],t[4]),i=t[5];this.info=e,this.factory=n,this.doc=o,this.host=i,this.eventEmitter=r}this.initSubAction()},t.prototype.checkInserted=function(){if(!this.doc.api)throw new Error("Please insert this action to a host first.")},t.prototype.initSubAction=function(){var t=this;this.subAction=[],this.info.subAction&&this.info.subAction.forEach((function(e){t.subAction.push(t.factory.createAction(e,t.doc,t.doc.api,t.eventEmitter,t.host))}))},t.prototype.getType=function(){return this.info.type},t.prototype.getSubActionCount=function(){return this.info.subActionCount||0},t.prototype.getSubAction=function(t){return this.subAction[t]},t.prototype.insertSubAction=function(e,n){var o=this;if(this.checkInserted(),"number"!=typeof e)throw new Error("param error. Only number is available.");return e=Math.max(0,Math.min(e,this.getSubActionCount())),n instanceof t&&(n=n.getType()),this.doc.api.insertSubAction(this.doc.getId(),this.info.objNumber,e,n).then((function(t){return o.updateAction(t),t}))},t.prototype.setSubAction=function(e,n){var o=this;if(this.checkInserted(),"number"!=typeof e)throw new Error("param error. Only number is available.");var r=this.getSubActionCount();if(0===r)throw new Error("Cannot be set without sub action.");return e=Math.max(0,Math.min(e,r-1)),n instanceof t&&(n=n.getType()),this.doc.api.setSubAction(this.doc.getId(),this.info.objNumber,e,n).then((function(t){return o.updateAction(t),t}))},t.prototype.removeAllSubActions=function(){var t=this;if(this.doc.api)return this.doc.api.removeAllSubActions(this.doc.getId(),this.info.objNumber).then((function(e){t.updateAction(e)}))},t.prototype.removeSubAction=function(t){var e=this;if(this.doc.api){if("number"!=typeof t)throw new Error("param error. Only number is available.");var n=this.getSubActionCount();if(0===n)throw new Error("Cannot be remove without sub action.");return t=Math.max(0,Math.min(t,n-1)),this.doc.api.removeSubAction(this.doc.getId(),this.info.objNumber,t).then((function(t){e.updateAction(t)}))}},t.prototype.setActionData=function(t){var e=this;return this.doc.api.setActionData(this.doc.getId(),this.info.objNumber,t).then((function(t){e.updateAction(t)}))},t.prototype.updateAction=function(t){this.info=t,this.initSubAction(),this.host&&(this.eventEmitter.emit(r.default.actionUpdated,this.host),this.host instanceof o.default&&this.eventEmitter.emit(r.default.annotationUpdated,[this.host],this.host.getPDFPage(),i.default.actionDataUpdated))},t.prototype.checkOutData=function(t){return!0},t.prototype.exportToJson=function(){return{type:this.getType()}},t}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Box_Type=e.Action_Trigger=e.Signature_State=e.Error_Code=e.Font_Descriptor_Flags=e.page_Number_Format=e.date_Format=e.Rendering_Usage=e.Rendering_Content=e.Range_Filter=e.Saving_Flag=e.Search_Flag=e.Rotation_Degree=e.Rotation=e.Standard_Font=e.Watermark_Flag=e.Position=e.Flatten_Option=e.File_Type=e.Relationship=e.Highlight_Mode=e.Action_Type=e.Point_Type=e.Alignment=e.Ending_Style=e.Note_Icon=e.FileAttachment_Icon=e.Border_Style=e.Font_Style=e.Additional_Permission=void 0;var o,r=n(245),i=(o=r)&&o.__esModule?o:{default:o};e.Additional_Permission={download:1},e.Font_Style={normal:0,italic:1,bold:2},e.Border_Style={solid:0,dashed:1,underline:2,beveled:3,inset:4,cloudy:5},e.FileAttachment_Icon={graph:"Graph",pushPin:"PushPin",paperclip:"Paperclip",tag:"Tag"},e.Note_Icon={Check:"Check",Circle:"Circle",Comment:"Comment",Cross:"Cross",Help:"Help",Insert:"Insert",Key:"Key",NewParagraph:"NewParagraph",Note:"Note",Paragraph:"Paragraph",RightArrow:"RightArrow",RightPointer:"RightPointer",Star:"Star",UpArrow:"UpArrow",UpLeftArrow:"UpLeftArrow"},e.Ending_Style={None:0,Square:1,Circle:2,Diamond:3,OpenArrow:4,ClosedArrow:5,Butt:6,ReverseOpenArrow:7,ReverseClosedArrow:8,Slash:9},e.Alignment={left:0,center:1,right:2},e.Point_Type={moveTo:1,lineTo:2,lineToCloseFigure:3,bezierTo:4,bezierToCloseFigure:5},e.Action_Type={goto:"TypeGoto",launch:"TypeLaunch",uri:"TypeURI",named:"TypeNamed",submitForm:"TypeSubmitForm",resetForm:"TypeResetForm",javaScript:"TypeJavaScript",importData:"TypeImportData",hide:"TypeHide"},e.Highlight_Mode={none:0,invert:1,outline:2,push:3,toggle:4},e.Relationship={firstChild:0,lastChild:1,previousSibling:2,nextSibling:3,firstSibling:4,lastSibling:5},e.File_Type={fdf:0,xfdf:1,xml:2},e.Flatten_Option={all:0,field:1,annot:2},e.Position={topLeft:"TopLeft",topCenter:"TopCenter",topRight:"TopRight",centerLeft:"CenterLeft",center:"Center",centerRight:"CenterRight",bottomLeft:"BottomLeft",bottomCenter:"BottomCenter",bottomRight:"BottomRight"},e.Watermark_Flag={asContent:0,asAnnot:1,onTop:2,unprintable:4,display:8},e.Standard_Font={courier:0,courierBold:1,courierBoldOblique:2,courierOblique:3,helvetica:4,helveticaBold:5,helveticaBoldOblique:6,helveticaOblique:7,timesRoman:8,timesBold:9,timesBoldItalic:10,timesItalic:11,symbol:12,zapfDingbats:13},e.Rotation={rotation0:0,rotation1:1,rotation2:2,rotation3:3},e.Rotation_Degree={rotation0:0,rotation90:90,rotation180:180,rotation270:270},e.Search_Flag={caseSensitive:1,wholeWord:2,consecutively:4},e.Saving_Flag={normal:0,incremental:1,noOriginal:2,XRefStream:8,linearized:4096,removeRedundantObjects:16},e.Range_Filter={all:0,even:1,odd:2},e.Rendering_Content={page:"page",annot:"annot"},e.Rendering_Usage={print:"print",view:"view"},e.date_Format={MSlashD:0,MSlashDSlashYY:1,MSlashDSlashYYYY:2,MMSlashDDSlashYY:3,MMSlashDDSlashYYYY:4,DSlashMSlashYY:5,DSlashMSlashYYYY:6,DDSlashMMSlashYY:7,DDSlashMMSlashYYYY:8,MMSlashYY:9,MMSlashYYYY:10,MDotDDotYY:11,MDotDDotYYYY:12,MMDotDDDotYY:13,MMDotDDDotYYYY:14,MMDotYY:15,DDotMDotYYYY:16,DDDotMMDotYY:17,DDDotMMDotYYYY:18,YYHyphenMMHyphenDD:19,YYYYHyphenMMHyphenDD:20},e.page_Number_Format={default:0,numberOfCount:1,numberSlashCount:2,pageNumber:3,pageNumberOfCount:4},e.Font_Descriptor_Flags={FixedPitch:1,Serif:2,Symbolic:4,Script:8,Nonsymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,ForceBold:262144},e.Error_Code=i.default,e.Signature_State={unknown:2147483648,noSignData:512,unsigned:1,signed:2,verifyValid:4,verifyInvalid:8,verifyErrorData:16,verifyNoSupportWay:32,verifyErrorByteRange:64,verifyChange:128,verifyIncredible:256,verifyNoChange:1024,verifyIssueValid:4096,verifyIssueUnknown:8192,verifyIssueRevoke:16384,verifyIssueExpire:32768,verifyIssueUncheck:65536,verifyIssueCurrent:131072,verifyTimestampNone:262144,verifyTimestampDoc:524288,verifyTimestampValid:1048576,verifyTimestampInvalid:2097152,verifyTimestampExpire:4194304,verifyTimestampIssueUnknown:8388608,verifyTimestampIssueValid:16777216,verifyTimestampTimeBefore:33554432,certCannotGetVRI:67108864,verifyChangeLegal:134217728,verifyChangeIllegal:268435456},e.Action_Trigger={click:-1,keyStroke:7,format:8,validate:9,calculate:10,mouseEnter:11,mouseExit:12,mouseDown:13,mouseUp:14,onFocus:15,onBlur:16},e.Box_Type={MediaBox:0,CropBox:1,TrimBox:2,ArtBox:3,BleedBox:4}},function(t,e,n){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0}),e.PIXEL_VERTICAL=e.PIXEL_HORIZONTAL=e.PICA=e.MILLIMETER=e.CENTIMETER=e.METER=e.KILOMETER=e.YARD=e.FOOT=e.POINT=e.MILE=e.CUSTOM=e.INCH=void 0,e.getUnitByName=function(t){return b[t]};var r=n(110),i=n(111);function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=e.INCH=new r.Unit(1,"inch"),c=e.CUSTOM=new r.Unit(1,"custom"),u=e.MILE=new r.Unit(1/63360,"mi"),l=e.POINT=new r.Unit(72,"pt"),f=e.FOOT=new r.Unit(1/12,"ft"),p=e.YARD=new r.Unit(1/36,"yd"),d=e.KILOMETER=new r.Unit(.0254/1e3,"km"),h=e.METER=new r.Unit(.0254,"m"),g=e.CENTIMETER=new r.Unit(2.54,"cm"),m=e.MILLIMETER=new r.Unit(25.4,"mm"),v=e.PICA=new r.Unit(6,"pica"),y=e.PIXEL_HORIZONTAL=new r.PixelUnit(i.ORIENTATION_HORIZONTAL),b=(e.PIXEL_VERTICAL=new r.PixelUnit(i.ORIENTATION_VERTICAL),a(o={},s.name,s),a(o,c.name,c),a(o,u.name,u),a(o,l.name,l),a(o,f.name,f),a(o,p.name,p),a(o,d.name,d),a(o,h.name,h),a(o,g.name,g),a(o,m.name,m),a(o,v.name,v),a(o,y.name,y),o)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=n}return t.prototype.add=function(e,n){return new t(this.x+e,this.y+n)},t.prototype.addp=function(e){return new t(this.x+e.x,this.y+e.y)},t.prototype.subtractp=function(e){return new t(this.x-e.x,this.y-e.y)},t.prototype.subtract=function(e,n){return new t(this.x-e,this.y-n)},t.prototype.move=function(e,n){var o=n.x-this.x,r=n.y-this.y,i=e/Math.sqrt(o*o+r*r);return new t(this.x+o*i,this.y+r*i)},t.prototype.rotate=function(e,n){var o=this.x-n.x,r=this.y-n.y,i=Math.sqrt(o*o+r*r),a=Math.atan2(r,o)-e,s=i*Math.cos(a),c=i*Math.sin(a);return new t(n.x+s,n.y+c)},t.prototype.distanceTo=function(t){var e=t.x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},t.prototype.slope=function(t){var e=this._dot(t);return Math.acos(e/(this._disp()*t._disp()))},t.prototype._dot=function(t){return this.x*t.x+this.y*t.y},t.prototype._disp=function(){return Math.sqrt(this._dot(this))},t.prototype.equalTo=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return n=Math.abs(n),e instanceof t&&Math.abs(this.x-e.x)<=n&&Math.abs(this.y-e.y)<=n},t.prototype.clone=function(){return new t(this.x,this.y)},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(32),i=(o=r)&&o.__esModule?o:{default:o};var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pdfViewer=e}return t.getStateName=function(){(0,i.default)()},t.getKeyboardBinderName=function(){return null},t.setParams=function(t){},t.prototype.docHandler=function(t){var e=this.constructor.getKeyboardBinderName();e&&this.pdfViewer.switchKeyboardEventBinder(e)},t.prototype.destroyDocHandler=function(){},t.prototype.pageHandler=function(t){},t.prototype.destroyPageHandler=function(){},t.prototype.out=function(){this.pdfViewer.keyboard.activeDefaultBinder(),this.pdfViewer=null},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(6),r=l(n(156)),i=(l(n(157)),l(n(16))),a=n(4),s=l(n(557)),c=l(n(24)),u=l(n(29));function l(t){return t&&t.__esModule?t:{default:t}}var f=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._isEmpty=!e,this.info=e||{},this.page=n,this.api=n.api;var o=this.engine=n.engine;this.eventEmitter=o.eventEmitter,this.id=e.id}return t.prototype.destroy=function(){this.info=null,this.page=null,this.api=null,this.eventEmitter=null},t.prototype.checkModidyPerm=function(){if("widget"!=this.info.type){if(!this.page.doc.checkPermission(c.default.annotForm))throw new Error("Permission error")}else if(!this.page.doc.checkPermission(c.default.fillForm|c.default.annotForm))throw new Error("Permission error")},t.prototype.isEmpty=function(){return this._isEmpty},t.prototype.getInfo=function(){return this.info},t.prototype.getId=function(){return this.info.id},t.prototype.getUniqueID=function(){return this.getId()},t.prototype.setUniqueID=function(t){var e=this,n=this.getPDFPage(),o=n.getPDFDoc(),r=this.getId();return this.page.doc.api.setUniqueId(o.getId(),n.getId(),r,t).then((function(o){return o?(e.info.id=t,e.id=t,n.changeAnnotId(r,t),e.update(u.default.uniqueIDUpdated).then((function(){return e.eventEmitter.emit(i.default.annotationIDUpdated,t,r,e,n),o}))):o}))},t.prototype.getPDFPage=function(){return this.page},t.prototype.getPage=function(){return this.getPDFPage()},t.prototype.getType=function(){return this.info.type},t.prototype.getTitle=function(){return this.info.title},t.prototype.isMarkup=function(){return this.info.isMarkup},t.prototype.isDeleted=function(){return this.info.isDeleted},t.prototype.getRect=function(){var t=this.info.rect;return new s.default(t.left,t.bottom,t.right,t.top)},t.prototype._setRect=function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.info.rect=t;var o=this.getPDFPage(),r=o.getPDFDoc();return this.page.doc.api.setAnnotRect(r.getId(),o.getId(),this.getId(),t).then((function(t){return t&&n?e.update(u.default.rectUpdated).then((function(){return e.eventEmitter.emit(i.default.annotationAppearanceUpdated,[e],e.getPDFPage()),t})):t}))},t.prototype.setRect=function(t){var e=this;this.info.rect=t;var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setAnnotRect(o.getId(),n.getId(),this.getId(),t).then((function(t){return t?e.update(u.default.rectUpdated).then((function(t){return e.eventEmitter.emit(i.default.annotationAppearanceUpdated,[e],e.getPDFPage()),!0})):t}))},t.prototype.moveTo=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.left,o=e.top,r=Object.assign({},this.info.rect),a=r.right,s=r.bottom,c=n-r.left,l=o-r.top;this.info.rect={left:n,top:o,right:a+c,bottom:s+l};var f=this.getPDFPage(),p=f.getPDFDoc(),d=p.getId(),h=f.getId(),g=this.getId();return this.page.doc.api.moveAnnotTo(d,h,g,{left:n,top:o}).then((function(t){return f.getAnnotsByIdArray(t)})).then((function(e){return Promise.all(e.map((function(t){return t._update()}))).then((function(n){t.eventEmitter.emit(i.default.annotationUpdated,e,f,u.default.rectUpdated),t.eventEmitter.emit(i.default.annotationMovedPosition,e,f,t)}))}))},t.prototype.getDeviceRect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.page.getDeviceRect(this.getRect(),t,e);if(16&this.info.flag){var o=this.page.getDevicePoint([this.info.rect.left,this.info.rect.top],t,e);return{left:o[0],top:o[1],right:o[0]+n.right-n.left,bottom:o[1]+n.bottom-n.top}}return n},t.prototype.getDeviceInnerRect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.page.getDeviceRect(this.getInnerRect(),t,e)},t.prototype.getContent=function(){return this.info.content},t.prototype.setContent=function(t){var e=this;return this.checkModidyPerm(),this._setContent(t).then((function(n){return e.info.content=t,e.eventEmitter.emit(i.default.annotationUpdated,[e],e.getPDFPage(),u.default.contentUpdated),e}))},t.prototype._setContent=function(t){var e=this.getPDFPage(),n=e.getPDFDoc();return this.page.doc.api.setAnnotContent(n.getId(),e.getId(),this.getId(),t)},t.prototype.getBorderColor=function(){return this.info.borderColor},t.prototype.setBorderColor=function(t){var e=this;this.checkModidyPerm(),isNaN(t)&&(t=(0,a.colorConvertor)(t,"int",1));var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setAnnotBorderColor(o.getId(),n.getId(),this.getId(),t).then((function(t){return t?e.update(u.default.borderColorUpdated).then((function(){e.isGrouped&&e.isGrouped()&&e.getGroupElements().map((function(t){t!=e&&e.eventEmitter.emit(i.default.annotationAppearanceUpdated,[t],n)}));return e.eventEmitter.emit(i.default.annotationAppearanceUpdated,[e],n),t})):t}))},t.prototype.getBorderStyle=function(){return this.info.borderInfo.style},t.prototype.getBorderStyleWithParam=function(){var t=this.info.borderInfo,e=t.style,n=t.cloudIntensity,r=t.dashes,i=void 0;switch(e){case o.BORDER_STYLE.SOLID:i=[];break;case o.BORDER_STYLE.CLOUDY:i=n;break;case o.BORDER_STYLE.DASHED:i=r}return{style:e,param:i}},t.prototype.getBorderInfo=function(){return Object.assign({},this.info.borderInfo)},t.prototype.setBorderInfo=function(t){var e=this;this.checkModidyPerm();var n=this.getType();if(this.getQuadPoints||"caret"===n||"text"===n)return Promise.resolve();this.info.borderInfo=t;var o=this.getPDFPage(),r=o.getPDFDoc();return 1===t.style&&0===t.dashes.length&&(t.dashes=[2,2]),5===t.style&&t.cloudIntensity>2&&(t.cloudIntensity=2),this.page.doc.api.setAnnotBorderInfo(r.getId(),o.getId(),this.getId(),t).then((function(t){if(5===e.info.borderInfo.style)return e._update()})).then((function(t){e.eventEmitter.emit(i.default.annotationUpdated,[e],o,u.default.borderInfoUpdated),e.eventEmitter.emit(i.default.annotationAppearanceUpdated,[e],o)}))},t.prototype.setBorderStyle=function(t,e){var n=this,o=this.info.borderInfo;switch(o.style=t,t){case 1:o.dashes=e;break;case 5:o.cloudIntensity=e}var r=this.getPDFPage(),a=r.getPDFDoc();return this.page.doc.api.setAnnotBorderStyle(a.getId(),r.getId(),this.getId(),t,e).then((function(t){return r.getAnnotsByIdArray(t)})).then((function(t){for(var e=[],n=t.length;n--;)e.push(t[n]._update());return Promise.all(e)})).then((function(t){n.eventEmitter.emit(i.default.annotationUpdated,t,r,u.default.borderStyleUpdated),n.eventEmitter.emit(i.default.annotationAppearanceUpdated,t,r)}))},t.prototype.getBorderDashes=function(){return Object.assign([],this.info.borderInfo.dashes)},t.prototype.getBorderWidth=function(){var t=this.info.borderInfo.width;return void 0===t?1:+t},t.prototype.setBorderWidth=function(t){var e=this,n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setAnnotBorderWidth(o.getId(),n.getId(),this.getId(),t).then((function(t){return e._update().then((function(e){return t}))})).then((function(t){return t&&(e.eventEmitter.emit(i.default.annotationUpdated,[e],n,u.default.borderWidthUpdated),e.eventEmitter.emit(i.default.annotationAppearanceUpdated,[e],n)),t}))},t.prototype.getCloudIntensity=function(){return this.info.borderInfo.cloudIntensity||0},t.prototype.reviseSummary=function(t){return Promise.resolve(this)},t.prototype.rectIsEmpty=function(){return this.info.rectIsEmpty},t.prototype.update=function(t){var e=this;return this._update().then((function(){return t&&e.eventEmitter.emit(i.default.annotationUpdated,[e],e.getPDFPage(),t),e}))},t.prototype._update=function(){var t=this,e=this.getPDFPage(),n=e.getPDFDoc();return this.page.doc.api.getAnnot(n.getId(),e.getId(),this.getId()).then((function(e){return t.updateInfo(e),t}))},t.prototype._updateMore=function(){},t.prototype.getFlags=function(){return this.info.flag},t.prototype.getIndex=function(){return this.info.index},t.prototype.setFlags=function(t,e){var n=this;this.checkModidyPerm(),this.info.flag=t;var o=this.getPDFPage(),r=o.getPDFDoc();return this.page.doc.api.setAnnotFlag(r.getId(),o.getId(),this.getId(),t).then((function(t){return t&&(e||(n.eventEmitter.emit(i.default.annotationUpdated,[n],o,u.default.flagsUpdated),n.eventEmitter.emit(i.default.annotationAppearanceUpdated,[n],o))),t}))},t.prototype.setFlagValue=function(t,e){return this.setFlags(t,e)},t.prototype.getModifiedDateTime=function(){var t=this.info.modifiedTimestamp;return t<0?null:new Date(t)},t.prototype.setModifiedDateTime=function(t){var e=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setModifiedDateTime(o.getId(),n.getId(),this.getId(),t).then((function(t){return e.update(u.default.modifiedDateTimeUpdated)}))},t.prototype.exportToJSON=function(){var t=(0,a.colorConvertor)(16777215&this.info.borderColor,"#"),e=this.info.flag,n=[];for(var i in o.AnnotFlagsName)e&1<<parseInt(i)&&n.push(o.AnnotFlagsName[i]);n=n.join(",");var s=(0,r.default)(new Date(this.info.modifiedTimestamp),"D:yyyyMMddhhmmssTZ","'"),c=this.info.id,u=this.page.getIndex(),l=this.info.rect,f=l.left+","+l.bottom+","+l.right+","+l.top,p=this.info.content,d=this.info.borderInfo,h={type:this.info.type,color:t,flags:n,date:s,name:c,page:u,rect:f,contents:p,width:d.width};switch(d.style){case o.BORDER_STYLE.SOLID:h.style="solid";break;case o.BORDER_STYLE.DASHED:h.style="dashed",h.dashPhase=d.dashPhase,h.dashes=d.dashes.join(",");break;case o.BORDER_STYLE.UNDERLINE:h.style="underline";break;case o.BORDER_STYLE.BEVELED:h.style="beveled";break;case o.BORDER_STYLE.INSET:h.style="inset";break;case o.BORDER_STYLE.CLOUDY:h.style="cloudy",h.intensity=d.cloudIntensity}return h},t.prototype.updateInfo=function(t){this._isEmpty=!t,this.info=t,this._updateMore(),this.action&&t.action&&(this.action.info=t.action)},t}();e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(168);Object.defineProperty(e,"ButtonComponent",{enumerable:!0,get:function(){return U(o).default}});var r=n(641);Object.defineProperty(e,"PDFViewerComponent",{enumerable:!0,get:function(){return U(r).default}});var i=n(643);Object.defineProperty(e,"WebPDFComponent",{enumerable:!0,get:function(){return U(i).default}});var a=n(291);Object.defineProperty(e,"GroupComponent",{enumerable:!0,get:function(){return U(a).default}});var s=n(646);Object.defineProperty(e,"GroupListComponent",{enumerable:!0,get:function(){return U(s).default}});var c=n(648);Object.defineProperty(e,"TabsComponent",{enumerable:!0,get:function(){return U(c).default}});var u=n(650);Object.defineProperty(e,"TabItemComponent",{enumerable:!0,get:function(){return U(u).default}});var l=n(663);Object.defineProperty(e,"SidebarComponent",{enumerable:!0,get:function(){return U(l).default}});var f=n(297);Object.defineProperty(e,"SidebarPanelComponent",{enumerable:!0,get:function(){return U(f).default}});var p=n(666);Object.defineProperty(e,"FileSelectorComponent",{enumerable:!0,get:function(){return U(p).default}});var d=n(667);Object.defineProperty(e,"ToolbarComponent",{enumerable:!0,get:function(){return U(d).default}});var h=n(299);Object.defineProperty(e,"TextComponent",{enumerable:!0,get:function(){return U(h).default}});var g=n(82);Object.defineProperty(e,"DropdownComponent",{enumerable:!0,get:function(){return U(g).default}});var m=n(169);Object.defineProperty(e,"DropdownItemComponent",{enumerable:!0,get:function(){return U(m).default}});var v=n(669);Object.defineProperty(e,"DropdownButtonComponent",{enumerable:!0,get:function(){return U(v).default}});var y=n(300);Object.defineProperty(e,"AccordionComponent",{enumerable:!0,get:function(){return U(y).default}});var b=n(172);Object.defineProperty(e,"AccordionCardComponent",{enumerable:!0,get:function(){return U(b).default}});var w=n(301);Object.defineProperty(e,"ListBox",{enumerable:!0,get:function(){return U(w).default}});var _=n(673);Object.defineProperty(e,"ListBoxItem",{enumerable:!0,get:function(){return U(_).default}});var P=n(675);Object.defineProperty(e,"NumberComponent",{enumerable:!0,get:function(){return U(P).default}});var O=n(122);Object.defineProperty(e,"LayerComponent",{enumerable:!0,get:function(){return U(O).default}});var E=n(678);Object.defineProperty(e,"LayerToolbarComponent",{enumerable:!0,get:function(){return U(E).default}});var x=n(679);Object.defineProperty(e,"LayerViewComponent",{enumerable:!0,get:function(){return U(x).default}});var C=n(680);Object.defineProperty(e,"TemplateComponent",{enumerable:!0,get:function(){return U(C).default}});var A=n(681);Object.defineProperty(e,"CheckboxComponent",{enumerable:!0,get:function(){return U(A).default}});var S=n(682);Object.defineProperty(e,"InputComponent",{enumerable:!0,get:function(){return U(S).default}});var D=n(683);Object.defineProperty(e,"SliderComponent",{enumerable:!0,get:function(){return U(D).default}});var R=n(302);Object.defineProperty(e,"LayerHeaderComponent",{enumerable:!0,get:function(){return U(R).default}});var j=n(687);Object.defineProperty(e,"SelectComponent",{enumerable:!0,get:function(){return U(j).default}});var T=n(690);Object.defineProperty(e,"ColorPickerComponent",{enumerable:!0,get:function(){return U(T).default}});var M=n(693);Object.defineProperty(e,"ColorSpectrumComponent",{enumerable:!0,get:function(){return U(M).default}});var I=n(298);Object.defineProperty(e,"SlotComponent",{enumerable:!0,get:function(){return U(I).default}});var k=n(696);Object.defineProperty(e,"XSelectComponent",{enumerable:!0,get:function(){return U(k).default}});var F=n(52);Object.defineProperty(e,"ContextMenuComponent",{enumerable:!0,get:function(){return U(F).default}});var N=n(701);Object.defineProperty(e,"ContextMenuItemComponent",{enumerable:!0,get:function(){return U(N).default}});var L=n(702);Object.defineProperty(e,"ContextMenuSeparatorComponent",{enumerable:!0,get:function(){return U(L).default}});var V=n(703);Object.defineProperty(e,"TooltipLayerComponent",{enumerable:!0,get:function(){return U(V).default}});var B=n(704);function U(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"PaddleComponent",{enumerable:!0,get:function(){return U(B).default}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unActiveEditingAllByFieldType=void 0;var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=v(n(62)),i=v(n(61)),a=n(21),s=n(38),c=v(n(39)),u=v(n(3)),l=v(n(0)),f=v(n(27)),p=v(n(33)),d=n(17),h=v(n(22)),g=n(31),m=v(n(20));function v(t){return t&&t.__esModule?t:{default:t}}function y(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function b(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function w(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}e.unActiveEditingAllByFieldType=function(t,e){var n=(0,h.default)(),o=t.getPDFDocRender();return o.doc.getAnnots().then((function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[[]],r=0;r<t.length;r++){var i=o.getPDFPageRender(r);if(i)for(var a=t[r]||[],s=0;s<a.length;s++){var c=a[s];if(c&&"widget"===c.getType()&&c.info.fieldType===e){var u=i.getAnnotRender(c.getId());if(!u||!u.component)continue;u.component.unActiveEditing()}}}n.resolve()})),n.promise};var _=function(t){function e(n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=b(this,t.call(this,n,o,r,i));a.$input=null,a.$border=null,a.scale=1,a.rotate=0,r=a.$handler,a.name="pdfControlRender",o.classList.add("fv__pdf-form-control-container"),a.formRender=a.parent("pdfDocRender").getFormRender();var c=n.getField(),d=a.$foreground=(0,u.default)('<div class="fv__ui-form-foreground"></div>');if(!c)return b(a);var h=a.pdfViewer.highlightControls()?"block":"none",g="";(a.checkReadOnly()||7==c.getType()||1==c.getType())&&(h="none",g+="form-field-readonly"),a.checkInvisible()&&(r.hide(),a.$ui.hide());var m=a.pdfViewer.getDisplayHighlightColor();c&&s.FieldFlag.isRequired(c.getFlags())&&(m=a.pdfViewer.getDisplayHighlightColor(.5),d.addClass("required")),d.addClass(g).css({display:h,"background-color":m,position:"absolute",width:"100%",height:"100%",left:0,top:0}),r.addClass("fv__pdf-form-control-handler-container").append(d).attr("fieldName",c&&c.getName()),a.$selectedContainer=(0,u.default)('<div class="fv__ui-form-selected-container">\n        <div>'+c.getName()+"</div>\n      </div>"),a.$ui.append(a.$selectedContainer),n.setRenderNotifier((function(t){return a.updateUI(t)})),a.bindControlEvent();var v=a.pdfViewer.i18n;return l.default.i18n=function(t){return v.t(t)},f.default.property(a,"shapeControl",(function(){var t=new p.default({start:function(t,e,n){return a.shapeControlOnStart(t,e,n)},moving:function(t,e){return a.shapeControlOnMoving(t,e)},update:function(t,e){return a.shapeControlOnUpdate(t,e)},end:function(t,e,n){return a.shapeControlOnEnd(t,e,n)},resizable:!0,enableDiagonally:!0});return(0,u.default)(t.ui).addClass("fv__pdf-page-annot-handler-rect").hide(),t})),a}return w(e,t),e.prototype.shapeControlOnStart=function(){this.pdfViewer.config.highPerformance&&(this.editAreaDebouncePromise=new d.DebounceAsyncTaskExecutor(10))},e.prototype.shapeControlOnUpdate=function(t,e){var n=this;this.pdfViewer.config.highPerformance&&this.editAreaDebouncePromise.exec((function(){return n.setRect(t)})),this.$selectedContainer.add(this.$handler).css(t)},e.prototype.shapeControlOnMoving=function(t,e){this.$selectedContainer.add(this.$handler).css(t)},e.prototype.shapeControlOnEnd=function(t,e){var n=this;return this.editAreaDebouncePromise.waitForLastTask().then((function(){return n.setRect(t).then((function(){return n.render(n.scale,n.rotate,!0)}))}))},e.prototype.updateRender=function(){return Promise.resolve()},e.prototype.generateUI=function(){},e.prototype._hideUI=function(){this.$ui.hide()},e.prototype._showUI=function(){this.$ui.show()},e.prototype.destroy=function(){this.$handler.off("mouseenter mouseleave mousedown focus blur"),this.rectHammer&&this.rectHammer.destroy(),this.$foreground.remove(),this.$foreground=null,this.annot.setRenderNotifier(null),this.formRender=null,t.prototype.destroy.call(this),this.tileCanvas=null},e.prototype.bindControlEvent=function(){var t=this,e=this.$handler,n=void 0;e.on("mouseenter",(function(e){return t.handleEvnet(c.default.AnnotCursorEnter,e)})).on("mouseleave",(function(e){return t.handleEvnet(c.default.AnnotCursorExit,e)})).on("mousedown",(function(e){e&&e.stopPropagation(),n=e,t.handleEvnet(c.default.AnnotMouseButtonPressed,e)})).on("focus",(function(e){return t.handleEvnet(c.default.AnnotReceiveInputFocus,e)})).on("blur",(function(e){return t.handleEvnet(c.default.AnnotLoseInputFocus,e)})),this.pdfViewer.addListenAnnotMouseEvent((function(e){n&&t.handleEvnet(c.default.AnnotMouseButtonReleased,e),n=null}))},e.prototype.getTileConfig=function(t,e){var n=this.pdfViewer,o=n.getSmartScale(t),r=n.config.tileSize,i=this.annot,a=i.getDeviceRect(1,e),s=i.getDeviceRect(o,e),c=s.right-s.left,u=s.bottom-s.top;return[Math.ceil(u/r),Math.ceil(c/r),c,u,r,o,t,e,a.left,a.top,s]},e.prototype.updateForgroundAndHandler=function(t,e){var n=this.annot.getDeviceRect(t,e),o={width:n.right-n.left+.5|0,height:n.bottom-n.top+.5|0,left:n.left,top:n.top};return this.$handler.addClass("active").css(o),o},e.prototype.render=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n||o||(n=this.annotsRender.scale,o=this.annotsRender.rotate),t.prototype.render.call(this,n,o);var s=this.annot;if(this.checkInvisible()||s.isEmpty()||s.isDeleted()||s.rectIsEmpty())return this.$handler.hide(),Promise.resolve();this.updateForgroundAndHandler(n,o);var c=this.getTileConfig(n,o),u=this.tileCanvas;return u||(u=this.tileCanvas=new i.default((function(t,e,n,o,r,i,c,u,l){return s.getPDFPage().getAnnotBitmap(s.getId(),(0,a.pt2px)(i),l,{x:c*i+e*r,y:u*i+t*r,width:n,height:o})}),this.$handler)),r&&u.clearCache(),this.$ui.hasClass("selected")&&this.$selectedContainer.css(this.getBoundary()),this.$ui.hasClass("editing")&&this.shapeControl.active(this.$ui,this.getBoundary(),this._getShapeControllerBoundaryBox()),(e=u).redraw.apply(e,y(c))},e.prototype.doubleTapAnnot=function(){},e.prototype.checkReadOnly=function(){var t=!1;this.formRender.isReadOnly()&&(t=!0);var e=this.annot.getField();return!e||((this.getAnnotFlag().checkReadOnly()||s.FieldFlag.isReadOnly(e.getFlags()))&&(t=!0),t)},e.prototype.checkInvisible=function(){var t=this.getAnnotFlag();return!(!t.checkHidden()&&!t.checkNoView())},e.prototype.handleEvnet=function(t,e){var n=this;if(this.checkReadOnly())return t!=c.default.AnnotMouseButtonReleased&&t!=c.default.AnnotReceiveInputFocus||this.formRender.blurControl(),!0;var o=this.annot.getField();switch(t){case c.default.AnnotMouseButtonPressed:this.formRender.focusControl(this);break;case c.default.AnnotMouseButtonReleased:2!=o.getType()&&3!=o.getType()||(this.annot.switchAS(),this.formRender.calculate(o)),setTimeout((function(){var t=n.annot.getAction();n.formRender.execAction("Field",t,o,o)}),0)}this.performAction(t)},e.prototype.updateUI=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=t.type,n=t.value,o=this.annot.getField(),r=this.$ui,i=this.$handler,a=this.$foreground;switch(e){case"readonly":n?(i.css("z-index",27),a.hide()):!this.pdfViewer.highlightControls()||7==o.getType()||1==o.getType()||this.checkReadOnly()||this.checkInvisible()||(a.show(),i.css("z-index",29));break;case"required":var s=n?.5:.25,c=this.pdfViewer.getDisplayHighlightColor(s);n?a.addClass("required"):a.removeClass("required"),a.css({"background-color":c});break;case"hidden":n?(r.hide(),i.hide()):(r.show(),i.show());break;case"focus":this.formRender.focusControl(this);break;case"display":var u=this.annot.getFlags();2&u||32&u?(r.hide(),i.hide()):(r.show(),i.show());break;case"textColor":this.$input&&this.$input.css("color",n)}this.updateUIMore({type:e,value:n})},e.prototype.updateUIMore=function(t){t.type,t.value;this.render(this.scale,this.rotate,!0)},e.prototype.focus=function(){var t=this,e=this.annot.getField();setTimeout((function(){t.$foreground.hide(),5!==e.getType()&&t.$handler.addClass("fv__control_focus")}),50);var n=this.annot.getAdditionalAction(c.default.AnnotReceiveInputFocus);n&&this.formRender.execAction("Field",n,null,e)},e.prototype.blur=function(){var t=this.annot.getField();7!=t.getType()&&1!=t.getType()&&this.pdfViewer.highlightControls()&&this.$foreground.show(),5!==t.getType()&&this.$handler.removeClass("fv__control_focus");var e=this.annot.getAdditionalAction(c.default.AnnotLoseInputFocus);e&&this.formRender.execAction("Field",e,null,t,"Blur")},e.prototype.performAction=function(t,e){this.formRender.execAction("Field",this.annot.getAdditionalAction(t),null,this.annot.getField(),t,e)},e.prototype.autoFontSize=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.annot){var n=this.$textInput||this.$input,o=this.annot.getField();if(o){t||(t=o.getValue());var r=4*o.getDAFontSize()/3*this.scale;if(!r&&!s.FieldFlag.isMultiline(o.getFlags())){r=.7*n.outerHeight();var i=(0,u.default)(".fwr-font-auto");0==i.length&&(i=(0,u.default)('<div class="fwr-font-auto" style="position: absolute;top:0;width: fit-content;opacity: 0;"></div>')).appendTo(this.pdfViewer.$ui),i.css("font-size",r+"px").html(t);for(var a=i.outerHeight(),c=n.parent().height();a>c&&r>11;)r--,i.css("font-size",r+"px"),a=i.outerHeight();for(var l=i.outerWidth(),f=n.parent().width();l>f-e&&r>11;)r--,i.css("font-size",r+"px"),l=i.outerWidth();n.css("font-size",r+"px")}}}},e.prototype.bindKeyboardEvent=function(){var t=this;this.__off__delete__event__&&this.__off__delete__event__(),this.__off__delete__event__=this.pdfViewer&&this.pdfViewer.getKeyboardEventBinder(g.ACTIVATION_ANNOTATION_BINDER).on(g.KEY_MAP_DELETE_ANNOTATION,(function(e){t.removeAnnot()})),this.__off__esc__event__&&this.__off__esc__event__(),this.__off__esc__event__=this.pdfViewer&&this.pdfViewer.getKeyboardEventBinder(g.ACTIVATION_ANNOTATION_BINDER).on(g.KEY_MAP_UNACTIVE_ANNOTATION,(function(e){t.unActiveEditing()})),this._undoSwitchKbBinder&&this._undoSwitchKbBinder(),this._undoSwitchKbBinder=this.pdfViewer.switchKeyboardEventBinder(g.ACTIVATION_ANNOTATION_BINDER)},e.prototype.unBindKeyboardEvent=function(){this._undoSwitchKbBinder&&this._undoSwitchKbBinder(),this.__off__delete__event__&&this.__off__delete__event__(),this.__off__delete__event__=m.default,this.__off__esc__event__&&this.__off__esc__event__(),this.__off__esc__event__=m.default},e.prototype.active=function(){if(!this.$ui.hasClass("selected"))return t.prototype.active.call(this)},e.prototype.unActive=function(){t.prototype.unActive.call(this),this.isDestroyed||this.formRender.blurControl()},e.prototype.activeSelected=function(){var t=this;this.$ui.addClass("selected"),this.$selectedContainer.css(this.getBoundary()),this.$ui.show(),this.$rect||(this.$rect=(0,u.default)(this.shapeControl.ui),this.$ui.append(this.$rect),this.rectHammer=new Hammer.Manager(this.$ui.get(0)),this.rectHammer.add(new Hammer.Tap({event:"doubletap",taps:2})),this.rectHammer.on("doubletap",(function(e){t.showFormPropertiesDialog()})))},e.prototype.unActiveSelected=function(){this.$ui.removeClass("selected"),this.$ui.hide()},e.prototype.activeEditing=function(){this.$ui.addClass("editing"),this.shapeControl.active(this.$ui,this.getBoundary(),this._getShapeControllerBoundaryBox()),!this.moveDisabled()&&(0,u.default)(this.shapeControl.ui).show(),this.bindKeyboardEvent()},e.prototype.unActiveEditing=function(){this.$ui.removeClass("editing"),(0,u.default)(this.shapeControl.ui).hide(),this.hideFormPropertiesDialog(),this.unBindKeyboardEvent()},e.prototype.removeAnnot=function(){var t=this;return!this.deleteDisabled()&&(this.hideFormPropertiesDialog(),this.pdfViewer.getPDFDocRender().getPDFDoc().loadPDFForm().then((function(e){return e.removeControl(t.annot.getField().getName(),t.annot.getObjNum()).then((function(t){return t}))})))},e.prototype._getShapeControllerBoundaryBox=function(){var t=this.getPDFPage(),e=(0,a.getWHByMatrix)(t.getPxWidth(),t.getPxHeight(),this.scale,this.rotate),n=o(e,2);return{left:0,top:0,right:n[0],bottom:n[1]}},e}(r.default);e.default=_},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(109),i=(o=r)&&o.__esModule?o:{default:o},a=n(44);function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n))}return s(e,t),e.prototype.prepare=function(){this.prepared||(this.canvas=document.createElement("canvas"),this.container=this.component.getContainerElement(),this.container.appendChild(this.canvas),t.prototype.prepare.call(this))},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.prepared&&this.canvas.remove()},e.prototype.doShow=function(){this.canvas.classList.remove("fv__ui-hide")},e.prototype.doHide=function(){this.canvas.classList.add("fv__ui-hide")},e.prototype.convertPointToPixel=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return a.POINT.convertTo(t,a.PIXEL_HORIZONTAL)*e},e.prototype.willRender=function(){this.canvas.style.willChange="left, top, width, height",this.container.style.willChange="left; top"},e.prototype.afterRender=function(){this.canvas.style.willChange="auto",this.container.style.willChange="auto"},e.prototype.render=function(t,e){this.prepared||this.prepare();var n=this.component.getRenderingData(t,e);if(!n)return Promise.resolve();var o=n.annotInfo,r=o.borderInfo||{},i=this.convertPointToPixel(r.width,t),a=this.component,s=(a.annot,a.pdfViewer,n.smartScale);!n.annotFlag.checkNoZoom()||(t=1);var c=n.rect,u=n.outerDeviceRect,l=n.innerDeviceRect;if(Object.assign(l,{width:l.right-l.left,height:l.bottom-l.top}),Object.assign(u,{width:u.right-u.left,height:u.bottom-u.top}),this.resetCanvasSize(u.width,u.height),this.container.style.cssText+="\n            left: "+c.left+"px;\n            top: "+c.top+"px;\n        ",0===i&&0===o.borderColor&&!o.fillColor)return Promise.resolve();if(0===o.opacity)return Promise.resolve();try{return Promise.resolve(this.doRender({outerRect:u,innerRect:l,deviceRect:c,scale:t,smartScale:s,rotate:e,renderingData:n}))}catch(t){return console.error(t),Promise.resolve()}},e.prototype.doRender=function(t){t.outerRect,t.innerRect,t.deviceRect,t.scale,t.rotate},e.prototype.resetCanvasSize=function(t,e){this.canvas.width=Math.ceil(t),this.canvas.height=Math.ceil(e),this.canvas.style.width=null,this.canvas.style.height=null},e.prototype.invisibleRender=function(){try{this.canvas.width=0}catch(t){}},e}(i.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.action=e,this.annot=n,this.pdfViewer=n.pdfViewer,this.initSubAction()}return t.prototype.active=function(){this.subAction.forEach((function(t){t.active()}))},t.prototype.setSourceTarget=function(t,e){var n=this;this.source=t,this.target=e,this.action&&this.subAction.forEach((function(t){t.setSourceTarget(n.source,n.target)}))},t.prototype.initSubAction=function(){var t=this;this.subAction=[],this.action&&this.action.subAction.forEach((function(e){t.subAction.push(t.pdfViewer.actionManager.get(e,t.annot))}))},t.prototype.updateAction=function(t){this.action=t,this.initSubAction()},t.prototype.destroy=function(){this.action=null,this.annot=null,this.pdfViewer=null,this.subAction.length=0,this.source=null,this.target=null},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(122),i=(o=r)&&o.__esModule?o:{default:o};n(700);var a=n(9);n(26),n(5),n(31);function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.backdrop=!1,i.modal=!1,i.focus=!1,i.appendTo=document.body,i.currentTarget=void 0,i}return s(e,t),e.getName=function(){return"contextmenu"},e.getMetadata=function(){return{options:{escape:{type:"string",defaultValue:"hide"}}}},e.prototype.render=function(){t.prototype.render.call(this),this.element.classList.add("fv__ui-contextmenu"),this.element.setAttribute("tabindex","-1")},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this);var n=function(t){for(var n=t.target;n;){if(n===e.element)return;n=n.parentElement}e.hide()},o="mousedown";a.isMobile&&(o="touchstart"),document.addEventListener(o,n,{capture:!0});var r=function(t){27===t.keyCode&&e.isVisible&&"hide"===e.escape&&(e.hide(),t.preventDefault()),t.stopPropagation()};this.element.addEventListener("keyup",r),this.addDestroyHook((function(){document.removeEventListener(o,n),e.element.removeEventListener("keyup",r)}))},e.prototype.showAt=function(t,e){if(!this.isDestroyed){this.show();var n=this._limitPosition(t,e),o=n.left,r=n.top;this.element.style.cssText="\n            left: "+o+"px;\n            top: "+r+"px;\n        "}},e.prototype.doShown=function(){t.prototype.doShown.call(this),this.element.focus(),"function"==typeof navigator.vibrate&&navigator.vibrate(20)},e.prototype._limitPosition=function(t,e){var n=window.innerHeight,o=window.innerWidth,r=this.element.getBoundingClientRect(),i=e+r.height,a=t+r.width;return i>n&&(i=n,e=n-r.height),a>o&&(a=o,t=o-r.width),{left:t,top:e}},e.prototype.setCurrentTarget=function(t){this.currentTarget=t},e.prototype.getCurrentTarget=function(){return this.currentTarget},e.prototype.show=function(){this.isDestroyed||t.prototype.show.call(this,document.body)},e}(i.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});s(n(15));var o=s(n(304)),r=s(n(12)),i=s(n(303)),a=(s(n(23)),s(n(167)),s(n(173)),s(n(720)));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n(290);var f=function(){function t(){l(this,t)}return t.createSuperClass=function(t){var e=t.templateParser,n=void 0===e?new o.default:e,s=t.template,f=t.fragments,p=void 0===f?[]:f,d=t.ComponentClass;if(!d){var h=n.parseRoot(s);d=r.default.module(h.namespace).getComponentClass(h.nodeName)||i.default}return function(t){function e(){return l(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.preprocess=function(t,e){var o=t.vnode,r=n.parse(s,!0);e.parseFragments(p,r);var i=new a.default(r,o);t.appendVNode(i)},e.prototype.appendSlot=function(e,n){var o=this;e===a.default.getSeniorSlotName()?n.children().forEach((function(t){o.element.appendChild(t.element)})):t.prototype.appendSlot.call(this,e,n)},e}(d)},t}();e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(2);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return s(e,t),e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this);var n=this.component.parent;this.component.parent.on("beforeshow",(function(){var t=n.getCurrentTarget();e.visibility(t)?e.component.show():e.component.hide(),e.usable(t)?e.component.enable():e.component.disable()}))},e.prototype.visibility=function(t){return!0},e.prototype.usable=function(t){return!0},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(20));function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return i.pdfUI=n,i.$options=o,i.depends=r,i}return i(e,t),e.depends=function(){return[]},e.load=function(t){(0,o.default)()},e.prototype.construct=function(t,e){},e.prototype.link=function(){},e}(r(n(30)).default);e.default=a},function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE__56__},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=c(n(3)),r=c(n(19)),i=c(n(1)),a=c(n(46)),s=n(13);function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.cursorStyle="fv__cursor-grab",o}return u(e,t),e.getStateName=function(){return s.STATE_HANDLER_HAND},e.getDefaultContextMenuConfig=function(){return{selector:".fv__hand-state-contextmenu-container",items:{zoomin:{name:"zoomin",nameI18nKey:"viewer_:contextmenu.hand.zoomin",callback:function(t,e,n){this.data("hand-state").zoomIn()},visible:function(){return this.data("hand-state").allowZoomIn()}},zoomout:{name:"zoomout",nameI18nKey:"viewer_:contextmenu.hand.zoomout",callback:function(t,e,n){this.data("hand-state").zoomOut()},visible:function(){return this.data("hand-state").allowZoomOut()}}}}},e.prototype.pageHandler=function(t){var e=this;this.pageRender=t;var n=t;t.$ui.addClass("fv__annot-container-zindex-up fv__allow-modify-form-control");var a=n.$handler;a.addClass("fv__hand-state-handler"),a.addClass(this.cursorStyle);var s=a[0],c=t.pdfViewer.eventEmitter,u=this.hammer=new r.default.Manager(s,{recognizers:[[r.default.Pan,{direction:r.default.DIRECTION_ALL}]]});u.add(new r.default.Tap({event:"doubletap",taps:2})),u.add(new r.default.Tap({event:"singletap"})),u.get("doubletap").recognizeWith("singletap"),u.get("singletap").requireFailure("doubletap"),u.on("singletap",(function(e){var n=t.annotsRender;n?(n.unActiveAnnot(),c.emit(i.default.tapPage,e)):c.emit(i.default.tapPage,e)})),u.on("doubletap",(function(e){var n=t.annotsRender;n?(n.unActiveAnnot(),c.emit(i.default.doubleTapPage,e,t)):c.emit(i.default.doubleTapPage,e,t)})),u.on("press",(function(e){var n=t.annotsRender;n?(n.unActiveAnnot(),c.emit(i.default.pressPage,e)):c.emit(i.default.pressPage,e)})),a.on("mousedown",this.mousedown=function(t){a.removeClass(e.cursorStyle),e.cursorStyle="fv__cursor-grabbing",a.addClass(e.cursorStyle)}),a.on("mouseup",this.mouseup=function(n){if(a.removeClass(e.cursorStyle),e.cursorStyle="fv__cursor-grab",a.addClass(e.cursorStyle),3===n.which){var o=t.annotsRender;o?(o.unActiveAnnot(),c.emit(i.default.rightClickPage,n)):c.emit(i.default.rightClickPage,n)}});var l=(0,o.default)('<div class="fv__hand-state-contextmenu-container fv__contextmenu-container"></div>');a.append(l),l.data("hand-state",this)},e.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$ui.removeClass("fv__annot-container-zindex-up fv__allow-modify-form-control"),this.pageRender.$handler.off("mousedown",this.mousedown).off("mouseup",this.mouseup).removeClass("fv__hand-state-handler").removeClass(this.cursorStyle).find(".fv__hand-state-contextmenu-container").remove(),this.pageRender.annotsRender&&this.pageRender.annotsRender.unActiveAnnot(),this.pageRender.$handler.removeClass("fv__cursor-grabbing","fv__cursor-grab"),this._destroyTouchScrollEvent&&this._destroyTouchScrollEvent()},e.prototype.out=function(){this.destroyPageHandler(),this.destroyDocHandler(),this.pageRender=null},e.prototype.allowZoomIn=function(){var t=this.pageRender,e=t.pdfViewer;return t.getScale()<e.config.maxScale},e.prototype.zoomIn=function(){var t=this.pageRender,e=t.getScale();e=Math.ceil(4*e+1)/4,t.pdfViewer.zoomTo(e).catch((function(){}))},e.prototype.allowZoomOut=function(){var t=this.pageRender,e=t.pdfViewer;return t.getScale()>e.config.minScale},e.prototype.zoomOut=function(){var t=this.pageRender,e=t.getScale();e=Math.floor(4*e-1)/4,t.pdfViewer.zoomTo(e).catch((function(){}))},e.prototype.clockwiseRoataion=function(){this.pageRender.getPDFPage().then((function(t){var e=(t.getRotation()+1)%4;t.setRotation(e)}))},e.prototype.contrarotate=function(){this.pageRender.getPDFPage().then((function(t){var e=(t.getRotation()+3)%4;t.setRotation(e)}))},e}(a.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=e}return t.prototype.selectFrom=function(t,e){return[]},t}();e.default=o},function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var o,r=n(102),i=n.n(r),a=n(69),s=n.n(a),c=n(6),u=n(1),l=n.n(u),f=n(21),p=function(){function t(t){this.pdfRect={left:0,right:0,top:0,bottom:0},this.deviceRect={left:0,right:0,top:0,bottom:0},this.annotationInfo=this.getDefaultAnnotInfo(),this.eContainer=document.createElement("div"),this.eContainer.classList.add("fv__viewer-fake-annot-container"),this.pdfViewer=t.pdfViewer,this.pageRender=t.pageRender,s()(this.annotationInfo,this.getDefaultAnnotConfig(),t.info),this.annotationInfo.type=this.getType(),this.page=t.pageRender.page,this.scale=t.pageRender.scale,this.rotate=t.pageRender.rotate,this.pageRender.$annotsContainer.append(this.eContainer)}return t.prototype.setRect=function(t){this.deviceRect=t;var e=Math.abs(t.right-t.left),n=Math.abs(t.bottom-t.top),o=Object(f.pt2px)(this.annotationInfo.borderInfo.width)*this.scale*2;if(e<o){var r=.5*(o-e)*(t.right-t.left>0?1:-1);t.right+=r,t.left-=r}if(n<o){r=.5*(o-n)*(t.bottom-t.top>0?1:-1);t.top-=r,t.bottom+=r}e=Math.abs(t.right-t.left),n=Math.abs(t.bottom-t.top);var i=this.pageRender.rotate;this.pdfRect=this.page.reverseDeviceRect(t,this.scale,i),this.eContainer.style.cssText+="\n            left: "+t.left+"px;\n            top: "+t.top+"px;\n            width: "+e+"px;\n            height: "+n+"px;\n        "},t.prototype.setContent=function(t){this.annotationInfo.contents=t},t.prototype.zoomTo=function(t){this.scale=t},t.prototype.draw=function(){this.renderer||(this.renderer=this.generateApRenderer(),this.renderer.prepare(),this.renderer.willRender()),this.renderer.render(this.scale,this.rotate)},t.prototype.getContainerElement=function(){return this.eContainer},t.prototype.getRenderingData=function(t,e){void 0===t&&(t=this.scale),void 0===e&&(e=this.rotate);var n=this.pdfViewer.getSmartScale(t),o=this.getDeviceRect(t,e),r=this.getOuterDeviceRect(t,e),a=this.getDeviceRect(n,e);return{annotInfo:this.annotationInfo,annotFlag:new i.a(this.annotationInfo.flags),smartScale:n,rect:r,outerDeviceRect:r,innerDeviceRect:o,engineRenderingRect:a,scale:t,rotate:e,page:this.page}},t.prototype.getDeviceRect=function(t,e){return this.page.getDeviceRect(this.pdfRect,t,e)},t.prototype.getOuterDeviceRect=function(t,e){return this.getDeviceRect(t,e)},t.prototype.apply=function(){var t,e=this;null===(t=this.renderer)||void 0===t||t.afterRender();var n=this.getCreationJSON();return n.rect=this.pdfRect,this.page.addAnnot(n).then((function(t){e.destroy();var n=t[0];return e.pageRender.annotsRender.activeAnnot(n.getId()),e.pdfViewer.eventEmitter.emit(l.a.addAnnotSuccess,n),t}))},t.prototype.destroy=function(){var t;null===(t=this.renderer)||void 0===t||t.destroy(),this.getContainerElement().remove()},t.prototype.getCreationJSON=function(){return this.annotationInfo},t.prototype.getDefaultAnnotInfo=function(){return{fillColor:0,borderInfo:{width:2,style:c.BORDER_STYLE.SOLID},borderColor:16711680,opacity:1,flags:4,date:new Date}},t.prototype.getDefaultAnnotConfig=function(){var t=this.pdfViewer.getDefaultAnnotConfig();return"function"==typeof t?t(this.getType(),this.getIntent()):{}},t.prototype.getIntent=function(){},t}(),d=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e.prototype.getTileConfig=function(t,e){void 0===t&&(t=this.scale),void 0===e&&(e=this.rotate);var n=this.pdfViewer.getSmartScale(t),o=this.pdfViewer.config.tileSize,r=this.page.getDeviceRect(this.pdfRect,1,e),i=this.page.getDeviceRect(this.pdfRect,n,e),a=i.right-i.left,s=i.bottom-i.bottom;return[Math.ceil(s/o),Math.ceil(a/o),a,s,o,n,t,e,r.left,r.top]},e.prototype.getRenderingData=function(e,n){void 0===e&&(e=this.scale),void 0===n&&(n=this.rotate);var o=t.prototype.getRenderingData.call(this,e,n);return Object.assign(o,{opacity:this.annotationInfo.opacity,tileConfig:this.getTileConfig(e,n)})},e}(p)},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:null,pdfViewer:null};o(this,e);var i=r(this,t.call(this));return i._parent=n,i._parentName=n.name,i.pdfViewer=n.pdfViewer,i.isDestroyed=!1,i}return i(e,t),e.prototype.destroy=function(){this._parent=null,this.pdfViewer=null,this.isDestroyed=!0},e.prototype.parent=function(t){var e=this._parent;return t?e?t===this._parentName?e:e.parent(t):null:e},e.prototype.doActive=function(){},e.prototype.doDeactive=function(){},e}(n(105).Activatable);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=a(n(3)),i=n(17);n(28),a(n(22));function a(t){return t&&t.__esModule?t:{default:t}}var s="fv__hide",c=function(){},u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!t||t.right-t.left<=e||t.bottom-t.top<=e},l=function(t,e){return t.left>=e.left&&t.right<=e.right&&t.top>=e.top&&t.bottom<=e.bottom},f=function(t,e,n){if(!n&&t.left==e.left&&t.right==e.right&&t.top==e.top&&t.bottom==e.bottom)return[];var o={left:Math.max(t.left,e.left),bottom:Math.min(t.bottom,e.bottom),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top)};if(o.left<o.right&&o.top<o.bottom){if(n)return o;if(l(e,t))return[];var r=void 0,i=void 0;o.left==e.left?(r={left:o.right,right:e.right,top:e.top,bottom:e.bottom},i=o.top==e.top?{left:o.left,right:o.right,top:o.bottom-1,bottom:e.bottom}:{left:o.left,right:o.right,top:e.top-1,bottom:t.top}):o.right==e.right&&(i={left:e.left,right:o.left,top:e.top,bottom:e.bottom},r=o.top==e.top?{left:o.left,right:o.right,top:o.bottom,bottom:e.bottom}:{left:o.left,right:o.right,top:e.top,bottom:o.top});var a=[];return u(i,1)||a.push(i),u(r,1)||a.push(r),0!=a.length||u(e)?a:[e]}return n?null:u(e)?[]:[e]},p=function(){function t(e,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.isDestroyed=!1,this.cache={},this.getImageData=e,o&&(this.pageRender=o,this.api=o.page.api),this.tileTasks={};n=n?n.addClass("fv__tiles-container"):(0,r.default)('<div class="fv__tiles-container"><div class="fv__tiles-row fv__tiles-row-0" data-row="0"><div class="fv__tiles-col fv__tiles-col-0-0" data-col="0" data-index="0,0"><canvas class="fv__tiles-canvas fv__tiles-canvas-0-0" data-index="0,0"></canvas></div></div></div>'),this.$container=n,this.$cols=n.find(".fv__tiles-col"),this.$canvases=n.find(".fv__tiles-canvas");var i=n.find(".fv__tiles-row");this.rows=i.length,this.cols=i.eq(0).find(".fv__tiles-col").length,this.updateCanvasMore=function(){},this.updateCanvasContainer=c}return t.prototype.redraw=function(t,e,n,o,r,i,a,s){var c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,l=void 0;if(l=this.renderedRect){var f=this.getRealRect(i,a);if(l.left==f.left&&l.right==f.right&&l.top==f.top&&l.bottom==f.bottom&&this.scale==a&&this.rotate===s&&this.showWidth===n&&this.showHeight===o)return Promise.resolve()}return this.showWidth=n,this.showHeight=o,this.updateDom(t,e,n,o,r,i,a,s,c,u),this.lastRedrawParams=[t,e,n,o,r,i,a,s,c,u],this.getRectBitmap?(this.scale==a&&this.rotate===s||(this.renderedRect=null,this.clearCanvas(r*a/i)),this.scale=a,this.rotate=s,this.clearProgressiveTask(),this.renderVisibleRect(i,a)):(this.scale=a,this.rotate=s,this.updateRenderCanvasSerial(t,e,n,o,r,i,a,s,c,u))},t.prototype.isRenderingDone=function(t,e){return t===this.scale&&e===this.$container.width()},t.prototype.updateDom=function(t,e,n,o,r,i,a,c){var u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0;if(0!=n){var f=this.$container,p="px",d={left:u*a+p,top:l*a+p},h=a/i;this.updateCanvasContainer=function(){f.css(d)},f.css(d);var g=!1;if(e>this.cols){for(var m=this.rows;m--;){for(var v=[],y=this.cols,b=e;y<b;y++)v.push('<div class="fv__tiles-col fv__tiles-col-'+[m,y].join("-")+'" data-col="'+y+'" data-index="'+[m,y].join(",")+'">'),v.push('<canvas width="0" class="fv__tiles-canvas fv__tiles-canvas-'+[m,y].join("-")+'" data-index="'+[m,y].join(",")+'"></canvas>'),v.push("</div>");f.find(".fv__tiles-row-"+m).append(v.join(""))}this.cols=e,g=!0}if(t>this.rows){for(var w=[],_=this.rows,P=t;_<P;_++){w.push('<div class="fv__tiles-row fv__tiles-row-'+_+'" data-row="'+_+'">');for(var O=0,E=this.cols;O<E;O++)w.push('<div class="fv__tiles-col fv__tiles-col-'+[_,O].join("-")+'" data-col="'+O+'" data-index="'+[_,O].join(",")+'">'),w.push('<canvas width="0" class="fv__tiles-canvas fv__tiles-canvas-'+[_,O].join("-")+'" data-index="'+[_,O].join(",")+'"></canvas>'),w.push("</div>");w.push("</div>")}f.append(w.join("")),this.rows=t,g=!0}g&&(this.$canvases=f.find(".fv__tiles-canvas"),this.$cols=f.find(".fv__tiles-col"));var x=this.rows,C=this.cols,A=r*h;A+=p;var S=parseInt(n%r+.5);S=S||r,S*=h;var D=parseInt(o%r+.5);D=D||r,D*=h,D+=p;for(var R=this.$cols,j=x;j--;){var T=j*C;if(j>=t)for(var M=C;M--;)R.eq(T+M).addClass(s);else if(j===t-1)for(var I=C;I--;)I>=e?R.eq(T+I).addClass(s):I===e-1?R.eq(T+I).removeClass(s).css({width:Math.floor(S),height:D}):R.eq(T+I).removeClass(s).css({width:A,height:D});else for(var k=C;k--;)k>=e?R.eq(T+k).addClass(s):k===e-1?R.eq(T+k).removeClass(s).css({width:Math.floor(S),height:A}):R.eq(T+k).removeClass(s).css({width:A,height:A})}}},t.prototype.updateRenderCanvasSerial=function(t,e,n,o,r,a,s,c){var u=this,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,p=this.renderContentImageSerial;if(p&&p.end().catch((function(){})),0==n)return this.updateCanvasContainer(),Promise.resolve();p=this.renderContentImageSerial=new i.SerialPromise;var d=[],h=r*s/a,g=r,m=parseInt(n%r+.5);m=m||r;var v=parseInt(o%r+.5);v=v||r;for(var y=l*s,b=f*s,w=this.visibleRect,_=0,P=t;_<P;_++)for(var O=0,E=e;O<E;O++){if(w){var x=20,C=w.left-x,A=w.right+x,S=w.top-x,D=w.bottom+x,R=y+O*h,j=R+h,T=b+_*h,M=T+h;if(!(j>C&&R<A&&M>S&&T<D)){var I=this.$canvases[e*_+O];I.width=0;continue}}var k=g,F=g;_===t-1&&(F=v),O===e-1&&(k=m),d.push(function(t,e,n,o,r,i){return function(){return u.isDestroyed?Promise.resolve():u.updateCanvas(t,e,n,o,r,i,s,c,l,f)}}(_,O,k,F,r,a))}return p.serial(d)},t.prototype.updateCanvas=function(t,e,n,o,r,i,a,s,c,u){return this.renderImageData(t,e,n,o,r,i,a,s,c,u)},t.prototype.renderImageData=function(t,e,n,r,i,a,s,c,u,l){var f=this;if(this.isDestroyed)return Promise.resolve();var p=[t,e,n,r,i,a,u,l,c].join("-"),d=this.cache,h=([p,"canvas"].join("-"),[p,"imageData"].join("-")),g=[p,"imageUrl"].join("-"),m=d[h];return(m?Promise.resolve(m):this.getImageData(t,e,n,r,i,a,u,l,c)).then((function(n){var o=n.width,r=n.height,c=n.buffer,p=n.image,m=n.type,v=n.url;d[h]={width:o,height:r,buffer:c,image:p,type:m,url:v};var y=f.$canvases[f.cols*t+e],b=y.getContext("2d");if(0==o||0==r)return y.width=0,[b,t,e,o,r,i,a,u,l];if(v)return new Promise((function(n,s){var c=d[g];if(c)return y.width=o,y.height=r,f.updateCanvasContainer(),b.drawImage(c,t*i,e*i),n([b,t,e,o,r,i,a,u,l]);var p=new Image;p.onload=function(){y.width=o,y.height=r,d[g]=p,f.updateCanvasContainer(),b.drawImage(p,t*i,e*i),n([b,t,e,o,r,i,a,u,l])},p.src=v}));if(p)return new Promise((function(n,s){var c=d[g];if(c)return y.width=o,y.height=r,f.updateCanvasContainer(),b.drawImage(c,0,0),n([b,t,e,o,r,i,a,u,l]);try{var h=new Image;h.onload=function(){y.width=o,y.height=r,d[g]=h,f.updateCanvasContainer(),b.drawImage(h,0,0),n([b,t,e,o,r,i,a,u,l])},h.src=URL.createObjectURL(p)}catch(t){console.log(t)}}));y.width=o,y.height=r;var w=new(Uint8ClampedArray||Uint8Array)(c),_=b.createImageData(o,r);_.data.set(w),f.updateCanvasContainer();var P=a/s;return f.$container.css({width:f.showWidth/P,height:f.showHeight/P}),b.putImageData(_,0,0),[y,b,t,e,o,r,i,a,u,l]})).then((function(t){var e=o(t,7),n=(e[0],e[1]),r=e[2],i=e[3],a=e[4],s=e[5],c=e[6];f.updateCanvasMore(n,r,i,a,s,c)}))},t.prototype.hideContainer=function(){this.$container.hide(),this.invisibleRender()},t.prototype.showContainer=function(){var t=this.$container;if(!t.is(":visible")){t.show();var e=this.lastRedrawParams;e&&this.redraw.apply(this,e)}},t.prototype.setUpdateCanvasMore=function(t){this.updateCanvasMore=t},t.prototype.destroy=function(){this.offRender&&this.offRender(),this.isDestroyed=!0,delete this.getImageData,delete this.$cols,this.$canvases.each((function(t,e){e.width=0})),delete this.$canvases,this.$container.remove(),delete this.$container,this.clearCache()},t.prototype.setVisibleRect=function(t){this.visibleRect=t},t.prototype.clearCache=function(){var t=this.cache;for(var e in t)delete t[e];this.cache={},this.renderedRect=null,this.clearProgressiveTask()},t.prototype.clearProgressiveTask=function(){if(this.getRectBitmap){for(var t in this.tileTasks)this.api.cancleProgress(t);this.tileTasks={},this.api.off("idle",this.offRender),this.offRender=null}},t.prototype.invisibleRender=function(){this.getRectBitmap||this.$canvases.each((function(t,e){e.width=0}))},t.prototype.renderVisibleRect=function(t,e){var n=this;if(this.api&&!this.offRender){var o=this.offRender=function(){for(var t in n.tileTasks)n.api.continueProgress(t).then(n.displayImage.bind(n))};this.api.on("idle",o)}var r=this.getRealRect(t,e),i=[r],a=this.renderedRect;return a&&(i=f(a,r)),i.forEach((function(e){var o={x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top},r=""+Date.now()+Math.random();n.tileTasks[r]=!0,n.getRectBitmap(o,t,r,n.rotate).then((function(t){return n.displayImage(t,o)}))})),Promise.resolve()},t.prototype.displayImage=function(t,e){var n=t.buffer,r=(t.image,t.progressiveId),i=t.x,a=t.y,s=t.width,c=t.height;if(t.isEmpty||this.isDestroyed||!this.tileTasks[r])delete this.tileTasks[r];else{var u=o(this.lastRedrawParams,7),p=u[0],d=u[1],h=u[2],g=u[3],m=u[4],v=u[5],y=u[6],b=m,w=parseInt(a/b),_=parseInt((a+c)/b),P=parseInt(i/b),O=parseInt((i+s)/b);_>=p&&(_=p-1),O>=d&&(O=d-1);var E=this.$canvases[0].getContext("2d"),x=new(Uint8ClampedArray||Uint8Array)(n),C=E.createImageData(s,c);C.data.set(x);var A=parseInt(h%m+.5);0==A&&(A=m);var S=parseInt(g%m+.5);0==S&&(S=m);for(var D=w,R=P;D<=_;){for(R=P;R<=O;){var j=this.$canvases[this.cols*D+R],T=R==d-1?A:m,M=D==p-1?S:m;j.width!=T&&(j.width=T),j.height!=M&&(j.height=M);var I=j.getContext("2d");I.putImageData(C,i-R*m,a-D*m),this.updateCanvasMore(I,D,R,T,M,m),R+=1}D+=1}if(100==t.rate&&(delete this.tileTasks[r],0==Object.keys(this.tileTasks).length&&(this.api.off("idle",this.offRender),this.offRender=null,100==t.rate))){var k={left:i,top:a,right:i+s,bottom:a+c};if(this.renderedRect)(this.renderedRect=function(t,e){if(l(e,t))return t;var n=f(t,e,!0);if(n){if(n.right-n.left==t.right-t.left){var o=Math.min(t.top,e.top),r=Math.max(t.bottom,e.bottom);return{left:t.left,right:t.right,top:o,bottom:r}}if(n.bottom-n.top==t.bottom-t.top)return{left:Math.min(t.left,e.left),right:Math.max(t.right,e.right),top:t.top,bottom:t.bottom}}}(this.renderedRect,k))||(this.renderedRect=this.getRealRect(v,y));else this.renderedRect=this.getRealRect(v,y)}}},t.prototype.clearCanvas=function(t){if(this.lastRedrawParams[0]==this.lastRedrawParams[1]!=1){var e=this.visibleRect,n=e.left,r=e.right,i=e.top,a=e.bottom,s=this.pageRender.getShowHeight(),c=this.pageRender.getShowWidth();if(!(0==n&&0==i&&r-c<2&&s-a<2))for(var u=this.getVisibleRect(n,i,r-n,a-i,t),l=o(u,4),f=l[0],p=l[1],d=l[2],h=l[3],g=0;g<this.rows;g++)if(g<=f||g>=p)for(var m=0;m<this.cols;m++)(m<=d||m>=h)&&(this.$canvases[this.cols*g+m].width=0)}},t.prototype.getVisibleRect=function(t,e,n,o,r){return[parseInt(e/r),parseInt((e+o)/r),parseInt(t/r),parseInt((t+n)/r)]},t.prototype.getRealRect=function(t,e){var n=this.visibleRect,o=e/t;return{left:parseInt(n.left/o),right:parseInt(n.right/o),top:parseInt(n.top/o),bottom:parseInt(n.bottom/o)}},t}();e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=m(n(60)),i=m(n(3)),a=m(n(19)),s=m(n(1)),c=n(31),u=m(n(20)),l=n(415),f=n(107),p=m(n(102)),d=(m(n(74)),n(105)),h=n(21),g=n(9);function m(t){return t&&t.__esModule?t:{default:t}}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var y=function(t){function e(n,o,r,c){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,c));u.docRender=u.parent("pdfDocRender"),u.name="annot",u.eUi=o;var p=u.$ui=(0,i.default)(o);p.addClass("fv__pdf-page-annot-container").data(l.annotZIndexComponentKey,u),u.eHandler=r,(u.$handler=(0,i.default)(r)).addClass("fv__pdf-page-annot-handler-container"),u.$page=c.$page,u.annot=n,u.$$isUIVisible=!0,p.data("component",u),u.deleteStatus=0,u.id=n.getId();var d=u.annotsRender=c.parent("annotsRender"),h=u.pdfViewer.getEventEmitter();u.eventHandlers=[];var m=u.uiHammer=new a.default.Manager(o,{recognizers:[[a.default.Pan,{direction:a.default.DIRECTION_ALL}]]});m.add(new a.default.Tap({event:"doubletap",taps:2})),m.add(new a.default.Tap({event:"singletap"})),m.get("doubletap").recognizeWith("singletap"),m.get("singletap").requireFailure("doubletap");var v=function(t){d.unActiveAnnot(),h.emit(s.default.tapAnnotation,u._parent,t),u.tapAnnot(t)};u.eventHandlers.push(v),m.on("singletap",v);u.eventHandlers.push(v),m.on("doubletap",(function(t){d.unActiveAnnot();var e=u.getModel().getId();h.emit(s.default.doubleTapAnnotation,u._parent,t),d.doubleTapAnnot(e)}));var y=function(t){d.unActiveAnnot();var e=u.getModel().getId();h.emit(s.default.pressAnnotation,u._parent,t),d.showContextMenu(e,t.center.x,t.center.y)};return u.eventHandlers.push(y),m.on("press",y),(0,f.attachContextMenuEvent)(o,(function(t){d.showContextMenu(u.getId(),t.clientX,t.clientY),t.stopPropagation(),t.preventDefault()})),g.isIOS&&o.addEventListener("touchstart",(function(t){t.preventDefault()})),u}return v(e,t),e.prototype.getContainerElement=function(){return this.$ui.get(0)},e.prototype.getHandlerElement=function(){return this.$handler.get(0)},e.prototype.getModel=function(){return this.annot},e.prototype.tapAnnot=function(t){var e=this.getModel().getId();this.annotsRender.activeAnnot(e)},e.prototype.getId=function(){return this.id},e.prototype.getIndex=function(){return this.annot.getIndex()},e.prototype.setId=function(t){var e=this;return this.annot.setUniqueID(t).then((function(){e.annotsRender.updateAnnotRendersId(e.id,t),e.id=t}))},e.prototype.isHidden=function(){var t=new p.default(this.annot.getFlags());if(t.checkHidden()||t.checkInvisible())return!0;var e=this.pdfViewer.getAnnotManager().getAnnotFlag(this.annot);return!(!e.checkHidden()&&!e.checkNoView())},e.prototype._hideUI=function(){this.$$isUIVisible=!1,this.$ui.addClass("fv__ui-hide"),this.$handler.addClass("fv__ui-hide")},e.prototype._showUI=function(){this.$$isUIVisible=!0,this.$ui.removeClass("fv__ui-hide"),this.$handler.removeClass("fv__ui-hide")},e.prototype.hideUI=function(){return this.isUIVisible()?(this._hideUI(),Promise.resolve(this.redraw())):Promise.resolve()},e.prototype.updateSize=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;if(this.scale!=t||this.rotate!==e){this.scale=t,this.rotate=e;var n=void 0,o=void 0,r=void 0;if(n=this.annot.getDeviceRect(this.scale,this.rotate),8&this.annot.getFlags()){var i=this.annot.getRect();r=i.top-i.bottom,o=i.right-i.left}else r=n.bottom-n.top,o=n.right-n.left;this.$ui.css({left:n.left+"px",top:n.top+"px"}),this.$ui.find("canvas").css({width:o+"px",height:r+"px"})}},e.prototype.showUI=function(){return this.isUIVisible()?Promise.resolve():(this._showUI(),Promise.resolve(this.redraw()))},e.prototype.isUIVisible=function(){return this.$$isUIVisible},e.prototype.render=function(t,e){this.scale=t,this.rotate=e},e.prototype.afterRender=function(){this.isDestroyed||this.$ui.find("canvas").css({width:"inherit",height:"inherit"})},e.prototype.add=function(t,e){return this.render(t,e)},e.prototype.redraw=function(){},e.prototype.willRedraw=function(){},e.prototype.afterRedraw=function(){},e.prototype.doActive=function(){var t=this,e=this.annot;if(e.isGrouped&&e.isGrouped()){var n=this.pdfViewer.getCurrentActivatable();if(n instanceof d.ActivationGroup&&n.contains(this))return;var o=new d.ActivationGroup;e.groupElements.forEach((function(e){var n=t.pdfViewer.getAnnotRender(e.getPDFPage().getIndex(),e.getId()).component;o.add(n)})),this.pdfViewer.activeElement(o)}else this.pdfViewer.activeElement(this);this._undoSwitchKbBinder&&this._undoSwitchKbBinder(),this._undoSwitchKbBinder=this.pdfViewer.switchKeyboardEventBinder(c.ACTIVATION_ANNOTATION_BINDER),this.bindEvent()},e.prototype.doDeactive=function(){var t=this.annot;if(t.isGrouped&&t.isGrouped()){var e=this.pdfViewer.getCurrentActivatable();e&&e.unActive()}this.unBindEvent(),this._undoSwitchKbBinder&&this._undoSwitchKbBinder()},e.prototype.unActive=function(){t.prototype.unActive.call(this)},e.prototype.destroy=function(){this.isActive=!1,this.$ui&&this.$ui.remove(),this.$handler&&this.$handler.remove(),this.uiHammer.destroy(),this.unBindEvent(),this.eventHandlers=[],t.prototype.destroy.call(this),this.annot=null,this.component=null,this.docRender=null,this.$ui=null,this.eHandler=null,this.$handler=null,this.$page=null,this.annotsRender=null,this.pdfViewer=null,this.uiHammer=null},e.prototype.remove=function(){this.destroy()},e.prototype.showContextMenu=function(){},e.prototype.zIndexDown=function(){this.$ui.addClass("fv__zindex-down"),this.zIndexDownFlag=!0},e.prototype.checkZIndexDown=function(){return!this.zIndexDownFlag},e.prototype.zIndexRecover=function(){this.$ui.removeClass("fv__zindex-down"),this.zIndexDownFlag=!1},e.prototype.moveTo=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!n)return this.$ui.css({left:t,top:e}),Promise.resolve(!0);var r=this.scale,i=this.rotate,a=this.getPDFPage(),s=this.annot.getDeviceRect(r,i),c=t-s.left,u=e-s.top;if(Math.abs(c)<1&&Math.abs(u)<1)return Promise.resolve();var l=a.reverseDeviceOffset([c,u],r,i),f=o(l,2),p=f[0],d=f[1],h=this.annot.getRect();return this.annot.moveTo({left:h.left+p,top:h.top+d})},e.prototype.move=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=this.annot.getDeviceRect(this.scale,this.rotate);return this.moveTo(o.left+t,o.top+e,n)},e.prototype.moved=function(){var t=this.annot.getDeviceRect(this.scale,this.rotate);this.$ui.css({left:t.left+"px",top:t.top+"px"}),this.redraw()},e.prototype.movedByOther=function(t){},e.prototype.setRectInPDF=function(t,e){var n=this;return this.annot._setRect(t,e).then((function(t){return t?n.updateRender().then((function(){return e&&n.pdfViewer.eventEmitter.emit(s.default.updateActionAnnotation,n),t})):t}))},e.prototype.setRect=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.left,o=e.top,r=e.width,i=e.height;r=Math.max(.001,r),i=Math.max(.001,i);var a=this.scale,c=this.rotate,u=this.getPDFPage(),l=u.reverseDeviceRect({left:n,top:o,right:n+r,bottom:o+i},a,c);return this.annot.setRect(l).then((function(e){return e?t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(s.default.updateActionAnnotation,t),e})):e}))},e.prototype.getRect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=this.getPDFPage(),o=this.annot.getRect();return n.getDeviceRect(o,t,e)},e.prototype.getBoundary=function(){var t=this.annot.getDeviceRect(this.scale,this.rotate),e=this.annot.getRect(),n=t.right-t.left,o=t.bottom-t.top;return 8&this.annot.getFlags()&&(n=e.right-e.left,o=e.top-e.bottom),{left:t.left,top:t.top,width:n,height:o}},e.prototype.getPosition=function(){var t=this.getPDFPage(),e=this.annot.getRect(),n=t.getDevicePoint([e.left,e.top],this.scale,this.rotate),r=o(n,2);return{left:r[0],top:r[1]}},e.prototype.getDimension=function(){var t=this.getPDFPage(),e=this.annot.getRect(),n=t.getDeviceRect(e,this.scale,this.rotate);return{width:n.right-n.left,height:n.bottom-n.top}},e.prototype.removeAnnot=function(){var t=this.getAnnotFlag();if(t.checkLocked())throw new Error("The remove operation was rejected because it is locked!");if(t.checkReadOnly())throw new Error("The remove operation was rejected because it is read-only!");return Promise.resolve()},e.prototype.deleteDisabled=function(){if(!(32&this.docRender.getUserPermission().getValue()))return!0;var t=this.getAnnotFlag();return t.checkLocked()||t.checkReadOnly()},e.prototype.replyDisabled=function(){return!(32&this.docRender.getUserPermission().getValue())||this.getAnnotFlag().checkReadOnly()},e.prototype.propertyDisabled=function(){if(!(32&this.docRender.getUserPermission().getValue()))return!0;var t=this.getAnnotFlag();return t.checkLocked()||t.checkReadOnly()},e.prototype.moveDisabled=function(){if(!(32&this.docRender.getUserPermission().getValue()))return!0;var t=this.getAnnotFlag();return t.checkLocked()||t.checkReadOnly()},e.prototype.readOnlyDisabled=function(){return!(32&this.docRender.getUserPermission().getValue())||this.getAnnotFlag().checkReadOnly()},e.prototype.bindEvent=function(){var t=this;this.__off__delete__event__&&this.__off__delete__event__(),this.__off__delete__event__=this.pdfViewer&&this.pdfViewer.getKeyboardEventBinder(c.ACTIVATION_ANNOTATION_BINDER).on(c.KEY_MAP_DELETE_ANNOTATION,(function(e){var n=function(){t.removeAnnot(),e.stopPropagation()};if(function(t,e){var n=e.parentElement;for(;n;){if(n==t)return!0;n=n.parentElement}return!1}(e.native.target,t.$handler.get(0)))n();else{var o=e.native.target.tagName.toLowerCase();"input"===o||"div"===o&&"string"==typeof e.native.target.getAttribute("contenteditable")||n()}})),this.__off__esc__event__&&this.__off__esc__event__(),this.__off__esc__event__=this.pdfViewer&&this.pdfViewer.getKeyboardEventBinder(c.ACTIVATION_ANNOTATION_BINDER).on(c.KEY_MAP_UNACTIVE_ANNOTATION,(function(e){t.annotsRender.unActiveAnnot(!0)}))},e.prototype.unBindEvent=function(){this.__off__delete__event__&&this.__off__delete__event__(),this.__off__delete__event__=u.default,this.__off__esc__event__&&this.__off__esc__event__(),this.__off__esc__event__=u.default},e.prototype.updateDeleteStatus=function(t){t?++this.deleteStatus:--this.deleteStatus,this.deleteStatus>0?this.unBindEvent():this.bindEvent()},e.prototype.getPDFAnnot=function(){return this.annot},e.prototype.getPDFPage=function(){return this.getPDFAnnot().getPDFPage()},e.prototype.getAnnotFlag=function(){return this.pdfViewer.annotManager.getAnnotFlag(this.annot)},e.prototype.groupMoveDisabled=function(){var t=!1;return this.annot&&this.annot.isGrouped&&this.annot.isGrouped()&&this.annot.groupElements.map((function(e){var n=e.getType();"strikeout"!==n&&"highlight"!==n&&"squiggly"!==n&&"underline"!==n||(t=!0)})),t},e.prototype.setVisibleRect=function(t){this.visibleRect=t},e.prototype.invisibleRender=function(){},e.prototype.clearCache=function(){},e.prototype.getRenderingData=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;if(!this.annot)return null;var n=this.annot.getDeviceRect(t,this.rotate),o=this.getRect(),r=this.annot.page,i=this.pdfViewer.getSmartScale(t);return{annotInfo:this.annot.info,annotFlag:this.getAnnotFlag(),smartScale:i,rect:o,outerDeviceRect:n,innerDeviceRect:this.annot.getInnerRect?this.annot.getDeviceInnerRect(t,e):n,engineRenderingRect:r.getDeviceRect(o,i,e),scale:t,rotate:e,page:this.annot.page}},e.prototype.toImageURL=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(t){return{x:t.left,y:t.top,width:t.right-t.left,height:t.bottom-t.top}},e=this.annot.page,n=this.pdfViewer.getSmartScale(this.scale),o=this.annot.getDeviceRect(1,this.rotate);return e.getAnnotBitmap(this.annot.id,(0,h.pt2px)(n),this.rotate,t(o,this,this.scale,this.rotate)).then((function(t){var e=t.width,n=t.height,o=t.buffer,r=(t.image,t.type,t.url),i=document.createElement("canvas");i.width=e,i.height=n;var a=i.getContext("2d");if(r)return new Promise((function(t){var e=new Image;e.onload=function(){a.drawImage(e,0,0),t(i.toDataURL())},e.src=r}));var s=new(Uint8ClampedArray||Uint8Array)(o),c=a.createImageData(e,n);return c.data.set(s),a.putImageData(c,0,0),i.toDataURL()}))},e}(r.default);e.default=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildVertexesByPoints=e.buildRectByPoints=e.buildGesturesByArrays=e.default=void 0;var o=E(n(519)),r=E(n(520)),i=E(n(521)),a=E(n(522)),s=E(n(523)),c=E(n(524)),u=E(n(525)),l=E(n(526)),f=E(n(527)),p=E(n(528)),d=E(n(529)),h=E(n(530)),g=E(n(531)),m=E(n(532)),v=E(n(533)),y=E(n(534)),b=E(n(267)),w=n(4),_=n(116),P=n(6),O=E(n(3));function E(t){return t&&t.__esModule?t:{default:t}}function x(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var C={line:u.default,circle:r.default,square:d.default,highlight:s.default,squiggly:h.default,underline:y.default,strikeout:m.default,freetext:a.default,caret:o.default,ink:c.default,stamp:g.default,polyline:l.default,polygon:f.default,text:v.default,fileattachment:i.default,sound:p.default},A=function(t){var e=[];return t.map((function(t){var n=t[0];if(Array.isArray(n))t.map((function(t,n){var o={};o.type=0===n?1:2,o.x=t[0],o.y=t[1],e.push(o)}));else for(var o=Math.floor(t.length/2),r=t,i=0;i<o;i++){var a=r.slice(2*i,2*i+2),s={};s.type=0===i?1:2,s.x=a[0],s.y=a[1],e.push(s)}})),e},S=function(t){for(var e=Math.floor(t.length/2),n=[],o=[],r=t,i=0;i<2*e;i++)[i]%2==0?o.push(r[i]):n.push(r[i]);return{left:Math.min.apply(Math,o),bottom:Math.min.apply(Math,n),right:Math.max.apply(Math,o),top:Math.max.apply(Math,n)}},D={getAnnotClass:function(t){var e=C[t];return e||b.default},getAnnots:function(t,e,n,o){var r=void 0;return r=e===_.ANFB_ShouldPrint?t.filter((function(t){return t.print})):e===_.ANFB_ShouldView?t.filter((function(t){return!t.noView})):e===_.ANFB_ShouldEdit?t.filter((function(t){return!t.readOnly})):[].concat(x(t)),n===_.ANSB_Author?r.sort((function(t,e){var n=t.author,o=e.author;return n.localeCompare(o)})):n===_.ANSB_ModDate&&r.sort((function(t,e){var n=t.modDate,o=e.modDate;if(null===n&&null===o)return 0;if(null!==n&&null===o)return 1;if(null===n&&null!==o)return-1;var r=n.getTime(),i=o.getTime();return r>i?1:r<i?-1:0})),n===_.ANSB_Type&&r.sort((function(t,e){var n=t.type,o=e.type;return n.localeCompare(o)})),o?r.reverse():r},getAnnot:function(t,e){var n=t.getType(),o=D.getAnnotClass(n);return o===b.default?null:new o(t,e)},addAnnot:function(t,e){var n=t.type=t.type.toLowerCase(),o=null;switch(n){case"line":o=D.buildLineJson(t);break;case"stamp":o=D.buildStampJson(t);break;case"fileattachment":case"text":o=D.buildIconShapeJson(t);break;case"freetext":o=D.buildFreeTextJson(t);break;case"circle":case"caret":case"square":o=D.buildSimpleShapeJson(t);break;case"polyline":case"polygon":case"ink":case"highlight":case"underline":case"strikeout":case"squiggly":o={type:t.type,date:new Date};break;case"sound":o=D.buildScreenShapeJson(t)}if(!o)return null;o=D.buildJsonKeyValue(t,o);var r=D.getAnnotClass(n);return new Promise((function(n,i){e.currentPDFDoc.addAnnot(t.page,o).then((function(i){var a=i[0],s=e.getPDFPageRender(t.page).annotsRender.getAnnotRender(a.getId()).component,c=s.annot;c.info.author=o.author,D.doUpdatePropsAfterAdd(c,t,(function(e){e&&s.redraw(),t.open&&s.showReplyDialog("comment");var o=new r(c,t.page);s.parent("annotsRender").activeAnnot(s.getId()),n(o)}))}))}))},showFileDialog:function(t){return new Promise((function(e){(0,O.default)("#jsFileAttachment").length>0&&(0,O.default)("#jsFileAttachment").remove(),(0,O.default)("body").append('<input id="jsFileAttachment" type="file" style="display: none;"/>'),(0,O.default)("#jsFileAttachment").off("change").on("change",(function(n){var o=n.target.files[0];if(o){var r=new FileReader;r.readAsArrayBuffer(o),r.onload=function(){var n=new Uint8Array(r.result);t.contentType=o.type,t.buffer=n,t.fileName=o.name;var i=D.addAnnot(t);e(i)}}})),(0,O.default)("#jsFileAttachment").click()}))},doUpdatePropsAfterAdd:function(t,e,n){if("freetext"===e.type){if(e.textSize&&(e.textSize>=4||e.textSize<=144)){var o=t.getDefaultAppearance();return o.textSize=e.textSize,void t.setDefaultAppearance(o).then((function(t){n&&n(!0)}))}}else if("text"===e.type&&e.noteIcon)return void t.setIconName(e.noteIcon).then((function(t){n&&n(!0)}));n&&n()},buildRectByPoint:function(t){var e=t[0],n=t[1];return{left:e,bottom:n-20,right:e+20,top:n}},buildSimpleShapeJson:function(t){var e=S(t.rect),n=e.left,o=e.bottom,r=e.right,i=e.top;return{type:t.type,date:new Date,rect:{left:n,bottom:o,right:r,top:i}}},buildIconShapeJson:function(t){return{type:t.type,date:new Date,rect:D.buildRectByPoint(t.point)}},buildScreenShapeJson:function(t){var e=void 0;return e=t.point?D.buildRectByPoint(t.point):S(t.rect),{type:"screen",date:new Date,rect:e}},buildStampJson:function(t){var e=S(t.rect),n=e.left,o=e.bottom,r=e.right,i=(e.top,.3*(r-n));return{type:t.type,date:new Date,rect:{left:n,bottom:o,right:r,top:o+i}}},buildFreeTextJson:function(t){var e={type:t.type,date:new Date};"FreeTextCallout"===t.intent&&(e.intent=t.intent,t.callout&&(e.calloutLinePoints=AnnotManage.buildVertexesByPoints(t.callout)));var n=[].concat(x(t.rect));return e.calloutLinePoints&&n.push.apply(n,x(t.callout)),e.rect=S(n),e.innerRect=S(t.rect),e},buildLineJson:function(t){var e=t.points[0],n=t.points[1],o=e[0],r=e[1],i=n[0],a=n[1],s={type:"line",date:new Date,rect:{left:o,bottom:r,right:i,top:a},startStyle:P.LineEndingStyle.None,endStyle:P.LineEndingStyle.None};return t.arrowBegin&&(s.startStyle=P.LineEndingStyle[t.arrowBegin]),t.arrowEnd&&(s.endStyle=P.LineEndingStyle[t.arrowEnd]),s},buildCoords:function(t,e){for(var n=Math.floor(t.quads.length/8),o=t.quads,r=[],i=0;i<n;i++){var a=o.slice(8*i,8*i+8),s=Math.min.apply(Math,[a[0],a[2],a[4],a[6]]),c=Math.max.apply(Math,[a[1],a[3],a[5],a[7]]),u=Math.max.apply(Math,[a[0],a[2],a[4],a[6]]),l=Math.min.apply(Math,[a[1],a[3],a[5],a[7]]);r.push({left:s,top:c,right:u,bottom:l,rotation:0})}return e.coords=r,e},calcRectByVertices:function(t){var e={},n=0,o=0,r=0,i=0;return t.map((function(t,e){var a=t.x,s=t.y;0===e?(n=a,o=a,r=s,i=s):(n=a<n?a:n,o=a>o?a:o,r=s<r?s:r,i=s>i?s:i)})),e.left=n,e.right=o,e.bottom=r,e.top=i,e},buildVertices:function(t,e){if(!t.vertices)return e;if("polygon"===t.type||"polyline"===t.type){for(var n=[],o=Math.floor(t.vertices.length/2),r=t.vertices,i=0;i<o;i++){var a=r.slice(2*i,2*i+2);n.push({x:a[0],y:a[1]})}e.vertexes=n,e.rect=D.calcRectByVertices(n)}return e},buildFillColor:function(t,e){return t.fillColor?("circle"!==t.type&&"square"!==t.type&&"line"!==t.type&&"polygon"!==t.type&&"polyline"!==t.type&&"freetext"!==t.type||(e["interior-color"]=(0,w.colorConvertor)(t.fillColor,"int",0).toString(16)),e):e},buildGestures:function(t,e){if("ink"!==t.type||!t.gestures)return e;var n=A(t.gestures);return e.inkList=n,e.rect={left:0,right:0,top:0,bottom:0},e},buildStampAP:function(t,e){if("stamp"!==t.type||!t.AP)return e;var n=void 0;switch(t.AP.toLowerCase()){case"approved":n="Approved";break;case"confidential":n="Confidential";break;case"draft":n="Draft";break;case"expired":n="Expired";break;case"final":n="Final";break;default:n="Approved"}return e.icon=n,e.iconCategory="Static",e},buildJsonKeyValue:function(t,e){return t.strokeColor&&(e.color=(0,w.colorConvertor)(t.strokeColor,"int",0).toString(16)),t.popupOpen&&"freetext"!==t.type&&"sound"!==t.type&&"fileattachment"!==t.type&&(e.open="yes"),t.contents&&(e.contents=t.contents),t.name&&(e.name=t.name),t.opacity&&(e.opacity=t.opacity),"highlight"!==t.type&&"strikeout"!==t.type&&"underline"!==t.type&&"squiggly"!==t.type||((e=D.buildCoords(t,e)).rect={left:0,right:0,top:0,bottom:0}),"fileattachment"===t.type?(t.buffer&&(e.buffer=t.buffer,e.fileName=t.fileName),t.attachIcon&&(e.icon=t.attachIcon)):"sound"===t.type&&t.buffer&&(e.multiBuffer=t.buffer,e.fileName=t.fileName,e.contentType=t.contentType),e=D.buildFillColor(t,e),e=D.buildGestures(t,e),e=D.buildStampAP(t,e),e=D.buildVertices(t,e)}};e.default=D,e.buildGesturesByArrays=A,e.buildRectByPoints=S,e.buildVertexesByPoints=function(t){for(var e=[],n=Math.floor(t.length/2),o=t,r=0;r<n;r++){var i=o.slice(2*r,2*r+2);e.push({x:i[0],y:i[1]})}return e}},function(t,e,n){"use strict";function o(t,e){if(!t)throw new Error(e)}function r(t){return"number"==typeof t}function i(t){return r(t)&&Math.floor(t)===t}function a(t){return Math.pow(Math.floor(t),2)!==t}function s(t){return(t%360+360)%360%90==0}function c(t,e,n,o,r){return void 0===o&&(o=!1),void 0===r&&(r=!1),(o?t>=e:t>e)&&(r?t<=n:t<n)}n.r(e),n.d(e,"assertThat",(function(){return o})),n.d(e,"isNumber",(function(){return r})),n.d(e,"isInteger",(function(){return i})),n.d(e,"isSquaredNumber",(function(){return a})),n.d(e,"isValidRotationAngle",(function(){return s})),n.d(e,"isNumberInRange",(function(){return c}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={PDF_VIEWER_ALIVE:"PDF-VIEWER-ALIVE",PDF_DOCUMENT_CLOSING:"PDF-DOCUMENT-CLOSING",BROWSER_RELOAD:"BROWSER-RELOAD"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(284)),r=i(n(32));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=i(n(7)).default.getLogger("pdf-ui.Layout"),l=function(t){function e(){return a(this,e),s(this,t.apply(this,arguments))}return c(e,t),e.getName=function(){(0,r.default)()},e.prototype.insert=function(t,e,n){var o=e.children;n=Math.max(0,Math.min(n,o.length-1));var r=o.item(n);e.insertBefore(t,r)},e.prototype.render=function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;t=t.slice(0);var r=e.children,i=r[n+o];i||(i=t.pop())&&e.appendChild(i);for(var a=n,s=a+o;a<s;a++){var c=r.item(a);if(c!==i){var l=t.indexOf(c);c&&-1==l&&e.removeChild(c)}}t.reduceRight((function(t,n){try{e.insertBefore(n,t)}catch(o){throw u.error(e,n,t),o}return n}),i)},e}(o.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(32),i=(o=r)&&o.__esModule?o:{default:o};var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype.receive=function(t,e,n){(0,i.default)()},t.prototype.lost=function(t){},t}();e.default=a},function(t,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,i=o(15);function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function n(e,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,e,o,r));return i.value=null,i.fieldName=e.fieldName||i.attrs["field-name"],i}return a(n,t),n.prototype.getFieldName=function(){return this.fieldName},n.prototype.setFieldName=function(t){this.fieldName=t},n.prototype.getValue=function(){return this.value},n.prototype.setValue=function(t){this.value=t},n.prototype.focus=function(){this.element.focus()},n.prototype.addInputElementListener=function(t,e){var n=this;this.element.addEventListener(t,e),this.addDestroyHook((function(){n.element.removeEventListener(t,e)}))},n.prototype.render=function(){t.prototype.render.call(this),this.element.setAttribute("name",this.fieldName||this.name)},n.prototype.getForwardedEvents=function(){return["blur","change","focus","compositionstart","compositionupdate","compositionend","keyup","keydown","keypress"]},n.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this),this.getForwardedEvents().forEach((function(t){return e.addInputElementListener(t,e.createEventListener(t))}))},n.prototype.createEventListener=function(t){var e=this;return function(n){e.trigger(t,n,e.getDOMValue(),e.value)}},n.prototype.triggerChangeEvent=function(){var t=this.value,n=this.getDOMValue();this.setValue(n),this.controller.handle(n,t,e),this.trigger("change",n,t,e)},n.prototype.getDOMValue=function(){return this.element.value},n.prototype.resolveCompositionEvent=function(){var t=this,e=!1;this.addInputElementListener("compositionstart",(function(t){return e=!0})),this.addInputElementListener("compositionend",(function(t){return e=!1}));var n=this.getDOMValue();this.addInputElementListener("input",(function(o){if(!e){var r=t.getDOMValue();t.trigger("input",r,n,event.data,o),n=r,t.value=r}}))},n.prototype.sync=function(e,n){switch(e){case"value":this.setValue(n);break;default:return t.prototype.sync.call(this,e,n)}return!0},n}(((r=i)&&r.__esModule?r:{default:r}).default);n.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=function t(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=!0;"boolean"==typeof e&&(s=e,e=r[0],r=r.slice(1));(null===e||"object"!==(void 0===e?"undefined":o(e))&&"function"!=typeof e)&&(e={});return r.reduce((function(e,n){if(null==n)return e;for(var o in n){var r=e[o],i=n[o];if(e!==i){var c=void 0;if(s&&i&&(a(i)||(c=Array.isArray(i)))){var u=void 0;c?(c=!1,u=r&&Array.isArray(r)?r:[]):u=r&&a(r)?r:{},e[o]=t(s,u,i)}else void 0!==i&&(e[o]=i)}}return e}),e)};var r={"[object Array]":"array","[object Boolean]":"boolean","[object Date]":"date","[object Error]":"error","[object Function]":"function","[object Number]":"number","[object Object]":"object","[object RegExp]":"regexp","[object String]":"string"};function i(t,e){return null!=t&&{}.hasOwnProperty.call(t,e)}function a(t){if(!t||"object"!==function(t){if(null===t)return"null";switch(void 0===t?"undefined":o(t)){case"object":case"function":return r[Object.prototype.toString(t)]||"object"}return void 0===t?"undefined":o(t)}(t)||t.nodeType||null!=t&&t==t.window)return!1;if(t.constructor&&!i(t,"constructor")&&!i(t.constructor.prototype,"isPrototypeOf"))return!1;var e=void 0;for(e in t);return void 0===e||i(t,e)}},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(o(this,t),e instanceof t){var c=e;e=c.a,n=c.b,r=c.c,i=c.d,a=c.e,s=c.f}else if(e instanceof Array){var u=e;e=u[0],n=u[1],r=u[2],i=u[3],a=u[4],s=u[5]}this.a=e,this.b=n,this.c=r,this.d=i,this.e=a,this.f=s}return t.Concat2mt=function(e,n){return new t(e.a*n.a+e.b*n.c,e.a*n.b+e.b*n.d,e.c*n.a+e.d*n.c,e.c*n.b+e.d*n.d,e.e*n.a+e.f*n.c+n.e,e.e*n.b+e.f*n.d+n.f)},t.prototype.set=function(t,e,n,o,r,i){this.a=t,this.b=e,this.c=n,this.d=o,this.e=r,this.f=i},t.prototype.reset=function(){this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0},t.prototype.reverse=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,n=e.a*e.d-e.b*e.c;if(0==n)return e;var o=-n,r=e.d/n,i=e.b/o,a=e.c/o,s=e.a/n,c=(e.c*e.f-e.d*e.e)/n,u=(e.a*e.f-e.b*e.e)/o;return new t(r,i,a,s,c,u)},t.prototype.setReverse=function(t){var e=this.reverse(t);this.set(e.a,e.b,e.c,e.d,e.e,e.f)},t.prototype.rotate=function(e,n){var o=Math.cos(e),r=Math.sin(e),i=new t(o,r,-r,o,0,0),a=void 0;a=n?t.Concat2mt(i,this):t.Concat2mt(this,i),this.set(a.a,a.b,a.c,a.d,a.e,a.f)},t.prototype.rotateAt=function(t,e,n,o){this.translate(t,e,o),this.rotate(n,o),this.translate(-t,-e,o)},t.prototype.translate=function(t,e,n){n?(this.e+=t*this.a+e*this.c,this.f+=e*this.d+t*this.b):(this.e+=t,this.f+=e)},t.prototype.concat=function(e,n,o,r,i,a,s){var c=void 0;e instanceof t?(c=e,s=n):c=new t(e,n,o,r,i,a);var u=void 0;u=s?t.Concat2mt(c,this):t.Concat2mt(this,c),this.set(u.a,u.b,u.c,u.d,u.e,u.f)},t.prototype.is90Rotated=function(){var t=1e3*this.a;t<0&&(t*=-1);var e=1e3*this.d;e<0&&(e*=-1);var n=this.b;n<0&&(n*=-1);var o=this.c;return o<0&&(o*=-1),t<n&&e<o},t.prototype.isScaled=function(){var t=1e3*this.b;t<0&&(t*=-1);var e=1e3*this.c;e<0&&(e*=-1);var n=this.a;n<0&&(n*=-1);var o=this.d;return o<0&&(o*=-1),t<n&&e<o},t.prototype.getA=function(){return this.a},t.prototype.getB=function(){return this.b},t.prototype.getC=function(){return this.c},t.prototype.getD=function(){return this.d},t.prototype.getE=function(){return this.e},t.prototype.getF=function(){return this.f},t.prototype.scale=function(t,e,n){this.a*=t,this.d*=e,n?(this.b*=t,this.c*=e):(this.b*=e,this.c*=t,this.e*=t,this.f*=e)},t.prototype.transformXDistance=function(t){var e=this.a*t,n=this.b*t;return Math.sqrt(e*e+n*n)},t.prototype.transformYDistance=function(t){var e=this.c*t,n=this.d*t;return Math.sqrt(e*e+n*n)},t.prototype.transformDistance=function(t,e){var n=this.a*t+this.c*e,o=this.b*t+this.d*e;return Math.sqrt(n*n+o*o)},t.prototype.transformPoint=function(t,e){return[this.a*t+this.c*e+this.e,this.b*t+this.d*e+this.f]},t.prototype.transformRect=function(t,e,n,o){for(var r=[t,t,n,n],i=[e,o,e,o],a=void 0,s=0;s<4;s++)a=this.transformPoint(r[s],i[s]),r[s]=a[0],i[s]=a[1];for(var c=[r[0],r[0],i[0],i[0]],u=1;u<4;u++)c[0]>r[u]&&(c[0]=r[u]),c[1]<r[u]&&(c[1]=r[u]),c[2]>i[u]&&(c[2]=i[u]),c[3]<i[u]&&(c[3]=i[u]);return[c[0],c[2],c[1],c[3]]},t.prototype.getXUnit=function(){var t=this.a,e=this.b;return 0===e?Math.abs(t):0===t?Math.abs(e):Math.sqrt(t*t+e*e)},t.prototype.getYUnit=function(){var t=this.c,e=this.d;return 0===t?Math.abs(e):0===e?Math.abs(t):Math.sqrt(t*t+e*e)},t.prototype.getUnitRect=function(){return this.transformRect(0,0,1,1)},t.prototype.matchRect=function(t,e){var n=e[0]-e[2];this.a=Math.abs(n)<.001?1:(t[0]-t[2])/n,n=e[3]-e[1],this.d=Math.abs(n)<.001?1:(t[3]-t[1])/n,this.e=t[0]-e[0]*this.a,this.f=t[3]-e[3]*this.d,this.b=0,this.c=0},t.prototype.getAngle=function(){return Math.atan2(this.b,this.a)},t.prototype.toArray=function(){return[this.a,this.b,this.c,this.d,this.e,this.f]},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return[t||"",o,r++].join("_")};var o="unique_"+Date.now(),r=0},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.LEVEL_DEBUG=0,e.LEVEL_INFO=2,e.LEVEL_WARN=4,e.LEVEL_ERROR=8},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.docRender=e,e.$ui.addClass("fv__view-mode")}return t.getName=function(){},t.prototype.into=function(){},t.prototype.renderViewMode=function(t,e,n,o,r){},t.prototype.jumpToPage=function(t,e){e.x,e.y},t.prototype.getFitHeight=function(t){},t.prototype.getFitWidth=function(t){},t.prototype.getVisibleIndexes=function(){},t.prototype.out=function(){this.docRender=null},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(239),i=(o=r)&&o.__esModule?o:{default:o};function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u=function(){function t(){c(this,t)}return t.isSubClassOf=function(t,e){return"function"==typeof t&&"function"==typeof e&&t.prototype instanceof e},t.isOverrided=function(t,e,n){for(var o=e.prototype;;){var r=o.constructor;if(!r||r===t||r===Object)return!1;if(o.hasOwnProperty(n))return!i.default.isProxyClass(r);o=Object.getPrototypeOf(o)}},t.mixin=function(t,e){var n=function(t){function e(){return c(this,e),a(this,t.apply(this,arguments))}return s(e,t),e}(t),o=i.default.getStaticDescriptors(e);Object.defineProperties(n,o);var r=i.default.getClassDescriptors(e.prototype);return n.prototype=Object.create(n.prototype,r),n},t}();e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();e.default=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._ctrl=!1,this._shift=!1,this._win=!1,this.alt=!1,this._bindEvent()}return t.prototype._bindEvent=function(){var t=this;window.addEventListener("keydown",(function(e){t._ctrl=e.ctrlKey,t._shift=e.shiftKey,t._alt=e.altKey,t._win=e.metaKey}),!1),window.addEventListener("keyup",(function(e){t._shift=16!==e.keyCode&&t._shift,t._alt=18!==e.keyCode&&t._alt,t._ctrl=17!==e.keyCode&&t._ctrl,t._win=91!==e.keyCode&&t._win}),!1),window.addEventListener("blur",(function(e){t._ctrl=!1,t._shift=!1,t._alt=!1,t._win=!1}))},o(t,[{key:"isCtrl",get:function(){return this._ctrl}},{key:"isCtrlDown",get:function(){return this._ctrl}},{key:"isShift",get:function(){return this._shift}},{key:"isShiftDown",get:function(){return this._shift}},{key:"isWin",get:function(){return this._win}},{key:"isWinDown",get:function(){return this._win}},{key:"isAlt",get:function(){return this._alt}},{key:"isAltDown",get:function(){return this._alt}}]),t}())},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.download=function(t,e,n){if(r.isMobile&&i.isSafari){if(new RegExp(/\sversion\/(.*?)\s/i).test(navigator.userAgent.toLowerCase())&&Number(RegExp.$1)<13)return window.pdfviewer.viewerUI.alert("alert.browserNotSupportDownload")}void 0===n&&(n="application/octet-stream");var a=t instanceof Blob?t:new Blob(t,{type:n});(0,o.saveAs)(a,e)};var o=n(253),r=n(9),i=n(26)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assertSelectorResult=function(t,e,n){var o=t.onselect;o||(o=a.FRAGMENT_SELECT_HANDLER.THROW_ERROR_IF_NOT_FOUND);if("function"==typeof o)return void o(e,n,t);switch(o){case a.FRAGMENT_SELECT_HANDLER.THROW_ERROR_IF_NOT_FOUND:if(e.length<1)throw new Error('target component not found: "'+n+'"');break;case a.FRAGMENT_SELECT_HANDLER.LOG_MESSAGE_IF_NOT_FOUND:e.length<1&&s.warn("target component not found: "+n);break;case a.FRAGMENT_SELECT_HANDLER.IGNORE_IF_NOT_FOUND:}};var o,r=n(7),i=(o=r)&&o.__esModule?o:{default:o},a=n(5);var s=i.default.getLogger("FRAGMENT-ONSELECT")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a(n(87));var o=a(n(304)),r=a(n(1074)),i=n(9);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return o.pdfUI=n,o}return s(e,t),e.prototype.getTemplateParser=function(){return new o.default},e.prototype.getLayoutTemplate=function(){return(0,r.default)()},e.prototype.getDefaultFragments=function(){return[]},e.prototype.processAddon=function(t){},e.prototype.beforeMounted=function(t){var e=this;this.root=t,this.addDestroyHook((function(){e.root=null})),i.isTablet?document.documentElement.classList.add("fv__ui-tablet"):i.isMobile?document.documentElement.classList.add("fv__ui-mobile"):i.isDesktop&&document.documentElement.classList.add("fv__ui-desktop"),i.isTouchDevice&&document.documentElement.classList.add("fv__ui-touch-device")},e.prototype.afterMounted=function(t){},e.prototype.disableAll=function(){this.root&&this.root.disable()},e.prototype.enableAll=function(){this.root&&this.root.enable()},e}(a(n(30)).default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=c(n(50)),r=n(6),i=c(n(45)),a=n(114),s=c(n(25));function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var p=function(t){function e(){return u(this,e),l(this,t.apply(this,arguments))}return f(e,t),e.prototype.doPrepare=function(){t.prototype.doPrepare.call(this),this.canvas.classList.add("fv__viewer-render-square-canvas")},e.prototype.doRender=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.renderingData,o=n.annotInfo,i=o.borderInfo||{},a=this.convertPointToPixel(i.width||1,t.scale),s=this.canvas.getContext("2d");s.clearRect(0,0,this.canvas.width,this.canvas.height),s.save(),t.lineWidth=a,e&&(s.globalAlpha=o.opacity),s.strokeStyle=0===a?"transparent":this.numberToRGBAString(o.borderColor),s.lineWidth=a;try{switch(i.style){case r.BORDER_STYLE.BEVELED:case r.BORDER_STYLE.UNDERLINE:case r.BORDER_STYLE.SOLID:this.renderSolid(s,o,t);break;case r.BORDER_STYLE.DASHED:this.renderDashed(s,o,t);break;case r.BORDER_STYLE.CLOUDY:this.renderCloud(s,o,t)}var c=o.fillColor;c&&(s.fillStyle=this.numberToRGBAString(c),s.fill()),s.stroke()}finally{s.restore()}},e.prototype.shrinkRect=function(t,e){var n=s.default.on(t).shrink(e).extract();return Object.assign(n,{width:n.right-n.left,height:n.bottom-n.top})},e.prototype.renderCloud=function(t,e,n){e.fillColor;var o=e.borderInfo.cloudIntensity,r=this.shrinkRect(n.innerRect,0),s=this.shrinkRect(n.outerRect,0),c=r.width,u=r.height;new a.CloudyPathGenerator([new i.default(0,u),new i.default(c,u),new i.default(c,0),new i.default(0,0)],r,s).generate(32/3/o).render(t)},e.prototype.renderDashed=function(t,e,n){var o=this,r=e.borderInfo,i=r.dashes||[],a=r.dashPhase||0,s=n.scale;t.save(),t.setLineDash(i.map((function(t){return o.convertPointToPixel(t,s)}))),t.lineDashOffset=this.convertPointToPixel(a,s),this.renderSolid(t,e,n)},e.prototype.renderSolid=function(t,e,n){var o=n.lineWidth,r=n.outerRect.width,i=n.outerRect.height,a=.5*o;t.beginPath(),t.rect(a,a,r-o,i-o),t.closePath()},e}(o.default);e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=g(n(19)),i=g(n(41)),a=g(n(1)),s=n(17),c=n(21),u=g(n(3)),l=n(28),f=n(419),p=g(n(420)),d=g(n(33)),h=g(n(27));function g(t){return t&&t.__esModule?t:{default:t}}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var v=(0,f.getDefaultConfig)(f.defaultAnnotComponentKey,".fv__pdf-page-annot-handler-rect"),y=(0,p.default)({direction:"left"}),b=(0,p.default)({direction:"right"}),w=function(t){function e(n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i));return a.name="textmarkup",a.$ui.addClass("fv__pdf-page-textmarkup-annot-container"),a.$handler.addClass("fv__pdf-page-textmarkup-annot-handler-container"),a.annot.isArea()&&a.createShapeControl(),a}return m(e,t),e.getDefaultContextMenuConfig=function(){return v},e.prototype.createShapeControl=function(){var t=this;this.shapeControl||h.default.property(this,"shapeControl",(function(){var e=new d.default({start:function(){return t.onStartUpdateShape()},update:function(e,n){return t.onShapeUpdating(e,n)},moving:function(e,n){return t.onShapeMoving(e,n)},end:function(e,n){return t.onShapeUpdateEnd(e,n)},enableDiagonally:!0});return t.moveDisabled()&&e.disable(),e}))},e.prototype.active=function(){if(t.prototype.active.call(this),this.annot.isArea()){this.activeRect(),this.$rect.addClass("active");var e=this._getShapeControllerBoundaryBox();!this.shapeControl&&this.createShapeControl(),this.shapeControl.active(this.$handler,this.getBoundary(),e),this.moveDisabled()&&this.shapeControl.disable()}else this.activeTextBoundary(),this.moveDisabled()&&this.boundaryDisabled()},e.prototype.unActive=function(){var e=this;t.prototype.unActive.call(this),this.annot.isArea()&&this.$rect&&this.$rect.removeClass("active"),this.annot.isGrouped()&&this.annot.groupElements.map((function(t){var n=e.pdfViewer.getAnnotRender(t.getPDFPage().getIndex(),t.getId()),o=n&&n.component;o&&o.isActive&&o.unActive&&o.unActive(),o&&o.deactive&&o.deactive()}))},e.prototype.afterRender=function(t){var e=t.transformed;if(this.$ui.find("canvas").css({width:"",height:""}),e&&this.isActive)if(this.annot.isArea()){this.activeRect();var n=this._getShapeControllerBoundaryBox();!this.shapeControl&&this.createShapeControl(),this.shapeControl.active(this.$handler,this.getBoundary(),n)}else this.activeTextBoundary()},e.prototype._getShapeControllerBoundaryBox=function(){var t=this.getPDFPage(),e=(0,c.getWHByMatrix)(t.getPxWidth(),t.getPxHeight(),this.scale,this.rotate),n=o(e,2);return{left:0,top:0,right:n[0],bottom:n[1]}},e.prototype.createRectDom=function(){return this.annot.isArea()?(!this.shapeControl&&this.createShapeControl(),this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui):t.prototype.createRectDom.call(this)},e.prototype.copyText=function(){var t=this.annot.getContinuousText(),e=(0,l.copyText)(t);return e?this.pdfViewer.eventEmitter.emit(a.default.copyTextSuccess,t):this.pdfViewer.eventEmitter.emit(a.default.copyTextFailed,t),e},e.prototype.getBoundaryCss_=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.getCharQuadPoints_(t),o=this.getCssTransform_(t),r=(0,c.pt2px)(this.getQuadPointsHeight_(n))/window.devicePixelRatio,i=this.getPDFPage(),a=this.scale,s=this.rotate,u=i.getDeviceMatrix(s);u.scale(a,a);var l=[Math.min,Math.max][e](n[0].x,n[1].x,n[2].x,n[3].x),f=[Math.max,Math.min][e](n[0].y,n[1].y,n[2].y,n[3].y),p=u.transformPoint(l,f);return{transform:o,height:r,left:p[0],top:p[1]}},e.prototype.getCssTransform_=function(t){return"rotate("+(90*(t.rotation+this.annot.getPDFPage().getRotation())+this.rotate)+"deg)"},e.prototype.getCharQuadPoints_=function(t){return(0,this.annot.engine.getUtils().getQuadPointsFromRect)(t,t.rotation)},e.prototype.getQuadPointsHeight_=function(t){return Math.sqrt(Math.pow(t[2].x-t[0].x,2)+Math.pow(t[2].y-t[0].y,2))},e.prototype.activeTextBoundary=function(){var t=this.annot,e=t.getStartCharInfo(),n=t.getEndCharInfo();if(e&&n){var o=this.$leftTextBoundary=this.$leftTextBoundary||this.leftTextBoundaryInit(),r=this.$rightTextBoundary=this.$rightTextBoundary||this.rightTextBoundaryInit(),i=this.getBoundaryCss_(e);o.css({height:i.height+"px",transform:i.transform,top:i.top+"px",left:i.left+"px"});var a=this.getBoundaryCss_(n,1);r.css({height:a.height+"px",transform:a.transform,top:a.top-a.height+"px",left:a.left+"px"})}this.activeRect(t)},e.prototype.leftTextBoundaryInit=function(){var t=this,e=this.$handler,n=(0,u.default)(y),i=n[0],l=new r.default(i);l.get("pan").set({direction:r.default.DIRECTION_ALL});var f=void 0,p=void 0,d=void 0,h=void 0,g=void 0;return l.on("panstart",(function(e){!1!==t.onLeftPanStart(e)&&(h=t.scale,g=t.rotate,f={left:parseFloat(n.css("left")),top:parseFloat(n.css("top")),height:parseFloat(n.css("height")),transform:n.css("transform")},d=f,t.textBoundaryStart())})),l.on("panmove",(function(e){if(!1!==t.onLeftPanMove(e)){var r=e.deltaX,i=e.deltaY;if(t.pdfViewer.config.highPerformance){var u=f.height;i+=u/2;var l=t.getPDFPage().reverseDevicePoint([f.left+r,f.top+i],h,g),m=t.annot,v=t.editDebouncePromise=t.editDebouncePromise||new s.DebouncePromiseQueue;v.push((function(){return t.getPDFPage().getCharInfoAtPoint(l,u/2/(0,c.pt2px)(h)).then((function(e){if(!e)return[!1];var n=e.charIndex,o=m.getEndCharIndex();if(n>o)return Promise.resolve([!1]);var r={left:(p=t.getBoundaryCss_(e)).left+"px",top:p.top+"px",height:p.height+"px",transform:p.transform};return Promise.all([m.updateQuadPointsByCharIndex(n,o),e,r])})).then((function(e){var r=o(e,3),i=r[0],s=r[1],c=r[2];if(i)return n.css(c),p&&(d=p),t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(a.default.updateActionAnnotation,t),t.onLeftChangeSuccess(s)}));n.css({left:d.left+"px",top:d.top+"px",height:d.height+"px",transform:d.transform})}),(function(){n.css({left:d.left+"px",top:d.top+"px",height:d.height+"px",transform:d.transform})}))})),v.exec()}else n.css({left:d.left+r+"px",top:d.top+i+"px"})}})),l.on("panend",(function(e){if(!1!==t.onLeftPanEnd(e)){var r=e.deltaX,i=e.deltaY,u=f.height;i+=u/2;var l=t.getPDFPage().reverseDevicePoint([f.left+r,f.top+i],h,g),m=t.annot,v=t.editDebouncePromise=t.editDebouncePromise||new s.DebouncePromiseQueue;v.push((function(){return t.getPDFPage().getCharInfoAtPoint(l,u/2/(0,c.pt2px)(h)).then((function(e){if(!e)return[!1];var o=e.charIndex,r=m.getEndCharIndex();return o>r?Promise.resolve([!1]):(p=t.getBoundaryCss_(e),n.css({left:p.left+"px",top:p.top+"px",height:p.height+"px",transform:p.transform}),Promise.all([m.updateQuadPointsByCharIndex(o,r),e]))})).then((function(e){var r=o(e,2),i=r[0],s=r[1];if(i)return p&&(d=p),t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(a.default.updateActionAnnotation,t),t.onLeftChangeSuccess(s)}));n.css({left:d.left+"px",top:d.top+"px",height:d.height+"px",transform:d.transform})}),(function(){n.css({left:d.left+"px",top:d.top+"px",height:d.height+"px",transform:d.transform})}))})),v.exec(),t.textBoundaryEnd()}})),this.leftHammer=l,e.append(n),n},e.prototype.rightTextBoundaryInit=function(){var t=this,e=this.$handler,n=(0,u.default)(b),i=n[0],l=new r.default(i);l.get("pan").set({direction:r.default.DIRECTION_ALL});var f=void 0,p=void 0,d=void 0,h=void 0,g=void 0;return l.on("panstart",(function(e){!1!==t.onRightPanStart(e)&&(h=t.scale,g=t.rotate,f={left:parseFloat(n.css("left")),top:parseFloat(n.css("top")),height:parseFloat(n.css("height")),transform:n.css("transform")},d=f,t.textBoundaryStart())})),l.on("panmove",(function(e){if(!1!==t.onRightPanMove(e)){var r=e.deltaX,i=e.deltaY;if(t.pdfViewer.config.highPerformance){var u=f.height;i+=u/2;var l=t.getPDFPage().reverseDevicePoint([f.left+r,f.top+u+i],h,g),m=t.annot,v=t.editDebouncePromise=t.editDebouncePromise||new s.DebouncePromiseQueue;v.push((function(){return t.getPDFPage().getCharInfoAtPoint(l,u/2/(0,c.pt2px)(h)).then((function(e){if(!e)return[!1];var o=m.getStartCharIndex(),r=e.charIndex;return o>r?Promise.resolve([!1]):(p=t.getBoundaryCss_(e,1),n.css({left:p.left+"px",top:p.top-p.height+"px",height:p.height+"px",transform:p.transform}),Promise.all([m.updateQuadPointsByCharIndex(o,r),e]))})).then((function(e){var r=o(e,2),i=r[0],s=r[1];if(i)return p&&(d=p),t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(a.default.updateActionAnnotation,t),t.onRightChangeSuccess(s)}));n.css({left:d.left+"px",top:d.top-p.height+"px",height:d.height+"px",transform:p.transform})}),(function(){n.css({left:d.left+"px",top:d.top-p.height+"px",height:d.height+"px",transform:p.transform})}))})),v.exec()}else n.css({left:d.left+r+"px",top:d.top+i+"px"})}})),l.on("panend",(function(e){if(!1!==t.onRightPanEnd(e)){var r=e.deltaX,i=e.deltaY,u=f.height;i-=u/2;var l=t.getPDFPage().reverseDevicePoint([f.left+r,f.top+u+i],h,g),m=t.annot,v=t.editDebouncePromise=t.editDebouncePromise||new s.DebouncePromiseQueue;v.push((function(){return t.getPDFPage().getCharInfoAtPoint(l,u/2/(0,c.pt2px)(h)).then((function(e){if(!e)return[!1];var o=m.getStartCharIndex(),r=e.charIndex;return o>r?Promise.resolve([!1]):(p=t.getBoundaryCss_(e,1),n.css({left:p.left+"px",top:p.top-p.height+"px",height:p.height+"px",transform:p.transform}),Promise.all([m.updateQuadPointsByCharIndex(o,r),e]))})).then((function(e){var r=o(e,2),i=r[0],s=r[1];if(i)return p&&(d=p),t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(a.default.updateActionAnnotation,t),t.onRightChangeSuccess(s)}));n.css({left:d.left+"px",top:d.top+"px",height:d.height+"px",transform:d.transform})}),(function(){n.css({left:d.left+"px",top:d.top+"px",height:d.height+"px",transform:d.transform})}))})),v.exec(),t.textBoundaryEnd()}})),this.rightHammer=l,e.append(n),n},e.prototype.textBoundaryStart=function(){},e.prototype.textBoundaryEnd=function(){},e.prototype.boundaryDisabled=function(){this.$leftTextBoundary.addClass("ban"),this.$rightTextBoundary.addClass("ban"),this.leftHammer.get("pan").set({enable:!1}),this.rightHammer.get("pan").set({enable:!1})},e.prototype.onStartUpdateShape=function(){this.pdfViewer.config.highPerformance&&this.annot.isArea()&&(this.editAreaDebouncePromise=new s.DebounceAsyncTaskExecutor(10))},e.prototype.onShapeUpdating=function(t,e){var n=this;this.pdfViewer.config.highPerformance&&this.annot.isArea()&&this.editAreaDebouncePromise.exec((function(){return n.setRect(t)}))},e.prototype.onShapeMoving=function(t,e){this.$ui.css({left:t.left,top:t.top})},e.prototype.onShapeUpdateEnd=function(t,e){var n=this;return this.editAreaDebouncePromise?this.editAreaDebouncePromise.waitForLastTask().then((function(){return n.setRect(t)})):this.setRect(t)},e.prototype.onLeftPanStart=function(t){},e.prototype.onLeftPanMove=function(t){},e.prototype.onLeftChangeSuccess=function(){},e.prototype.onLeftPanEnd=function(t){},e.prototype.onRightPanStart=function(t){},e.prototype.onRightPanMove=function(t){},e.prototype.onRightChangeSuccess=function(){return Promise.resolve()},e.prototype.onRightPanEnd=function(t){},e.prototype.getRenderingData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,o=t.prototype.getRenderingData.call(this,e,n);return Object.assign(o,{quadPoints:this.annot.getQuadPoints()})},e}(i.default);e.default=w},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(34)),r=s(n(16)),i=s(n(24)),a=s(n(29));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return c(e,t),e.prototype.getQuadPoints=function(){return this.info.quadPoints||[]},e.prototype.getDeviceQuadPoints=function(){for(var t=this.getPDFPage(),e=(t.getHeight(),t.getWidth()),n=this.getQuadPoints(),o=[],r=n.length;r--;){var i=n[r];o[r]=[{x:i[0].x,y:e-i[0].y},{x:i[1].x,y:e-i[1].y},{x:i[2].x,y:e-i[2].y},{x:i[3].x,y:e-i[3].y}]}return o},e.prototype.getStartCharIndex=function(){return this.info.startCharIndex},e.prototype.getStartCharInfo=function(){return this.info.startCharInfo},e.prototype.getEndCharIndex=function(){return this.info.endCharIndex},e.prototype.getEndCharInfo=function(){return this.info.endCharInfo},e.prototype.getText=function(){if(!this.page.doc.checkPermission(i.default.extract||i.default.extractAccess))throw new Error("Permission error");return this.info.text||""},e.prototype.getContinuousText=function(){if(!this.page.doc.checkPermission(i.default.extract||i.default.extractAccess))throw new Error("Permission error");return this.info.text||""},e.prototype.updateQuadPointsByCharIndex=function(t,e){var n=this;this.checkModidyPerm();var o=this.getPDFPage(),i=o.getPDFDoc();return this.page.doc.api.updateAnnotQuadPointsByCharIndex(i.getId(),o.getId(),this.getId(),t,e).then((function(t){if(t)return n.update(a.default.quadPointsUpdated).then((function(e){return n.eventEmitter.emit(r.default.annotationAppearanceUpdated,e,n.getPDFPage()),t}))}))},e.prototype.isArea=function(){return this.info.isArea},e.prototype.exportToJSON=function(){for(var e=t.prototype.exportToJSON.call(this),n=this.getQuadPoints(),o="",r=0;r<n.length;r++){var i=n[r];o+=i[0].x+","+i[0].y+",",o+=i[1].x+","+i[1].y+",",o+=i[2].x+","+i[2].y+",",o+=i[3].x+","+i[3].y+","}return o=o.substr(0,o.length-1),Object.assign({},e,{coords:o})},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(18));n(638);var r=s(n(169)),i=s(n(15)),a=s(n(639));n(9);function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));i.iconCls=i.iconCls||i.attrs["icon-class"],i.isFreezed=!1;var s={text:i.text,iconCls:i.iconCls,editable:i.editable,editOptions:i.editOptions,separate:i.separate,viewConfig:{nodeName:"dropdown-toggler",attrs:{}},context:i.context,proxyControllers:[],callback:null};return i.toggler=new a.default(s,o,r),i.toggler.parent=i,i.addDestroyHook((function(t){return i.toggler.destroy()})),i}return c(e,t),e.getName=function(){return"dropdown"},e.getMetadata=function(){return{options:{text:{type:"string"},iconCls:{type:"string"},editable:{type:"boolean",defaultValue:!1},editOptions:{type:"any"},align:{type:"string",enums:["out-right","out-left","left","right","center","client-center"],defaultValue:"left"},valign:{type:"string",enums:["top","bottom","center","client-center"],defaultValue:"bottom"},separate:{type:"boolean",defaultValue:!0}}}},e.prototype.prerender=function(){t.prototype.prerender.call(this),this.toggler.prerender()},e.prototype.freeze=function(){this.isFreezed=!0},e.prototype.unfreeze=function(){this.isFreezed=!1},e.prototype.active=function(){if(!this.isFreezed)return t.prototype.active.call(this)},e.prototype.deactive=function(){if(!this.isFreezed)return t.prototype.deactive.call(this)},e.prototype.setText=function(t){this.toggler.setText(t)},e.prototype.setEditValue=function(t){return this.toggler.setEditValue(t)},e.prototype.getEditValue=function(){return this.toggler.getEditValue()},e.prototype.setEditTemplate=function(t){return this.toggler.setEditTemplate(t)},e.prototype.insertDropdownItem=function(t,e){var n=new r.default({selectable:!0,viewConfig:{nodeName:"dropdown-item",attrs:{}}},this.module,this.localizer);if(n.prerender(),n.render(),n.prelink(),"function"==typeof t&&(t=t()),"string"==typeof t)n.element.innerHTML=t;else{if(!(t instanceof i.default))throw new TypeError("Unexpected type of child, it should be a String or Component instance");n.append(t)}n.postlink(),this.insert(n,e),n.mounted()},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this),this.toggler.mounted(),this.attachEventToElement(document,"mouseup",(function(t){e.deactive()}))},e.prototype.doActive=function(){this.element.classList.add("active");var t=document.body.offsetWidth,e=window.innerHeight;this.listElement.style.cssText+="\n            left: 0;\n            top: 0;\n            margin-left: 0;\n            margin-top: 0;\n        ";var n=this.element.getBoundingClientRect(),o=this.listElement.getBoundingClientRect(),r=void 0,i=void 0,a=void 0;this.listElement.offsetTop!==o.top||this.listElement.offsetLeft!==o.left?(r=this.element.offsetLeft,a=this.element.offsetLeft+this.element.offsetWidth,i=this.element.offsetTop):(r=n.left,i=n.top,a=n.right),this.listElement.style.cssText+="\n            left: "+r+"px;\n            top: "+i+"px;\n        ";var s=this.listElement.getBoundingClientRect(),c=0,u=0;switch(this.valign){case"top":break;case"bottom":u=n.height;break;case"center":u=.5*n.height;break;case"client-center":u=.5*window.offsetHeight-s.top}switch(s.bottom>e?u=e-s.bottom:s.top<0&&(u=2-s.top),this.align){case"out-right":c+=n.width;break;case"out-left":c-=s.width;break;case"left":break;case"right":c-=s.right-a;break;case"center":c-=(s.right-a)/2;break;case"client-center":c-=s.left+s.width/2-window.innerWidth/2}var l=r+c,f=l+s.width;f>t?c-=f-t:l<0&&(c-=l),this.listElement.style.cssText+="\n            margin-left: "+c+"px;\n            margin-top: "+u+"px;\n        "},e.prototype.doDeactive=function(){this.element.classList.remove("active")},e.prototype.render=function(){t.prototype.render.call(this),this.toggler.render(),this.element.classList.add("fv__ui-dropdown"),this.editable&&this.element.classList.add("fv__ui-editable-dropdown"),this.element.appendChild(this.toggler.element);var e=document.createElement("ul");e.classList.add("fv__ui-dropdown-list"),this.viewConfig.attrs["popup-class"]&&e.classList.add(this.viewConfig.attrs["popup-class"]),this.element.appendChild(e),this.listElement=e},e.prototype.select=function(t){this.toggler.select(t)},e.prototype.getContainerElement=function(){return this.listElement},e.prototype.update=function(){t.prototype.update.call(this)},e.prototype.createDOMElement=function(){return document.createElement("a")},e.prototype.doDisable=function(){t.prototype.doDisable.call(this),this.toggler.disable(),this.deactive()},e.prototype.doEnable=function(){t.prototype.doEnable.call(this),this.toggler.enable()},e.prototype.prelink=function(){t.prototype.prelink.call(this),this.toggler.prelink()},e.prototype.postlink=function(){t.prototype.postlink.call(this),this.toggler.postlink()},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=l(n(46)),i=l(n(19)),a=n(17),s=n(123);n(783);var c=l(n(35)),u=l(n(1));function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var p=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.cursorStyle="",o}return f(e,t),e.prototype.pageHandler=function(t){var e=this;this.pageRender=t;var n=t.$handler;n.addClass(this.cursorStyle);var r=n[0],s=this.hammer=new i.default.Manager(r,{recognizers:[[i.default.Pan,{direction:i.default.DIRECTION_ALL}]]}),u=void 0,l=-1,f=-1,p=void 0;s.on("panstart",(function(t){if(!1!==e.panStart(t,e)){l=-1,f=-1;var n=(0,c.default)(r,t);u=[n.x,n.y],e.hideSelectMark(),p=new a.DebouncePromiseQueue}})),s.on("panmove",(function(t){!1!==e.panMove(t,e)&&p.push((function(){var n=e.pageRender,r=[u[0]+t.deltaX,u[1]+t.deltaY];return e.getTextRect(u,r,l,f).then((function(t){var e;return(e=t[0])&&"string"==typeof e.text&&(l=e.start,f=e.end),Promise.all([n.getPDFPage(),t])})).then((function(t){var e=o(t,2),r=e[0],i=e[1];return n.transformRectArray(r,i)})).then((function(t){e.showSelectMark(t)}))}))})),s.on("panend",(function(n){if(!1!==e.panEnd(n,e)){p.end(),p=null;var r=[u[0]+n.deltaX,u[1]+n.deltaY];e.getTextRect(u,r,l,f).then((function(n){var o;return(o=n[0])&&"string"==typeof o.text&&(l=o.start,f=o.end),e.hideSelectMark(),Promise.all([t.getPDFPage(),n])})).then((function(t){var n=o(t,2),r=n[0],i=n[1];return i.length<1?Promise.resolve():e.addAnnot(r,i).then((function(t){var n=t[0],o=e.pageRender.annotsRender.getAnnotRender(n.getId()).component;e.afterAddAnnot(o),e.pageRender.annotsRender.activeAnnot(n.getId())})).catch((function(t){}))}))}}))},e.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle),this.hideSelectMark()},e.prototype.out=function(){this.destroyPageHandler()},e.prototype.panStart=function(){},e.prototype.panMove=function(){},e.prototype.panEnd=function(){},e.prototype.showSelectMark=function(t){(0,s.appendSelectMark)(this.pageRender.$handler,t)},e.prototype.hideSelectMark=function(){(0,s.removeSelectMark)(this.pageRender.$handler)},e.prototype.getTextRect=function(t,e,n,o){return this.pageRender.getTextContinueRectAtDevicePoints(t,e,n,o)},e.prototype.addAnnot=function(t,e){},e.prototype.afterAddAnnot=function(t){this.pdfViewer.eventEmitter.emit(u.default.addAnnotSuccess,t.annot)},e}(r.default);e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=l(n(73)),r=l(n(3)),i=n(103),a=n(11),s=n(9),c=n(13),u=l(n(75));l(n(25));function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var p=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.isMouseDown=!1,o.isScroll=!1,o.isWheel=!1,o.isMoveToBottom=!1,o.isMoveToTop=!1,o.scrollDisabled=!1,o.wheel=o.wheel.bind(o),o.mouseDown=o.mouseDown.bind(o),o.mouseUp=o.mouseUp.bind(o),o.adjust=o.adjust.bind(o),o.keyup=o.keyup.bind(o),o.orientationchange=o.orientationchange.bind(o),o.scrollWrap=o.docRender.viewerRender.scrollWrap,o.scrollContainer=o.docRender.pdfViewer.$ui.parent(),o}return f(e,t),e.getName=function(){return"single-page-view-mode"},e.prototype.getItems=function(){return this.docRender.$container.find(".fv__pdf-view-mode-item")},e.prototype.disableScroll=function(){this.scrollContainer.addClass("disabled-scroll"),this.scrollDisabled=!0,this.docRender.pdfViewer.eventEmitter.emit(a.Events.disableScroll)},e.prototype.enableScroll=function(){this.scrollContainer.removeClass("disabled-scroll"),this.scrollDisabled=!1,this.docRender.pdfViewer.eventEmitter.emit(a.Events.enableScroll)},e.prototype.getStatus=function(){this.pageIndexBeforeScroll=this.getCurrentPageIndex();var t=this.docRender.viewerRender.scrollWrap;this.scrollTopBeforeScroll=t.getScrollTop()},e.prototype.checkIfDisableScroll=function(t){t||(t=0);var e=this.getItems().eq(t).find(".fv__pdf-page-layout").get(0),n=e.offsetHeight,o=e.offsetWidth,r=this.scrollWrap.getHeight(),i=this.scrollWrap.getScrollHost().offsetWidth;n<=r&&o<=i?this.disableScroll():this.enableScroll()},e.prototype.into=function(){var t=this;setTimeout((function(){var e=t.pageIndexBeforeScroll=t.getCurrentPageIndex();t.checkIfDisableScroll(e)}));var e=this.docRender.viewerRender.scrollWrap;this.scrollHost=e.getScrollHost(),this.docRender.$container.addClass(this.constructor.getName()),this.currentScrollTop=e.getScrollTop();var n=d(250,(function(e){t.isMouseDown||t.isWheel||!t.isScroll||t.scroll(e),t.isWheel=!1,t.isScroll=!1})),o=this.hammer=new Hammer.Manager(this.scrollHost,{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]});this._unwatchScrollEvent=e.addScrollEventListener((function(o){u.default.isCtrlDown||(t.isScroll||t.isWheel||t.isMouseDown||t.getStatus(),t.isScroll=!0,n(e.getScrollTop()-t.scrollTopBeforeScroll||t.currentScrollTop||0),clearTimeout(t.scrollEventTimer),clearTimeout(t.scrollEventTimer2),t.scrollEventTimer=setTimeout((function(){if(t.docRender&&t.docRender.pagesRender){var e=t.getCurrentPageIndex();t.checkIfDisableScroll(e),t.docRender.isGoto?setTimeout((function(){t.docRender&&(t.docRender.isGoto=!1)}),40):t.docRender.setCurrentPageIndex(t.getCurrentPageIndex()),t.scrollEventTimer2=setTimeout((function(){t.isNeedAdjust&&t.adjust(!0)}),30)}}),100))})),this.wheelHandler=d(200,this.wheel),this.scrollHost.addEventListener("wheel",this.wheelHandler),this.scrollHost.addEventListener("mousedown",this.mouseDown),window.addEventListener("mouseup",this.mouseUp),window.addEventListener("keyup",this.keyup),this.orientationchangeHandler=d(200,this.orientationchange),window.addEventListener("orientationchange",this.orientationchangeHandler),this.docRender.pdfViewer.eventEmitter.on(i.UIEvents.zoomToSuccess,this.adjust),o.on("panstart",(function(e){return!!e.srcEvent.srcElement.classList.contains("fv__hand-state-contextmenu-container")&&(t.getStateName()===c.STATE_HANDLER_HAND&&(t.pageIndexBeforeAdjust=t.getCurrentPageIndex(),t.reset(),void(t.isMouseDown=!0)))})),o.on("panend",(function(e){return!!e.srcEvent.srcElement.classList.contains("fv__hand-state-contextmenu-container")&&((s.isMobile||s.isTablet)&&(e&&8===e.direction&&(t.isMoveToBottom=!0),e&&16===e.direction&&(t.isMoveToTop=!0),t.scrollDisabled||e&&(1===e.direction||8!==e.direction&&16!==e.direction)&&(e.deltaY>0?t.isMoveToTop=!0:t.isMoveToBottom=!0),(t.isMoveToBottom||t.isMoveToTop)&&(t.isNeedAdjust=!0,t.adjust()),t.isMouseDown=!1),!1)}))},e.prototype.orientationchange=function(){var t=this.getCurrentPageIndex();void 0!==this.currentPageIndex&&this.currentPageIndex!==t&&(t=this.currentPageIndex),this.docRender.goToPage(t)},e.prototype.getStateName=function(){return this.docRender.stateHandler.pdfViewer.stateHandlerManager.getCurrentStates().getStateName()},e.prototype.keyup=function(t){var e=this,n=t.keyCode,o=this.docRender.doc.getPageCount();return 35===n?this.goToPage(o-1):36===n?this.goToPage(0):(34!==n&&40!==n||(this.isMoveToBottom=!0),38!==n&&33!==n||(this.isMoveToTop=!0),this.pageIndexBeforeAdjust=this.getCurrentPageIndex(),void(33===n||34===n?setTimeout((function(){e.adjust(!0),e.isNeedAdjust=!0}),50):38!==n&&40!==n||(this.adjust(!0),this.isNeedAdjust=!0)))},e.prototype.goToPage=function(t,e){if(this.docRender){this.reset();var n=this.getItems(),o=n.get(t),r=n.eq(t),i=o.offsetHeight,a=(o.offsetWidth,parseInt(r.css("margin-top"))),s=this.docRender.viewerRender.scrollWrap,c=s.getHeight(),u=s.getScrollOffsetLeft(),l=o.offsetTop;l=e?o.offsetTop+i-c+a+a/2:o.offsetTop+a/2,this.adjustPadding(t),this.currentPageIndex=t,s.scrollTo(u,l)}},e.prototype.wheel=function(t){if(!u.default.isCtrlDown){this.isWheel=!0;this.docRender.viewerRender.scrollWrap;this.currentPageIndex=this.getCurrentPageIndex(),this.checkIfDisableScroll(this.currentPageIndex);var e=this.getVisibleIndexes();if(this.scrollDisabled){if(t.deltaY>=1){var n=this.docRender.doc.getPageCount(),o=this.currentPageIndex+1;o<n&&this.goToPage(o)}if(t.deltaY<=-1){var r=this.currentPageIndex-1;r<=0&&(r=0),this.goToPage(r,!0)}}else if(e.length>1){var i=this.getCurrentPageIndex();if(t.deltaY>0){var a=i+1;a>=this.docRender.doc.getPageCount()&&(a=i),i===this.pageIndexBeforeScroll?this.goToPage(a):this.goToPage(i)}else{var s=i-1;s<=0&&(s=0),i===this.pageIndexBeforeScroll?this.goToPage(s,!0):this.goToPage(i)}t.preventDefault()}this.reset()}},e.prototype.mouseDown=function(t){if(!t.srcElement.classList.contains("fv__hand-state-contextmenu-container"))return!1;if(this.reset(),!this.isScroll){this.pageIndexBeforeAdjust=this.getCurrentPageIndex();var e=this.docRender.viewerRender.scrollWrap;this.scrollTopBeforeScroll=e.getScrollTop(),this.startY=t.screenY}this.isMouseDown=!0},e.prototype.mouseUp=function(t){if(!t.srcElement.classList.contains("fv__hand-state-contextmenu-container"))return!1;if(!this.isMouseDown)return!1;var e=this.docRender.viewerRender.scrollWrap.getScrollTop()-this.scrollTopBeforeScroll;s.isMobile||s.isTablet||(this.scrollDisabled&&(e=this.startY-t.screenY),e>0&&(this.isMoveToBottom=!0),e<0&&(this.isMoveToTop=!0),(this.isMoveToBottom||this.isMoveToTop)&&(this.isNeedAdjust=!0,this.adjust())),this.isMouseDown=!1},e.prototype.adjust=function(t){if(this.isScroll&&!t)return!1;var e=this.docRender.doc.getPageCount(),n=!1,o=this.getCurrentPageIndex();this.checkIfDisableScroll(o);var r=this.getVisibleIndexes();if(1!==r.length||r[0]!==o||this.scrollDisabled){if(r.length>1||this.scrollDisabled){if(this.isMoveToBottom){var i=o+1;if(i===e&&(i=o),this.pageIndexBeforeAdjust===o)return this.goToPage(i)}if(this.isMoveToTop){var a=o-1;if(a<0&&(a=0),this.pageIndexBeforeAdjust===o)return this.goToPage(a,!0);n=!0}}return this.goToPage(o,n)}this.reset()},e.prototype.scroll=function(t){if(this.docRender){var e=this.getCurrentPageIndex(),n=this.docRender.doc.getPageCount(),o=this.getVisibleIndexes();if(this.scrollDisabled)return this.goToPage(e);if(2===o.length){var r=!1;if(e===this.pageIndexBeforeScroll){var i=e;t>0?i=Math.min(e+1,n-1):(i=Math.max(e-1,0),r=!0),this.goToPage(i,r)}else this.goToPage(e,r)}}},e.prototype.adjustPadding=function(t){for(var e=this.getItems(),n=this.docRender.viewerRender.scrollWrap,o=n.getHeight()-n.getScrollOffsetTop(),r=t+7,i=t-2<0?0:t-4;i<r;i++){var a=e.eq(i).find(".fv__pdf-page-layout").height();a<=o?e.eq(i).css("padding",(o-a)/2+"px 0"):e.eq(i).css("padding","")}},e.prototype.renderViewMode=function(t,e,n,o,r){var i=t.index;this.adjustPadding(i)},e.prototype.reset=function(){this.isMoveToBottom=!1,this.isMoveToTop=!1,this.isScrollToBottom=!1,this.isScrollToTop=!1,this.isNeedAdjust=!1,this.isWheel=!1,this.flip=!1},e.prototype.jumpToPage=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.x,o=void 0===n?0:n,r=e.y,i=void 0===r?0:r;this.reset();var a=this.getItems();t>=a.length?t=a.length-1:t<0&&(t=0);var s=a.eq(t),c=this.docRender.viewerRender.scrollWrap,u=(this.docRender.$ui.width(),c.getScrollHost().clientWidth),l=c.getScrollHost().clientHeight,f=s.find(".fv__pdf-page-layout"),p=f.width(),d=f.height();u>p&&l>d&&(i=0);var h=parseInt(s.css("margin-top"));if(0!==s.length){var g=a.get(t).offsetLeft+o,m=y/2;i>m&&(i=m);var v=a.get(t).offsetTop+i+h/2,y=s.height();this.docRender.viewerRender.scrollWrap.scrollTo(g,v)}},e.prototype.getFitHeight=function(t){var e=this.docRender.viewerRender.scrollWrap;return e.getHeight()-e.getScrollOffsetTop()},e.prototype.getFitWidth=function(t){var e=this.docRender.viewerRender.scrollWrap;return e.getWidth()-e.getScrollOffsetLeft()},e.prototype.getVisibleIndexes=function(){var t=this.docRender.viewerRender.scrollWrap,e=t.getScrollTop()-t.getScrollOffsetTop(),n=t.getHeight(),o=e+n,i=[],a=0;return this.getItems().each((function(t,n){if(a>o)return!1;var s,c,u=n.offsetHeight;s=parseInt((0,r.default)(n).css("margin-top")),c=parseInt((0,r.default)(n).css("margin-bottom"));var l=a-s/2,f=a+u+c/2;a=f+c/2,l-o<-1&&f-e>1&&i.push(t)})),i},e.prototype.getCurrentPageIndex=function(){var t=[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(this.getItems())),e=this.docRender.viewerRender.scrollWrap.scrollHost.getBoundingClientRect();if(1===t.length)return 0;var n=0;return t.some((function(t,o){var r=t.firstElementChild.getBoundingClientRect();return!(r.bottom<=e.top||r.right<=e.left||r.left>=e.right||r.top>=e.bottom)&&(n=o,!0)})),n},e.prototype.out=function(){this.enableScroll(),this.docRender.$container.removeClass(this.constructor.getName()),this._unwatchScrollEvent&&this._unwatchScrollEvent(),this.scrollHost.removeEventListener("wheel",this.wheelHandler),this.scrollHost.removeEventListener("mousedown",this.mouseDown),window.removeEventListener("mouseup",this.mouseUp),window.removeEventListener("keyup",this.keyup),window.removeEventListener("orientationchange",this.orientationchangeHandler),this.hammer.destroy(),this.docRender.pdfViewer.eventEmitter.off(i.UIEvents.zoomToSuccess,this.adjust);for(var e=this.getItems(),n=e.length,o=0;o<n;o++)e.eq(o).css({padding:""});t.prototype.out.call(this)},e.prototype.getNextPageIndex=function(){var t=this.docRender.doc.getPageCount(),e=this.getCurrentPageIndex();return e<t-1&&e++,e},e.prototype.getPrevPageIndex=function(){var t=this.getCurrentPageIndex();return t>0&&t--,t},e}(o.default);e.default=p;var d=function(t,e){var n=void 0;return function(){var o=this,r=arguments;clearTimeout(n),n=setTimeout((function(){e.apply(o,r)}),t)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.FIELD_USER_SPACE_UNIT="userSpaceUnit",e.FIELD_USER_SPACE_SCALE="userSpaceScaleValue",e.FIELD_REAL_UNIT="realUnit",e.FIELD_REAL_SCALE="realScaleValue"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(48),r=s(n(8)),i=n(343),a=s(i);function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var f=function(t){function e(){return c(this,e),u(this,t.apply(this,arguments))}return l(e,t),e.getName=function(){return"sidebar-panel"},e.getMetadata=function(){return{options:{timeFormatter:{type:"function",required:!1,defaultValue:a.default},lazy:{type:"boolean",field:"isLazy",required:!1,defaultValue:!0},floatingTimeFormatter:{type:"function",required:!1,defaultValue:i.commentListFloatingTimeFormatter}}}},e.prototype.getSlotContainer=function(e){switch(e){case"header":return this.headerElement}return t.prototype.getSlotContainer.call(this,e)},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this);var n=function(t){e.broadcast("scroll")};this.bodyElement.addEventListener("scroll",n),this.addDestroyHook((function(t){return e.bodyElement.removeEventListener("scroll",n)}));var o=this.getPDFUI();"function"!=typeof o.customShowReplyDialogHandler&&(o.customShowReplyDialogHandler=function(t,n,i){var a,s=t.getPDFPage().getIndex(),c=void 0;a=t.annot,c="strikeout"===a.getType()&&a.isReplace&&a.isReplace()?t.annot.getGroupHeader().getId():t.getId(),e.active(),e.parent.isCollapsed()&&e.parent.expand();var u=t.annot.getType();if("string"!=typeof u||"freetext"!==u.toLowerCase()){var l=e.getComponentByName("commentlist"),f=l.findChildren((function(t){return!!t&&t.controller.data.page.getIndex()===s}),!1)[0],p=f.children().filter((function(t){return t.controller.data.annot.getId()===c}))[0],d=function(e){f.active(),l.selectComponent(e);e.element.scrollIntoView({block:"nearest",behavior:"smooth",inline:"nearest"}),o.getPDFViewer().then((function(o){var r=o.getAnnotManager().getAnnotFlag(t.annot);if(r.checkReadOnly());else switch(n){case"reply":e.focusOnReplyEditor();break;case"comment":default:t.propertyDisabled()||r.checkLockedContents()||r.checkLocked()||l.editComponent(e)}}))};p?d(p):o.eventEmitter.on(r.default.appendCommentListComment,(function t(e,n){n.getId()===c&&(d(e),o.eventEmitter.off(r.default.appendCommentListComment,t))}))}else i()},this.addDestroyHook((function(){return o.customShowReplyDialogHandler=null})))},e}(o.SidebarPanelComponent);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UIXAddonI18nBackend=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=a(n(32)),i=a(n(1073));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var c=a(n(7)).default.getLogger("UIXAddon"),u=[],l=(e.UIXAddonI18nBackend=function(){function t(){s(this,t)}return t.prototype.init=function(t,e,n){var o=n.fallbackLng;Array.isArray(o)?this.fallbackLng=o[0]:"string"==typeof o&&(this.fallbackLng=o)},t.prototype.read=function(t,e,n){var o=u.find((function(t){return t.getI18NNamespace()===e}));if(o){var r=o.i18nInfo.sources;if(!r[t]){var i=this.fallbackLng;return i=t in r?t:this.fallbackLng||Object.keys(r)[0],r[t]=r[i],void n(null,r[i])}}n(null,null)},o(t,null,[{key:"type",get:function(){return"backend"}}]),t}(),function(){function t(){s(this,t),this.clazz=this.constructor}return t.getName=function(){(0,r.default)()},t.getLoader=function(){var t={ns:this.getName()};return{loadI18N:function(){return Promise.resolve({})},loadAddonInfo:function(){return Promise.resolve(t)}}},t.load=function(t,e){var n=this,o=e.library||this.name;window[o]||(o in window?c.warn("The addon's variable name '"+o+"' is allready exists globally!",this):window[o]=this),this.addonInfo=e;var r=(this.getLoader()||new i.default(t)).loadI18N(e).then((function(t){n.i18nInfo=t}));return Promise.all([r]).then((function(t){u.push(n)}))},t.getLibraryName=function(){if(!this.addonInfo)throw new Error("Addon is not loaded!");return this.addonInfo.library||this.name},t.getI18NNamespace=function(){return this.i18nInfo.ns||this.getName()},t.init=function(){this.initOnLoad()},t.initOnLoad=function(){},t.prototype.init=function(t){},t.prototype.fragments=function(){return[]},t.prototype.getI18NResources=function(){return this.clazz.i18nInfo.sources},t.prototype.beforeMounted=function(t){},t.prototype.pdfViewerCreated=function(t){},t.prototype.afterMounted=function(t){},t.prototype.destroy=function(){},t.prototype.receiveAction=function(t){},t}());e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=f(n(55)),r=f(n(215)),i=f(n(131)),a=n(5),s=f(n(7)),c=f(n(129)),u=(f(n(368)),f(n(101))),l=(n(9),n(11));n(13);function f(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var g=s.default.getLogger("PDFUI/ViewerInitializerPartial"),m=function(t){function e(){return p(this,e),d(this,t.apply(this,arguments))}return h(e,t),e.depends=function(){return[u.default,r.default,i.default,c.default]},e.prototype.construct=function(t,e,n,o,r,i,a){var s=this,c=e.viewerOptions,u=e.keymap;c.keymap=Object.assign(c.keymap||{},u||{}),this.pdfViewerFactory=t.viewerFactory;var f=this.pdfViewer=this.pdfViewerFactory.create(c,t,n);return f.eventEmitter.on(l.Events.openFileSuccess,(function(){var e=s.pdfViewer.getStateHandlerManager(),n=t.customs;e.switchTo(n.defaultStateHandler,n.handlerParams)})),f},e.prototype.link=function(t,e,n,o,r){var i=this,s=o.appearance;this.pdfViewerFactory.localize();var c=e.getComponentByName(a.WEBPDF_VIEWER_COMPONENT_NAME);if(!c)throw new Error("<viewer/> not found in your template!");var u=this.pdfViewer;return u.viewerUI.setRootComponent(e),c.setPDFViewer(u),this.pdfViewerFactory.postConstructPDFViewer(this.pdfUI),c.addDestroyHook((function(){i.pdfViewerFactory.destroy()})),c.on("localize",(function(){i.pdfViewerFactory.localize()})),n.forEach((function(t){try{t.pdfViewerCreated(u,e)}catch(t){g.error("an error occurred when executing addon's method: ",t)}})),e.mounted(),n.forEach((function(t){try{t.afterMounted(e)}catch(t){g.error("an error occurred when executing addon's method: ",t)}})),s.afterMounted(e),u},e}(o.default);e.default=m},function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE__89__},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t){if("string"!=typeof t)throw new Error("invalid url type: ("+(void 0===t?"undefined":r(t))+")!");return 0===(t=t.trim()).indexOf("file:")?new c(t):new s(t)}var s=function(){function t(e){i(this,t);var n=t.REGEX.exec(e);if(!n)throw new Error('Illegal argument: incorrect url: "'+e+'"');this.protocol=n[1],this.port=parseInt(n[5]),isNaN(this.port)&&(this.port=""),this.pathname=n[6]||"/",this.pathname=this.pathname.replace(/(\/|\\)+/g,"/"),this.dirname="/"===this.pathname[this.pathname.length-1]?this.pathname:l(this.pathname,".."),this.hostname=n[3]||"",this.host=this.hostname+(this.port?":"+this.port:""),this.query=n[7]||"",this.hash=n[8]||""}return t.isValid=function(e){return t.REGEX.test(e)},o(t,null,[{key:"REGEX",get:function(){return/^([a-z]+)\:\/\/(([\w\-\.]+)(\:(\d+))?(\/[^?#]*)?(\?[^#]*)?(#.*)?)$/}}]),t.prototype.join=function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];var r=l.apply(void 0,[this.dirname].concat(n));return new t(this.protocol+"://"+this.host+r+this.query+this.hash)},t.prototype.absolute=function(){return this.protocol+"://"+this.host+this.pathname+this.query+this.hash},t}(),c=function(){function t(e){i(this,t),this.protocol="file";var n=/^(file:\/\/\/)([a-z]\:)(\/.+?)(\?([^?#]*))?(#([^#]*))?$/i.exec(e);if(!n)throw new Error('Illegal argument: incorrect URL: "'+e+'"');this.disk=n[2],this.path=n[3],this.hash=n[5]||"",this.query=n[4]||""}return t.isValid=function(e){return t.REGEX.test(e)},o(t,null,[{key:"REGEX",get:function(){return/^(file:\/\/\/)([a-z]\:)(\/.+?)(\?([^?#]*))?(#([^#]*))?$/i}}]),t.prototype.join=function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];var r=l.apply(void 0,[this.path].concat(n));return new t("file:///"+this.disk+r+this.query+this.hash)},t.prototype.absolute=function(){return"file:///"+this.disk+this.path+this.query+this.hash},t}();function u(t){return"/"===t[0]}function l(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var o=e[0],r=void 0;if(o.match(/^\w+?:\/\//)){var i=/^(\w+?:\/\/[^\/]+)(\/?.*)/,a=o.match(i);r=a[1],e[0]=a[2]||"/"}var s=e.filter((function(t){return"string"==typeof t&&t.length>0})),c=s.map((function(t){return t.replace(/[\/\\]+/,"/").split("/").filter((function(t,e,n){return""!==t||0===e}))})).reduce((function(t,e){return e.forEach((function(e,n){switch(e){case".":break;case"..":t.pop();break;case"":t=[""];break;default:t.push(e)}})),t}),[]).join("/");return s.length>0&&(/[\/\\\\]/.test(s[0][0])||0===s[0].indexOf(".."))&&"/"!==c[0]&&(c="/"+c),r?r+c:c}function f(t){var e=u(t),n=t&&"/"===t[t.length-1];return(t=function(t,e){for(var n=[],o=0,r=t.length;o<r;o++){var i=t[o];i&&("."!==i?".."===i?n.length>0&&".."!==n[n.length-1]?n.pop():e&&n.push(".."):n.push(i):e&&0===n.length&&n.push(i))}return n}(t.split("/"),!e).join("/"))||u?(t&&n&&(t+="/"),(e?"/":"")+t):""}e.getCurrentPath=function(){var t=location.href.trim();return t.lastIndexOf("/")===t.length-1?location.href:a(location.href).join("../").absolute()},e.join=function(){for(var t="",e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];for(var r=0,i=n.length;r<i;r++){var a=n[r];a&&(t+=t?"/"+a:a)}return f(t)},e.isUrl=function(t){return s.isValid(t)||c.isValid(t)},e.urlJoin=function(t){for(var e,n=arguments.length,o=Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return(e=a(t)).join.apply(e,o).absolute()},e.resolvePath=l,e.mergePath=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return f(e.join("/").replace(/[\/\\]+/,"/"))}},function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE__91__},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(416)),r=s(n(91)),i=s(n(3)),a=n(6);function s(t){return t&&t.__esModule?t:{default:t}}var c=function(){function t(e,n,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.viewerComponent=e;var s=this.viewerComponent.getModel();a=a||this.viewerComponent.getPropertyOptions();var c=(0,o.default)(a);n&&n!==document.body||(c='<dialog class="fv__dialog fv__annot-properties-dialog">'+c+"</dialog>");var u=(0,i.default)(c);this.$propertiesDialog=u,this.$fillColor=u.find("#fillcolor-input"),this.$txThickness=u.find("#thickness-input-tx"),this.updateBorderInfo(s,a),this.bindChangeEvent();var l=n||document.body;if(u.appendTo(l),!n||n===document.body){var f=u[0];r.default.registerDialog(f),f.showModal()}}return t.prototype.toggle=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t?this.$propertiesDialog.find("input,select").removeAttr("disabled"):this.$propertiesDialog.find("input,select").attr("disabled","true")},t.prototype.updateBorderInfo=function(t,e){var n=this.$propertiesDialog;if(e.lineEndStyle&&n.find("#endstyle-select [value="+t.getEndingStyle()+"]").attr("selected",!0),e.lineStartStyle)switch(t.getType()){case"freetext":n.find("#startstyle-select [value="+t.getCalloutLineEndingStyle()+"]").attr("selected",!0);break;default:n.find("#startstyle-select [value="+t.getStartStyle()+"]").attr("selected",!0)}if(void 0!==e.highlightingMode&&n.find("#highlighting-select [value="+t.getHighlightingMode()+"]").attr("selected",!0),void 0!==e.rotation&&n.find("#rotation-select [value="+t.getRotation()+"]").attr("selected",!0),!1!==e.borderStyle){var o=t.getBorderDashes();if(1==t.getBorderStyle()&&o.length>0){var r=Math.max.apply(Math,o),i=Math.min.apply(Math,o);i==r?i>3?n.find("#borderStyle-select [value=3]").attr("selected",!0):i>2?n.find("#borderStyle-select [value=2]").attr("selected",!0):i<2||2==i?n.find("#borderStyle-select [value=1]").attr("selected",!0):n.find("#borderStyle-select [value=3]").attr("selected",!0):r>8?n.find("#borderStyle-select [value=6]").attr("selected",!0):r>4?n.find("#borderStyle-select [value=5]").attr("selected",!0):n.find("#borderStyle-select [value=4]").attr("selected",!0)}else if(t.getBorderStyle()==a.BORDER_STYLE.CLOUDY){switch(t.getCloudIntensity()){case 1:n.find("#borderStyle-select [value=7]").attr("selected",!0);break;case 2:n.find("#borderStyle-select [value=8]").attr("selected",!0)}}}},t.prototype.bindChangeEvent=function(){var t=this;this.$propertiesDialog.on("click",".fv__btn-close",(function(){t.viewerComponent.hidePropertiesDialog?t.viewerComponent.hidePropertiesDialog():t.close()})).on("change","#color-input",(function(e){var n=e.target,o=parseInt(n.value.replace("#",""),16);t.viewerComponent.setColor(o)})).on("change","#opacity-input",(function(e){var n=e.target.value;t.viewerComponent.setOpacity(+n)})).on("change","#thickness-input",(function(t){return o("#thickness-input","#thickness-input-tx")})).on("blur","#thickness-input",(function(t){return o("#thickness-input","#thickness-input-tx")})).on("blur","#thickness-input-tx",(function(t){return o("#thickness-input-tx","#thickness-input")})).on("change","#thickness-input-tx",(function(t){return o("#thickness-input-tx","#thickness-input")})).on("change","#borderStyle-select",(function(e){var n=e.target.value,o=a.BORDER_STYLE.DASHED;switch(n){case"0":n=[],o=a.BORDER_STYLE.SOLID;break;case"1":n=[2,2,2,2];break;case"2":n=[3,3,3,3];break;case"3":n=[4,4,4,4];break;case"4":n=[4,3,2,3];break;case"5":n=[8,4,4,4];break;case"6":n=[4,3,16,3];break;case"7":n=1,o=a.BORDER_STYLE.CLOUDY;break;case"8":n=2,o=a.BORDER_STYLE.CLOUDY}t.viewerComponent.setBorderStyle(o,n)})).on("change","#fillcolor-input",(function(e){var n=e.target,o=parseInt(n.value.replace("#",""),16);t.viewerComponent.setFillColor(o)})).on("change","#fillColor-transparent-input",(function(e){e.target.checked?(t.$fillColor.val("#ffffff"),t.$fillColor.attr("disabled",!0),t.viewerComponent.setFillColor(0)):t.$fillColor.removeAttr("disabled")})).on("change","#startstyle-select",(function(e){var n=e.target.value;t.viewerComponent.setEndingStyle(!0,n)})).on("change","#endstyle-select",(function(e){var n=e.target.value;t.viewerComponent.setEndingStyle(!1,n)})).on("change","#hasCap-input",(function(e){var n=e.target.checked;t.viewerComponent.enableCaption(n)})).on("change","#highlighting-select",(function(e){var n=e.target.value;t.viewerComponent.setHighlightingMode(n)})).on("change","#rotation-select",(function(e){var n=e.target.value;t.viewerComponent.setRotation(90*+n)}));var e=this,n=!1;function o(t,o){if(!n){n=!0;var r=e.$propertiesDialog,i=r.find(t).val();e.viewerComponent.getModel().getBorderWidth()!=i?(e.viewerComponent.setBorderWidth(+i),n=!1,r.find(o).val(i)):n=!1}}},t.prototype.close=function(){var t=this.$propertiesDialog;t&&(t[0].close(),t.remove(),this.$propertiesDialog=null)},t}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(61)),r=n(21);function i(t){return t&&t.__esModule?t:{default:t}}function a(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.prototype.prepare=function(){var t=this.component,e=t.annot;this.tileCanvas=this.tileCanvas||new o.default((function(n,o,i,a,s,c,u,l,f){return t.getPDFPage().getAnnotBitmap(e.getId(),(0,r.pt2px)(c),f,{x:u*c+o*s,y:l*c+n*s,width:i,height:a})}),t.$ui)},e.prototype.doHide=function(){this.tileCanvas.hideContainer()},e.prototype.doShow=function(){this.tileCanvas.showContainer()},e.prototype.doRender=function(t,e,n){this.tileCanvas.setVisibleRect(n);var o=!0;if(n){var r=this.component.getRect(),i={left:Math.max(r.left,n.left),top:Math.max(r.top,n.top),right:Math.min(r.right,n.right),bottom:Math.min(r.bottom,n.bottom)};o=i.right>=i.left&&i.bottom>=i.top}var s,c,u=this.component.getTileConfig(t,e);return o?(s=this.tileCanvas).redraw.apply(s,a(u)):((c=this.tileCanvas).updateDom.apply(c,a(u)),Promise.resolve())},e.prototype.willRender=function(){this.tileCanvas.$container.get(0).style.willChange="left, top, width, height"},e.prototype.afterRender=function(){this.tileCanvas.$container.get(0).style.willChange="auto"},e.prototype.destroy=function(){this.prepared&&(t.prototype.destroy.call(this),this.tileCanvas.destroy(),this.tileCanvas=null)},e.prototype.clearCache=function(){this.tileCanvas.clearCache()},e.prototype.invisibleRender=function(){try{this.tileCanvas.invisibleRender()}catch(t){}},e}(i(n(109)).default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.DIR_NORTH="north",e.DIR_SOUTH="south",e.DIR_EAST="east",e.DIR_WEST="west",e.DIR_NORTH_WEST="north-west",e.DIR_NORTH_EAST="north-east",e.DIR_SOUTH_WEST="south-west",e.DIR_SOUTH_EAST="south-east"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={OBJECT_URL:"object-url-creation"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=c(n(16)),r=n(28),i=c(n(24)),a=c(n(70)),s=n(21);function c(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(e,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.page=n,this.doc=n.doc,this.engine=o,this.info=e}return t.prototype.destroy=function(){this.page=null,this.doc=null,this.engine=null,this.info=null},t.prototype.getId=function(){return this.info.id},t.prototype.getPDFPage=function(){return this.page},t.prototype.getBitmap=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.getPDFPage();return n.doc.api.getGraphicsObjectBitmap(n.getPDFDoc().getId(),n.getId(),this.getId(),t*(0,r.getPtPxRatio)(),e)},t.prototype.getRect=function(){return this.info.rect},t.prototype.setMatrix=function(t){var e=this;if(!this.doc.checkPermission(i.default.modify))throw new Error("Permission error");var n=this.getPDFPage();return this.info.rect=t,n.doc.api.setGraphicsObjectMatrix(n.getPDFDoc().getId(),n.getId(),this.getId(),t).then((function(t){e.info=t,e.doc.engine.eventEmitter.emit(o.default.graphicsUpdated,n)}))},t.prototype.getMatrix=function(){var t=this.info.matrix;return new a.default(t.a,t.b,t.c,t.d,t.e,t.f)},t.prototype.getDeviceMatrix=function(){var t=this.getMatrix();t.translate(0,-this.getPDFPage().getHeight());var e=(0,s.pt2px)(1);return t.scale(e,-e),t},t.prototype.getType=function(){return this.info.type},t.prototype.getBorderDashes=function(){return this.info.graphState.dashes},t.prototype.getBorderStyle=function(){return this.info.graphState.dashes.length>0?1:0},t.prototype.setBorderStyle=function(t,e){var n=this;if(!this.doc.checkPermission(i.default.modify))throw new Error("Permission error");var r=this.getPDFPage();return this.info.graphState.dashes=e,r.doc.api.setGraphicsObjectBorderStyle(r.getPDFDoc().getId(),r.getId(),this.getId(),t,e).then((function(t){n.info=t,n.doc.engine.eventEmitter.emit(o.default.graphicsUpdated,r)}))},t.prototype.getBorderWidth=function(){return this.info.graphState.lineWidth},t.prototype.setBorderWidth=function(t){var e=this;if(!this.doc.checkPermission(i.default.modify))throw new Error("Permission error");var n=this.getPDFPage();return this.info.graphState.lineWidth=t,n.doc.api.setGraphicsObjectBorderWidth(n.getPDFDoc().getId(),n.getId(),this.getId(),t).then((function(t){e.info=t,e.doc.engine.eventEmitter.emit(o.default.graphicsUpdated,n)}))},t.prototype.getBorderColor=function(){return this.info.strokeColor},t.prototype.setBorderColor=function(t){var e=this;if(!this.doc.checkPermission(i.default.modify))throw new Error("Permission error");var n=this.getPDFPage();return this.info.strokeColor=t,n.doc.api.setGraphicsObjectBorderColor(n.getPDFDoc().getId(),n.getId(),this.getId(),t).then((function(t){e.doc.engine.eventEmitter.emit(o.default.graphicsUpdated,n)}))},t.prototype.getFillColor=function(){return this.info.fillColor},t.prototype.setFillColor=function(t){var e=this;if(!this.doc.checkPermission(i.default.modify))throw new Error("Permission error");var n=this.getPDFPage();return this.info.fillColor=t,n.doc.api.setGraphicsObjectFillColor(n.getPDFDoc().getId(),n.getId(),this.getId(),t).then((function(t){e.doc.engine.eventEmitter.emit(o.default.graphicsUpdated,n)}))},t.prototype.getOpacity=function(){return((4278190080&this.info.strokeColor)>>>0)/4278190080},t.prototype.setOpacity=function(t){var e=this;if(!this.doc.checkPermission(i.default.modify))throw new Error("Permission error");var n=parseInt(255*t)<<24>>>0;this.info.strokeColor=16777215&this.info.strokeColor|n;var r=this.getPDFPage();return r.doc.api.setGraphicsObjectOpacity(r.getPDFDoc().getId(),r.getId(),this.getId(),t).then((function(t){e.doc.engine.eventEmitter.emit(o.default.graphicsUpdated,r)}))},t.prototype.remove=function(){if(!this.doc.checkPermission(i.default.modify))throw new Error("Permission error");return this.getPDFPage().removeGraphicsObject(this)},t}();e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.fileSpec=e}return t.prototype.getChecksum=function(){return this.fileSpec.checksum},t.prototype.getCreationDateTime=function(){return this.fileSpec.creationDateTime},t.prototype.getDescription=function(){return this.fileSpec.description},t.prototype.getDict=function(){return this.fileSpec.dict},t.prototype.getFileData=function(){return this.fileSpec.fileData},t.prototype.getFileName=function(){return this.fileSpec.fileName},t.prototype.getFileSize=function(){return this.fileSpec.fileSize},t.prototype.getModifiedDateTime=function(){return this.fileSpec.modifiedDateTime},t.prototype.getSubtype=function(){return this.fileSpec.subtype},t.prototype.isEmbedded=function(){return this.fileSpec.isEmbedded},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(7)),r=i(n(22));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=o.default.getLogger("Localizer"),c=Promise.resolve(),u=function(){function t(e){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(a(this,t),this.i18next=e,this.options=o,e.isInitialized)this.i18nPromise=c;else{var i=(0,r.default)(),s=function t(){e.loadNamespaces("viewer_",(function(){i.resolve()})),n.i18next.off("loaded",t)},u=function t(e,o,r){i.reject(r),n.i18next.off("failLoading",t)};this.i18next.on("loaded",s),this.i18next.on("failLoading",u),this.i18nPromise=i.promise}this.isI18nPrepared=!1,this.i18nPromise.then((function(){n.isI18nPrepared=!0}))}return t.prototype.translate=function(t,e){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;return e=Object.assign({},e,{defaultValue:o}),this.isI18nPrepared?Promise.resolve(this.i18next.t(t,e)):this.i18nPromise.then((function(){return n.i18next.t(t,e)}))},t.prototype.translateSync=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;return e=Object.assign({},e,{defaultValue:n}),this.i18next.t(t,e)},t.prototype.localizeRecursive=function(t,e){var n=this;e=Object.assign({},this.options,e||{});var o=function(){n.localizeElementSync(t,e);var o=t.querySelectorAll("[data-i18n]"),r=t.querySelectorAll("[data-i18n-title]");o.forEach((function(t){return n.localizeElementSync(t,e)})),n.localizeElementTitleSync(t,e),r.forEach((function(t){return n.localizeElementTitleSync(t,e)}))};return this.isI18nPrepared?(o(),c):this.i18nPromise.then(o)},t.prototype.localizeElementTitle=function(t,e){var n=this;return this.isI18nPrepared?(this.localizeElementTitleSync(t,e),c):this.i18nPromise.then((function(){n.localizeElementTitleSync(t,e)}))},t.prototype.localizeElementTitleSync=function(t,e){var n=t.getAttribute("data-i18n-title");if("string"==typeof n&&0!==(n=n.trim()).length){var o=this.translateSync(n,e,n);t.title!==o&&(t.title=o)}},t.prototype.localizeElement=function(t,e){var n=this;return this.isI18nPrepared?(this.localizeElementSync(t,e),c):this.i18nPromise.then((function(){n.localizeElementSync(t,e)}))},t.prototype.localizeElementSync=function(t,e){var n=t.getAttribute("data-i18n");if(n&&0!==(n=n.trim()).length){var o=t.getAttribute("i18n-target");if(!o||t.querySelector(o)){var r=t.getAttribute("i18n-options");if(r){var i=JSON.parse(r);e=e?Object.assign({},i,e):i}this._parseElement(t,n,e)}else s.warn("No target found of selector: "+o)}},t.prototype._parseElement=function(t,e,n){var o="text";if("["===e[0]){var r=e.indexOf("]");o=e.substring(1,r),e=e.substring(r+1)}switch(o){case"html":var i=t.innerHTML.trim().length>0?t.innerHTML:e,a=this.translateSync(e,n,i);t.innerHTML=a;break;case"value":var s=e,c=this.translateSync(e,n,s);t.value!==c&&(t.value=c);break;case"text":var u=e,l=this.translateSync(e,n,u),f=t.childNodes;if(1===f.length&&f.item(0)instanceof Text){var p=f.item(0);if(p.textContent!==l)return void(p.textContent=l)}t.innerText!=l&&(t.innerText=l);break;default:if(0===o.indexOf("data-")){var d=o.substring("data-".length),h=this.translateSync(e,n,t.dataset[d]);t.dataset[d]=h}else{var g=this.translateSync(e,n,e);t.setAttribute(o,g)}}},t}();e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(2)),r=i(n(8));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return r.viewModeName=o,r}return a(e,t),e.getName=function(){return"ViewModeController"},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this);this.getPDFUI();this.getPDFUI().addViewerEventListener(r.default.startChangeViewMode,(function(t,n){t.getName()===e.viewModeName?(e.component.active(),e.component.parent.select&&e.component.parent.select(e.component)):e.component.deactive()}))},e.prototype.handle=function(){var t=this;return this.getPDFUI().getViewModeManager().then((function(e){return e.switchTo(t.viewModeName)}))},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.DISPATCH_STORE_ANNOTATION_DISPLAYING="fv--annotation-displaying"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=c(n(55)),r=n(90),i=c(n(98)),a=c(n(130)),s=c(n(1077));function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var p=function(t){function e(){return u(this,e),l(this,t.apply(this,arguments))}return f(e,t),e.depends=function(){return[a.default]},e.prototype.construct=function(t,e,n){var o=e.i18n||{},r=this.i18nPath=this._prepareI18nPath(o,n);return this.i18n=this._createI18nInstance(o,r),this.i18n},e.prototype.link=function(){return this._prepareI18n()},e.prototype._prepareI18nPath=function(t,e){var n=t.path;return n=n?(0,r.isUrl)(n)?n:(0,r.urlJoin)(e,n):e+"locales"},e.prototype._createI18nInstance=function(t,e){var n=Object.assign({defaultNS:"ui_",ns:"ui_",fallbackLng:"en-US",absolutePath:e},t),o=new s.default(n),r=this.pdfUI;return this.defaultLanguage=r.currentLanguage=n.lng||(Array.isArray(n.fallbackLng)?n.fallbackLng[0]:n.fallbackLng),r.i18n=o,o},e.prototype._prepareI18n=function(){var t=this.i18n,e=this.pdfUI;return e.i18nPromise=new Promise((function(e,n){t.on("loaded",(function(n){e(t)})),t.on("failLoading",(function(e,o,r){n(t)}))})),e.localizer=new i.default(t),{localizer:e.localizer,i18n:t,defaultLanguage:this.defaultLanguage}},e}(o.default);e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(106),i=(o=r)&&o.__esModule?o:{default:o};var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.flag=e}return t.prototype.getValue=function(){return this.flag},t.prototype.checkInvisible=function(){return this.flag&i.default.invisible},t.prototype.checkHidden=function(){return this.flag&i.default.hidden},t.prototype.checkPrint=function(){return this.flag&i.default.print},t.prototype.checkNoZoom=function(){return this.flag&i.default.noZoom},t.prototype.checkNoRotate=function(){return this.flag&i.default.noRotate},t.prototype.checkNoView=function(){return this.flag&i.default.noView},t.prototype.checkReadOnly=function(){return this.flag&i.default.readOnly},t.prototype.checkLocked=function(){return this.flag&i.default.locked},t.prototype.checkToggleNoView=function(){return this.flag&i.default.toggleNoView},t.prototype.checkLockedContents=function(){return this.flag&i.default.lockedContents},t.prototype.and=function(t){return this.flag=this.flag&t,this},t.prototype.or=function(t){return this.flag=this.flag|t,this},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(382);Object.keys(o).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})}));var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(o);window.UIExtension=r},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";n.r(e),n.d(e,"Activatable",(function(){return i})),n.d(e,"ActivationGroup",(function(){return a})),n.d(e,"ActivationManager",(function(){return s}));var o,r=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=function(){function t(){this.isActive=!1}return t.prototype.active=function(){this.isActive||(this.isActive=!0,this.doActive())},t.prototype.unActive=function(){this.isActive&&(this.isActive=!1,this.doDeactive())},t}(),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.activations=[],e}return r(e,t),e.prototype.add=function(t){this.contains(t)||(this.activations.push(t),this.isActive&&!t.isActive&&t.active())},e.prototype.remove=function(t){var e=this.activations.indexOf(t);e<0||(this.activations.splice(e,1),this.isActive&&t.isActive&&t.unActive())},e.prototype.exclude=function(t){return this.activations.filter((function(e){return!t.contains(e)}))},e.prototype.contains=function(t){return this.activations.indexOf(t)>-1||this.activations.some((function(n){return n instanceof e&&n.contains(t)}))},e.prototype.clear=function(){this.activations.forEach((function(t){t.isActive&&t.unActive()})),this.activations.length=0},e.prototype.getAllActivations=function(){return this.activations.reduce((function(t,n){return n instanceof e?t.push.apply(t,n.getAllActivations()):t.push(n),t}),[])},e.prototype.hasActivations=function(){return this.activations.length>0},e.prototype.doActive=function(){this.activations.forEach((function(t){t.isActive||t.active()}))},e.prototype.doDeactive=function(){this.activations.forEach((function(t){t.isActive&&t.unActive()})),this.activations.length=0},e}(i),s=function(){function t(){}return t.prototype.active=function(t){var e,n,o,r;if(this.currentActivatable!==t){if(this.currentActivatable instanceof a){if(this.currentActivatable.contains(t))return;if(t instanceof a){var i=this.currentActivatable.exclude(t);i.length>0?i.forEach((function(t){t.isActive&&t.unActive()})):this.currentActivatable.isActive&&this.currentActivatable.unActive()}else(null===(e=this.currentActivatable)||void 0===e?void 0:e.isActive)&&(null===(n=this.currentActivatable)||void 0===n||n.unActive())}else(null===(o=this.currentActivatable)||void 0===o?void 0:o.isActive)&&(null===(r=this.currentActivatable)||void 0===r||r.unActive());this.currentActivatable=t,t.isActive||t.active()}},t.prototype.unActive=function(t){this.currentActivatable&&(this.currentActivatable instanceof a?this.currentActivatable.remove(t):this.currentActivatable===t&&(t.isActive&&t.unActive(),this.currentActivatable=void 0))},t.prototype.unActiveCurrent=function(){var t,e;(null===(t=this.currentActivatable)||void 0===t?void 0:t.isActive)&&(null===(e=this.currentActivatable)||void 0===e||e.unActive()),this.currentActivatable=void 0},t.prototype.getCurrentActivatable=function(){return this.currentActivatable},t.prototype.getAllCurrentActivatables=function(){return this.currentActivatable?this.currentActivatable instanceof a?this.currentActivatable.getAllActivations():[this.currentActivatable]:[]},t.prototype.hasActivations=function(){return null!=this.currentActivatable&&(!(this.currentActivatable instanceof a)||this.currentActivatable.hasActivations())},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={invisible:1,hidden:2,print:4,noZoom:8,noRotate:16,noView:32,readOnly:64,locked:128,toggleNoView:256,lockedContents:512}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.attachContextMenuEvent=function(t,e,n){if(r.isMobile&&(o.isSafari||r.isXiaomi||o.isUC)||r.isIPAD&&o.isSafari){var i=null,a=!1,s=void 0,c=0,u=function(t){a=!1,t.touches&&1!==t.touches.length||(c=0,s={x:t.touches[0].pageX,y:t.touches[0].pageY},i=setTimeout((function(){a=!0}),600))},l=function(t){if((!t.touches||1===t.touches.length)&&s&&a){var e=t.touches[0],n=Math.pow(e.pageX-s.x,2)+Math.pow(e.pageY-s.y,2);(c=Math.max(c,n))>Math.pow(15,2)&&(clearTimeout(i),a=!1)}},f=function(n){if(s=null,a){if(!n.changedTouches||1!==n.changedTouches.length)return clearTimeout(i),void(a=!1);var o=n.changedTouches[0],r=new Event("contextmenu"),c=["target","currentTarget","clientX","clientY","pageX","pageY","offsetX","offsetY","path"].reduce((function(t,e){return t[e]={value:o[e]},t}),{});c.stopPropagation={value:function(){n.stopPropagation()}},c.preventDefault={value:function(){n.preventDefault()}};var u=Object.create(r,c);e.call(t,u)}a=!1,clearTimeout(i)};return t.addEventListener("touchstart",u,n),t.addEventListener("touchend",f,!0),t.addEventListener("touchmove",l,!0),function(){t.removeEventListener("touchstart",u,n),t.removeEventListener("touchmove",l),t.removeEventListener("touchend",f)}}return t.addEventListener("contextmenu",e,n),function(){t.removeEventListener("contextmenu",e,n)}};var o=n(26),r=n(9)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={reply:{name:"reply",nameI18nKey:"viewer_:contextmenu.annot.reply",callback:function(){this.data("annotComponent").showReplyDialog("reply")},disabled:function(){return this.data("annotComponent").replyDisabled()}},properties:{name:"properties",nameI18nKey:"viewer_:contextmenu.annot.properties",callback:function(t,e,n,o){this.data("annotComponent").showPropertiesDialog(t,e,n,o)}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data("annotComponent").removeAnnot()},disabled:function(){return this.data("annotComponent").deleteDisabled()}}};e.getCommonContextMenu=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect";return{selector:t,items:o,events:{show:function(){return this.data("annotComponent").updateDeleteStatus(!0),!0},hide:function(){return this.data("annotComponent").updateDeleteStatus(!1),!0}}}},e.defaultAnnotComponentKey="annotComponent"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(4);var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.component=e,this.prepared=!1}return t.prototype.prepare=function(){this.prepared||(this.prepared=!0,this.doPrepare())},t.prototype.doPrepare=function(){},t.prototype.show=function(){this.prepared&&this.doShow()},t.prototype.doShow=function(){},t.prototype.hide=function(){this.prepared&&this.doHide()},t.prototype.doHide=function(){},t.prototype.destroy=function(){this.component=null,this.prepared=!1},t.prototype.willRender=function(){},t.prototype.afterRender=function(){},t.prototype.render=function(t,e,n){return this.prepared||this.prepare(),this.doRender(t,e,n)},t.prototype.doRender=function(t,e){return Promise.resolve()},t.prototype.numberToRGBAString=function(t){var e=(0,o.convertFromNumberToRGBA)(t);return"rgba("+e.r+", "+e.g+", "+e.b+", "+e.a+")"},t.prototype.invisibleRender=function(){},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PixelUnit=e.Unit=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(111),i=n(28);function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var c=e.Unit=function(){function t(e,n){s(this,t),this.fromInchRate=e,this.name=n}return t.prototype.convertTo=function(t,e){return t/this.fromInchRate*e.fromInchRate},o(t,[{key:"isPixel",get:function(){return!1}}]),t}();e.PixelUnit=function(t){function e(n){s(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,0,"px"));return o.orientation=n,Object.defineProperty(o,"fromInchRate",{get:function(){var t=(0,i.getDPI)();switch(n){case r.ORIENTATION_HORIZONTAL:return t.x;case r.ORIENTATION_VERTICAL:return t.y}}}),o}return a(e,t),o(e,[{key:"isPixel",get:function(){return!0}}]),e}(c)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ORIENTATION_VERTICAL="vertical",e.ORIENTATION_HORIZONTAL="horizontal",e.ORIENTATION_ALL="all"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=n(50),a=(o=i)&&o.__esModule?o:{default:o};n(43);function s(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var f=function(t){function e(){return c(this,e),u(this,t.apply(this,arguments))}return l(e,t),e.prototype.convertToCanvasBasedPoint=function(t,e,n,o,i,a){var s=i.getDevicePoint([t,e],o,a),c=r(s,2),u=c[0],l=c[1];return{x:u-n.left,y:l-n.top}},e.prototype.doRender=function(t){var e=this,n=t.scale,o=t.renderingData,r=t.rotate,i=o.page,a=o.annotInfo,c=a.startCharInfo,u=a.endCharInfo,l=o.quadPoints,f=o.outerDeviceRect;if(!c){var p=l[0];c={left:p[0].x,top:p[0].y,right:p[1].x,bottom:p[2].y}}if(!u){var d=l[l.length-1];u={left:d[0].x,top:d[0].y,right:d[1].x,bottom:d[2].y}}var h=l.map((function(t,o){var a=t.map((function(t){return e.convertToCanvasBasedPoint(t.x,t.y,f,n,i,r)})),c=a.map((function(t){return t.x})),u=a.map((function(t){return t.y})),l=Math.min.apply(Math,s(c)),p=Math.max.apply(Math,s(c)),d=Math.max.apply(Math,s(u)),h=Math.min.apply(Math,s(u));return{left:l,right:p,bottom:d,top:h,width:p-l,height:d-h,textBlockHeight:d-h}}));t.quadRects=h},e}(a.default);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=b(n(41)),i=b(n(1)),a=b(n(3)),s=b(n(33)),c=n(21),u=n(17),l=b(n(427)),f=b(n(25)),p=n(4),d=n(110),h=n(44),g=b(n(75)),m=b(n(27)),v=b(n(142)),y=b(n(218));function b(t){return t&&t.__esModule?t:{default:t}}function w(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var _=function(t){function e(n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i));return a.name="line",m.default.property(a,"shapeControl",(function(){var t=new s.default({start:function(){return a.onStartUpdateShape()},update:function(t,e){return a.onShapeUpdating(t,e)},moving:function(t,e,n){return a.onShapeMoving(t,e,n)},end:function(t,e){return a.onShapeUpdateEnd(t,e)},resizable:!1});return(a.groupMoveDisabled()||a.moveDisabled())&&t.disable(),t})),a}return w(e,t),e.prototype.generateApRenderer=function(){return this.annot.getType()===v.default.line&&this.annot.getCaptionOffset()?new y.default(this):t.prototype.generateApRenderer.call(this)},e.prototype.active=function(){t.prototype.active.call(this),this.activeRect(),this.activeMore();var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e),this.setMargin(),this.updateHandlerPosition()},e.prototype.movedByOther=function(){if(this.isActive){var t=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),t),this.setMargin(),this.updateHandlerPosition()}},e.prototype.unActive=function(){t.prototype.unActive.call(this),m.default.isPropertyIntialized(this,"shapeControl")&&this.shapeControl.deactive()},e.prototype.afterRender=function(t){if(t.transformed&&this.isActive){this.activeRect(),this.activeMore();var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e),this.setMargin(),this.updateHandlerPosition()}},e.prototype.activeMore=function(){this.$handler.addClass("fv__annot-line-container");var t=2;0!==this.annot.getLeaderLineLength()&&(t=4),this.hammerInited=this.hammerInited||this.initHammer(t)},e.prototype._getShapeControllerBoundaryBox=function(){var t=this.getPDFPage(),e=(0,c.getWHByMatrix)(t.getPxWidth(),t.getPxHeight(),this.scale,this.rotate),n=o(e,2);return{left:0,top:0,right:n[0],bottom:n[1]}},e.prototype.createRectDom=function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui},e.prototype.onStartUpdateShape=function(t,e){this.editDebouncePromise||(this.editDebouncePromise=new u.DebounceAsyncTaskExecutor(0)),this.willRedraw()},e.prototype.onShapeMoving=function(t,e){var n=this;if(this.pdfViewer.config.highPerformance)return this.editDebouncePromise.exec((function(){return n.moveTo(t.left,t.top).then((function(t){return n._updateShapeControllerBoundaryBox()}))}))},e.prototype.onShapeUpdateEnd=function(t,e,n){var o=this;return this.editDebouncePromise.waitForLastTask().then((function(){return o.moveTo(t.left,t.top).then((function(e){return o.setRect(t)})).then((function(t){return o._updateShapeControllerBoundaryBox()})).then((function(t){o.afterRedraw()}))}))},e.prototype._updateShapeControllerBoundaryBox=function(){this.shapeControl.updateBoundaryBox(this._getShapeControllerBoundaryBox())},e.prototype.getPropertyOptions=function(){var t=this.annot,e=(0,p.colorConvertor)(t.getBorderColor(),"#"),n=t.getOpacity(),o=t.getBorderWidth(),r=t.getStyleFillColor(),i=this.propertyDisabled();return{color:e,opacity:n,borderWidth:o,lineStartStyle:t.getStartStyle(),lineEndStyle:t.getEndingStyle(),hasCap:t.hasCaption(),fillColor:r,disabled:i}},e.prototype.redraw=function(e){var n=this;return this.groupMoveDisabled()||this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),t.prototype.redraw.call(this,e).then((function(){"line"==n.name&&n.annot.calculateLeaderLine(),n.updateHandlerPosition(),n.setMargin()}))},e.prototype.updateRender=function(){return this.redraw()},e.prototype.initHammer=function(t){var e=this,n=this.$handler,r=(0,l.default)({anchorCount:t}),i=(0,a.default)(r);n.append(i);var s=this.annot.getType(),c=n.find(".fv__pdf-annot-line-point");return c.each((function(t,n){var r=new Hammer.Manager(n,{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]}),i=void 0,u=void 0;function l(e,n){if("line"!==s||!g.default.isShift)return[e,n];var o=c.eq(1^t),r=parseFloat(o.css("left")),a=parseFloat(o.css("top")),u=i.x+e,l=i.y+n,f=Math.sqrt(Math.pow(u-r,2)+Math.pow(l-a,2)),p=Math.atan2(l-a,u-r),d=.25*Math.PI,h=Math.round(p/d)*d,m=f*Math.cos(h),v=a+f*Math.sin(h);return[r+m-i.x,v-i.y]}r.on("panstart",(function(t){e.moveDisabled()||(u=(0,a.default)(t.target),i={x:parseFloat(u.css("left")),y:parseFloat(u.css("top"))},e.backupProperty(n),e.boundaryChangeStart(t),e.willRedraw())})).on("panmove",(function(n){if(!e.moveDisabled()){var r=l(n.deltaX,n.deltaY),a=o(r,2),s=a[0],c=a[1];e.pdfViewer.config.highPerformance?e.updatePoint(s,c,t):u.css({left:i.x+s+"px",top:i.y+c+"px"})}})).on("panend",(function(n){if(!e.moveDisabled()){var r=l(n.deltaX,n.deltaY),i=o(r,2),a=i[0],s=i[1];e.updatePoint(a,s,t).then((function(t){e.boundaryChangeEnd(n),e.afterRedraw()}))}}))})),!0},e.prototype.boundaryChangeStart=function(t){},e.prototype.boundaryChangeEnd=function(t){},e.prototype.updateHandlerPosition=function(){var t=this.$handler,e=this.scale,n=this.rotate,o=[],r=this.annot.getStartPoint();o.push(this.annot.page.getDevicePoint([r.x,r.y],e,n));var i=this.annot.getEndPoint();if(o.push(this.annot.page.getDevicePoint([i.x,i.y],e,n)),0!=this.annot.getLeaderLineLength()){var a=this.annot.getLeaderLinePoints();o.push(this.annot.page.getDevicePoint([a.start.x,a.start.y],e,n)),o.push(this.annot.page.getDevicePoint([a.end.x,a.end.y],e,n))}for(var s=t.get(0).querySelectorAll("[data-index]"),c=0;c<o.length;c++){var u=s[c];u&&(u.style.cssText+="\n                left: "+o[c][0]+"px;\n                top: "+o[c][1]+"px;\n            ")}},e.prototype.moved=function(){t.prototype.moved.call(this),this.updateHandlerPosition(),this.setMargin()},e.prototype.setContent=function(t){return t===this.annot.getContent()?Promise.resolve(!0):this.annot.setContent(t)},e.prototype.setBorderWidth=function(t){var e=this;return this.annot.setBorderWidth(t).then((function(t){return t?e.annot.update().then((function(t){return!0})):t})).then((function(t){return t?e.updateRender().then((function(){var n=e._getShapeControllerBoundaryBox();return e.shapeControl.active(e.$handler,e.getBoundary(),n),e.pdfViewer.eventEmitter.emit(i.default.updateActionAnnotation,e),t})):t}))},e.prototype.setFillColor=function(t){var e=this,n=this.annot.setStyleFillColor;return n||(n=this.annot.setFillColor),n.call(this.annot,t).then((function(t){return t?e.updateRender().then((function(){return e.pdfViewer.eventEmitter.emit(i.default.updateActionAnnotation,e),t})):t}))},e.prototype.setEndingStyle=function(t,e){var n=this;return this.annot.setEndingStyle(t,e).then((function(){return n.redraw().then((function(){var t=n._getShapeControllerBoundaryBox();n.shapeControl.active(n.$handler,n.getBoundary(),t),n.pdfViewer.eventEmitter.emit(i.default.updateActionAnnotation,n)}))}))},e.prototype.setMeasureUnit=function(t){var e=this;return t instanceof d.Unit&&(t=t.name),this.annot.setMeasureUnit(t).then((function(){return e.updateRender()})).then((function(){e.pdfViewer.eventEmitter.emit(i.default.updateActionAnnotation,e)}))},e.prototype.setMeasureRatio=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.userSpaceValue,o=void 0===n?1:n,r=e.userSpaceUnit,a=void 0===r?h.INCH.name:r,s=e.realValue,c=void 0===s?1:s,u=e.realUnit,l=void 0===u?h.INCH.name:u;return a instanceof d.Unit&&(a=a.name),l instanceof d.Unit&&(l=l.name),this.annot.setMeasureRatio({userSpaceValue:o,userSpaceUnit:a,realValue:c,realUnit:l}).then((function(){return t.updateRender()})).then((function(){t.pdfViewer.eventEmitter.emit(i.default.updateActionAnnotation,t)}))},e.prototype.getMeasureRatio=function(){var t=this.annot.info.measureRatio,e=/(\d+(\.\d+)?)(?:\s+)(\w+)(?:\s+\=\s+)(\d+(\.\d+)?)(?:\s+)(\w+)/.exec(t),n=o(e,7),r=n[1],i=n[3],a=n[4],s=n[6];return{userSpaceValue:Number(r),userSpaceUnit:i,realValue:Number(a),realUnit:s}},e.prototype.enableCaption=function(t){var e=this;return this.annot.enableCaption(t).then((function(){return e.redraw().then((function(){e.pdfViewer.eventEmitter.emit(i.default.updateActionAnnotation,e)}))}))},e.prototype.hasCaption=function(){return this.annot.hasCaption()},e.prototype.setBorderStyle=function(t,e){var n=this;return this.annot.setBorderStyle(t,e).then((function(){return n.updateRender()})).then((function(){n.pdfViewer.eventEmitter.emit(i.default.updateActionAnnotation,n)}))},e.prototype.backupProperty=function(t){switch(t?(0,a.default)(t).data("index"):""){default:return this.oldRect=Object.assign({},this.annot.getRect());case 1:return this.oldEndPoint=Object.assign({},this.annot.getEndPoint());case 0:return this.oldStartPoint=Object.assign({},this.annot.getStartPoint());case 3:case 2:return this.oldLeaderEndPoint=Object.assign({},this.annot.leaderEndPoint)}},e.prototype.updateLeaderLineLength=function(t,e,n){var o=this.oldLeaderEndPoint,r=this.annot.getEndPoint(),i=this.annot.getStartPoint(),a=this.annot.Eb;n&&(o=this.oldLeaderEndPoint,r=this.annot.getEndPoint(),i=this.annot.getStartPoint(),a=this.annot.Eb);var s=o.x+t,c=o.y+e,u=(this.annot.k*(c-a)+s)/(this.annot.k*this.annot.k+1),l=u,f=this.annot.k*u+a,p=!0;(r.x-i.x)*(c-r.y)-(s-r.x)*(r.y-i.y)>0&&(p=!1);var d=l-r.x,h=f-r.y,g=Math.sqrt(d*d+h*h);return p&&(g=-g),this.annot.setLeaderLineLength(g)},e.prototype.updatePoint=function(t,e,n){var r=this,a=void 0,s=this.annot.page.reverseDeviceOffset([t,e],this.scale,this.rotate),c=o(s,2),u=c[0],l=c[1];switch(n){case 1:a=this.annot.setEndPoint({x:this.oldEndPoint.x+u,y:this.oldEndPoint.y+l});break;case 0:a=this.annot.setStartPoint({x:this.oldStartPoint.x+u,y:this.oldStartPoint.y+l});break;case 2:a=this.updateLeaderLineLength(u,l,!1);break;case 3:a=this.updateLeaderLineLength(u,l,!0)}return a.then((function(){return r.updateRender().then((function(){var t=r._getShapeControllerBoundaryBox();r.shapeControl.active(r.$handler,r.getBoundary(),t),r.pdfViewer.eventEmitter.emit(i.default.updateActionAnnotation,r)}))}))},e.prototype.setMargin=function(){var t=this.getGroupRect(),e=this.getRect();this.shapeControl.setMargin(f.default.expandOffset(e,t))},e.prototype.getRenderingData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,o=t.prototype.getRenderingData.call(this,e,n),r=this.annot;return Object.assign(o,{leaderLineExtend:r.getLeaderLineExtend?r.getLeaderLineExtend():void 0,startPoint:r.getStartPoint?r.getStartPoint():void 0,endPoint:r.getEndPoint?r.getEndPoint():void 0,leaderLinePoints:r.getLeaderLinePoints?r.getLeaderLinePoints():void 0,captionOffset:r.getCaptionOffset?r.getCaptionOffset():void 0,startStyle:r.getStartStyle?r.getStartStyle():void 0,endingStyle:r.getEndingStyle?r.getEndingStyle():void 0,hasCaption:r.hasCaption?r.hasCaption():void 0,captionPos:r.getCaptionPos?r.getCaptionPos():void 0,fillColor:r.getFillColor()||(r.getStyleFillColor?r.getStyleFillColor():void 0),content:r.info.content})},e}(r.default);e.default=_},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CloudyPathGenerator=e.CloudyStartSegment=e.CloudyPathSegment=void 0;var o,r=n(146),i=(n(28),n(45)),a=(o=i)&&o.__esModule?o:{default:o};n(248);function s(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var f=e.CloudyPathSegment=function(t){function e(n,o,r){c(this,e);var i=u(this,t.call(this,null,r));return i.controlPoint1=n,i.controlPoint2=o,i}return l(e,t),e.prototype.render=function(t){t.bezierCurveTo(this.controlPoint1.x,this.controlPoint1.y,this.controlPoint2.x,this.controlPoint2.y,this.to.x,this.to.y)},e}(r.PathSegment),p=e.CloudyStartSegment=function(t){function e(n){return c(this,e),u(this,t.call(this,n))}return l(e,t),e.prototype.render=function(t){t.moveTo(this.from.x,this.from.y)},e}(r.PathSegment),d=3.14159265358979;e.CloudyPathGenerator=function(t){function e(n,o,r){c(this,e);var i=u(this,t.call(this));return i.points=n,i.innerRect=o,i.outerRect=r,i}return l(e,t),e.prototype.generate=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,n=new r.Path,o=this.points.map((function(e){return e.y=t.innerRect.height-e.y,e})),i=o.length,a=i*e,c=o.map((function(t,e){return t.distanceTo(o[(e+1)%i])})).reduce((function(t,e){return t+e})),u={left:o[0].x,right:o[0].x,top:o[0].y,bottom:o[0].y},l=c/a;if(0==l)return n;for(var f=[],p=0,g=o[0],m=o[1],v=g.distanceTo(m),y=0,b=1;y<a;y++){for(;p>v;)p-=v,b++,g=m,m=o[b%i],v=g.distanceTo(m);f.push(g.move(p,m)),p+=l}var w=f.length,_=!0,P=5*l/8;return f.forEach((function(e,o){O(f[0==o?w-1:o-1],e,f[(o+1)%w]).forEach((function(e){var o=function(e){e&&(e.x+=t.innerRect.left-t.outerRect.left,e.y=t.innerRect.height-e.y+(t.innerRect.top-t.outerRect.top))};o(e.from),o(e.to),o(e.controlPoint1),o(e.controlPoint2),n.addSegment(e)}))})),n.rect=u,n;function O(t,e,n){var o=t.subtractp(e),r=n.subtractp(e),i=[],a=Math.atan2(o.y,o.x),c=Math.atan2(r.y,r.x);a+=Math.acos(t.distanceTo(e)/(2*P))-d/9,(c-=Math.acos(n.distanceTo(e)/(2*P)))<a&&(c+=2*d);var u={left:e.x-P,right:e.x+P,bottom:e.y-P,top:e.y+P},l=h(u,a,c,_);i.push.apply(i,s(l.arrAp)),_=!1;var f=e.subtractp(n);return a=Math.atan2(f.y,f.x),c=(a+=Math.acos(n.distanceTo(e)/(2*P)))-d/9,l=h(u={left:n.x-P,right:n.x+P,bottom:n.y-P,top:n.y+P},a,c,_),i.push.apply(i,s(l.arrAp)),i}},e}(r.PathGenerator);function h(t,e,n,o){var r,i,s,c,u,l,h,g,m,v,y,b,w,_,P,O,E,x,C,A,S,D,R,j,T={};if(t.left>=t.right||t.bottom>=t.top)return{arrAp:[],pdfRect:T};if(Math.abs(n-e)<=1e-4)return{arrAp:[],pdfRect:T};var M=[];r=(t.right+t.left)/2,i=(t.top+t.bottom)/2,s=Math.abs(t.right-t.left)/2,c=Math.abs(t.top-t.bottom)/2,R=e,S=r+(y=s*Math.cos(R)),D=i+(b=c*Math.sin(R)),T.left=T.right=S,T.bottom=T.top=D,o&&M.push(new p(new a.default(S,D)));var I=1;n<e&&(I=-1);var k=Math.floor(2*e/d);I>0&&(k+=1),k*=d/2;for(var F=!1;j=k,I>0?n<=k&&(j=n,F=!0):n>=k&&(j=n,F=!0),y=s*Math.cos(R),b=c*Math.sin(R),E=s*Math.cos(j),m=v=-s*s*c*c,w=y+.5522847498308*(S=(C=((h=s*s*b)*v-(g=s*s*(x=c*Math.sin(j)))*m)/((u=c*c*y)*g-(l=c*c*E)*h))-y),_=b+.5522847498308*(D=(A=(l*m-u*v)/(u*g-l*h))-b),P=E+.5522847498308*(S=C-E),O=x+.5522847498308*(D=A-x),w=S=r+w,_=D=i+_,T.left>w&&(T.left=w),T.bottom>_&&(T.bottom=_),T.right<w&&(T.right=w),T.top<_&&(T.top=_),P=S=r+P,O=D=i+O,T.left>P&&(T.left=P),T.bottom>O&&(T.bottom=O),T.right<P&&(T.right=P),T.top<O&&(T.top=O),E=S=r+E,x=D=i+x,T.left>E&&(T.left=E),T.bottom>x&&(T.bottom=x),T.right<E&&(T.right=E),T.top<x&&(T.top=x),M.push(new f(new a.default(w,_),new a.default(P,O),new a.default(E,x))),!F;)R=j,k+=I*d/2;return{arrAp:M,pdfRect:T}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=h(n(41)),i=h(n(466)),a=h(n(33)),s=n(17),c=n(21),u=(h(n(61)),n(469)),l=n(4),f=h(n(1)),p=h(n(27)),d=h(n(79));function h(t){return t&&t.__esModule?t:{default:t}}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var m=(0,u.getCommonContextMenu)(".fv__pdf-page-annot-handler-rect"),v=function(){},y=function(t){function e(n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i));s.name="redact",s.$ui.addClass("fv__pdf-page-redact-annot-container"),s.$handler.addClass("fv__pdf-page-redact-annot-handler-container");var c=void 0;return c=!!n.isArea(),s.pdfViewer.eventEmitter.emit(f.default.redactAnnotRendered,s),p.default.property(s,"shapeControl",(function(){var t=new a.default({start:function(t,e,n){return s.onStartUpdateShape(t,e,n)},update:function(t,e){return s.onShapeUpdating(t,e)},moving:function(t,e){return s.onShapeMoving(t,e)},end:function(t,e,n){return s.onShapeUpdateEnd(t,e,n)},resizable:c,enableDiagonally:!0});return n.isArea()?(s.groupMoveDisabled()||s.moveDisabled())&&t.disable():t.disable(),t})),s.apRenderer=s.generateApRenderer(),s}return g(e,t),e.prototype.generateApRenderer=function(){return this.isHTMLSimulate("redact")?new d.default(this):t.prototype.generateApRenderer.call(this)},e.getDefaultContextMenuConfig=function(){return m},e.prototype.assembleDocDisabled=function(){return 40!=(40&this.docRender.getUserPermission().getValue())},e.prototype.onStartUpdateShape=function(t,e,n){this.editDebouncePromise||(this.editDebouncePromise=new s.DebounceAsyncTaskExecutor(0))},e.prototype.onShapeUpdating=function(t,e){var n=this;this.editDebouncePromise.exec((function(){return n.setRect(t)}))},e.prototype.onShapeMoving=function(t,e){var n=this;this.editDebouncePromise.exec((function(){return n.moveTo(t.left,t.top)}))},e.prototype.onShapeUpdateEnd=function(t,e,n){var o=this;return this.editDebouncePromise.exec((function(){return o.moveTo(t.left,t.top)}))},e.prototype.active=function(){t.prototype.active.call(this),this.activeRect(),this.$handler.addClass("active");var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e)},e.prototype.createRectDom=function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui},e.prototype._getShapeControllerBoundaryBox=function(){var t=this.getPDFPage(),e=(0,c.getWHByMatrix)(t.getPxWidth(),t.getPxHeight(),this.scale,this.rotate),n=o(e,2);return{left:0,top:0,right:n[0],bottom:n[1]}},e.prototype.redraw=function(t){if(this.shapeControl&&this.shapeControl.enable(),t&&this.tileCanvas)try{this.tileCanvas.clearCache()}catch(t){}return this.render()},e.prototype.updateRender=function(){return Promise.resolve()},e.prototype.removeAnnot=function(){return!this.deleteDisabled()&&t.prototype.removeAnnot.call(this)},e.prototype.showPlaceMarkDialog=function(){if(this.$placeRedactionControl&&this.$placeRedactionControl.$dialog);else{var t=this.pdfViewer.currentPDFDoc.info.pageCount;this.$placeRedactionControl=new i.default(this,document.body,t)}},e.prototype.hidePlaceMarkDialog=function(){this.$actionsControl.close()},e.prototype.placeRedact=function(t){var e=this.annot.getRects(),n=[],o=this.pdfViewer,r=this.annot;return t.forEach((function(t){var i=o.currentPDFDoc.getPageByIndex(t).then((function(t){return t.markRedactAnnot(e,{color:r.getBorderColor(),applyFillColor:r.getApplyFillColor()})}));n.push(i)})),0==n.length||Promise.all(n)},e.prototype.apply=function(){var t=this;return this.pdfViewer.viewerUI.confirm("viewer_:contextmenu.annot.applyConfirm").then((function(){return t.annot.apply()}),v)},e.prototype.applyAll=function(){var t=this.pdfViewer;return t.viewerUI.confirm("viewer_:contextmenu.annot.applyConfirm").then((function(){return t.getCurrentPDFDoc().applyRedaction()}),v)},e.prototype.getPropertyOptions=function(){var t=this.annot;return{color:(0,l.colorConvertor)(t.getBorderColor(),"#"),applyFillColor:t.getApplyFillColor(),borderStyle:!1,disabled:this.propertyDisabled()}},e.prototype.setApplyFillColor=function(t){return this.annot.setRedactApplyFillColor(t)},e}(r.default);e.default=y},function(t,e,n){"use strict";var o,r;Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){var e=o.getEvent();if(!e.isSensitiveCheck){var n=e.target.value,i=p(n,t);if(!n||!i){e.rc=!1;var a=o.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return a+=' "'+t+'" ',void r.alert(a)}var s=f(n,t);s||(s=new Date),e.value=l(t,s),e.rc=!0}},a=function(t,e,n,i,a,s){var c=o.getEvent(),u=e;if((u<0||u>3)&&(u=0),!c.value){c.rc=!1;var l=o.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return l+=' "Number" ',void r.alert(l)}var f=c.value;if(!/^[0-9\.\-]+$/.test(f))//!(IsNumber(wstrChange) &&
{c.rc=!1;var p=o.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return p+=' "Number" ',void r.alert(p)}var d=c.change,h=f;if(c.willCommit){var g=h.trimLeft();if(0==g.length){c.rc=!0;var m=o.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return m+=' "Number" ',void r.alert(m)}var v=g;if(v=v.replace(/,/g,"."),!/^[0-9\.\-]+$/.test(v))//!(IsNumber(wstrChange) &&
{var y=o.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return y+=' "Number" ',r.alert(y),void(c.rc=!1)}c.rc=!0}else{var b=h,w=d||"",_=(h.substr(c.selStart,c.selEnd-c.selStart),"-"===h[0]);if(_&&0==c.selStart){c.rc=!1;var P=o.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return P+=' "Number" ',r.alert(P),TRUE}var O=".";switch(u){case 0:case 1:O=".";break;case 2:case 3:O=","}for(var E=-1!=b.indexOf(O),x=0;x<w.length;x++)if(w[x]!=O)if("-"!=w[x]){if(!/[0-9\.]/.test(w[x]))return void(c.rc=!1)}else{if(_)return void(c.rc=!1);if(0!=x)return void(c.rc=!1);if(0!=c.selStart)return void(c.rc=!1);_=!0}else{if(E){c.rc=!1;var C=o.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return C+=' "Number" ',void r.alert(C)}E=!0}var A=b.substr(0,c.selStart),S=void 0;c.selEnd<b.length&&(S=b.substr(c.selEnd)||""),f=h=b=A+w+S,c.rc=!0}};function s(t,e,n,o){var r=".",i=",",a="";switch(n){case 0:break;case 1:i="";break;case 2:r=",",i=".";break;case 3:r=",",i=""}var s=t.length%3;a=t.substr(0,s);for(var c=s;c<t.length;c+=3)0!==a.length&&(a+=i),a+=t.substr(c,3);if(o>0){for(e=e.substring(0,o);e.length<o;)e+="0";a=a+r+e}return a}function c(t){var e=t.toString().split(".",2);return null==e||e.length<2?(e=null,0):e[1].length}function u(t){var e=new RegExp("(\\w+)\\["+t+"\\]").exec("January[1]February[2]March[3]April[4]May[5]June[6]July[7]August[8]September[9]October[10]Movember[11]December[12]Jan[1]Feb[2]Mar[3]Apr[4]Jun[6]Jul[7]Aug[8]Sep[9]Oct[10]Mov[11]Dec[12]");return e?e[1]:null}var l=function(t,e){t=t.replace(/%/g,"%69");var n,o,r=[],i=e.getFullYear().toString();return i="0000"+i,t=(t=t.replace(/([^y])y{4}(?!y)|(^)y{4}(?!y)/g,"$1"+i.substr(i.length-4,4))).replace(/([^y])y{2}(?!y)|(^)y{2}(?!y)/g,"$1"+i.substr(i.length-2,2)),i=u(e.getMonth()+1),r["%mmmm"]=i,t=t.replace(/([^m])m{4}(?!m)|(^)m{4}(?!m)/g,"$1%mmmm"),r["%mmm"]=i.substr(0,3),t=(t=t.replace(/([^m])m{3}(?!m)|(^)m{3}(?!m)/g,"$1%mmm")).replace(/([^m])m{1}(?!m)|(^)m{1}(?!m)/g,"$1"+(e.getMonth()+1)),1===(i=(e.getMonth()+1).toString()).length&&(i="0"+i),t=t.replace(/([^m])m{2}(?!m)|(^)m{2}(?!m)/g,"$1"+i),n=e.getDay(),i=(o=new RegExp("(\\w+)\\["+n+"\\]").exec("Sunday[0]Monday[1]Tuesday[2]Wednesday[3]Thursday[4]Friday[5]Saturday[6]"))?o[1]:null,r["%dddd"]=i,t=t.replace(/([^d])d{4}(?!d)|(^)d{4}(?!d)/g,"$1%dddd"),r["%ddd"]=i.substr(0,3),t=(t=t.replace(/([^d])d{3}(?!d)|(^)d{3}(?!d)/g,"$1%ddd")).replace(/([^d])d{1}(?!d)|(^)d{1}(?!d)/g,"$1"+e.getDate()),1===(i=e.getDate().toString()).length&&(i="0"+i),t=(t=t.replace(/([^d])d{2}(?!d)|(^)d{2}(?!d)/g,"$1"+i)).replace(/([^H])H{1}(?!H)|(^)H{1}(?!H)/g,"$1"+e.getHours()),1===(i=e.getHours().toString()).length&&(i="0"+i),t=(t=t.replace(/([^H])H{2}(?!H)|(^)H{2}(?!H)/g,"$1"+i)).replace(/([^h])h{1}(?!h)|(^)h{1}(?!h)/g,"$1"+(e.getHours()>12?e.getHours()-12:e.getHours())),1===(i=(e.getHours()>12?e.getHours()-12:e.getHours()).toString()).length&&(i="0"+i),t=(t=t.replace(/([^h])h{2}(?!h)|(^)h{2}(?!h)/g,"$1"+i)).replace(/([^M])M{1}(?!M)|(^)M{1}(?!M)/g,"$1"+e.getMinutes()),1===(i=e.getMinutes().toString()).length&&(i="0"+i),t=(t=t.replace(/([^M])M{2}(?!M)|(^)M{2}(?!M)/g,"$1"+i)).replace(/([^s])s{1}(?!s)|(^)s{1}(?!s)/g,"$1"+e.getSeconds()),1===(i=e.getSeconds().toString()).length&&(i="0"+i),t=t.replace(/([^s])s{2}(?!s)|(^)s{2}(?!s)/g,"$1"+i),i=e.getHours()>11?"PM":"AM",t=t.replace(/([^t])t{2}(?!t)|(^)t{2}(?!t)/g,"$1"+i),1===i.length&&(i=i.charAt(0)),t=(t=(t=(t=(t=t.replace(/([^t])t{1}(?!t)|(^)t{1}(?!t)/g,"$1"+i)).replace(/%mmmm/g,r["%mmmm"])).replace(/%mmm/g,r["%mmm"])).replace(/%dddd/g,r["%dddd"])).replace(/%ddd/g,r["%ddd"]),r=null,t=t.replace(/%69/g,"%")},f=function(t,e){return p(t,e)};function p(t,e){var n=function(t,e){var n=new Date,o=n.getFullYear(),r=n.getMonth()+1,i=n.getDate(),a=n.getHours(),s=n.getMinutes(),c=n.getSeconds(),l=!1,f=!1,p=!1,d=0,m=0;for(;d<e.length&&!f;){var v=e.charAt(d);switch(v){case"y":case"m":case"d":case"H":case"h":case"M":case"s":case"t":var y=m,b=0,w=null;if(e.charAt(d+1)!==v)switch(v){case"y":d++,m++;break;case"m":w=h(t,m,2),r=w.nRet,b=w.nSkip,d++,m+=b;break;case"d":w=h(t,m,2),i=w.nRet,b=w.nSkip,d++,m+=b;break;case"H":case"h":w=h(t,m,2),a=w.nRet,b=w.nSkip,d++,m+=b;break;case"M":w=h(t,m,2),s=w.nRet,b=w.nSkip,d++,m+=b;break;case"s":w=h(t,m,2),c=w.nRet,b=w.nSkip,d++,m+=b;break;case"t":l="p"===t.charAt(d),d++,m++}else if(e.charAt(d+1)===v&&e.charAt(d+2)!==v)switch(v){case"y":w=h(t,m,4),o=w.nRet,b=w.nSkip,d+=2,m+=b;break;case"m":w=h(t,m,2),r=w.nRet,b=w.nSkip,d+=2,m+=b;break;case"d":w=h(t,m,2),i=w.nRet,b=w.nSkip,d+=2,m+=b;break;case"H":case"h":w=h(t,m,2),a=w.nRet,b=w.nSkip,d+=2,m+=b;break;case"M":w=h(t,m,2),s=w.nRet,b=w.nSkip,d+=2,m+=b;break;case"s":w=h(t,m,2),c=w.nRet,b=w.nSkip,d+=2,m+=b;break;case"t":l="p"===t.charAt(m)&&"m"===t.charAt(m+1),d+=2,m+=2}else if(e.charAt(d+1)===v&&e.charAt(d+2)===v&&e.charAt(d+3)!==v)switch(v){case"m":w=g(t,m),b=w.nSkip;for(var _=w.swRet,P=!1,O=0;O<12;O++)if(_.toLowerCase()===u(O+1).substr(0,3).toLowerCase()){r=O+1,d+=3,m+=b,P=!0;break}P||(w=h(t,m,3),r=w.nRet,b=w.nSkip,d+=3,m+=b);break;case"y":break;default:d+=3,m+=3}else if(e.charAt(d+1)===v&&e.charAt(d+2)===v&&e.charAt(d+3)===v&&e.charAt(d+4)!==v)switch(v){case"y":w=h(t,m,4),o=w.nRet,b=w.nSkip,m+=b,d+=4;break;case"m":P=!1;w=g(t,m),b=w.nSkip,_=(_=w.swRet).toLowerCase();for(O=0;O<12;O++){var E=u(O+1);if((E=E.toLowerCase()).indexOf(_,0)>=0){r=O+1,d+=4,m+=b,P=!0;break}}P||(w=h(t,m,4),r=w.nRet,b=w.nSkip,d+=4,m+=b);break;default:d+=4,m+=4}else e.charAt(d)!==t.charAt(m)&&(p=!0,f=!0),d++,m++;y===m&&(p=!0,f=!0);break;default:t.length<=m?f=!0:e.charAt(d)!==t.charAt(m)&&(p=!0,f=!0),d++,m++}}l&&(a+=12);o>=0&&o<=99&&(o+=2e3);(r<1||r>12)&&(p=!0);(i<1||i>31)&&(p=!0);(a<0||a>24)&&(p=!0);(s<0||s>60)&&(p=!0);(c<0||c>60)&&(p=!0);if(!p)return new Date(o,r-1,i,a,s,c);return null}(t,e);return null==n&&(n=function(t){for(var e=new Date,n=e.getFullYear(),o=e.getMonth()+1,r=e.getDate(),i=e.getHours(),a=e.getMinutes(),s=e.getSeconds(),c=[],u=0;u<6;u++)c[u]=0;var l=!1,f=0,p=0,g=t.length;for(;p<g&&!(f>5);){var y=t.charAt(p);if(d(y)){var b,w=h(t,p,4);c[f++]=w.nRet,b=w.nSkip,p+=b}else":"===y&&(l=!0),p++}var _=!0;if(l){if(f<=3)(P=v(f,c[0],c[1],c[2],i,a,s))&&(i=P.h,a=P.M,s=P.s,_=!1);else if(4===f){(P=m(2,c[0],c[1],0,n,o,r))&&(n=P.y,o=P.m,r=P.d,(P=v(2,c[2],c[3],0,i,a,s))&&(i=P.h,a=P.M,s=P.s,_=!1))}else if(5===f){if((P=m(3,c[0],c[1],c[2],n,o,r))&&(n=P.y,o=P.m,r=P.d,(P=v(2,c[3],c[4],0,i,a,s))&&(i=P.h,a=P.M,s=P.s,_=!1)),_)(P=m(2,c[0],c[1],0,n,o,r))&&(n=P.y,o=P.m,r=P.d,(P=v(3,c[2],c[3],c[4],i,a,s))&&(i=P.h,a=P.M,s=P.s,_=!1))}else if(6===f){(P=m(3,c[0],c[1],c[2],n,o,r))&&(n=P.y,o=P.m,r=P.d,(P=v(3,c[3],c[4],c[5],i,a,s))&&(i=P.h,a=P.M,s=P.s,_=!1))}}if(_){var P;(P=m(f,c[0],c[1],c[2],n,o,r))&&(n=P.y,o=P.m,r=P.d,_=f>3)}if(_)return null;return new Date(n,o-1,r,i,a,s)}(t)),n}function d(t){return t>="0"&&t<="9"}function h(t,e,n){var o=[];o.nRet=0,o.nSkip=0;for(var r=e,i=t.length;r<i&&!(r-e>10);r++){var a=t.charAt(r);if(!d(a))break;if(o.nRet=10*o.nRet+(a-"0"),o.nSkip=r-e+1,o.nSkip>=n)break}return o}function g(t,e){var n=[];n.swRet="",n.nSkip=0;for(var o=e,r=t.length;o<r;o++){var i=t.charAt(o);if(!(i>="a"&&i<="z"||i>="A"&&i<="Z"))break;n.swRet+=i,n.nSkip=o-e+1}return n}function m(t,e,n,o,r,i,a){var s=[];if(s.y=r,s.m=i,s.d=a,2===t){if(e>=1&&e<=12&&n>=1&&n<=31)return s.m=e,s.d=n,s;if(e>=1&&e<=31&&n>=1&&n<=12)return s.m=n,s.d=e,s}else if(t>=3){if(e>12&&n>=1&&n<=12&&o>=1&&o<=31)return s.y=e,s.m=n,s.d=o,s;if(e>=1&&e<=12&&n>=1&&n<=31&&o>31)return s.y=o,s.m=e,s.d=n,s;if(e>=1&&e<=31&&n>=1&&n<=12&&o>31)return s.y=o,s.m=n,s.d=e,s}return null}function v(t,e,n,o,r,i,a){var s=[];if(s.h=r,s.M=i,s.s=a,2===t){if(e>=0&&e<=23&&n>=0&&n<=59)return s.h=e,s.M=n,s.s=0,s}else if(3===t&&e>=0&&e<=23&&n>=0&&n<=59&&o>=0&&o<=59)return s.h=e,s.M=n,s.s=o,s;return null}var y=function(t,e,n){for(var o="",r=0,i=0;i<e.length;i++)switch(e[i]){case"9":for(;r<t.length;){var a=r;if(r++,t[a]>="0"&&t[a]<="9"){o+=t[a];break}}if(r>=t.length&&n)return o;break;case"A":if(!(r<t.length))return o;o+=t[r++];break;default:o+=e[i]}return o},b=function(t,e){switch(e){case"9":var n=parseInt(t);return 0<=n&&n<=9;case"A":return/[a-zA-Z]/.test(t);case"O":var o=parseInt(t);return 0<=o&&o<=9||/[a-zA-Z]/.test(t);case"X":case" ":return!0;default:return t===e}},w=function(t){var e=o.getEvent(),n=e.value;if(0!=n.length){if(e.willCommit){var i=0;if((n=y(n,t,!0)).length==t.length)for(var a=0;a<n.length&&b(n[a],t[i]);a++)i++;if(i!=t.length||i!=n.length&&t.length>0){e.rc=!1;var s=o.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return s+=' "'+t+'" ',void r.alert(s)}return e.change=n,n}var c=e.change;if(c&&0!=c.length){e.selStart;var u=void 0;if((u=e.selStart<e.selEnd?n.replace(n.substr(e.selStart,e.selEnd),c):n.substr(0,e.selStart)+c+n.substr(e.selEnd)).length>t.length){var l=o.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return l+=' "'+t+'" ',r.alert(l),void(e.rc=!1)}var f=y(u,t);if(f.length>t.length){e.rc=!1;var p=o.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return p+=' "'+t+'" ',void r.alert(p)}return e.rc=!0,f}e.rc=!0}else e.rc=!0};e.default={AFSimple_Calculate:function(t,e){var n=o.getEvent();if(!n.isSensitiveCheck){var r="",i=0,a=NaN;switch(t){case"AVG":for(var s=0;s<e.length;s++){var u=parseFloat(o.getFieldValue(e[s]));if(!isNaN(u)){var l=c(u);i=i>l?i:l,isNaN(a)&&(a=0),a+=u}}r=isNaN(a)?"":a/e.length;break;case"SUM":for(var f=0;f<e.length;f++){var p=parseFloat(o.getFieldValue(e[f]));if(!isNaN(p)){var d=c(p);i=i>d?i:d,isNaN(a)&&(a=0),a+=p}}r=isNaN(a)?"0":a;break;case"PRD":for(var h=NaN,g=0;g<e.length;g++){var m=parseFloat(o.getFieldValue(e[g]));if(!isNaN(m)){var v=c(m);i=i>v?i:v,isNaN(h)&&(h=1),h*=m}}r=isNaN(h)?"":h;break;case"MIN":for(var y=NaN,b=0;b<e.length;b++){var w=parseFloat(o.getFieldValue(e[b]));if(!isNaN(w)){var _=c(w);i=i>_?i:_,isNaN(y)&&(y=w),y>w&&(y=w)}}r=isNaN(y)?"":y;break;case"MAX":for(var P=NaN,O=0;O<e.length;O++){var E=parseFloat(o.getFieldValue(e[O]));if(!isNaN(E)){var x=c(E);i=i>x?i:x,isNaN(P)&&(P=E),P<E&&(P=E)}}r=isNaN(P)?"":P}n.valueSetted=!0,n.value=r,n.rc=!0}},AFRange_Validate:function(t,e,n,i){var a=o.getEvent();if(!a.isSensitiveCheck){var s,c=a.target,u="",l=a.value;s=parseFloat(l),isNaN(s)?a.value=c.value:(t&&n?(s<e||s>i)&&(u="Value should be greater than "+e+" and less than "+i+"."):t?s<e&&(u="Value should be greater than "+e+"."):n&&s>i&&(u="Value should be less than "+i+"."),""!==u?(r.alert(u),a.value=c.value,a.rc=!1):a.rc=!0)}},AFNumber_Format:function(t,e,n,i,a,c){var u=o.getEvent();if(!u.isSensitiveCheck){var l=u.value;if(""!==l){if(isNaN(l)){u.value="",u.rc=!1;var f=o.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return f+=' "Number" ',void r.alert(f)}var p=(l=parseFloat(l))<0?-1:1;if(isNaN(l)){u.value=l,u.rc=!1;var d=o.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return d+=' "Number" ',void r.alert(d)}var h="";h=(2===n||3===n)&&p<0?"(":"",c&&(h+=a);var g=(l*=p).toString().split(".",2),m=g[0],v="";g.length>1&&(v=g[1]),h+=s(m,v,e,t),c||(h+=a),(2===n||3===n)&&p<0&&(h+=")"),(0!==n||c)&&(l=Math.abs(l)),p<0&&c&&0===n&&(h="-"+h),u.value=h,u.rc=!0}else u.value=""}},AFTime_Format:function(t){var e=new Array("HH:MM","h:MM tt","HH:MM:ss","h:MM:ss tt");i(e[t])},AFTime_FormatEx:i,AFDate_FormatEx:function(t){var e=o.getEvent();if(e.format=t,!e.isSensitiveCheck){t&&0!=t.length||(t="mm/dd/yyyy");var n=e.target.value;if(!n){e.rc=!1;var i=o.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return i+=' "'+t+'" ',void r.alert(i)}var a=f(n,t);a||(a=new Date),e.value=l(t,a),e.rc=!0}},AFPercent_Format:function(t,e){var n=o.getEvent();if(!n.isSensitiveCheck){var i=n.target.value;if(i=parseFloat(100*i),isNaN(i)){n.value=n.target.value,n.rc=!0;var a=o.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return a+=' "Percentage" ',void r.alert(a)}var c=(i+=.005).toString().split(".",2),u=c[0],l="";c.length>1&&(l=c[1]);var f=s(u,l,e,t)+"%";n.value=f,n.rc=!0}},AFMergeChange:function(t){var e,n,o=t.value;return t.willCommit?t.value:(e=t.selStart>=0?o.substring(0,t.selStart):"",n=t.selEnd>=0&&t.selEnd<=o.length?o.substring(t.selEnd,o.length):"",e+t.change+n)},AFNumber_Keystroke:a,AFParseDateEx:f,AFMakeNumber:function(t){return parseFloat(t)},AFDate_KeystrokeEx:function(t){var e=o.getEvent();if(!e.isSensitiveCheck){var n=e.target.value;if(n){var i=f(n,t);if(!i){e.rc=!1;var a=o.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return a+=' "'+t+'" ',void r.alert(a)}e.value=l(t,i),e.rc=!0}else e.rc=!0}},setJE:function(t,e){o=t,r=e},setJSEvent:function(t){return jsEvent=t},AFSpecial_Format:function(t){var e=o.getEvent(),n=e.value;if(!n||n.length<1)e.rc=!0;else{n=""+n;var i=void 0;switch(t){case 0:i="99999";break;case 1:i="99999-9999";break;case 2:i=n.length>=10?"(999) 999-9999":"999-9999";break;case 3:i="999-99-9999"}var a=y(n,i);if(a.length!=i.length){e.rc=!1;var s=o.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return s+=' "'+i+'" ',void r.alert(s)}e.value=a,e.rc=!0}},FXFormatDate:l,AFSpecial_Keystroke:function(t){var e=o.getEvent(),n=e.value;if(!(n.length<1)){var i=e.change,a=void 0;switch(t){case 0:a="99999";break;case 1:a="999999999";break;case 2:var s=n;if(0==s.length&&0==i.length)return void(e.rc=!0);if(e.willCommit){var c=s.match(/^(\(\d{3}\)\s?)?\d{3}-?\d{4}$|^(\d{3}\s?)?\d{3}-?\d{4}$/);if(e.rc=!!c,!c){var u=o.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");u+=' "/^((d{3})s?)?d{3}-?d{4}$|^(d{3}s?)?d{3}-?d{4}$/" ',r.alert(u)}return}var l=e.selStart,f=e.selEnd;if(f<0&&(f=strSrc.length-1),(s=s.substr(0,l)+i+s.substr(f)).length-14>0)return void(e.rc=!1);var p=s.match(/^\(?\d*\)?\s?\d*-?\d*$/);return void(e.rc=!!p);case 3:a="999999999"}return w(a)}e.rc=!0},AFPercent_Keystroke:function(){return a.apply(void 0,arguments)},AFSpecial_KeystrokeEx:function(t){var e=o.getEvent(),n=w(t);void 0!==n&&(e.target.value=n)},ANSB_None:0,ANSB_Page:1,ANSB_Author:2,ANSB_ModDate:3,ANSB_Type:4,ANFB_ShouldNone:7,ANFB_ShouldPrint:0,ANFB_ShouldView:1,ANFB_ShouldEdit:2,ANFB_ShouldAppearInPanel:3,ANFB_ShouldSummarize:4,ANFB_ShouldExport:5}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(56)),r=(s(n(30)),n(269)),i=s(r),a=s(n(270));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;c(this,t),this.registry=new i.default,this.name=n,this.target=e,this.priority=r,this.isActive=!0,this.nextBinders=[],this.emitter=new o.default,this.beforeEventEmitter=new o.default}return t.prototype.setKeyboard=function(t){this.keyboard=t},t.prototype.registerKeybinding=function(t,e){var n=a.default.parseKeybinding(e);this.registry.registerKeyBindingRule(new r.KeyBindingRule(t,n,0))},t.prototype.getCommandOfKeybinding=function(t){return this.registry.getCommandOfKeybinding(t)},t.prototype.hasKeybinding=function(t){return!!this.getCommandOfKeybinding(t)},t.prototype.attach=function(t){this.nextBinders.push(t)},t.prototype.before=function(t,e){var n=this;return this.beforeEventEmitter.on(t,e),function(){n.beforeEventEmitter.off(t,e)}},t.prototype.on=function(t,e){var n=this,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=void 0;return o&&(r=this.before(t,(function(t){t.preventDefault()}))),this.emitter.on(t,e),function(){r&&r(),n.emitter.off(t,e)}},t.prototype.emit=function(t,e){this.emitter.emit(t,e)},t.prototype.acceptElement=function(t){return t===this.target},t.prototype.handleKeydownEvent=function(t,e){var n=this.getCommandOfKeybinding(t);return n?(this.beforeEventEmitter.emit(n,e),!0):this.nextBinders.some((function(n){return n.handleKeydownEvent(t,e)}))},t.prototype.handleEvent=function(t,e){var n=this.getCommandOfKeybinding(t);return n?(this.emit(n,e),!0):this.nextBinders.some((function(n){return n.handleEvent(t,e)}))},t}();e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(32),i=(o=r)&&o.__esModule?o:{default:o};var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hiddenCallbacks=[],this.shownCallbacks=[],this.isDisabled=!1}return t.prototype.setCurrentTarget=function(t){this.currentTarget=t},t.prototype.showAt=function(t,e){var n=this;this.shownCallbacks.forEach((function(t){return t.call(n)}))},t.prototype.disable=function(){this.isDisabled=!0},t.prototype.enable=function(){this.isDisabled=!1},t.prototype.destroy=function(){(0,i.default)()},t.prototype.onHidden=function(t){"function"==typeof t&&this.hiddenCallbacks.push(t)},t.prototype.onShown=function(t){"function"==typeof t&&this.shownCallbacks.push(t)},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(56));function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return i.pdfViewer=n,i.pageRender=r,i.isDisabled=!1,i.eventEmitter=new o.default,i}return i(e,t),e.prototype.on=function(t,e){var n=this;return this.eventEmitter.on(t,e),function(){return n.eventEmitter.off(t,e)}},e.prototype.showAt=function(t,e){this.eventEmitter.emit("show")},e.prototype.hide=function(){this.eventEmitter.emit("hide")},e.prototype.disable=function(){this.isDisabled=!0},e.prototype.enable=function(){this.isDisabled=!1},e.prototype.destroy=function(){this.eventEmitter.emit("destroy"),t.prototype.destroy.call(this)},e}(r(n(30)).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(613),i=(o=r)&&o.__esModule?o:{default:o},a=n(5);var s=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e,this.depends=n||[],this.registry=new i.default(this)}return t.prototype.registerPreConfiguredComponent=function(t,e){return this.registry.registerPreConfiguredComponent(t,e)},t.prototype.getPreConfiguredComponent=function(t){return this.registry.getPreConfiguredComponent(t,component)},t.prototype.registerFragment=function(t,e){this.registry.registerFragment(t,e)},t.prototype.getFragment=function(t){return this.registry.getFragment(t)},t.prototype.getComponentClass=function(t){return this.registry.getComponentClass(t)},t.prototype.getLayoutClass=function(t){return this.registry.getLayoutClass(t)},t.prototype.getDirectiveClass=function(t){return this.registry.getDirectiveClass(t)},t.prototype.getControllerClass=function(t){return this.registry.getControllerClass(t)},t.prototype.registerComponent=function(t){return this.registry.registerComponent(t)},t.prototype.registerController=function(t){return this.registry.registerController(t)},t.prototype.getRegistry=function(){return this.registry},t.prototype.resolveName=function(t){return this.name===a.ROOT_MODULE_NAME||this.name.length<1?t:""+this.name+a.NAMESPACE_SEPERATOR+t},t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(2);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"NoopController"},e.prototype.prelink=function(){},e.prototype.postlink=function(){},e.prototype.mounted=function(){},e.prototype.destroy=function(){},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(18));n(676);var r=s(n(302)),i=n(5),a=s(n(20));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.modal=i.backdrop||i.modal,i.appendTo&&(i.appendTo=document.querySelector(i.appendTo)),i.$hasBeenLocalized=i.isVisible,i.unSwitchBinder=a.default,i}return c(e,t),e.getName=function(){return"layer"},e.getMetadata=function(){return{options:{visible:{type:"boolean",field:"isVisible",defaultValue:!1},backdrop:{type:"boolean",defaultValue:!1},modal:{type:"boolean",defaultValue:!1},"append-to":{type:"string",field:"appendTo"},focus:{type:"boolean",defaultValue:!0}}}},e.prototype.createDOMElement=function(){return document.createElement("div")},e.prototype.render=function(){t.prototype.render.call(this),this.element.classList.add("fv__ui-layer"),this.containerElement=document.createElement("div"),this.containerElement.classList.add("fv__ui-layer-inner"),this.element.appendChild(this.containerElement),this.modal&&(this.backdropElement=document.createElement("div"),this.backdropElement.classList.add("fv__ui-layer-modal")),this.backdrop&&this.backdropElement.classList.add("fv__ui-layer-backdrop")},e.prototype.mounted=function(){var e=this;if(t.prototype.mounted.call(this),this.backdrop){var n=this.element.parentElement;if(n){var o=getComputedStyle(n).position;""!==o&&"static"!==o||(n.style.cssText+="position: relative")}}this.isVisible&&(this.isVisible=!1,this.show()),this.focus&&this.addDestroyHook(this.getPDFUI().addKeyboardShortcutEventListener(i.KEY_MAP_EXIT_LAYER,(function(t){e.hide()}),i.MODAL_LAYER_BINDER))},e.prototype.getContainerElement=function(){return this.containerElement},e.prototype.show=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.appendTo;this.isDestroyed||(this.$hasBeenLocalized||(this.localize(),this.$hasBeenLocalized=!0),e||(e=this.getRoot().element),e.appendChild(this.element),t.prototype.show.call(this))},e.prototype.open=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.appendTo;t||(t=this.getRoot().element),this.show(t)},e.prototype.close=function(){this.isDestroyed||(this.trigger("beforeClose"),this.hide(),this.trigger(i.COMPONENT_EVENTS.CLOSED),t.prototype.destroy.call(this))},e.prototype.doShown=function(){this.showBackdrop(),t.prototype.doShown.call(this),this.doSwitchKeyboardEventBinder()},e.prototype.doSwitchKeyboardEventBinder=function(){var t=this;this.focus&&this.pdfUI.getPDFViewer().then((function(e){var n=e.switchKeyboardEventBinder(i.MODAL_LAYER_BINDER);return t.unSwitchBinder=function(){n(),t.unSwitchBinder=a.default}}))},e.prototype.showBackdrop=function(){this.backdropElement&&this.element.parentElement&&this.element.parentElement.insertBefore(this.backdropElement,this.element)},e.prototype.doDestroy=function(){t.prototype.doDestroy.call(this),this.element.remove(),this.backdropElement&&this.backdropElement.remove(),this.unSwitchBinder()},e.prototype.doHidden=function(){t.prototype.doHidden.call(this),this.element.remove(),this.backdropElement&&this.backdropElement.remove(),this.unSwitchBinder()},e.prototype.rerenderChildren=function(){var t=this.$container.children(),e=t.filter((function(t){return t instanceof r.default})),n=t.filter((function(t){return!(t instanceof r.default)})),o=e.map((function(t){return t.element})),i=n.map((function(t){return t.element}));this.diffRenderer(this.getContainerElement(),i),this.diffRenderer(this.element,o.concat(this.getContainerElement()))},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getBoundingPoint=function(t,e,n){var o=t.getBoundingClientRect();return[e-o.left,n-o.top]},e.deltaDeviceRect=function(t,e,n){var o=t[0],r=t[1],i=o+e,a=r+n,s=void 0;i<o&&(s=o,o=i,i=s);a<r&&(s=r,r=a,a=s);return{left:o,right:i,top:r,bottom:a}},e.appendSelectMark=function(t,e){a(t);for(var n=(0,i.default)(document.createDocumentFragment()),o=0,r=e.length;o<r;o++){var s=e[o],c=["top:"+s.top+"px","left:"+s.left+"px","width:"+(s.right-s.left)+"px","height:"+(s.bottom-s.top)+"px"].join(";");n.append('<mark class="fv__mark-selection-blank" style="'+c+'"></mark>')}t.append(n)},e.removeSelectMark=a;var o,r=n(3),i=(o=r)&&o.__esModule?o:{default:o};function a(t){t.find(".fv__mark-selection-blank").remove()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(14)),r=i(n(316));function i(t){return t&&t.__esModule?t:{default:t}}var a=o.default.ext(r.default,"CreatePolylineController",32);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(2)),r=i(n(7));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=Promise.resolve(),l=r.default.getLogger("ZoomInOrOut"),f=function(t){function e(){a(this,e);for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];var i=s(this,t.call.apply(t,[this].concat(o)));return i.lastOperation=u,i}return c(e,t),e.getName=function(){return"ZoomInAndOutController"},e.prototype.handle=function(){var t=this,e=this.getPDFUI(),n=e.customScalingValues,o=n.length-1,r=this.shouldZoomIndex;if(!r){var i=void 0;return e.getPDFViewerRender().then((function(t){return t.getScaleRatio()})).then((function(e){var r=t.findClosingNumber(n,e),i=n.indexOf(r);switch(t.component.action){case"zoomin":if(o<=i)return-1;i++;break;case"zoomout":if(i<=0)return-1;i--;break;default:return-1}return Math.max(0,Math.min(n.length-1,i))})).then((function(t){return-1===t?t:(i=t,e.zoomTo(n[t]))})).then((function(n){if(-1===n)return n;var o=t.shouldZoomIndex;return i!==o&&o?(t.shouldZoomIndex=null,e.zoomTo(o)):void 0})).catch((function(t){l.warn(t)}))}switch(this.component.action){case"zoomin":if(++r>o)return void(this.shouldZoomIndex=o);break;case"zoomout":if(--r<0)return void(this.shouldZoomIndex=0);break;default:return}this.shouldZoomIndex=Math.max(0,Math.min(n.length-1,r))},e.prototype.findClosingNumber=function(t,e){return t.reduce((function(t,n){return Math.abs(e-n)<Math.abs(e-t)?n:t}),t[0])},e}(o.default);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(2));function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=r(n(7)).default.getLogger("ZoomActionController"),u=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"ZoomActionController"},e.prototype.handle=function(){var t=this.component.action;return isNaN(+t)?this.getPDFUI().zoomTo(t).catch((function(t){c.warn(t)})):this.getPDFUI().zoomTo(+t).catch((function(t){c.warn(t)}))},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=u(n(316)),r=n(6),i=u(n(1)),a=n(85),s=n(9),c=u(n(816));function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var f=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.isEnd=!0,o}return l(e,t),e.getStateName=function(){return"createPerimeter"},e.prototype.createInteractionTool=function(e){return s.isTouchDevice?t.prototype.createInteractionTool.call(this,e):new c.default(this.pdfViewer,e)},e.prototype.createAnnotJson=function(t){var e=this.pdfViewer.store.getCurrentValue("measurementInfo");return t.intent=r.Intents.POLYLINE_DIMENSION,t.startStyle=r.LineEndingStyle.OpenArrow,t.endStyle=r.LineEndingStyle.OpenArrow,t.enableCaption=!0,t.measure={unit:e[a.FIELD_REAL_UNIT].name,ratio:{userSpaceValue:e[a.FIELD_USER_SPACE_SCALE],userSpaceUnit:e[a.FIELD_USER_SPACE_UNIT].name,realValue:e[a.FIELD_REAL_SCALE],realUnit:e[a.FIELD_REAL_UNIT].name}},t},e.prototype.pageHandler=function(e){var n=this;t.prototype.pageHandler.call(this,e);var o=void 0,i=this.pdfViewer.viewerUI.createContextMenu(r.CREATING_MEASUREMENT_CONTEXTMENU,e.$handler.get(0),{selector:".fv__pdf-page-handler-container",items:{complete:{name:this.pdfViewer.i18n.t("viewer_:contextmenu.measurement.complete"),callback:function(){n.interaction.unlock(),n.interaction.emit("end",o)}},cancel:{name:this.pdfViewer.i18n.t("viewer_:contextmenu.measurement.cancel"),callback:function(){n.interaction.unlock(),n.interaction.emit("cancel")}}}});i.disable(),this.creatingContextmenu=i,this.interaction.on("start",(function(){n.isEnd=!1,i.enable()})),this.interaction.on("end",(function(){n.isEnd=!0,i.disable()})),this.interaction.on("cancel",(function(){i.disable()})),this.interaction.on("move",(function(t){o=t})),i.onHidden((function(){n.interaction.unlock()})),i.onShown((function(){n.interaction.lock()}))},e.prototype.start=function(e,n){var o=t.prototype.start.call(this,e,n);return this.pdfViewer.eventEmitter.emit(i.default.distanceAnnotCreationStart,o),o},e.prototype.adjust=function(t,e){t.setLastPoint(e.deviceX,e.deviceY),this.pdfViewer.eventEmitter.emit(i.default.updateCreatingDistanceAnnot,t);var n=this.pdfViewer.getStore().getCurrentValue("measurementData");t.setContent(Math.round(100*n.perimeter)/100+" "+n.displayUnit.name),t.draw()},e.prototype.end=function(e,n){this.fakeAnnotation&&(this.pdfViewer.eventEmitter.emit(i.default.distanceAnnotCreationEnd,this.fakeAnnotation),t.prototype.end.call(this,e,n))},e.prototype.cancel=function(){this.fakeAnnotation&&(this.pdfViewer.eventEmitter.emit(i.default.distanceAnnotCreationCancel,this.fakeAnnotation),t.prototype.cancel.call(this),this.creatingContextmenu&&this.creatingContextmenu.disable())},e.prototype.destroyPageHandler=function(){this.isEnd||this.cancel(),t.prototype.destroyPageHandler.call(this)},e}(o.default);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=c(n(14)),r=c(n(860)),i=c(n(1)),a=n(5),s=c(n(3));function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r.default))}return u(e,t),e.getName=function(){return"MarqueeToolController"},e.prototype.destroy=function(){t.prototype.destroy.call(this);var e=this.getPDFUI();e.removeViewerEventListener(i.default.marqueeZoomOut,e.zoomOutHandler),e.removeViewerEventListener(i.default.marqueeZoomIn,e.zoomInHandler),e.zoomOutHandler=null,e.zoomInHandler=null},e.prototype.mounted=function(){var t=this,e=this.getPDFUI();e.zoomOutHandler||(this.viewerComponent=this.getComponentByName(a.WEBPDF_VIEWER_COMPONENT_NAME),e.addViewerEventListener(i.default.marqueeZoomOut,e.zoomOutHandler=function(e,n){t.zoomOut(e,n)}),e.addViewerEventListener(i.default.marqueeZoomIn,e.zoomInHandler=function(e,n){t.zoomIn(e,n)}),e.getPDFViewer().then((function(e){t.pdfViewer=e})))},e.prototype.getVisibleHeightAndWidth=function(t){var e=this.viewerComponent.element.offsetHeight,n=this.viewerComponent.element.offsetWidth,o=this.pdfViewer.pdfViewerRender.pdfDocRender.getPDFPageRender(t),r=o.$handler.height(),i=o.$handler.width();return{width:Math.min(n,i),height:Math.min(e,r)}},e.prototype.zoomOut=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=this.pdfViewer,r=o.pdfViewerRender.pdfDocRender.getPDFPageRender(n),i=r.scale;o.zoom(-.25).then((function(){return o.pdfViewerRender.getScaleRatio()})).then((function(a){var s=i/a;if(s<e.pdfViewer.config.minScale&&(s=e.pdfViewer.config.minScale,a=i/s),0===t.width||0===t.height)e.zoomByPointer(t,a/i,n);else{var c=e.getVisibleHeightAndWidth(n),u=r.$handler.height(),l=r.$handler.width(),f=c.width,p=c.height,d=void 0,h=void 0;if(f>l)d=0;else{var g=t.left/a,m=(f-t.width/a)/2;d=Math.max(0,g-m)}if(p>u)h=0;else{var v=t.top/a,y=(p-t.height/a)/2;h=Math.max(0,v-y)}o.goToPage(n,h,d,!1).catch((function(){}))}})).catch((function(){}))},e.prototype.zoomIn=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=this.pdfViewer,r=o.pdfViewerRender.pdfDocRender.getPDFPageRender(n),i=r.scale;if(0===t.width||0===t.height)o.zoom(.25).then((function(){return o.pdfViewerRender.getScaleRatio()})).then((function(o){e.zoomByPointer(t,o/i,n)})).catch((function(){}));else{var a=this.getVisibleHeightAndWidth(n),s=a.width,c=a.height,u=s/t.width,l=c/t.height,f=Math.min(u,l),p=f*i;p>o.config.maxScale&&(f=(p=o.config.maxScale)/i);var d=void 0,h=void 0;if(l>u){h=t.left*f;var g=t.top*f,m=(c-t.height*f)/2;d=Math.max(0,g-m)}else{d=t.top*f;var v=t.left*f,y=(s-t.width*f)/2;h=Math.max(0,v-y)}o.zoomTo(p).then((function(){o.goToPage(n,d,h,!1)})).catch((function(){}))}},e.prototype.zoomByPointer=function(t,e,n){var o=(0,s.default)(this.viewerComponent.element).offset(),r=t.clientX-o.left+0,i=t.clientY-o.top-8,a=(t.left-r)*e+r*e-r,c=(t.top-i)*e+i*e-i;this.pdfViewer.goToPage(n,c,a,!1).catch((function(){}))},e}(o.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(55)),r=a(n(173)),i=a(n(101));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.depends=function(){return[i.default]},e.prototype.link=function(t){var e=this,n=t.localizer,o=this.$options,i=o.appearance,a=o.defaultFragments,s=o.fragments,c=void 0===s?[]:s,u=o.template,l=o.templateParser,f=new i(this.pdfUI);a=a||f.getDefaultFragments()||[],Array.isArray(c)&&(a=a.concat(c));var p=l||f.getTemplateParser();this.pdfUI.templateParser=p,this.pdfUI.appearance=f;var d=new r.default(n,this.pdfUI,p);return this.addDestroyHook((function(){f.destroy(),e.pdfUI.templateParser=null,e.pdfUI.appearance=null})),{appearance:f,fragments:a,template:u||f.getLayoutTemplate(),parser:d}},e}(o.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(55),i=(o=r)&&o.__esModule?o:{default:o},a=n(90);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.prototype.construct=function(t,e){var n=e.viewerOptions,o=n?n.libPath:void 0;if(o)if((0,a.isUrl)(o))o=o;else{var r=location.pathname.replace(/[^\/\\]+\.[^\/\\]+$/,"");o=location.protocol+"//"+location.host+(0,a.resolvePath)(r,o)}else o=(0,a.getCurrentPath)();return"/"!==o[o.length-1]&&(o+="/"),t.libPath=o},e.prototype.link=function(){return this.pdfUI.libPath},e}(i.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=u(n(55)),r=u(n(101)),i=u(n(1079)),a=u(n(129)),s=u(n(130)),c=u(n(8));function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var f=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return a.tpmLoader=new i.default,a}return l(e,t),e.depends=function(){return[r.default,a.default,s.default]},e.prototype.link=function(t,e,n){var o=t.i18n,r=this,i=e.fragments,a=e.appearance,s=this.$options.addons;"function"==typeof s&&s.isLazyLoadInitializer&&(s=s(window.UIExtension));var u=s.map((function(t){return r.tpmLoader.loadModule(t,n)})),l=this.pdfUI;return this.pdfUI.UIXAddonsPromise=Promise.all(u).then((function(t){var e={};function n(t){var r=t.getName();if(e[r])return e[r];var s=t.depends,c=void 0;return c=s&&s.length>0?Promise.all(s.map((function(t){return n(t)}))):Promise.resolve(),e[r]=c.then((function(){return function(t){var e=new t;e.init(l),a.processAddon(e);var n=e.getI18NResources();for(var r in n)o.addResourceBundle(r,t.getI18NNamespace(),n[r],!0,!0);return i.push.apply(i,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(e.fragments())),e}(t)}))}return Promise.all(t.map((function(t){return n(t)})))})).then((function(t){return r.addDestroyHook((function(){t.forEach((function(t){t.destroy()}))})),l.eventEmitter.emit(c.default.addonLoaded,t),t}))},e}(o.default);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Store=void 0;var o,r=n(20),i=(o=r)&&o.__esModule?o:{default:o};e.Store=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.__data={},this.subscribers={},this.reducers=[]}return t.prototype.getCurrentValue=function(t){var e=this,n=this.__data[t];return this.reducers.reduce((function(n,o){return o.call(e,n,t)}),n)},t.prototype.dispatch=function(t,e){var n=this;this.__data[t]=e;var o=this.subscribers[t]||[],r=this.getCurrentValue(t);o.forEach((function(e){e.call(n,r,t)}))},t.prototype.subscribe=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.default,o=this.subscribers[t]||(this.subscribers[t]=[]);o.push(n),t in this.__data&&Promise.resolve().then((function(o){n.call(e,e.getCurrentValue(t),t)}));var r=!1,a=void 0;return function(){if(r)return a;r=!0;var t=o.indexOf(n);return a=t>-1&&o.splice(t,1).length>0}},t.prototype.reducer=function(t){var e=this;return"function"!=typeof t?i.default:(this.reducers.push(t),function(){var n=e.reducers.indexOf(t);return n>-1&&e.reducers.splice(n,1).length>0})},t.prototype.clear=function(){this.reducers.length=0,this.__data={},this.subscribers={}},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$handler=e,this.render=n,this.states=[]}return t.prototype.active=function(){},t.prototype.destroy=function(){},t.prototype.intoState=function(){},t.prototype.outState=function(){},t.prototype.resetState=function(){},t.prototype.setStates=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.states;this.states=t},t.prototype.getStates=function(){return this.states},t.prototype.clearStates=function(){},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.logOff=e.logAppenders=e.logLayout=e.logLevel=void 0,e.setLogLevel=function(t){switch(t){case o.LEVEL_DEBUG:case o.LEVEL_INFO:case o.LEVEL_WARN:case o.LEVEL_ERROR:e.logLevel=t}};var o=n(72);e.logLevel="warn",e.logLayout="complex",e.logAppenders=["console"],e.logOff=!1},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(32),i=(o=r)&&o.__esModule?o:{default:o};var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype.print=function(t,e){(0,i.default)(t,e)},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.viewerRender=e}return t.prototype.getScrollHost=function(){return window},t.prototype.scrollBy=function(t,e){window.scrollBy(t,e)},t.prototype.scrollTo=function(t,e){window.scrollTo(t,e)},t.prototype.getScrollOffsetTop=function(){return this.viewerRender.$ui[0].offsetTop},t.prototype.getScrollOffsetLeft=function(){return this.viewerRender.$ui[0].offsetLeft},t.prototype.getScrollY=function(){return window.scrollY||window.pageYOffset||0},t.prototype.getScrollX=function(){return window.scrollX||window.pageXOffset||0},t.prototype.getWidth=function(){return window.innerWidth-30},t.prototype.getHeight=function(){return window.innerHeight-30},t.prototype.getScrollTop=function(){return window.scrollY||window.pageYOffset||0},t.prototype.getScrollLeft=function(){return window.scrollX||window.pageXOffset||0},t.prototype.addScrollEventListener=function(t){var e=this.getScrollHost();function n(n){t(n,e)}return e.addEventListener("scroll",n),function(){return e.removeEventListener("scroll",n)}},t}();e.default=o},function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE__137__},function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE__138__},function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE__139__},function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE__140__},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(80)),r=i(n(424));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i));return a.name="strikeout",a.$ui.addClass("fv__pdf-page-strikeout-annot-container"),a.$handler.addClass("fv__pdf-page-strikeout-annot-handler-container"),a}return a(e,t),e.prototype.generateApRenderer=function(){return this.checkRenderingModeIs("canvas")?new r.default(this):t.prototype.generateApRenderer.call(this)},e.prototype.updateRender=function(){var t=this.annot,e=[],n=[],o=this.parent("annotsRender");if(t.isGrouped())for(var r=t.getGroupElements(),i=r.length;i--;){var a=r[i];n[i]=o.getAnnotRender(a.getId()).component,e[i]=a.update()}else n=[this],e=[t.update()];return Promise.all(e).then((function(){for(var t=[],e=n.length;e--;)t[e]=n[e].render();return Promise.all(t)}))},e.prototype.checkRenderingModeIs=function(t){return this.pdfViewer.config.annotRenderingMode.strikeout===t},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={unKnownType:"unknowntype",text:"text",link:"link",freeText:"freetext",line:"line",square:"square",circle:"circle",polygon:"polygon",polyLine:"polyline",polyline:"polyline",highlight:"highlight",underline:"underline",squiggly:"squiggly",strikeOut:"strikeout",stamp:"stamp",caret:"caret",ink:"ink",psInk:"psink",fileAttachment:"fileattachment",sound:"sound",movie:"movie",widget:"widget",screen:"screen",printerMark:"printermark",trapNet:"trapnet",watermark:"watermark",threeD:"3d",popup:"popup",redact:"redact"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(45),i=(o=r)&&o.__esModule?o:{default:o},a=n(6),s=n(4);var c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.component=e}return t.prototype.numberToRGBAString=function(t){if("string"==typeof t)return t;var e=(0,s.convertFromNumberToRGBA)(t);return"rgba("+e.r+", "+e.g+", "+e.b+", "+e.a+")"},t.prototype.renderLineEnd=function(t,e,n,o,r,i){if(0!==o){var s=n.renderingData.fillColor,c=n.scale,u=Math.atan2(i.y-r.y,i.x-r.x);switch(t.save(),t.lineJoin="miter",t.beginPath(),o){case a.LineEndingStyle.Square:this.renderSquareEnding(t,i,u,c,e);break;case a.LineEndingStyle.Circle:this.renderCircleEnding(t,i,u,c,e);break;case a.LineEndingStyle.Diamond:this.renderDiamondEnding(t,i,u,c,e);break;case a.LineEndingStyle.OpenArrow:this.renderOpenArrowEnding(t,i,u,c,e);break;case a.LineEndingStyle.ClosedArrow:this.renderClosedArrowEnding(t,i,u,c,e);break;case a.LineEndingStyle.Butt:this.renderButtEnding(t,i,u,c,e);break;case a.LineEndingStyle.ROpenArrow:this.renderROpenArrowEnding(t,i,u,c,e);break;case a.LineEndingStyle.RClosedArrow:this.renderRClosedArrowEnding(t,i,u,c,e);break;case a.LineEndingStyle.Slash:this.renderSlashEnding(t,i,u,c,e)}switch(o){case a.LineEndingStyle.ClosedArrow:case a.LineEndingStyle.RClosedArrow:case a.LineEndingStyle.Diamond:case a.LineEndingStyle.Square:case a.LineEndingStyle.Circle:s&&(t.fillStyle=this.numberToRGBAString(s),t.fill())}t.stroke(),t.restore()}},t.prototype.renderSquareEnding=function(t,e,n,o,r){var i=10+2*r,a=i/2;t.translate(e.x,e.y),t.rotate(n),t.moveTo(-a,-a),t.rect(-a,-a,i,i)},t.prototype.renderCircleEnding=function(t,e,n,o,r){var i=4+r;t.translate(e.x,e.y),t.rotate(n),t.moveTo(i,0),t.arc(0,0,i,0,2*Math.PI)},t.prototype.renderDiamondEnding=function(t,e,n,o,r){var i=10+2*r,a=i/2;t.translate(e.x,e.y),t.rotate(n+Math.PI/4),t.moveTo(-a,-a),t.rect(-a,-a,i,i)},t.prototype.renderOpenArrowEnding=function(t,e,n,o,r){var i=30/180*Math.PI;this.renderArrow(t,e,n,o,r,i,!1)},t.prototype.renderClosedArrowEnding=function(t,e,n,o,r){var i=30/180*Math.PI;this.renderArrow(t,e,n,o,r,i,!0)},t.prototype.renderButtEnding=function(t,e,n,o,r){var a=Math.PI/2,s=10+2*r,c=new i.default(e.x+s/2,e.y).rotate(Math.PI-n+a,e),u=c.rotate(Math.PI,e);t.moveTo(c.x,c.y),t.lineTo(u.x,u.y)},t.prototype.renderROpenArrowEnding=function(t,e,n,o,r){var i=150/180*Math.PI;this.renderArrow(t,e,n,o,r,i,!1)},t.prototype.renderRClosedArrowEnding=function(t,e,n,o,r){var i=150/180*Math.PI;this.renderArrow(t,e,n,o,r,i,!0)},t.prototype.renderArrow=function(t,e,n,o,r,a){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=10+2*r,u=new i.default(e.x+c,e.y),l=u.rotate(Math.PI-n+a,e),f=u.rotate(Math.PI-n-a,e);t.moveTo(l.x,l.y),t.lineTo(e.x,e.y),t.lineTo(f.x,f.y),s&&t.closePath()},t.prototype.renderSlashEnding=function(t,e,n,o,r){var a=60/180*Math.PI,s=10+2*r,c=new i.default(e.x+s/2,e.y).rotate(Math.PI-n+a,e),u=c.rotate(Math.PI,e);t.moveTo(c.x,c.y),t.lineTo(u.x,u.y)},t}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=c(n(113)),i=c(n(1)),a=(c(n(3)),n(4)),s=c(n(219));function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i));return a.name="polyline",a}return u(e,t),e.prototype.generateApRenderer=function(){return new s.default(this)},e.prototype.activeMore=function(){this.annot.getVertexes();this.$handler.addClass("fv__pdf-annot-polyLine-container");var t=this.annot.getVertexes().length;this.hammerInited=this.hammerInited||this.initHammer(t)},e.prototype.getPropertyOptions=function(){var t=this.annot,e=(0,a.colorConvertor)(t.getBorderColor(),"#"),n=t.getOpacity(),o=t.getBorderWidth(),r=t.getStyleFillColor(),i=this.propertyDisabled();return{color:e,opacity:n,fillColor:r,borderWidth:o,lineStartStyle:t.getStartStyle(),lineEndStyle:t.getEndingStyle(),disabled:i}},e.prototype.backupProperty=function(t){if(!t)return this.oldRect=Object.assign({},this.annot.getRect());this.oldVertex=Object.assign({},this.annot.getVertexes())},e.prototype.updatePoint=function(t,e,n){var o=this;return this.movePointAt(n,{offsetX:t,offsetY:e}).then((function(){o.pdfViewer.eventEmitter.emit(i.default.updateActionAnnotation,o)}))},e.prototype.movePointAt=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.offsetX,i=void 0===r?0:r,a=n.offsetY,s=void 0===a?0:a,c=this.annot.page.reverseDeviceOffset([i,s],this.scale,this.rotate),u=o(c,2),l=u[0],f=u[1],p=this.oldVertex||this.annot.getVertexes(),d={x:p[t].x+l,y:p[t].y+f},h=this.getPDFPage(),g=h.getWidth(),m=h.getHeight(),v=h.getRotationAngle(),y=0==(v/90&1)?g:m,b=0==(v/90&1)?m:g;return d.x=Math.max(d.x,0),d.y=Math.max(d.y,0),d.x=Math.min(d.x,y),d.y=Math.min(d.y,b),this.annot.updateVertexes(t,d).then((function(){return e.updateRender()})).then((function(){e.shapeControl.active(e.$handler,e.getBoundary(),e._getShapeControllerBoundaryBox())}))},e.prototype.setLastPoint=function(t,e){var n=this.rotate,r=this.scale,i=this.annot.getVertexes().slice(0),a=i[i.length-1],s=this.annot.page.getDevicePoint([a.x,a.y],r,n),c=o(s,2),u=c[0],l=c[1];t="number"==typeof t?t:u,e="number"==typeof e?e:l;var f=this.annot.page.reverseDevicePoint([t,e],r,n),p=o(f,2),d=p[0],h=p[1];return a.x=d,a.y=h,this.setVertexes(i)},e.prototype.addPoint=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.annot.page.reverseDevicePoint([t,e],this.scale,this.rotate),r=o(n,2),i=r[0],a=r[1],s=this.annot.getVertexes().concat({x:i,y:a});return this.setVertexes(s)},e.prototype.setVertexes=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot.getVertexes();return this.annot.setVertexes(e).then((function(){return t.updateRender()})).then((function(){t.shapeControl.active(t.$handler,t.getBoundary(),t._getShapeControllerBoundaryBox())}))},e.prototype.getVertexes=function(){return this.annot.getVertexes()},e.prototype.deleteVertex=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot.getVertexes().length-1,e=this.annot.getVertexes().filter((function(e,n){return n!==t}));return this.setVertexes(e)},e.prototype.updateHandlerPosition=function(){for(var t=this.$handler,e=this.scale,n=this.rotate,o=this.annot.getVertexes(),r=0;r<o.length;r++){var i=t.find("[data-index="+r+"]"),a=o[r];a=this.annot.page.getDevicePoint([a.x,a.y],e,n),i.css({left:a[0]+"px",top:a[1]+"px"})}},e.prototype.getRenderingData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,o=t.prototype.getRenderingData.call(this,e,n);return Object.assign(o,{vertexes:this.getVertexes()})},e}(r.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SolidPathSegment=void 0;var o,r=n(146),i=n(45);(o=i)&&o.__esModule;function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a(this,e);var r=s(this,t.call(this));return r.closing=o,n.length>1&&n.reduce((function(t,e,n){return r.addSegment(new l(t,e,1===n)),e})),r}return c(e,t),e.prototype.render=function(t){t.beginPath(),this.segments.forEach((function(e){e.render(t)})),this.closing&&t.closePath()},e}(r.Path);e.default=u;var l=e.SolidPathSegment=function(t){function e(n,o){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a(this,e);var i=s(this,t.call(this,n,o));return i.atTheStart=r,i}return c(e,t),e.prototype.render=function(t){this.atTheStart&&t.moveTo(this.from.x,this.from.y),t.lineTo(this.to.x,this.to.y)},e}(r.PathSegment)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PathGenerator=e.PathSegment=e.Path=void 0;var o=r(n(32));r(n(45));function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.Path=function(){function t(){i(this,t),this.segments=[]}return t.prototype.addSegment=function(t){t instanceof a&&this.segments.push(t)},t.prototype.render=function(t){t.beginPath(),this.segments.forEach((function(e){e.render(t)})),t.closePath()},t}();var a=e.PathSegment=function(){function t(e,n){i(this,t),this.from=e,this.to=n}return t.prototype.render=function(t){(0,o.default)()},t.prototype.isJoinedBefore=function(t){return this.to.equalTo(t.from)},t.prototype.isJoinedAfter=function(t){return t.to.equalTo(this.from)},t.prototype.isJoinedWith=function(t){return this.isJoinedBefore(t)||this.isJoinedAfter(t)},t}();e.PathGenerator=function(){function t(){i(this,t)}return t.prototype.generate=function(){(0,o.default)()},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=c(n(1)),r=n(6),i=n(4),a=c(n(144)),s=c(n(220));function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i));return a.name="polygon",a}return u(e,t),e.prototype.generateApRenderer=function(){return new s.default(this,!0)},e.prototype.activeMore=function(){var t=this.annot.getVertexes();this.$handler.addClass("fv__pdf-annot-polygon-container");var e=t.length;this.hammerInited=this.hammerInited||this.initHammer(e)},e.prototype.updateRender=function(){var e=this;return this.annot.update().then((function(){var t=e._getShapeControllerBoundaryBox();e.shapeControl.active(e.$handler,e.getBoundary(),t)})).then((function(n){return t.prototype.updateRender.call(e)}))},e.prototype.getPropertyOptions=function(){var t=this.annot;return{color:(0,i.colorConvertor)(t.getBorderColor(),"#"),opacity:t.getOpacity(),borderWidth:t.getBorderWidth(),cloudy:!0,fillColor:t.getFillColor(),disabled:this.propertyDisabled()}},e.prototype.updateBorderProperty=function(t){switch(this.annot.getCloudIntensity()){case 1:t.find("#borderStyle-select [value=6]").attr("selected",!0);break;case 2:t.find("#borderStyle-select [value=7]").attr("selected",!0)}},e.prototype.backupProperty=function(t){if(!t)return this.oldRect=Object.assign({},this.annot.getRect());this.oldVertex=Object.assign({},this.annot.getVertexes())},e.prototype.setCloudyIntensity=function(t){var e=this;this.annot.setBorderStyle(r.BORDER_STYLE.CLOUDY,t).then((function(){return e.updateRender().then((function(){e.pdfViewer.eventEmitter.emit(o.default.updateActionAnnotation,e)}))}))},e.prototype.getRenderingData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,o=t.prototype.getRenderingData.call(this,e,n);return Object.assign(o,{})},e}(a.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=c(n(430));n(431);var i=c(n(91)),a=c(n(3)),s=c(n(1));function c(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(e,n,s){var c=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.annotRender=e,this.annot=this.annotRender.annot,this.pdfViewer=this.annotRender.pdfViewer;var u={};if(s)switch(u.type=s.getType(),u.type){case"TypeURI":u.uri=s.getURI();break;case"TypeGoto":u.destination=s.getDestination()}var l=(0,r.default)(u);n||(l='<dialog class="fv__dialog fv__annot-properties-dialog">'+l+"</dialog>");var f=(0,a.default)(l);this.$actionsDialog=f;var p=n||document.body;if(f.appendTo(p),this.bindChangeEvent(),this.update(u),!n||n===document.body){var d=f[0];i.default.registerDialog(d),d.showModal()}this.$gotoInput=f.find("#goto-input"),this.$gotoLeftValue=f.find(".fv__action-dialog-goto-left-value"),this.$gotoTopValue=f.find(".fv__action-dialog-goto-top-value"),this.$urlInput=f.find("#url-input");var h=this.pdfViewer.getPDFDocRender().getPDFDoc().getPageCount();if(this.$gotoInput.attr({max:h}),u&&u.type)switch(u.type){case"TypeURI":this.$urlInput.val(u.uri);break;case"TypeGoto":this.$gotoInput.val(u.destination.pageIndex+1);var g=this.pdfViewer.getPDFPageRender(u.destination.pageIndex);g.getPDFPage().then((function(t){var e=t.getDevicePoint([u.destination.left,u.destination.top],g.getScale(),g.getRotation()),n=o(e,2),r=n[0],i=n[1];c.$gotoLeftValue.html(r.toFixed(2)),c.$gotoTopValue.html(i.toFixed(2))}))}}return t.prototype.update=function(t){var e=this.$actionsDialog;t&&t.type&&(e.find("#select-action [value="+t.type+"]").attr("selected",!0),e.find(".fv__action-dialog-box").css("display","none"),e.find("[data-type="+t.type+"]").css("display","block"))},t.prototype.bindChangeEvent=function(){var t=this,e=this.$actionsDialog,n=this.pdfViewer.getPDFDocRender(),r=n.viewerRender.scrollWrap;this.pdfViewer.eventEmitter.on(s.default.zoomToSuccess,(function(t,e){c()})),this._unwatchScrollEvent=r.addScrollEventListener(c);var i=this;function c(){var t=function(t){for(var e=t.$container.find(".fv__pdf-view-mode-item"),n=t.viewerRender.scrollWrap,o=n.getScrollTop(),r=(n.getHeight(),n.getScrollLeft()),i=(n.getWidth(),0),s=0,c=0,u=0;u<e.length;u++){var l=e[u],f=(0,a.default)(l).width(),p=(0,a.default)(l).height(),d=l.offsetTop,h=d+p,g=l.offsetLeft,m=g+f;if(h>o&&m>r){i=u,c=o-d,s=r-g;break}}return{pageIndex:i,left:s,top:c}}(n);i.$gotoInput.val(t.pageIndex+1),i.$gotoLeftValue.html(t.left.toFixed(2)),i.$gotoTopValue.html(t.top.toFixed(2))}e.on("click",".fv__action-btn-cancel",(function(){t.annotRender.hideActionsDialog()})).on("click",".fv__action-dialog-close-icon",(function(){t.annotRender.hideActionsDialog()})).on("change","#select-action",(function(t){var n=t.target.value;e.find(".fv__action-dialog-box").css("display","none"),e.find("[data-type="+n+"]").css("display","block")})).on("click",".fv__action-btn-ok",(function(n){var r=e.find("#select-action").val();if("TypeURI"===r){var a=e.find("#url-input").val();t.annot.setAction(r).then((function(){t.annot.setActionData({uri:a}).then((function(){t.annotRender.hideActionsDialog()}))}))}else if("TypeGoto"===r){var s=t.pdfViewer.getPDFDocRender().getScale();t.annot.setAction(r).then((function(){var e={};e.pageIndex=t.$gotoInput.val()-1;var n=i.pdfViewer.getPDFPageRender(e.pageIndex);n.getPDFPage().then((function(r){var i=r.reverseDevicePoint([Number(t.$gotoLeftValue.html()),Number(t.$gotoTopValue.html())],n.getScale(),n.getRotation()),a=o(i,2),c=a[0],u=a[1];e.left=c,e.top=u,"fitWidth"===s?e.type="ZoomFitHorz":"fitHeight"===s?e.type="ZoomFitPage":(e.type="ZoomXYZ",e.zoomFactor=t.pdfViewer.getPDFPageRender(e.pageIndex).getScale()),t.annot.setActionData(e).then((function(){t.annotRender.hideActionsDialog()}))}))}))}})).on("input","#goto-input",(function(e){var n=e.target.value;t.pdfViewer.getPDFDocRender().goToPage(n-1,{x:0,y:0})}))},t.prototype.close=function(){var t=this.$actionsDialog;this._unwatchScrollEvent&&this._unwatchScrollEvent(),t&&(t[0].close(),t.remove(),this.$actionsDialog=null)},t}();e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(109),i=(o=r)&&o.__esModule?o:{default:o},a=(n(44),n(436)),s=n(4);function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.annot=n.annot,o}return c(e,t),e.prototype.render=function(t,e){var n=this.annot,o=n.getFlags(),r=n.getDeviceRect(t,e);r.width=r.right-r.left,r.height=r.bottom-r.top,8&o&&(r.width/=4*t/3,r.height/=4*t/3);var i=(0,a.getSvgIcon)(n.getType(),n.getIconName(),(0,s.colorConvertor)(n.getBorderColor(),"#"));return this.component.$ui.css({left:r.left,top:r.top,width:r.width,height:r.height,opacity:n.getOpacity()}).empty().html(i),Promise.resolve()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.annot=null},e}(i.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=g(n(41)),i=g(n(33)),a=n(108),s=g(n(464)),c=g(n(1)),u=n(21),l=g(n(25)),f=n(4),p=n(17),d=g(n(27)),h=g(n(79));function g(t){return t&&t.__esModule?t:{default:t}}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var v=(0,a.getCommonContextMenu)(),y=function(t){function e(n,o,r,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,a));return d.default.property(s,"shapeControl",(function(){var t=new i.default({start:function(t,e,n){return s.onStartUpdateShape(t,e,n)},moving:function(t,e){return s.onShapeMoving(t,e)},update:function(t,e){return s.onShapeUpdating(t,e)},end:function(t,e,n){return s.onShapeUpdateEnd(t,e,n)},resizable:!0,enableDiagonally:!0});return(s.groupMoveDisabled()||s.moveDisabled())&&t.disable(),t})),s}return m(e,t),e.getDefaultContextMenuConfig=function(){return v},e.prototype.generateApRenderer=function(){return new h.default(this)},e.prototype.onStartUpdateShape=function(t,e,n){this.editDebouncePromise||(this.editDebouncePromise=new p.DebounceAsyncTaskExecutor(0))},e.prototype.onShapeMoving=function(t,e){var n=this;this.pdfViewer.config.highPerformance&&this.editDebouncePromise.exec((function(){var e=n.getRect(),o=n.getInnerRect(),r=e.left-o.left,i=e.top-o.top;return n.moveTo(t.left+r,t.top+i).then((function(t){n._updateShapeControlMargin(),n._updateShapeControllerBoundaryBox()}))}))},e.prototype.onShapeUpdating=function(t,e){var n=this;this.pdfViewer.config.highPerformance&&this.editDebouncePromise.exec((function(){return n.setRect(n._transformShapeOfInnerRectToOuterRect(t)).then((function(t){n._updateShapeControlMargin(),n._updateShapeControllerBoundaryBox()}))}))},e.prototype.onShapeUpdateEnd=function(t,e,n){var o=this;return this.editDebouncePromise.exec((function(){var e=o.getRect(),n=o.getInnerRect(),r=e.left-n.left,i=e.top-n.top;return o.moveTo(t.left+r,t.top+i).then((function(e){return o.setRect(o._transformShapeOfInnerRectToOuterRect(t))})).then((function(t){o._updateShapeControlMargin(),o._updateShapeControllerBoundaryBox()}))}))},e.prototype._transformShapeOfInnerRectToOuterRect=function(t){var e={left:t.left,top:t.top,right:t.left+t.width,bottom:t.top+t.height},n=l.default.subtract(this.getRect(),this.getInnerRect()),o=l.default.on(e).add(n).extract();return{left:o.left,top:o.top,width:o.right-o.left,height:o.bottom-o.top}},e.prototype.active=function(){t.prototype.active.call(this),this.activeRect(this.annot),this._applyShapeChange();var e=this.shapeControl.getPreviewerContext();this._previewUpdatedShape(this.shapeControl.getCurrentShape(),e)},e.prototype.movedByOther=function(){this.isActive&&this._applyShapeChange()},e.prototype._applyShapeChange=function(){var t=this.getInnerBoundary(),e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,t,e),this._updateShapeControlMargin()},e.prototype.activeRect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot,e=this.$rect=this.$rect||this.rectInit(),n=this.scale,o=this.rotate,r=t.getDeviceInnerRect(n,o),i="px";e.css({left:r.left+i,top:r.top+i,width:r.right-r.left+i,height:r.bottom-r.top+i})},e.prototype._updateShapeControllerBoundaryBox=function(){this.shapeControl.updateBoundaryBox(this._getShapeControllerBoundaryBox())},e.prototype._getShapeControllerBoundaryBox=function(){var t=this.getPDFPage(),e=(0,u.getWHByMatrix)(t.getPxWidth(),t.getPxHeight(),this.scale,this.rotate),n=o(e,2),r=n[0],i=n[1],a=this.getInnerRect(),s=this.getRect(),c=l.default.subtract(a,s);return l.default.on({left:0,top:0,right:r,bottom:i}).add(c).extract()},e.prototype.unActive=function(){t.prototype.unActive.call(this),this.shapeControl.deactive()},e.prototype.createRectDom=function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui},e.prototype.getPropertyOptions=function(){var t=this.annot;return{color:(0,f.colorConvertor)(t.getBorderColor(),"#"),opacity:t.getOpacity(),borderWidth:t.getBorderWidth(),cloudy:!0,fillColor:t.getFillColor(),disabled:this.propertyDisabled()}},e.prototype._previewUpdatedShape=function(t,e){e.clearRect(0,0,t.width,t.height),e.strokeStyle="#759DB8",e.lineWidth=1,(0,s.default)(e,0,0,t.width,t.height),e.stroke()},e.prototype.setBorderWidth=function(t){var e=this;return this.annot.setBorderWidth(t).then((function(t){return e._handlerRerender(t)}))},e.prototype.setBorderStyle=function(t,e){var n=this;return this.annot.setBorderStyle(t,e).then((function(t){return n._handlerRerender(t)}))},e.prototype.setFillColor=function(t){var e=this;return this.annot.setFillColor(t).then((function(t){return e._handlerRerender(t)}))},e.prototype.getInnerRect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=this.getPDFPage(),o=this.annot.getInnerRect(),r=n.getDeviceRect(o,t,e);return{left:r.left,top:r.top,right:r.right,bottom:r.bottom}},e.prototype.getInnerBoundary=function(){var t=this.getPDFPage(),e=this.annot.getInnerRect(),n=t.getDeviceRect(e,this.scale,this.rotate);return{left:n.left,top:n.top,width:n.right-n.left,height:n.bottom-n.top}},e.prototype._handlerRerender=function(t){var e=this;return t?this.updateRender().then((function(){return e.pdfViewer.eventEmitter.emit(c.default.updateActionAnnotation,e),t})):t},e.prototype._updateShapeControlMargin=function(){var t=this.getGroupRect(),e=this.getRect();this.shapeControl.setMargin(l.default.expandOffset(e,t))},e.prototype.redraw=function(e){return this.groupMoveDisabled()||this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),t.prototype.redraw.call(this,e)},e}(r.default);e.default=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=f(n(152)),i=f(n(33)),a=n(21),s=f(n(25)),c=(n(17),f(n(27))),u=(f(n(79)),f(n(3))),l=n(9);function f(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var d=function(t){function e(n,o,r,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,a));s.name="typewritter",c.default.property(s,"shapeControl",(function(){var t=new i.default(s.getShapeOptions());return(s.groupMoveDisabled()||s.moveDisabled())&&t.disable(),t})),s.$ui.addClass("fv__pdf-page-typewritter-annot-container"),s.$handler.addClass("fv__pdf-page-typewritter-annot-handler-container");var l=(0,u.default)("<div class='fv__ftui-container'><pre class='fv__typewriter_ui'></pre></div>");return s.$pre=l.find("pre"),s.$ui.append(l),s}return p(e,t),e.prototype.getShapeOptions=function(){var t=this;return{resizable:!1,start:function(){return t.onStartUpdateShape()},update:function(e,n){return t.onShapeUpdating(e,n)},moving:function(e,n,o){return t.onShapeMoving(e,n,o)},end:function(e,n,o){return t.onShapeUpdateEnd(e,n,o)},enableDiagonally:!0}},e.prototype.afterRender=function(t){t.transformed&&this.isActive&&(this.activeRect(),this.$rect&&this.$rect.show())},e.prototype.onStartUpdateShape=function(t,e,n){},e.prototype.onShapeUpdating=function(t,e){},e.prototype.onShapeMoving=function(t,e,n){if(this.pdfViewer.config.highPerformance)return this.moveTo(t.left,t.top,!1)},e.prototype.onShapeUpdateEnd=function(t,e,n){var o=Promise.resolve();switch(n){case"move":o=this.moveTo(t.left,t.top);break;case"resize":o=this.setRect(t),this.render()}return o},e.prototype.active=function(e){t.prototype.active.call(this,e),this._applyShapeChange(e)},e.prototype._applyShapeChange=function(t){var e,n=this._getShapeControllerBoundaryBox();e=this.getBoundary(),!0!==t&&this.shapeControl.active(this.$handler,e,n),this.setMargin()},e.prototype.movedByOther=function(){this.isActive&&this._applyShapeChange()},e.prototype.getPropertyOptions=function(){t.prototype.getPropertyOptions.call(this);var e=this.annot;return{opacity:e.getOpacity(),borderStyle:!1,disabled:this.propertyDisabled(),fontColor:e.getFontColor(),fontSize:e.getDefaultAppearance().textSize}},e.prototype._getShapeControllerBoundaryBox=function(){var t=this.getPDFPage(),e=(0,a.getWHByMatrix)(t.getPxWidth(),t.getPxHeight(),this.scale,this.rotate),n=o(e,2);return{left:0,top:0,right:n[0],bottom:n[1]}},e.prototype.unActive=function(){t.prototype.unActive.call(this),this.shapeControl.deactive()},e.prototype.createRectDom=function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui},e.prototype.setMargin=function(){var t=this.getGroupRect(),e=this.getRect();this.shapeControl.setMargin(s.default.expandOffset(e,t))},e.prototype.redraw=function(e){return this.moveDisabled()||this.groupMoveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),t.prototype.redraw.call(this,e)},e.prototype.setHeight=function(t,e){for(var n=this.annot.page.getRotationAngle(),o=((this.annot.getRotation()+n+this.rotate)%360+360)%360,r=this.parent("pdfPageRender").$ui[0].getBoundingClientRect();0!=t.scrollTop();){var i=t[0].getBoundingClientRect(),a=i.left,s=i.top,c=i.bottom,u=i.right,f=i.width,p=i.height;(l.isMobile||l.isMiPad||l.isIPAD||l.isTablet)&&(f=t.width(),p=t.height());var d=void 0;switch(o){case 0:a+(d=1.2*f)>r.right&&(d=r.right-a);break;case 90:s+(d=1.2*p)>r.bottom&&(d=r.bottom-s);break;case 270:c-(d=1.2*p)<r.top&&(d=c-r.top);break;case 180:u-(d=1.2*f)<r.left&&(d=u-r.left)}t.width(d),t.height(t.scrollTop()+t.height())}},e.prototype.beforeBlur=function(t,e){if(this.$textInput.val().length<1)return this.$ui.hide(),this.removeAnnot(),!0;var n=this.annot;this.$textInput.css("display","none");var o=this.annot.getContent();if(this.isHTMLSimulate("freetext")){o=t.target.value,n.info.content=o,n.info.RC="",n.info.rect=e;var r=this.getInnerBoundary(!1);this.$ui.css(r),this.$pre.html(o).show();var i=this.$ui.get(0).style,a=parseFloat(i.left)*this.fontSizeScale,s=parseFloat(i.top)*this.fontSizeScale,c=this.$ui.get(0).getBoundingClientRect(),u={left:a,top:s,right:a+c.width*this.fontSizeScale,bottom:s+c.height*this.fontSizeScale};return e=this.annot.page.reverseDeviceRect(u,this.scale,this.rotate),n._setRect(e),n._setContent(o),!0}this.$ui.show()},e.prototype.render=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;if(this.scale=e,this.rotate=n,!this.isHTMLSimulate("freetext")||"typewritter"!=this.name)return this.isHTMLSimulate("freetext")&&"textbox"==this.name?(this.$ui.css({overflow:"hidden"}),t.prototype.render.call(this,e,n)):t.prototype.render.call(this,e,n);var o=this.getStyle();o["word-break"]="keep-all",o["white-space"]="nowrap",o.opacity=this.annot.getOpacity();var r=this.$ui.find(".fv__ftui-container"),i=this.fontSizeScale;r.css({transform:"scale("+i+")",width:100/i+"%"}),this.$ui.css(o),this.$pre.text(this.annot.getContent())},e.prototype.updateSize=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return this.isHTMLSimulate("freetext")?this.render(e,n):t.prototype.updateSize.call(this,e,n)},e.prototype.enableEditMode=function(){this.isHTMLSimulate("freetext")?this.$pre.hide():"typewritter"==this.name&&this.$ui.hide(),t.prototype.enableEditMode.call(this)},e}(r.default);e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=l(n(41)),r=n(6),i=l(n(3)),a=n(4),s=(n(470),n(471)),c=n(31),u=l(n(70));function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var p=(0,s.getDefaultConfig)(".fv__pdf-page-annot-handler-rect"),d=function(t){function e(n,o,r,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,a));s.name="freetext",s.$ui.addClass("fv__pdf-page-freetext-annot-container"),s.$handler.addClass("fv__pdf-page-freetext-annot-handler-container");var c;return s.$textInput=(0,i.default)("<textarea class='fv__ui-freetext-editor "+s.annot.getIntent()+"'></textarea>"),c=s.$textInput,s.$handler.append(c),s.bindTextInputEvent(c),s}return f(e,t),e.getDefaultContextMenuConfig=function(){return p},e.prototype.active=function(){t.prototype.active.call(this),this.activeRect(),this.$rect&&this.$rect.show()},e.prototype.setContent=function(t){return this.annot.setContent(t)},e.prototype.getInnerBoundary=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=this.getPDFPage(),o=void 0;if(o=this.annot.getIntent()!==r.Intents.FREETEXT_TYPEWRITER?this.annot.getInnerRect():this.annot.getRect(),t&&this.annot.getIntent()!=r.Intents.FREETEXT_TYPEWRITER){var i=this.annot.getBorderWidth();o.left+=i,o.right-=i,o.top-=i,o.bottom+=i}var a=n.getDeviceRect(o,this.scale,e);return{left:a.left,top:a.top,width:a.right-a.left,height:a.bottom-a.top}},e.prototype.setInnerRect=function(t){return this.annot.setInnerRectNoAction(t)},e.prototype.setCalloutLinePoints=function(t){return this.annot.setCalloutLinePoints(t)},e.prototype.showReplyDialog=function(){var t=this.getAnnotFlag();try{return this.annot.checkModidyPerm(),!(t.checkLockedContents()||t.checkReadOnly()||t.checkLocked())&&(this.shapeControl&&this.shapeControl.deactive(),this.backup(),this.enableEditMode(),!0)}catch(t){return!1}},e.prototype.backup=function(){this.backupProperty={rect:Object.assign({},this.annot.getRect()),innerRect:Object.assign({},this.annot.getInnerRect())}},e.prototype.getStyle=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.annot.getRotation(),o=this.annot.page.getRotationAngle(),r=this.getRect(),i=this.getRect(this.scale,n+o),s=i.right-i.left,c=i.bottom-i.top,u=this.annot,l=u.getFillColor(),f=u.getDefaultAppearance(),p=f.textColor,d=4*f.textSize/3*this.scale,h=this.fontSizeScale=d/12;h>1&&(h=this.fontSizeScale=1);var g=1.1*d/h,m=(0,a.colorConvertor)(16777215&l,"#");0==l&&(m=e?"white":"transparent");var v=(0,a.colorConvertor)(16777215&p,"#");0==p&&(v="black");var y=f.font||{},b=this.annot.getAlignment();switch(b){case 0:b="left";break;case 1:b="center";break;case 2:b="right"}var w="center";switch((this.rotate+n+o)%360){case 0:w="center";break;case 90:w=c/2+"px center";break;case 180:w="center";break;case 270:w=s/2+"px "+s/2+"px"}g=Math.min(g,c)+"px";var _=Object.assign({"text-align":b,color:v,background:m,display:"block","font-size":d,fontFamily:'"'+[y.baseName,y.familyName,y.nameKey,y.name,"FoxitPDFSDKForWeb"].join('","')+'"',lineHeight:g},t?{left:r.left,top:r.top,width:s,height:c,"transform-origin":w,transform:"rotate("+(n+this.rotate+o)+"deg)"}:{});return _},e.prototype.setDomRect=function(t){var e=this.annot.getRotation()+this.annot.page.getRotationAngle()+this.rotate,n=this.getInnerBoundary(!0),o=n.left,r=n.top,i=n.width,a=n.height,s=new u.default,c=i,l=a,f=o,p=r;switch(e%360){case 90:c=-i,f=o+i;break;case 180:c=-i,f=o+i,l=-a,p=r+a;break;case 270:l=-a,p=r+a}s.rotate((360-e)*Math.PI/180);var d=s.transformRect(0,0,c,l);t.left=d[0]+f,t.top=d[1]+p,t.width=d[2]-d[0],t.height=d[3]-d[1],t["transform-origin"]="0 0",t.transform="rotate("+e+"deg)"},e.prototype.enableEditMode=function(){this.status="editing";var t=this.annot,e=this.getStyle(!1,!0);this.setDomRect(e),this.fontSizeScale>=1?this.$handler.css("transform","scale(1)"):(this.$handler.css("transform","scale("+this.fontSizeScale+")"),e.left/=this.fontSizeScale,e.top/=this.fontSizeScale,e.width/=this.fontSizeScale,e.height/=this.fontSizeScale,e.lineHeight="12px"),this.$textInput.css(e).val(t.getContent()).focus(),t.getIntent()==r.Intents.FREETEXT_TYPEWRITER&&this.setHeight(this.$textInput,13,e)},e.prototype.bindEvent=function(){var e=this;t.prototype.bindEvent.call(this);var n=function(t){27==t.keyCode&&t.preventDefault()};this.$textInput.on("keyup",n).on("keydown",n),this.__off__before_delete_event&&this.__off__before_delete_event(),this.__off__before_delete_event=this.pdfViewer.getKeyboardEventBinder(c.ACTIVATION_ANNOTATION_BINDER).before(c.KEY_MAP_DELETE_ANNOTATION,(function(t){document.activeElement==e.$textInput.get(0)&&t.stop()})),this.__off__esc__event__&&this.__off__esc__event__(),this.__off__esc__event__=this.pdfViewer.getKeyboardEventBinder(c.ACTIVATION_ANNOTATION_BINDER).on(c.KEY_MAP_UNACTIVE_ANNOTATION,(function(t){e.unActive()}))},e.prototype.unActive=function(){this.$textInput&&document.activeElement==this.$textInput[0]&&this.$textInput.blur(),t.prototype.unActive.call(this),this.$rect&&this.$rect.hide(),clearInterval(this.pressInterval)},e.prototype.unBindEvent=function(){t.prototype.unBindEvent.call(this),this.__off__before_delete_event&&this.__off__before_delete_event(),this.__off__esc__event__&&this.__off__esc__event__()},e.prototype.bindTextInputEvent=function(t){var e=this;t.on("focus",(function(t){e.oldInnerRect=e.annot.getInnerRect(),e.oldRect=e.annot.getRect(),e.oldCalloutLinePoints=e.annot.getCalloutLinePoints&&e.annot.getCalloutLinePoints()})).on("keydown",(function(t){27!==t.keyCode&&(clearInterval(e.pressInterval),e.pressInterval=setInterval((function(){e.setHeight(e.$textInput,t.keyCode)}),100))})).on("keyup",(function(t){27!==t.keyCode&&(e.setHeight(e.$textInput,t.keyCode),clearInterval(e.pressInterval))})).on("blur",(function(t){if("editing"==e.status){e.status="viewing";var n=e.$textInput[0].getBoundingClientRect(),o=e.parent("pdfPageRender").getPDFRectFromClientRect(n);if(!e.beforeBlur(t,o)){var a=void 0;switch(e.annot.getIntent()){case r.Intents.FREETEXT_TYPEWRITER:a=e.setRectInPDF(o,!1);break;default:a=e.setInnerRectHeight(o)}a.then((function(n){var o=e.annot.getContent();if(t.target.value!==o)return e.setContent(t.target.value)})).then((function(n){e.pdfViewer.activeElement(),(0,i.default)(t.target).css({display:"none"}).removeAttr("contenteditable")})).then((function(t){return e.$textInput.css("display","none"),e.oldInnerRect=null,e.oldRect=null,e.oldCalloutLinePoints=null,e.$handler.css("transform","scale(1)"),e.postBlur()})).then((function(t){return e.redraw()}))}}}))},e.prototype.beforeBlur=function(){return!1},e.prototype.postBlur=function(){},e.prototype.setHeight=function(t){},e.prototype.getPadding=function(){var t=this.annot,e=t.getRect(),n=t.getBorderInfo(),o=0;if(5!=n.style){var r=n.width||1;o=1.5*r,this.isHTMLSimulate("freetext")?o=2*r:e.top-e.bottom<2*o&&(o=r)}else o=t.getInnerRect().left-e.left;return o},e.prototype.setDefaultAppearance=function(t,e){var n=this;"textColor"==t&&(e=(0,a.colorConvertor)(e,"int",1));var o=this.annot.getDefaultAppearance();return o[t]=e,this.annot.setDefaultAppearance(o).then((function(t){n.activeRect(),n.shapeControl.adjustPointControl&&n.shapeControl.adjustPointControl(),n._applyShapeChange&&n._applyShapeChange()}))},e}(o.default);e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(154),i=(o=r)&&o.__esModule?o:{default:o};var a=function(){function t(e,n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ctrlKey=e,this.shiftKey=n,this.altKey=o,this.metaKey=r,this.keyCode=i}return t.prototype.equals=function(t){return this.ctrlKey===t.ctrlKey&&this.shiftKey===t.shiftKey&&this.altKey===t.altKey&&this.metaKey===t.metaKey&&this.keyCode===t.keyCode},t.prototype.toString=function(){var t=[];return this.ctrlKey&&t.push("ctrl"),this.shiftKey&&t.push("shift"),this.altKey&&t.push("alt"),this.metaKey&&t.push("meta"),t.join("+")+"+"+i.default.toString(this.keyCode)},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.userSettingsMap=e.uiMap=void 0;var o=n(545),r=n(155);var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.toString=function(t){return a.keyCodeToStr(t)},t.fromString=function(t){return a.strToKeyCode(t)},t}();e.default=i;var a=e.uiMap=new o.KeyCodeStrMap,s=e.userSettingsMap=new o.KeyCodeStrMap;!function(){var t=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];n.forEach((function(e){a.define(t,e),s.define(t,e)}))};t(r.KeyCodes.Unknown,"unknown"),t(r.KeyCodes.Backspace,"Backspace"),t(r.KeyCodes.Tab,"Tab"),t(r.KeyCodes.Enter,"Enter"),t(r.KeyCodes.Shift,"Shift"),t(r.KeyCodes.Ctrl,"Ctrl"),t(r.KeyCodes.Alt,"Alt"),t(r.KeyCodes.PauseBreak,"PauseBreak"),t(r.KeyCodes.CapsLock,"CapsLock"),t(r.KeyCodes.Escape,"Escape"),t(r.KeyCodes.Space,"Space"),t(r.KeyCodes.PageUp,"PageUp"),t(r.KeyCodes.PageDown,"PageDown"),t(r.KeyCodes.End,"End"),t(r.KeyCodes.Home,"Home"),t(r.KeyCodes.LeftArrow,"LeftArrow","Left"),t(r.KeyCodes.UpArrow,"UpArrow","Up"),t(r.KeyCodes.RightArrow,"RightArrow","Right"),t(r.KeyCodes.DownArrow,"DownArrow","Down"),t(r.KeyCodes.Insert,"Insert"),t(r.KeyCodes.Delete,"Delete"),t(r.KeyCodes.KEY_0,"0"),t(r.KeyCodes.KEY_1,"1"),t(r.KeyCodes.KEY_2,"2"),t(r.KeyCodes.KEY_3,"3"),t(r.KeyCodes.KEY_4,"4"),t(r.KeyCodes.KEY_5,"5"),t(r.KeyCodes.KEY_6,"6"),t(r.KeyCodes.KEY_7,"7"),t(r.KeyCodes.KEY_8,"8"),t(r.KeyCodes.KEY_9,"9"),t(r.KeyCodes.KEY_A,"A"),t(r.KeyCodes.KEY_B,"B"),t(r.KeyCodes.KEY_C,"C"),t(r.KeyCodes.KEY_D,"D"),t(r.KeyCodes.KEY_E,"E"),t(r.KeyCodes.KEY_F,"F"),t(r.KeyCodes.KEY_G,"G"),t(r.KeyCodes.KEY_H,"H"),t(r.KeyCodes.KEY_I,"I"),t(r.KeyCodes.KEY_J,"J"),t(r.KeyCodes.KEY_K,"K"),t(r.KeyCodes.KEY_L,"L"),t(r.KeyCodes.KEY_M,"M"),t(r.KeyCodes.KEY_N,"N"),t(r.KeyCodes.KEY_O,"O"),t(r.KeyCodes.KEY_P,"P"),t(r.KeyCodes.KEY_Q,"Q"),t(r.KeyCodes.KEY_R,"R"),t(r.KeyCodes.KEY_S,"S"),t(r.KeyCodes.KEY_T,"T"),t(r.KeyCodes.KEY_U,"U"),t(r.KeyCodes.KEY_V,"V"),t(r.KeyCodes.KEY_W,"W"),t(r.KeyCodes.KEY_X,"X"),t(r.KeyCodes.KEY_Y,"Y"),t(r.KeyCodes.KEY_Z,"Z"),t(r.KeyCodes.Meta,"Meta"),t(r.KeyCodes.ContextMenu,"ContextMenu"),t(r.KeyCodes.F1,"F1"),t(r.KeyCodes.F2,"F2"),t(r.KeyCodes.F3,"F3"),t(r.KeyCodes.F4,"F4"),t(r.KeyCodes.F5,"F5"),t(r.KeyCodes.F6,"F6"),t(r.KeyCodes.F7,"F7"),t(r.KeyCodes.F8,"F8"),t(r.KeyCodes.F9,"F9"),t(r.KeyCodes.F10,"F10"),t(r.KeyCodes.F11,"F11"),t(r.KeyCodes.F12,"F12"),t(r.KeyCodes.F13,"F13"),t(r.KeyCodes.F14,"F14"),t(r.KeyCodes.F15,"F15"),t(r.KeyCodes.F16,"F16"),t(r.KeyCodes.F17,"F17"),t(r.KeyCodes.F18,"F18"),t(r.KeyCodes.F19,"F19"),t(r.KeyCodes.NumLock,"NumLock"),t(r.KeyCodes.ScrollLock,"ScrollLock"),t(r.KeyCodes.US_SEMICOLON,";",";","OEM_1"),t(r.KeyCodes.US_EQUAL,"=","=","OEM_PLUS"),t(r.KeyCodes.US_COMMA,",",",","OEM_COMMA"),t(r.KeyCodes.US_MINUS,"-","-","OEM_MINUS"),t(r.KeyCodes.US_DOT,".",".","OEM_PERIOD"),t(r.KeyCodes.US_SLASH,"/","/","OEM_2"),t(r.KeyCodes.US_BACKTICK,"`","`","OEM_3"),t(r.KeyCodes.ABNT_C1,"ABNT_C1"),t(r.KeyCodes.ABNT_C2,"ABNT_C2"),t(r.KeyCodes.US_OPEN_SQUARE_BRACKET,"[","[","OEM_4"),t(r.KeyCodes.US_BACKSLASH,"\\","\\","OEM_5"),t(r.KeyCodes.US_CLOSE_SQUARE_BRACKET,"]","]","OEM_6"),t(r.KeyCodes.US_QUOTE,"'","'","OEM_7"),t(r.KeyCodes.OEM_8,"OEM_8"),t(r.KeyCodes.OEM_102,"OEM_102"),t(r.KeyCodes.NUMPAD_0,"NumPad0"),t(r.KeyCodes.NUMPAD_1,"NumPad1"),t(r.KeyCodes.NUMPAD_2,"NumPad2"),t(r.KeyCodes.NUMPAD_3,"NumPad3"),t(r.KeyCodes.NUMPAD_4,"NumPad4"),t(r.KeyCodes.NUMPAD_5,"NumPad5"),t(r.KeyCodes.NUMPAD_6,"NumPad6"),t(r.KeyCodes.NUMPAD_7,"NumPad7"),t(r.KeyCodes.NUMPAD_8,"NumPad8"),t(r.KeyCodes.NUMPAD_9,"NumPad9"),t(r.KeyCodes.NUMPAD_MULTIPLY,"NumPad_Multiply"),t(r.KeyCodes.NUMPAD_ADD,"NumPad_Add"),t(r.KeyCodes.NUMPAD_SEPARATOR,"NumPad_Separator"),t(r.KeyCodes.NUMPAD_SUBTRACT,"NumPad_Subtract"),t(r.KeyCodes.NUMPAD_DECIMAL,"NumPad_Decimal"),t(r.KeyCodes.NUMPAD_DIVIDE,"NumPad_Divide")}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyCodes=void 0;var o=n(9);e.KeyCodes={Unknown:0,Backspace:8,Tab:9,Enter:13,Shift:o.isMac?16:65,Ctrl:17,Alt:18,PauseBreak:19,CapsLock:20,Escape:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,LeftArrow:37,UpArrow:38,RightArrow:39,DownArrow:40,Insert:45,Delete:46,KEY_0:48,KEY_1:49,KEY_2:50,KEY_3:51,KEY_4:52,KEY_5:53,KEY_6:54,KEY_7:55,KEY_8:56,KEY_9:57,KEY_A:65,KEY_B:66,KEY_C:67,KEY_D:68,KEY_E:69,KEY_F:70,KEY_G:71,KEY_H:72,KEY_I:73,KEY_J:74,KEY_K:75,KEY_L:76,KEY_M:77,KEY_N:78,KEY_O:79,KEY_P:80,KEY_Q:81,KEY_R:82,KEY_S:83,KEY_T:84,KEY_U:85,KEY_V:86,KEY_W:87,KEY_X:88,KEY_Y:89,KEY_Z:90,Meta:91,ContextMenu:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,NumLock:144,ScrollLock:145,US_SEMICOLON:186,US_EQUAL:187,US_COMMA:188,US_MINUS:189,US_DOT:190,US_SLASH:191,US_BACKTICK:192,US_OPEN_SQUARE_BRACKET:219,US_BACKSLASH:220,US_CLOSE_SQUARE_BRACKET:221,US_QUOTE:222,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_ADD:107,NUMPAD_SEPARATOR:108,NUMPAD_SUBTRACT:109,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,KEY_IN_COMPOSITION:112,ABNT_C1:113,ABNT_C2:114}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t,e,n){var o={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};if(/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),/(TZ)/.test(e)){var r=-parseInt(t.getTimezoneOffset()/60);r=r>9?"+"+r:"+0"+r,r+=n+"00"+n,e=e.replace("TZ",r)}for(var i in o)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?o[i]:("00"+o[i]).substr((""+o[i]).length)));return e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNameEncode=e.xfdfJsonToAddJson=e.default=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=n(6),i=n(43);function a(t){return{unknowntype:"UnKnownType",text:"Text",link:"Link",freetext:"FreeText",line:"Line",square:"Square",circle:"Circle",polygon:"Polygon",polyline:"PolyLine",highlight:"Highlight",underline:"Underline",squiggly:"Squiggly",strikeout:"StrikeOut",stamp:"Stamp",caret:"Caret",ink:"Ink",psink:"PsInk",fileattachment:"FileAttachment",sound:"Sound",movie:"Movie",widget:"Widget",screen:"Screen",printermark:"PrinterMark",trapnet:"TrapNet",watermark:"Watermark","3d":"3D",popup:"Popup",redact:"Redact"}[t.toString().toLowerCase()]}var s="WRRRRRRRRWWRWWRRRRRRRRRRRRRRRRRRWRRRRDRRDDRNRNNDNNNNNNNNNNRRDRDRRRRRRRRRRRRRRRRRRRRRRRRRRRRDRDRRRRRRRRRRRRRRRRRRRRRRRRRRRRRDRDRRWRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRW";function c(t){var e=t.length,n=0,o=void 0;for(o=0;o<e;o++){var r=t.charCodeAt(o);r>=128||"W"==s[r]||"#"==t[o]||"D"==s[r]?n+=3:n++}if(n==e)return t;var i="";for(o=0;o<e;o++){var a=t.charCodeAt(o);if(a>=128||"W"==s[a]||"#"==t[o]||"D"==s[a]){if("W"==s[a]&&0==a)continue;i+="#",i+="0123456789ABCDEF"[parseInt(a/16)],i+="0123456789ABCDEF"[a%16]}else i+=t[o]}return i}function u(t){var e=void 0;for(e=0;e<t.length&&!(t.charCodeAt(e)>255);e++);if(e===t.length)return"("+t.replace(/([\(|\)])/g,"\\$1")+")";var n="<FEFF";for(e=0;e<t.length;e++){for(var o=t.charCodeAt(e).toString(16);o.length<4;)o="0"+o;n+=o}return n+">"}function l(t){for(var e=[],n=0;n<t.length;n++)e.push(t.charCodeAt(n));return new Uint8Array(e)}var f=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.JSONToFDF=function(e){for(var n={next:2,annotRef:[],file:"%FDF-1.2\n1 0 obj<</FDF<</Annots[{annotsRefArray}]>>/Type/Catalog>>endobj\n"},o=[],r=0,i=e.length;r<i;r++){var a=e[r];a.type&&(a.deleted?o.push({name:a.name,page:a.page}):t.singleAnnotJSONToFDF(n,a,!1))}return new Blob([l(n.file.replace(/\{annotsRefArray\}/,n.annotRef.join(" "))+"trailer\n<</Root 1 0 R>>\n%%EOF")],{type:"application/fdf"})},t.singleAnnotJSONToFDF=function(e,n){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=void 0,s=e.next;if(o?i="Popup":o="popup"==(i=a(n&&n.type&&n.type.toLowerCase()||"")).toLowerCase(),!i||"link"==i.toLowerCase()||"screen"==i.toLowerCase()||"sound"==i.toLowerCase())return 0;var l=n.style||"S";l=l.toUpperCase()[0];var f=n.width,d=n.color||"",g="C"==l?"C":"S",m=n.intensity,v=0===n.opacity?0:n.opacity||1,y=u(n.contents||""),b=n.flags||"print",w=b.split(",");for(var _ in b=0,r.AnnotFlagsName)-1!=w.indexOf(r.AnnotFlagsName[_])&&(b|=1<<parseInt(_));var P=n.creationdate,O=n.date,E=n.name||"",x=n.page,C=(n.rect||"").replace(/,/g," "),A=u(n.subject||"subject"),S=u(n.title||"title"),D=n["interior-color"],R=s+" 0 obj\n<</Rect ["+C+"]/Subtype /"+i+"/NM ("+E+")";if(e.annotRef.push(s+" 0 R "),e.next++,!o){if(R+="/M ("+O+")/CA "+v+"/Contents "+y+"/CreationDate ("+P+")/F "+b+"/Page "+x+"/Subj "+A+"/T "+S+"/Type /Annot",n.replyType){var j=void 0;R+="/RT /"+((j="string"==typeof n.replyType&&n.replyType||"Group")[0].toUpperCase()+j.substr(1))}n.inreplyto&&(R+="/IRT ("+n.inreplyto+")")}if(l||f){l=l||"S",f=f||"0",m=m||"0",g=g||"S";var T=(n.dashes||"").replace(","," ");R+="/BS <</S /"+l+" /W "+f+" /D ["+T+"]>>/BE <</S /"+g+" /I "+m+">>"}"FreeText"!=i?(d&&(R+="/C "+h(d)),D&&(R+="/IC "+h(D))):(D&&(R+="/C "+h(D)),d&&(R+="/IC "+h(d),R+="/DS (color:"+n.fontColor+")")),void 0!==n.rotation&&(R+="/Rotate "+n.rotation);var M="";switch(i){case"Text":case"Note":R=R.replace(/\/Subtype\s?\/Note/,"/Subtype /Text"),n.icon&&(R+="/Name/"+c(n.icon));var I=void 0;(I=n.state)&&(R+="/State("+I+")/StateModel("+n.statemodel+")");break;case"Link":return"";case"FreeText":R=R.replace(/\/C\s?\[[\s\S]*?\]/,""),D&&(R+="/C "+h(D));var k=n.defaultappearance,F=n.justification,N=n.intent||n.IT,L="/DA ("+k+")/Q "+F;if(N&&(L+="/IT /"+N),n.callout){var V=n.callout.replace(/,/g," ");L+="/CL  ["+V+"]";var B=n.fringe.replace(/,/g," ");L+="/RD ["+B+"]",L+="/LE/"+n.head}M=L;break;case"Line":var U="yes"===n.caption,H=n.head,q=n.tail,$="[/"+H+"/"+q+"]",W=n.leaderLength,z=n.start.replace(/,/g," "),Y=n.end.replace(/,/g," "),G=z+" "+Y,K=n.leaderExtend,J=n.intent,X="/Cap "+U+"/LE "+$+"/LL "+W+"/L ["+G+"]/LLE "+K;J&&(X+="/IT /"+J),M=X;break;case"Square":case"Circle":var Z=n.fringe.replace(/,/g," "),Q="/RD ["+Z+"]";M=Q;break;case"Polygon":case"PolyLine":var tt=n.vertices.replace(/[,|;]/g," "),et=n.intent,nt="/Vertices ["+tt+"]";if(et&&(nt+="/IT /"+et),"PolyLine"==i){var ot=n.head,rt=n.tail,it="[/"+ot+"/"+rt+"]";nt+="/LE "+it}M=nt;break;case"Redact":M+="/OC "+h(d);case"StrikeOut":case"Highlight":case"Squiggly":case"Underline":if(n.coords){var at=n.coords.replace(/,/g," ");M+="/QuadPoints ["+at+"]"}break;case"Caret":var st=n.fringe.replace(/,/g," "),ct="/RD ["+st+"]";M=ct;break;case"Stamp":if(n.icon&&(M="/Name/"+c(n.icon)),n.raw&&n.raw.N){var ut=p(e,n.raw,n.raw.N);M+="/AP<</N "+ut+" 0 R>>\n"}break;case"Ink":if("["===n.inklist[0]){var lt=n.inklist.substr(1,n.inklist.length-2).split("],["),ft="";lt.map((function(t){ft+="["+t.replace(/[,|;]/g," ")+"]"}));var pt="/InkList ["+ft+"]";M=pt}else M="/InkList [["+n.inklist.replace(/[,|;]/g," ")+"]]";break;case"Popup":M="/Open "+("yes"==n.open?"true":"false");break;case"Sound":var dt=p(e,n,{Filter:"/ASCIIHexDecode",R:n.rate,Type:"/Sound",stream:n.soundStream});M+="/Sound "+dt+" 0 R";case"FileAttachment":if(n.raw){var ht=p(e,n.raw,n.raw.FS);M+="/FS "+ht+" 0 R "}}if(n.popup){var gt=t.singleAnnotJSONToFDF(e,n.popup,!0);M+="/Popup "+gt+" 0 R"}return e.file+=R+M+">>\nendobj\n",s},t}(),p=function(t,e,n){var o=t.next;t.next++;var r="";if(r+=o+" 0 obj\n","string"==typeof n)r+=n;else if(n instanceof Array)r+="["+n.map((function(n){return d(t,e,n)})).join(" ")+"]";else{r+="<<\n";for(var i in n)"stream"!=i&&(r+="/"+i+" "+d(t,e,n[i]));if(r+=">>",n.stream){for(var a="",s=0;s<n.stream.length;s+=2){var c=parseInt(n.stream[s],16),u=parseInt(n.stream[s+1],16);a+=String.fromCharCode((c<<4)+u)}r+="stream\n"+a+"\nendstream"}}return r+="\nendobj\n",t.file+=r,o},d=function t(e,n,r){if(null===r)return"null";var i=void 0===r?"undefined":o(r);if("number"==i)return r;if("string"==i){if("/"==r[0])return"/"+c(r.replace("/",""));if("<"==r[0])return r;var a;return(a=r.match(/^(\d*)R$/))?p(e,n,n[a[1]])+" 0 R":"("+r+")"}if("boolean"==i)return r?"true":"false";if(r instanceof Array)return"["+r.map((function(o){return t(e,n,o)})).join(" ")+"]";var s="<<";for(var u in r)s+="/"+u+" "+t(e,n,r[u]);return s+">>"},h=function(t){var e=t.match(/\#?(\w{2})(\w{2})(\w{2})/),n=parseInt(e[1],16)/255,o=parseInt(e[2],16)/255,r=parseInt(e[3],16)/255;return"["+n.toFixed(2)+" "+o.toFixed(2)+" "+r.toFixed(2)+"]"},g=function(t){for(var e in r.LineEndingName)if(r.LineEndingName[e]==t)return+e;return 0};e.default=f,e.xfdfJsonToAddJson=function(t){var e={type:t.type,opacity:t.opacity,name:t.name,contents:t.contents,subject:t.subject,title:t.title,icon:t.icon,intent:t.intent||t.IT,DA:t.defaultappearance,alignment:t.justification,enableCaption:"yes"==t.caption},n=void 0;(n=t.color)&&(e.color=parseInt(n.replace("#",""),16));var o=t["interior-color"];o&&(e.fillColor=parseInt(o.replace("#",""),16));var a=t.flags||"print",s=a.split(",");for(var c in a=0,r.AnnotFlagsName)-1!=s.indexOf(r.AnnotFlagsName[c])&&(a|=1<<parseInt(c));e.flag=a;var u=(t.rect||"").split(",");u.length&&(e.rect={left:+u[0],top:+u[3],right:+u[2],bottom:+u[1]});var l=(t.fringe||"").split(",");l.length&&(e.innerRect={left:e.rect.left+ +l[0],top:e.rect.top-+l[3],right:e.rect.right-+l[2],bottom:e.rect.bottom+ +l[1]});var f=t.coords;if(f){f=f.split(","),e.coords=[];for(var p=0,d=f.length;p<d;p+=8){var h=Math.min(+f[0],+f[2],+f[4],+f[6]),m=Math.max(+f[0],+f[2],+f[4],+f[6]),v=Math.max(+f[1],+f[3],+f[5],+f[7]),y=Math.min(+f[1],+f[3],+f[5],+f[7]);e.coords.push({left:h,right:m,top:v,bottom:y})}}var b=t.callout;if(b){b=b.split(","),e.calloutLinePoints=[];for(var w=0,_=b.length;w<_;w+=2)e.calloutLinePoints.push({x:+b[w],y:+b[w+1]})}var P=t.head;P&&(e.startStyle=g(P));var O=t.tail;O&&(e.endStyle=g(O));var E=t.vertices;if(E){e.vertexes=[],E=E.split(";");for(var x=0;x<E.length;x++){var C=E[x].split(",");e.vertexes.push({x:+C[0],y:+C[1]})}}var A=t.inklist;if(A){e.inkList=[],A=JSON.parse("["+A.replace(/;/g,",")+"]");for(var S=0;S<A.length;S++)for(var D=A[S],R=0;R<D.length;R+=2){var j=D[R],T=0==R?1:2;e.inkList.push({x:j,y:D[R+1],type:T})}}var M=i.Border_Style[t.style||"solid"];e.borderInfo={style:M,width:t.width||1};var I=t.dashes;I&&(e.borderInfo.dashes=JSON.parse("["+I+"]"));var k=t.intensity;k&&(e.borderInfo.cloudIntensity=k);var F=t.start;F&&(F=F.split(","),e.startPoint={x:+F[0],y:+F[1]});var N=t.end;return N&&(N=N.split(","),e.endPoint={x:+N[0],y:+N[1]}),e},e.PDFNameEncode=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=c(n(3)),r=c(n(159)),i=c(n(118)),a=c(n(1)),s=c(n(272));function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var p=new(function(t){function e(){return u(this,e),l(this,t.apply(this,arguments))}return f(e,t),e.prototype.destroy=function(){},e}(i.default)),d=function(t){function e(){return u(this,e),l(this,t.apply(this,arguments))}return f(e,t),e.prototype.prepare=function(e){var n=this;t.prototype.prepare.call(this,e);var o={},r={},i=function(t,i){if(i){var a=i.getStateName(),s=r[a];s&&s.destroy()}var c=t.getStateName(),u=o[c]||(t.getDefaultContextMenuConfig?t.getDefaultContextMenuConfig():void 0);r[c]=n.createContextMenu(c,e.$ui.get(0),u)};e.eventEmitter.on(a.default.switchStateHandler,i),e.eventEmitter.once(a.default.openFileSuccess,(function(){i(e.getStateHandlerManager().currentStateHandler)}))},e.prototype.createContextMenu=function(t,e,n){if(!n||!n.items)return p;var r=n.items,a=this.pdfViewer.i18n;for(var s in r){var c=r[s];c.nameI18nKey&&(c.name=a.t(c.nameI18nKey))}var d=new(function(t){function r(){return u(this,r),l(this,t.apply(this,arguments))}return f(r,t),r.prototype.destroy=function(){(0,o.default)(e).contextMenu("destroy")},r.prototype.showAt=function(t,n){(0,o.default)(e).contextMenu()},r.prototype.disable=function(){t.prototype.disable.call(this),(0,o.default)(e).contextMenu("destroy")},r.prototype.enable=function(){t.prototype.enable.call(this),this.createRealContextmenu()},r.prototype.createRealContextmenu=function(){(0,o.default)(e).contextMenu(n)},r}(i.default));return(0,o.default)(e).on("contextmenu:hide",(function(){d.hiddenCallbacks.forEach((function(t){return t.call(d)}))})),d.createRealContextmenu(),d},e.prototype.alert=function(t){return t=this.pdfViewer.i18n.t(t)||t,window.alert(t),Promise.resolve()},e.prototype.confirm=function(t){t=this.pdfViewer.i18n.t(t)||t;var e=window.confirm(t);return null==e?Promise.reject("confirm dialog has been cancelled by user!"):Promise.resolve(e)},e.prototype.prompt=function(t,e){e=this.pdfViewer.i18n.t(e)||e;var n=window.prompt(e,t||"");return null==n?Promise.reject("prompt dialog has been cancelled by user!"):Promise.resolve(n)},e.prototype.createFreeTextTooltip=function(t){},e.prototype.createTextSelectionTooltip=function(t){return new s.default(this.pdfViewer,t)},e}(r.default);e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(32));r(n(558)),r(n(118));function r(t){return t&&t.__esModule?t:{default:t}}var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype.prepare=function(t){this.pdfViewer=t},t.prototype.showReply=function(t){(0,o.default)()},t.prototype.showPropertiesInfo=function(t){(0,o.default)()},t.prototype.createContextMenu=function(t,e,n){(0,o.default)()},t.prototype.alert=function(t){},t.prototype.confirm=function(t){},t.prototype.prompt=function(t,e,n){},t.prototype.createFreeTextTooltip=function(t){},t.prototype.createTextSelectionTooltip=function(t){},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(6),r=n(28),i=c(n(1)),a=c(n(30)),s=c(n(22));function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r.pdfViewer=n,r.pageRender=o,r}return u(e,t),e.prototype.getSelectionInfo=function(){var t=(0,s.default)(),e=this.pdfViewer.getStore().subscribe(o.STORE_NAMES.SELECTION_INFO,(function(n){e(),t.resolve(n)}));return this.addDestroyHook(e),t.promise},e.prototype.copy=function(){var t=this;return this.getSelectionInfo().then((function(e){(0,r.copyText)(e.text)?t.pdfViewer.eventEmitter.emit(i.default.copyTextSuccess,e.text):t.pdfViewer.eventEmitter.emit(i.default.copyTextFailed,e.text)}))},e.prototype.createTextHighlight=function(){return this.createTextMarkupAnnot("highlight")},e.prototype.createStrikeout=function(){return this.createTextMarkupAnnot("strikeout")},e.prototype.createUnderline=function(){return this.createTextMarkupAnnot("underline")},e.prototype.createTextMarkupAnnot=function(t){var e=this;return this.pageRender.getPDFPage().then((function(n){return e.getSelectionInfo().then((function(o){return n.addAnnot({type:t,rect:{left:0,right:0,top:0,bottom:0},flags:4,coords:o.rectArray}).then((function(t){var n=t[0];e.pdfViewer.eventEmitter.emit(i.default.addAnnotSuccess,n),e.pageRender.annotsRender.activeAnnot(n.getId())}))}))}))},e}(a.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=s(n(32)),i=s(n(30)),a=s(n(7));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var l=function(){function t(){u(this,t),this.keyArray=[],this.valueArray=[]}return o(t,null,[{key:"NONE",get:function(){return{}}}]),t.prototype.set=function(e,n){var o=this.keyArray,r=this.valueArray,i=o.indexOf(e);if(-1===i){var a=o.indexOf(t.NONE);-1!==a?i=a:(o.push(e),i=o.length-1)}o[i]=e,r[i]=n},t.prototype.get=function(t){var e=this.keyArray;return this.valueArray[e.indexOf(t)]},t.prototype.delete=function(e){var n=this.keyArray,o=this.valueArray,r=n.indexOf(e);r>-1&&(n[r]=t.NONE,o[r]=t.NONE)},t.prototype.has=function(t){return this.keyArray.indexOf(t)>-1},t.prototype.clear=function(){this.keyArray.length=0,this.valueArray.length=0},t.prototype.keys=function(){return this.keyArray.filter((function(e){return e!==t.NONE}))},t.prototype.values=function(){return this.valueArray.filter((function(e){return e!==t.NONE}))},o(t,[{key:"size",get:function(){return this.keyArray.filter((function(e){return e!==t.NONE})).length}}]),t}(),f=a.default.getLogger("WebAppLifeCycle"),p=function(t){function e(){u(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return n.map=new(window.Map||l),n.releaseHooks=[],n}return c(e,t),e.getName=function(){(0,r.default)()},e.depends=function(){return[]},e.prototype.release=function(){var t=this.map.values();if(Array.isArray(t))t.forEach((function(t){return t.release()}));else{var e=!0,n=!1,o=void 0;try{for(var r,i=t[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){r.value.release()}}catch(t){n=!0,o=t}finally{try{!e&&i.return&&i.return()}finally{if(n)throw o}}}this.releaseHooks.forEach((function(t){try{t()}catch(t){f.error("An error occurred while invoking release hook",t)}}))},e.prototype.getResourceGenerator=function(t){if(this.map.has(t))return this.map.get(t)},e.prototype.addResourceGenerator=function(t,e){if(this.map.has(t))throw new Error("duplicate generator name is not supported now!");this.map.set(t,new e)},e.prototype.initialize=function(){(0,r.default)()},e.prototype.addReleaseHook=function(t){"function"==typeof t&&this.releaseHooks.push(t)},e.prototype.destroy=function(){this.release(),this.map.clear(),delete this.map,t.prototype.destroy.call(this)},e}(i.default);e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.allIsSpace=e.debounce=e.getQuadPointsFromRect=e.normalizeQuadPoints=void 0;var o,r=n(70),i=(o=r)&&o.__esModule?o:{default:o};e.normalizeQuadPoints=function(t){var e=t[0],n=t[1],o=t[2],r=t[3],a=new i.default;if(a.translate(e.x,e.y),a.rotate(Math.atan2(e.y-n.y,n.x-e.x)),a.transformPoint(o.x,o.y)[1]>0){var s=e;e=o,o=s,s=n,n=r,r=s}return[e,n,o,r]},e.getQuadPointsFromRect=function(t,e){var n=t.left,o=t.right,r=t.top,a=t.bottom;switch(e%4){case 0:return[{x:n,y:r},{x:o,y:r},{x:n,y:a},{x:o,y:a}];case 1:return[{x:o,y:r},{x:o,y:a},{x:n,y:r},{x:n,y:a}];case 2:return[{x:o,y:a},{x:n,y:a},{x:o,y:r},{x:n,y:r}];case 3:return[{x:n,y:a},{x:n,y:r},{x:o,y:a},{x:o,y:r}]}var s=new i.default,c=(n+o)/2,u=(r+a)/2;s.rotateAt(c,u,-radian);var l=s.transformRect(n,r,o,a),f=s.transformPoint(l[0],l[3]);f={x:f[0],y:f[1]};var p=s.transformPoint(l[2],l[3]);p={x:p[0],y:p[1]};var d=s.transformPoint(l[0],l[1]);d={x:d[0],y:d[1]};var h=s.transformPoint(l[2],l[1]);return[f,p,d,h={x:h[0],y:h[1]}]},e.debounce=function(t,e){var n=void 0;return function(){var o=this,r=arguments;clearTimeout(n),n=setTimeout((function(){e.apply(o,r)}),t)}},e.allIsSpace=function(t){return 0===t.replace(/\s+/gi,"").length}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=g(n(42)),r=g(n(278)),i=g(n(569)),a=g(n(570)),s=g(n(164)),c=g(n(571)),u=g(n(279)),l=g(n(572)),f=g(n(280)),p=g(n(281)),d=g(n(573)),h=g(n(574));function g(t){return t&&t.__esModule?t:{default:t}}var m=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.createAction=function(t,e,n,g,m){if(t)switch(t.type){case"TypeURI":return new r.default(t,this,e,n,g,m);case"TypeLaunch":return new i.default(t,this,e,n,g,m);case"TypeNamed":return new a.default(t,this,e,n,g,m);case"TypeJavaScript":return new s.default(t,this,e,n,g,m);case"TypeSubmitForm":return new c.default(t,this,e,n,g,m);case"TypeResetForm":return new u.default(t,this,e,n,g,m);case"TypeImportData":return new l.default(t,this,e,n,g,m);case"TypeGoto":return new f.default(t,this,e,n,g,m);case"TypeHide":return new p.default(t,this,e,n,g,m);case"TypeGoToR":return new d.default(t,this,e,n,g,m);case"TypeGoToE":return new h.default(t,this,e,n,g,m);default:return new o.default(t,this,e,n,g,m)}},t}();e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(42)),r=(i(n(47)),i(n(16)),n(43));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n,o,i,c,u,l){if(a(this,e),0==arguments.length){var f=s(this,t.call(this,r.Action_Type.javaScript));return s(f)}return(f=s(this,t.call(this,n,o,i,c,u,l))).info.script&&(f.info.javascript=f.info.script),s(f)}return c(e,t),e.prototype.getScript=function(){return this.info.javascript},e.prototype.checkOutData=function(t){return t&&t.javascript},e.prototype.setScript=function(t){var e=this;return this.doc?this.doc.api.setActionScript(this.doc.getId(),this.info.objNumber,t).then((function(t){return e.updateAction(t),t})):(this.info.javascript=t,Promise.resolve())},e.prototype.exportToJson=function(){var e=t.prototype.exportToJson.call(this);return Object.assign(e,{script:this.getScript()})},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(619)),r=s(n(620)),i=s(n(622)),a=s(n(630));s(n(58));function s(t){return t&&t.__esModule?t:{default:t}}var c={};function u(t){if("string"!=typeof t)throw new Error(t+" is not a valid selector");if(t=t.trim(),c[t])return c[t];var e=(new r.default).tokenize(t).map((function(t){return i.default.create(t.type,t.options)}));return new a.default(e)}e.default={selectors:c,parseSelectors:function(t){var e=t.split(/\s*,\s*/).map((function(t){return u(t)}));return 1===e.length?e[0]:new o.default(e)},parseSelector:u}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(5),i=s(n(12)),a=s(n(69));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.namespace,o=void 0===n?r.ROOT_MODULE_NAME:n,a=e.type,s=e.text;c(this,t),this.$$options={namespace:o,type:a,text:s},this.componentOptions={proxyControllers:[]},this.module=i.default._nostrictModule(o),this.namespace=o,this.text=s,this.parent=null,this.type=a}return o(t,null,[{key:"NODE_TYPE_CONTAINER",get:function(){return"container"}},{key:"NODE_TYPE_TEXT",get:function(){return"text"}},{key:"NODE_TYPE_FRAGMENT",get:function(){return"fragment"}}]),t.prototype.setComponentOptions=function(t){this.componentOptions=t,t.proxyControllers||(t.proxyControllers=[])},t.prototype.appendComponentOptions=function(t){t&&(0,a.default)(this.componentOptions,t)},t.prototype.clone=function(){return new t(this.$$options)},t.prototype.getRoot=function(){return this.parent?this.parent.getRoot():this},t.prototype.remove=function(){return this.parent&&this.parent.removeChild(this),this},t.prototype.index=function(){return this.parent?this.parent.children.indexOf(this):-1},t.prototype.after=function(t){var e=this.index();if(-1===e)throw new Error("cannot insert node after a node that has not been appended");this.parent&&this.parent.insert(t,e+1)},t.prototype.before=function(t){var e=this.index();if(-1===e)throw new Error("cannot insert node before a node that has not been appended");this.parent&&this.parent.insert(t,e)},t.prototype.prelink=function(){},t.prototype.postlink=function(){},t}();e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(631),i=(o=r)&&o.__esModule?o:{default:o};var a=function(){function t(e,n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parser=e,this.pdfui=n,this.localizer=o,this.options={parser:e},this.context=r}return t.prototype.appendOptions=function(t){return Object.assign(this.options,t),this},t.prototype.appendInitData=function(t){return this.options.$initData=Object.assign(this.options.$initData||{},t),this},t.prototype.appendVNode=function(t){return this.vnode=t,this.options.viewConfig=t.toViewConfig(),this},t.prototype.appendParentComponent=function(t){return this.parentComponent=t,this.options.parentComponent=t,this},t.prototype.build=function(){var t=this.vnode.getComponentClass(),e=this.vnode.getDirectiveInstances(this.parentComponent,this.localizer),n=new i.default({node:this.vnode,parentComponent:this.parentComponent},e);if(n.processComponentOptions(this.options),!this.options.callback&&this.parentComponent&&(this.options.callback=this.parentComponent.controller),"context"in this.options&&this.options.context!==this.context)throw new Error("Conflicting component option: context");this.options.context=this.context;var o=new t(this.options,this.vnode.module,this.localizer);o.setPDFUIInstance(this.pdfui),n.init(o),n.beforeComponentRender(),o.prerender();try{o.render()}finally{n.afterComponentRender()}return o},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a(n(120));var o=a(n(15));n(636);a(n(98));var r=a(n(82)),i=n(9);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r)),a=i.viewConfig.attrs;return i.iconCls=n.iconCls||a["icon-class"]||a.iconCls,i.text=i.text||i.viewConfig.textContent,i}return s(e,t),e.getName=function(){return"xbutton"},e.getMetadata=function(){return{options:{text:{type:"string"},action:{type:"string"}}}},e.prototype.setText=function(t){this.text=t||this.text,this.renderText()},e.prototype.setIconCls=function(t){this.iconCls=t||this.iconCls,this.renderIcon()},e.prototype.createDOMElement=function(){var t=void 0;return this.parent instanceof r.default?(t=document.createElement("li")).classList.add("fv__ui-dropdown-button"):t=document.createElement("a"),t},e.prototype.render=function(){t.prototype.render.call(this),this.element.classList.add("fv__ui-button");var e=document.createElement("i");e.classList.add("fv__ui-button-icon"),e.classList.add(this.iconCls),this.iconCls&&(this.appendIconElement(e),this.iconElement=e)},e.prototype.renderText=function(){var t=this.textElement||(this.textElement=document.createElement("span"));return t.classList.add("fv__ui-button-text"),t.innerText="","string"==typeof this.text&&this.text.length>0?(this.appendTextElement(t),t.setAttribute("data-i18n",this.text)):this.texts.length>0&&this.texts.forEach((function(e){t.appendChild(e.element)})),this.parent instanceof r.default&&t.classList.add("fv__ui-dropdown-item-text"),this.localizer.localizeElement(t),t},e.prototype.appendTextElement=function(t){this.element.appendChild(t)},e.prototype.appendIconElement=function(t){this.element.appendChild(t)},e.prototype.renderIcon=function(){var t=this.element.querySelector("i");this.iconCls?(t||(t=document.createElement("i")),t.className="",t.classList.add("fv__ui-button-icon",this.iconCls)):t&&t.remove()},e.prototype.localize=function(){return this.localizer.localizeElement(this.textElement)},e.prototype.acceptText=function(){return!0},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this);var n=function(t){e.disabled||(e.trigger("click"),e.controller.handle(t),t.preventDefault(),t.stopPropagation())};if(i.isIPHONE||i.isIPOD){var o=!1;this.attachEventToElement(this.element,"mouseup",(function(t){var e=document.createEvent("MouseEvent");e.initMouseEvent("click",t.bubbles,t.cancelable,window,t.detail,t.screenX||0,t.screenY||0,t.clientX||0,t.clientY||0,t.ctrlKey||!1,t.altKey||!1,t.shiftKey||!1,t.metaKey||!1,t.button||0,t.relatedTarget||null),e.isFake=!0,Object.defineProperties(e,{srcElement:{get:function(){return t.srcElement}},fromElement:{get:function(){return t.fromElement}},target:{get:function(){return t.target}},toElement:{get:function(){return t.toElement}}}),o=!0,n(e)})),this.attachEventToElement(this.element,"click",(function(t){try{if(o)return;n(t),t.preventDefault(),t.stopPropagation()}finally{o=!1}}))}else this.attachEventToElement(this.element,"click",n)},e.prototype.triggerHandler=function(){this.element.click()},e.prototype.update=function(){t.prototype.update.call(this),this.renderText()},e.prototype.removeText=function(e){return!!t.prototype.removeText.call(this,e)&&(this.renderText(),!0)},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(18);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.selectable=!0===n.selectable,i}return i(e,t),e.getName=function(){return"dropdown-item"},e.prototype.createDOMElement=function(){return document.createElement("li")},e.prototype.doDisable=function(){this.element.classList.add("disabled")},e.prototype.doEnable=function(){this.element.classList.remove("disabled")},e.prototype.render=function(){t.prototype.render.call(this),this.element.classList.add("fv__ui-dropdown-item")},e.prototype.acceptText=function(){return!0},e.prototype.sync=function(e,n){switch(e){case"text":this.element.setAttribute("data-i18n",n),this.localize();break;default:t.prototype.sync.call(this,e,n)}},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){return t=parseFloat(t),isFinite(t)?t:e},r=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.min=o(e,-1/0),this.max=o(n,1/0),this.step=o(r,1);var i=Math.min(this.min,this.max),a=Math.max(this.min,this.max);this.step<0?(this.max=i,this.min=a):0===this.step?this.max=this.min:(this.max=a,this.min=i),(this.min>this.max&&this.step>0||this.min<this.max&&this.step<0)&&(this.step=-this.step),0===this.step&&(this.step=this.min>this.max?-1:1),this.min===this.max&&(this.step=0),this.step>this.max-this.min&&(this.step=this.max-this.min)}return t.prototype.increment=function(t){return Map.min(this.max,t+this.step)},t.prototype.decrement=function(t){return Math.max(this.min,t-this.step)},t.prototype.normalizeValue=function(t){return"number"!=typeof t&&(t=parseFloat(t)),isNaN(t)?this.min:(t=Math.min(this.max,Math.max(t,this.min)),0===this.step?t:isFinite(this.min)?e(this.min+Math.round((t-this.min)/this.step)*this.step,this.step):isFinite(this.max)?e(this.max-Math.round((this.max-t)/this.step)*this.step,this.step):e(Math.round(t/this.step)*this.step,this.step));function e(t,e){var n=e.toString(),o=n.indexOf(".");if(-1!==o){var r=Math.pow(10,n.length-o-1);return Math.floor(t*r)/r}return t}},t}();e.default=r},function(t,e,n){"use strict";n.r(e),n.d(e,"QueuedAsyncTaskExecutor",(function(){return r}));var o=n(6),r=function(){function t(){this.isCanceled=!1,this.isRunning=!1,this.inserts=[]}return t.prototype.execTasks=function(t){var e=this;if(t.length<1)return Promise.resolve();this.isRunning=!0;var n=t.reduce((function(n,o,r){var i=function(i){if(e.isCanceled)return e.runningPromise=n,r===t.length-1&&(e.isCanceled=!1),e.inserts.length=0,n;(o.args||[]).push(i);var a=function(){return o.task.apply(o.context,o.args)},s=e.executeInserts(n);return s?s.then(a,a):a()};return n?n.then(i,i):o.task.apply(o.context,o.args)}),this.runningPromise),o=function(){if(e.inserts.length>0)return e.execTasks(e.inserts)};return this.runningPromise=n.then(o,o).finally((function(){e.isRunning=!1}))},t.prototype.exec=function(t,e,n){void 0===e&&(e=1);var o=("number"==typeof e?Array(e).fill(0).map((function(t,e){return[e]})):e).map((function(e){return{task:t,args:e,context:n}}));return this.execTasks(o)},t.prototype.insert=function(t){this.isRunning?this.inserts.push(t):this.execTasks([t])},t.prototype.cancel=function(){this.isCanceled=!0},t.prototype.waitForCurrentRunningTasks=function(){return this.runningPromise},t.prototype.executeInserts=function(t){var e=this;if(0!==this.inserts.length)try{this.inserts.reduce((function(t,n){var o=function(){return e.isCanceled?t:n.task.apply(n.context,n.args)};return t?t.then(o,o):o()}),t||o.RESOLVED_PROMISE_VOID)}finally{this.inserts.length=0}},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(18);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.title=n.title||i.attrs.title,i}return i(e,t),e.getName=function(){return"accordion-card"},e.prototype.doInsert=function(t,e){var n=this.bodyElement.children;if(e<0||e>n.length)throw new Error("index out of bounds: "+e);this.rerenderChildren()},e.prototype.render=function(){t.prototype.render.call(this),this.titleElement=document.createElement("span"),this.caretElement=document.createElement("i"),this.headerElement=document.createElement("div"),this.bodyElement=document.createElement("div"),this.element.classList.add("fv__ui-accordion-card"),this.headerElement.classList.add("fv__ui-accordion-card-header"),this.bodyElement.classList.add("fv__ui-accordion-card-body"),this.caretElement.classList.add("fv__icon-toolbar-caret"),this.titleElement.setAttribute("data-i18n",this.title),this.headerElement.appendChild(this.titleElement),this.headerElement.appendChild(this.caretElement),this.element.appendChild(this.headerElement),this.element.appendChild(this.bodyElement)},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this);var n=function(){e.isActive?e.deactive():e.active()};this.headerElement.addEventListener("click",n),this.addDestroyHook((function(t){return e.headerElement.removeEventListener("click",n)}))},e.prototype.setTitle=function(t){this.title=t,this.titleElement.setAttribute("data-i18n",this.title),this.localizer.localizeElement(this.titleElement)},e.prototype.getContainerElement=function(){return this.bodyElement},e.prototype.active=function(){this.isVisible&&t.prototype.active.call(this)},e.prototype.doActive=function(){if(t.prototype.rerenderChildren.call(this),this.element.classList.add("active"),this.parent&&this.parent.singleton){var e=this.parent.lastActiveCard;e&&e!==this&&e.deactive(),this.parent.lastActiveCard=this}},e.prototype.doDeactive=function(){this.$container.children().forEach((function(t){return t.removeElement()})),this.element.classList.remove("active")},e.prototype.rerenderChildren=function(){this.isActive&&t.prototype.rerenderChildren.call(this)},e.prototype.acceptText=function(){return!0},e.prototype.appendText=function(e){t.prototype.appendText.call(this,e)},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=d(n(710)),r=n(5),i=d(n(23)),a=d(n(7)),s=d(n(18)),c=d(n(306)),u=d(n(299)),l=d(n(12)),f=(d(n(15)),d(n(167))),p=(d(n(307)),d(n(719)));function d(t){return t&&t.__esModule?t:{default:t}}a.default.getLogger("UIXNodeParser");var h=function(){function t(e,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.localizer=e,this.pdfui=n,this.templateParser=o,this.context=new p.default({parser:this,templateParser:o,localizer:e,pdfui:n})}return t.prototype.parse=function(t,e){var n=this.parseTemplateToNode(t,e);return this.parseNode(n)},t.prototype.parseTemplateToNode=function(t,e){var n=this.templateParser.parse(t);return this.parseFragments(e,n),n},t.prototype.parseFragments=function(t,e){var n=this;t.forEach((function(t){var i=o.default[t.action||r.FRAGMENT_ACTION.EXT];if(!i)throw new Error("Invalid action type: "+t.action);i.call(n,e,t)}))},t.prototype.parseNode=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments[2];if(t instanceof c.default)return this.parseTextNode(t,n);var r=void 0,a=t.getParserDirectiveInstance(n,this.localizer);if(a)r=a.parseComponent(this,o);else{var u=new f.default(this,this.pdfui,this.localizer,this.context);u.appendOptions(t.componentOptions).appendInitData(o).appendVNode(t).appendParentComponent(n);var l=t.getComponentClass();if(l.isFake())return void l.handleParseError(t);l.preprocess(u,this),t=u.vnode,r=u.build()}if(r){var p=r.directive;r.prelink(),p.componentPrelink();var d=t.children.filter((function(t){return t instanceof i.default})),h=r instanceof s.default;if(d.length>0&&!h)throw new Error(t.name+" is not a container type component, so it can't have child components, but actual: "+t.template);if(h){var g=r.acceptText()?t.children:d;g.forEach((function(t){var n=e.parseNode(t,r);n&&(t instanceof c.default?r.appendText(n):r.append(n))}))}else r.acceptText()&&t.children.forEach((function(t){var n=e.parseTextNode(t,r);r.appendText(n)}));return r.postlink(),p.componentPostlink(),r}},t.prototype.parseTextNode=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=new u.default({viewConfig:{textContent:t.text,attrs:{},vnode:t},context:this.context,callback:e?e.controller:null,proxyControllers:t.componentOptions.proxyControllers},l.default.root(),this.localizer);return n.render(),n.prelink(),n.postlink(),n},t}();e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){c.call(this,t,e,e.insertIndex||0)},e.insertAt=c;var o=a(n(23)),r=a(n(7)),i=n(77);function a(t){return t&&t.__esModule?t:{default:t}}var s=r.default.getLogger("parser.actions.insert");function c(t,e,n){if(!e.target)throw new Error("target name is missing!");Array.isArray(e.target)||(e.target=[e.target]);var r=e.config;r||(s.debug("config is required for fragment components",e),r=[]),t.nodeName,Array.isArray(r)||(r=[r]);var a={};r.forEach((function(t,e){if(!t.target)throw new Error("target name is required for fragment components ("+e+")");if(a[t.target])throw new Error("Duplicated target name: "+t.target);a[t.target]=t}));var c=this.templateParser;e.target.forEach((function(r){var s=t.querySelectorAll(r);(0,i.assertSelectorResult)(e,s,r),s.forEach((function(t){var r=e.template?c.parse(e.template):null;if(!r)throw new Error('invalid fragment template: "'+e.template+'"');var i=function(t){var e=r.querySelectorAll(t),n=a[t];e.forEach((function(t){return t.appendComponentOptions(n)}))};for(var s in a)i(s);var u=t.children.filter((function(t){return t instanceof o.default})),l=u[n];!l||n>=u.length?t.append(r):l.before(r)}))}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(14)),r=i(n(778));function i(t){return t&&t.__esModule?t:{default:t}}var a=o.default.ext(r.default,"CreateAreaHighlightController",32);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(14)),r=i(n(780));function i(t){return t&&t.__esModule?t:{default:t}}var a=o.default.ext(r.default,"CreateCaretController",32);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(14)),r=i(n(781));function i(t){return t&&t.__esModule?t:{default:t}}var a=o.default.ext(r.default,"CreateFileAttachmentController",32);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(14)),r=i(n(782));function i(t){return t&&t.__esModule?t:{default:t}}var a=o.default.ext(r.default,"CreateHighlightController",32);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(14)),r=i(n(784));function i(t){return t&&t.__esModule?t:{default:t}}var a=o.default.ext(r.default,"CreateImageController",32);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(14)),r=i(n(785));function i(t){return t&&t.__esModule?t:{default:t}}var a=o.default.ext(r.default,"CreateLinkController",32);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(14)),r=i(n(786));function i(t){return t&&t.__esModule?t:{default:t}}var a=o.default.ext(r.default,"CreatePencilController",32);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(14)),r=i(n(787));function i(t){return t&&t.__esModule?t:{default:t}}var a=o.default.ext(r.default,"CreateReplaceController",32);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(14)),r=i(n(788));function i(t){return t&&t.__esModule?t:{default:t}}var a=o.default.ext(r.default,"CreateSquigglyController",32);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(14)),r=i(n(789));function i(t){return t&&t.__esModule?t:{default:t}}var a=o.default.ext(r.default,"CreateStrikeoutController",32);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(14)),r=i(n(790));function i(t){return t&&t.__esModule?t:{default:t}}var a=o.default.ext(r.default,"CreateTextController",32);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(14)),r=i(n(791));function i(t){return t&&t.__esModule?t:{default:t}}var a=o.default.ext(r.default,"CreateUnderlineController",32);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(14)),r=i(n(792));function i(t){return t&&t.__esModule?t:{default:t}}var a=o.default.ext(r.default,"EraserController",32);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=n}return t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.mult=function(e){return new t(this.x*e,this.y*e)},t.prototype.add=function(e){return new t(this.x+e.x,this.y+e.y)},t.prototype.negate=function(){return new t(-this.x,-this.y)},t.prototype.substract=function(e){return new t(this.x-e.x,this.y-e.y)},t.prototype.normalize=function(){var e=this.length();return 0===e?new t(0,0):new t(this.x/e,this.y/e)},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.perp=function(){return new t(this.y,-this.x)},t.prototype.segment=function(e){return{from:this,to:e,dir:new t(e.x-this.x,e.y-this.y)}},t.prototype.rotate=function(e){var n=Math.sin(e),o=Math.cos(e);return new t(this.x*o+this.y*n,-this.x*n+this.y*o)},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(14)),r=i(n(190));function i(t){return t&&t.__esModule?t:{default:t}}var a=o.default.ext(r.default,"CreateLineController",32);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=d(n(46)),i=(n(17),n(6)),a=d(n(35));n(191);var s=n(13),c=n(31),u=d(n(1)),l=d(n(75)),f=d(n(796)),p=n(797);function d(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var v=function(t){function e(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.LineEndingStyle.None,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.LineEndingStyle.None;h(this,e);var a=g(this,t.call(this,n));return a.startStyle=o,a.endStyle=r,a.cursorStyle="fv__cursor-crosshair",a}return m(e,t),e.getStateName=function(){return s.STATE_HANDLER_CREATE_LINE},e.prototype.createInteractionTool=function(t,e){return new f.default(this.pdfViewer,t,e)},e.prototype.pageHandler=function(t){var e=this;this.pageRender=t;var n=t.$handler;n.addClass(this.cursorStyle);var r=n.get(0),i=this.interaction=this.createInteractionTool(r,{direction:Hammer.DIRECTION_ALL});i.init();var s=void 0,f=!1,p=this.pdfViewer.getKeyboardEventBinder(c.ANNOTATION_CREATING_BINDER),d=function(){e.pdfViewer.keyboard.activeDefaultBinder()};this.offCancelEvent=p.on(c.KEY_MAP_ESC_CREATING_DRAWING,(function(){f||(d(),e.cancel(),e.interaction.cancel(),f=!0)})),i.on("start",(function(t){e.pdfViewer.switchKeyboardEventBinder(c.ANNOTATION_CREATING_BINDER),f=!1;var n=(0,a.default)(r,t);s=[n.x,n.y];var i=e.pageRender.page.reverseDevicePoint(s,e.pageRender.scale,e.pageRender.getRotation()),u=o(i,2),l=u[0],p=u[1];e.start(l,p)})),i.on("move",(function(t){if(!f){var n=function(t,e){if(l.default.isShift){var n=Math.sqrt(t*t+e*e),o=Math.atan2(e,t),r=.25*Math.PI,i=Math.round(o/r)*r;t=n*Math.cos(i),e=n*Math.sin(i)}return[t,e]}(t.deltaX,t.deltaY),r=o(n,2),i=r[0],a=r[1];e.adjust(e.fakeAnnotation,{x:s[0]+i,y:s[1]+a})}})),i.on("end",(function(t){if(!f)return d(),e.end()})),i.on("cancel",(function(t){f||(d(),e.cancel())})),this.__removeZoomToSuccessEventListener=this.pdfViewer.addEventListener(u.default.zoomToSuccess,(function(t){!f&&e.fakeAnnotation&&(e.fakeAnnotation.zoomTo(t),e.fakeAnnotation.draw())}))},e.prototype.correctCoord=function(t,e){var n=this.pageRender.getScale(),o=t.getPxWidth()*n,r=t.getPxHeight()*n;return[Math.max(0,Math.min(o,e[0])),Math.max(0,Math.min(r,e[1]))]},e.prototype.start=function(t,e){return this.fakeAnnotation=new p.FakeLineAnnotation({pdfViewer:this.pdfViewer,pageRender:this.pageRender,info:this.createAnnotJson({flags:4,startPoint:{x:t,y:e},endPoint:{x:t+1,y:e+1},startStyle:this.startStyle,endStyle:this.endStyle})})},e.prototype.createAnnotJson=function(t){return t},e.prototype.adjust=function(t,e){t.setEndPoint(e),t.draw()},e.prototype.end=function(){this.fakeAnnotation&&(this.fakeAnnotation.apply(),this.fakeAnnotation=null)},e.prototype.cancel=function(){this.fakeAnnotation&&(this.pdfViewer.eventEmitter.emit(u.default.cancelAddAnnot),this.fakeAnnotation.destroy(),this.fakeAnnotation=null)},e.prototype.destroyPageHandler=function(){this.interaction&&this.interaction.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle),this.offCancelEvent&&this.offCancelEvent(),this.__removeZoomToSuccessEventListener&&this.__removeZoomToSuccessEventListener()},e.prototype.out=function(){this.destroyPageHandler()},e}(r.default);e.default=v},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(30)),r=i(n(56));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return o.pdfViewer=n,o.eventEmitter=new r.default,o.addDestroyHook((function(){o.eventEmitter.removeAllListeners()})),o.isLocked=!1,o.isStarted=!1,o}return a(e,t),e.prototype.init=function(){},e.prototype.start=function(){this.isStarted=!0},e.prototype.cancel=function(){this.isStarted=!1},e.prototype.emit=function(t,e){this.isLocked||this.eventEmitter.emit(t,e)},e.prototype.on=function(t,e){var n=this;return this.eventEmitter.on(t,e),function(){n.eventEmitter.off(t,e)}},e.prototype.lock=function(){this.isLocked=!0},e.prototype.unlock=function(){this.isLocked=!1},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(14)),r=i(n(798));function i(t){return t&&t.__esModule?t:{default:t}}var a=o.default.ext(r.default,"CreateArrowController",32);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(14)),r=i(n(799));function i(t){return t&&t.__esModule?t:{default:t}}var a=o.default.ext(r.default,"CreateCircleController",32);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(14)),r=i(n(802));function i(t){return t&&t.__esModule?t:{default:t}}var a=o.default.ext(r.default,"CreateSquareController",32);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=l(n(46)),r=l(n(7)),i=n(17);n(9);n(191);var a=n(31),s=(n(37),l(n(1))),c=l(n(197)),u=l(n(317));n(13);function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}r.default.getLogger("creation/complexshape/state");var p=function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return r.type=o,r.cursorStyle="fv__cursor-crosshair",r}return f(e,t),e.prototype.createInteractionTool=function(t){return new c.default(this.pdfViewer,t,"create-complex-shape")},e.prototype.pageHandler=function(t){var e=this;this.pageRender=t,this.destroyPageHooks=[];var n=t.$handler;n.addClass(this.cursorStyle);var o=n.get(0);this.interaction=this.createInteractionTool(o),this.interaction.init();var r=new i.DebouncePromiseQueue,c=this.pdfViewer.getKeyboardEventBinder(a.ANNOTATION_CREATING_BINDER),u=function(){};this.offCancelEvent=c.on(a.KEY_MAP_ESC_CREATING_DRAWING,(function(){u(),e.interaction.unlock(),e.interaction.cancel(),e.cancel()})),this.pdfViewer.eventEmitter.addListener(s.default.toolbarTabsClicked,(function(){e.out()})),this.interaction.on("start",(function(t){var n=t.clientX,r=t.clientY,i=o.getBoundingClientRect(),s=n-i.left,c=r-i.top;u(),u=e.pdfViewer.switchKeyboardEventBinder(a.ANNOTATION_CREATING_BINDER),e.fakeAnnotation=e.create(s,c),e.interaction.startCreating()})),this.interaction.on("add-point",(function(t){var n=t.clientX,r=t.clientY,i=o.getBoundingClientRect(),a=n-i.left,s=r-i.top;e.addPoint(e.fakeAnnotation,{deviceX:a,deviceY:s})})),this.interaction.on("move",(function(t){var n=t.clientX,r=t.clientY,i=o.getBoundingClientRect();e.adjust(e.fakeAnnotation,{deviceX:n-i.left,deviceY:r-i.top})})),this.interaction.on("end",(function(t){e.canBeCompleted(e.fakeAnnotation)?(u(),e.end(e.fakeAnnotation,t)):e.interaction.startCreating()})),this.interaction.on("cancel",(function(){u(),e.cancel()})),this.destroyPageHooks.push((function(){return r.end()}),this.pdfViewer.addEventListener(s.default.zoomToSuccess,(function(t){e.fakeAnnotation&&(e.fakeAnnotation.zoomTo(t),e.fakeAnnotation.draw())})))},e.prototype.create=function(t,e){throw new Error("not implemented!")},e.prototype.addPoint=function(t,e){var n=e.deviceX,o=e.deviceY;t.addPoint(n,o),t.draw()},e.prototype.adjust=function(t,e){var n=e.deviceX,o=e.deviceY;t.setLastPoint(n,o),t.draw()},e.prototype.end=function(t,e){this.creatingState=0,t.apply(),this.fakeAnnotation=null},e.prototype.cancel=function(){this.fakeAnnotation&&(this.interaction.cancel(),this.fakeAnnotation.destroy(),this.fakeAnnotation=null)},e.prototype.canBeCompleted=function(){return!0},e.prototype.createAnnotJson=function(t,e){return t},e.prototype.destroyPageHandler=function(){this.destroyPageHooks&&this.destroyPageHooks.forEach((function(t){return t()})),this.pageRender.$handler.removeClass(this.cursorStyle),this.fakeAnnotation&&(this.interaction.status!==u.default.IDLE&&this.pdfViewer.eventEmitter.emit(s.default.cancelAddAnnot),this.fakeAnnotation.destroy(),this.fakeAnnotation=null),this.interaction.destroy(),this.offCancelEvent&&this.offCancelEvent()},e.prototype.out=function(){this.destroyPageHandler()},e}(o.default);e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(37),r=c(n(192)),i=c(n(20)),a=c(n(317)),s=n(803);function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return i.actionName=r,i.targetElement=o,i.status=a.default.IDLE,i}return u(e,t),e.prototype.startCreating=function(){this.status=a.default.CREATING},e.prototype.cancel=function(){this.status=a.default.IDLE},e.prototype._addEventListener=function(t,e,n,o){return t.addEventListener(e,n,o),function(){t.removeEventListener(e,n,o)}},e.prototype.init=function(){var t=this,e=new Hammer.Manager(this.targetElement);e.add(new Hammer.Tap({event:"doubletap",taps:2,time:200}));var n=void 0,r=!0,c=i.default,u=(0,s.attachMouseEvent)(this.targetElement,s.MouseEventType.DOWN,(function(e){var n=e.clientX,o=e.clientY;if(t.status===a.default.IDLE)t.status=a.default.CONSTRUCT,t.emit("start",{clientX:n,clientY:o,srcEvent:e.native});else if(t.status===a.default.CREATING){c(),r=!1;var i=setTimeout((function(){t.emit("add-point",{clientX:n,clientY:o,srcEvent:e.native}),r=!0}),300);c=function(){clearTimeout(i)}}})),l=(0,s.attachMouseEvent)(document,s.MouseEventType.MOVE,(function(e){if(t.status===a.default.CREATING&&!t.isLocked&&r){var o=e.clientX,i=e.clientY;t.emit("move",n={clientX:o,clientY:i,srcEvent:e.native})}}));e.on("doubletap",(function(t){r=!0;var e=t.srcEvent;c(),n||(n={clientX:(0,o.getClientX)(e),clientY:(0,o.getClientY)(e),srcEvent:t}),f()}));var f=function(){t.status===a.default.CREATING&&(t.status=a.default.IDLE,t.unlock(),t.emit("end",n),n=null)},p=this.pdfViewer.getStore().subscribe(this.actionName,(function(e){switch(e){case"complete":f();break;case"cancel":t.status===a.default.CREATING&&(t.status=a.default.IDLE,t.unlock(),t.emit("cancel"));break;case"continue":t.startCreating()}}));this.addDestroyHook((function(){e.destroy(),p(),u(),l()}))},e}(r.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(14)),r=i(n(318));function i(t){return t&&t.__esModule?t:{default:t}}var a=o.default.ext(r.default,"CreatePolygonController",32);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(14)),r=i(n(804));function i(t){return t&&t.__esModule?t:{default:t}}var a=o.default.ext(r.default,"CreatePolygonCloudController",32);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(14)),r=i(n(805));function i(t){return t&&t.__esModule?t:{default:t}}e.default=o.default.ext(r.default,"SelectTextAnnotationController")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(2)),r=i(n(1));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.data.pageNumber=0,o}return a(e,t),e.getName=function(){return"TotalPageTextController"},e.prototype.postlink=function(){var t=this;this.addDestroyHook(this.getPDFUI().addViewerEventListener(r.default.openFileSuccess,(function(e){t.data.pageNumber=e.getPageCount(),t.digest()})),this.getPDFUI().addViewerEventListener(r.default.openFileFailed,(function(e){t.data.pageNumber=0,t.component.disable(),t.digest()})),this.getPDFUI().addViewerEventListener(r.default.pageAdded,(function(e){t.data.pageNumber++,t.digest()})),this.getPDFUI().addViewerEventListener(r.default.pageRemoved,(function(e){t.data.pageNumber--,t.digest()})),this.getPDFUI().addViewerEventListener(r.default.importPages,(function(e){t.data.pageNumber+=e.length,t.digest()})))},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(2)),r=i(n(1));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.data.pageNumber=0,o.data.currentPageIndex=0,o}return a(e,t),e.getName=function(){return"GotoPageController"},e.prototype.postlink=function(){var t=this;this.addDestroyHook(this.getPDFUI().addViewerEventListener(r.default.openFileSuccess,(function(e){t.data.pageNumber=e.getPageCount(),t.data.currentPageIndex=1,t.component.enable(),t.digest()})),this.getPDFUI().addViewerEventListener(r.default.openFileFailed,(function(e){t.data.pageNumber=0,t.data.currentPageIndex=0,t.component.lock()})),this.getPDFUI().addViewerEventListener(r.default.pageNumberChange,(function(e){t.data.currentPageIndex=e,t.digest()})),this.getPDFUI().addViewerEventListener(r.default.pageAdded,(function(e){t.data.pageNumber++})),this.getPDFUI().addViewerEventListener(r.default.pageRemoved,(function(e){t.data.pageNumber--})))},e.prototype.onchange=function(t){if("number"==typeof t)return!(t>this.data.pageNumber)&&void this.getPDFUI().getPDFDocRender().then((function(e){e.goToPage(t-1,{x:0,y:0})}))},e.prototype.onkeydown=function(t){if(13==t.keyCode){if(0==this.data.pageNumber)return;var e=parseInt(this.component.element.value);isNaN(e)&&(e=this.component.getValue()),e>=this.data.pageNumber?e=this.data.pageNumber:e<0&&(e=1),this.component.element.value=e,this.onchange(e)}},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(99)),r=a(n(323)),i=(a(n(84)),a(n(8)));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r.default.getName()))}return s(e,t),e.getName=function(){return"ContinuousFacingPageModeController"},e.prototype.mounted=function(){var e=this,n=this.getPDFUI(),o=n.addViewerEventListener(i.default.renderFileSuccess,(function(t){e.component.deactive();var n=t.getPageCount();e.getPDFUI().getPDFViewerRender().then((function(t){var o=t.getViewMode().getName();n<2?e.component.disable():(e.component.enable(),o===e.viewModeName&&e.component.active())}))}));return this.addDestroyHook(o),this.addDestroyHook(n.addViewerEventListener(i.default.pageAdded,(function(){n.getPDFViewerRender().then((function(t){t.pdfDocRender.getPDFDoc().getPageCount()<2?e.component.disable():e.component.enable()}))}))),this.addDestroyHook(n.addViewerEventListener(i.default.pageRemoved,(function(){n.getPDFViewerRender().then((function(t){t.pdfDocRender.getPDFDoc().getPageCount()<2?e.component.disable():e.component.enable()}))}))),t.prototype.mounted.call(this)},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(99)),r=a(n(238)),i=(a(n(84)),a(n(8)));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r.default.getName()))}return s(e,t),e.getName=function(){return"ContinuousPageModeController"},e.prototype.mounted=function(){var e=this,n=this.getPDFUI(),o=void 0,a=void 0;n.getPDFViewer().then((function(t){return o=t})),n.getViewModeManager().then((function(t){return a=t}));var s=n.addViewerEventListener(i.default.openFileSuccess,(function(t){var n=t.getPageCount();e.getPDFUI().getPDFViewerRender().then((function(t){if(n<2)e.component.deactive(),e.component.disable();else{var s=a.get(r.default.getName());o.pdfViewerRender.ViewMode=s,a.currentViewMode=s,o.eventEmitter.emit(i.default.startChangeViewMode,r.default,null),e.component.enable(),e.component.active()}}))}));return this.addDestroyHook(s),this.addDestroyHook(n.addViewerEventListener(i.default.pageAdded,(function(){n.getPDFViewerRender().then((function(t){t.pdfDocRender.getPDFDoc().getPageCount()<2?e.component.disable():e.component.enable()}))}))),this.addDestroyHook(n.addViewerEventListener(i.default.pageRemoved,(function(){n.getPDFViewerRender().then((function(t){t.pdfDocRender.getPDFDoc().getPageCount()<2?e.component.disable():e.component.enable()}))}))),t.prototype.mounted.call(this)},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i(n(3));var o=i(n(2)),r=i(n(40));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(){return a(this,e),s(this,t.apply(this,arguments))}return c(e,t),e.getName=function(){return"OpenRemoteFileController"},e.prototype.handle=function(){var t=this.getPDFUI();return t.prompt("","toolbar.buttons.openFromUrlPrompt","toolbar.buttons.openFromUrl",null,!0).then((function(e){if(e){if(1!==t.customs.getLoadingMode())return t.openPDFByHttpRangeRequest({range:{url:e.trim()}});var n=new XMLHttpRequest;n.open("get",e.trim()),n.responseType="arraybuffer",n.onloadend=function(e){return t.openPDFByFile(e.target.response)},n.send(null)}}),r.default)},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(2),i=(o=r)&&o.__esModule?o:{default:o};n(207);function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(){return a(this,e),s(this,t.apply(this,arguments))}return c(e,t),e.getName=function(){return"OpenLocalFileController"},e.prototype.handle=function(t){var e=this.getPDFUI(),n=t.type.match("image");if(1!==e.customs.getLoadingMode()){if(n){var o=t.name.replace(/.[^/.]+$/,".pdf");return 0==o.length&&(o="untitle.pdf"),e.convertImageToPDFDoc(t,null,o).then((function(t){return e.renderDoc(t)}))}return e.openPDFByFile(t)}var r=new FileReader;r.onloadend=function(t){if(n){var o=t.target.result.name.replace(/.[^/.]+$/,".pdf");return 0==o.length&&(o="untitle.pdf"),e.convertImageToPDFDoc(t.target.result,null,o).then((function(t){return e.renderDoc(t)}))}return e.openPDFByFile(t.target.result)},r.readAsArrayBuffer(t)},e.prototype.mounted=function(){var t=this;this.pdfUI.getPDFViewer().then((function(e){if(e.webPDFSRPromise)for(var n=t.component.element,o=(n=n.getElementsByTagName("input"))[0].attributes.length,r=0;r<o;r++)"accept"==n[0].attributes[r].name&&(n[0].attributes[r].value=".pdf")}))},e}(i.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DIALOG_FRAGMENTS=void 0,e.alert=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"common-dialogs.alert-message",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"common-dialogs.alert-title",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"body",a=arguments[4],s=(0,r.default)();return u=u.finally((function(){return t.uiRootPromise.then((function(t){var r=t.querySelector(c+">@alert");return"string"==typeof i&&(i=document.querySelector(i)),r.setTitle(n),r.setMessage(e),r.setIconType(a),r.show(i),r.on(o.COMPONENT_EVENTS.HIDDEN,s.resolve),s.promise}))})),s.promise},e.prompt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"common-dialogs.prompt-message",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"common-dialogs.prompt-title",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"body",s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=arguments[6],f=(0,r.default)();return u=u.finally((function(){return t.uiRootPromise.then((function(t){var r=t.querySelector(c+">fv--internal-common-dialog-prompt");return"string"==typeof a&&(a=document.querySelector(a)),r.setValue(e),r.setTitle(o),r.setIconType(l),r.setMessage(n),r.disableOk(s),r.show(a),r.on("confirm",(function(){f.resolve(r.getValue())})),r.on("cancel",f.reject),f.promise})).catch(i.default)})),f.promise},e.promptPassword=function(t){var e=t.pdfui,n=t.defaultValue,o=t.message,a=t.title,s=t.appendTo,l=t.notifyType,f=t.notifyContent;o=o||"common-dialogs.prompt-message",a=a||"common-dialogs.prompt-title",s=s||"body",l=l||"",f=f||"";var p=(0,r.default)();return u=u.finally((function(){return e.uiRootPromise.then((function(t){var e=t.querySelector(c+">fv--internal-common-dialog-prompt-password");return"string"==typeof s&&(s=document.querySelector(s)),e.setNotifyType(l),e.setNotifyContent(f),e.setValue(n),e.setTitle(a),e.setMessage(o),e.show(s),e.on("confirm",(function(){p.resolve(e.getValue())})),e.on("cancel",p.reject),p.promise})).catch(i.default)})),p.promise},e.confirm=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"common-dialogs.confirm-message",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"common-dialogs.confirm-title",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"body",a=arguments[4],s=(0,r.default)();return u=u.finally((function(){return t.uiRootPromise.then((function(t){var r=t.querySelector(c+">@confirm");return"string"==typeof o&&(o=document.querySelector(o)),r.setTitle(n),r.setMessage(e),r.setIconType(a),r.show(o),r.on("confirm",s.resolve),r.on("cancel",s.reject),s.promise})).catch(i.default)})),s.promise},e.loading=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=t.parseTemplate('<loading text="'+n+'" animation="'+o+'">',[]);r.mounted(),e instanceof a.default&&(e=e.element);return r.open(e),r};var o=n(5),r=s(n(22)),i=s(n(20)),a=s(n(15));function s(t){return t&&t.__esModule?t:{default:t}}var c="fv--inner-dialogs-template",u=(e.DIALOG_FRAGMENTS=[{target:"!root",action:o.FRAGMENT_ACTION.APPEND,template:'<template name="'+c+'"></template>'},{target:c,action:o.FRAGMENT_ACTION.APPEND,template:"<alert>"},{target:c,action:o.FRAGMENT_ACTION.APPEND,template:'<prompt name="fv--internal-common-dialog-prompt">'},{target:c,action:o.FRAGMENT_ACTION.APPEND,template:'<prompt-password name="fv--internal-common-dialog-prompt-password">'},{target:c,action:o.FRAGMENT_ACTION.APPEND,template:"<confirm>"}],Promise.resolve())},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=u(n(190)),r=n(6),i=u(n(1)),a=n(85),s=n(9),c=u(n(815));function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var f=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r.LineEndingStyle.OpenArrow,r.LineEndingStyle.OpenArrow));return o.isEnd=!0,o}return l(e,t),e.getStateName=function(){return"createDistance"},e.prototype.createInteractionTool=function(e,n){return s.isTouchDevice?t.prototype.createInteractionTool.call(this,e,n):new c.default(this.pdfViewer,e)},e.prototype.createAnnotJson=function(t){var e=this.pdfViewer.store.getCurrentValue("measurementInfo");return t.intent=r.Intents.LINE_DIMENSION,t.enableCaption=!0,t.measure={unit:e[a.FIELD_REAL_UNIT].name,ratio:{userSpaceValue:e[a.FIELD_USER_SPACE_SCALE],userSpaceUnit:e[a.FIELD_USER_SPACE_UNIT].name,realValue:e[a.FIELD_REAL_SCALE],realUnit:e[a.FIELD_REAL_UNIT].name}},t},e.prototype.pageHandler=function(e){var n=this;t.prototype.pageHandler.call(this,e);var o=void 0,i=this.pdfViewer.viewerUI.createContextMenu(r.CREATING_MEASUREMENT_CONTEXTMENU,e.$handler.get(0),{selector:".fv__pdf-page-handler-container",items:{complete:{name:this.pdfViewer.i18n.t("viewer_:contextmenu.measurement.complete"),callback:function(){n.interaction.unlock(),n.interaction.emit("end",o)}},cancel:{name:this.pdfViewer.i18n.t("viewer_:contextmenu.measurement.cancel"),callback:function(){n.interaction.unlock(),n.interaction.emit("cancel")}}}});i.disable(),this.creatingContextmenu=i,this.interaction.on("start",(function(){n.isEnd=!1,i.enable()})),this.interaction.on("end",(function(){n.isEnd=!0,i.disable()})),this.interaction.on("cancel",(function(){i.disable()})),this.interaction.on("move",(function(t){o=t})),i.onHidden((function(){n.interaction.unlock()})),i.onShown((function(){n.interaction.lock()}))},e.prototype.start=function(e,n){var o=t.prototype.start.call(this,e,n);return this.pdfViewer.eventEmitter.emit(i.default.distanceAnnotCreationStart,o),o},e.prototype.adjust=function(t,e){this.pdfViewer.eventEmitter.emit(i.default.updateCreatingDistanceAnnot,t);var n=this.pdfViewer.getStore().getCurrentValue("measurementData");t.setContent(Math.round(100*n.distance)/100+n.displayUnit.name),t.setEndPoint(e),t.draw()},e.prototype.end=function(){this.fakeAnnotation&&(this.pdfViewer.eventEmitter.emit(i.default.distanceAnnotCreationEnd,this.fakeAnnotation),t.prototype.end.call(this))},e.prototype.cancel=function(){this.fakeAnnotation&&(this.pdfViewer.eventEmitter.emit(i.default.distanceAnnotCreationCancel,this.fakeAnnotation),t.prototype.cancel.call(this),this.creatingContextmenu&&this.creatingContextmenu.disable())},e.prototype.destroyPageHandler=function(){this.isEnd||this.cancel(),t.prototype.destroyPageHandler.call(this)},e}(o.default);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=l(n(318)),i=n(6),a=l(n(1)),s=n(85),c=n(9),u=l(n(818));l(n(329));function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var p=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.isEnd=!0,o}return f(e,t),e.getStateName=function(){return"createArea"},e.prototype.createInteractionTool=function(e){return c.isTouchDevice?t.prototype.createInteractionTool.call(this,e):new u.default(this.pdfViewer,e)},e.prototype.createAnnotJson=function(t){var e=this.pdfViewer.store.getCurrentValue("measurementInfo");return t.intent=i.Intents.POLYGON_DIMENSION,t.measure={unit:e[s.FIELD_REAL_UNIT].name,ratio:{userSpaceValue:e[s.FIELD_USER_SPACE_SCALE],userSpaceUnit:e[s.FIELD_USER_SPACE_UNIT].name,realValue:e[s.FIELD_REAL_SCALE],realUnit:e[s.FIELD_REAL_UNIT].name}},t},e.prototype.pageHandler=function(e){var n=this;t.prototype.pageHandler.call(this,e);var o=void 0,r=this.pdfViewer.viewerUI.createContextMenu(i.CREATING_MEASUREMENT_CONTEXTMENU,e.$handler.get(0),{selector:".fv__pdf-page-handler-container",items:{complete:{name:this.pdfViewer.i18n.t("viewer_:contextmenu.measurement.complete"),callback:function(){n.interaction.unlock(),n.interaction.emit("end",o)}},cancel:{name:this.pdfViewer.i18n.t("viewer_:contextmenu.measurement.cancel"),callback:function(){n.interaction.unlock(),n.interaction.emit("cancel")}}}});r.disable(),this.creatingContextmenu=r,this.interaction.on("start",(function(){n.isEnd=!1,r.enable()})),this.interaction.on("end",(function(){n.isEnd=!0,r.disable()})),this.interaction.on("cancel",(function(){r.disable()})),this.interaction.on("move",(function(t){o=t})),r.onHidden((function(){n.interaction.unlock()})),r.onShown((function(){n.interaction.lock()}))},e.prototype.start=function(e,n){var o=t.prototype.start.call(this,e,n);return this.pdfViewer.eventEmitter.emit(a.default.distanceAnnotCreationStart,o),o},e.prototype.isPointEqual=function(t,e){return Math.abs(t.x-e.x)<Number.EPSILON&&Math.abs(t.y-e.y)<Number.EPSILON},e.prototype.isPointOnLine=function(t,e,n){if(this.isPointEqual(t,e)||this.isPointEqual(t,n))return!0;var o=e.x>n.x?n.x:e.x,r=e.x<n.x?n.x:e.x;if(t.x<o||t.x>r)return!1;var i=(n.y-e.y)/(n.x-e.x),a=(t.y-e.y)/(t.x-e.x);return Math.abs(a-i)<.01},e.prototype.checkLineCrossed=function(t,e,n,o){var r=(e.y-t.y)/(e.x-t.x),i=(o.y-n.y)/(o.x-n.x);if(Number.isNaN(r)||Number.isNaN(i))return{type:0};if(Math.abs(r-i)<.01)return!(!this.isPointOnLine(t,n,o)&&!this.isPointOnLine(e,n,o));if(this.isPointEqual(t,n)||this.isPointEqual(t,o)||this.isPointEqual(e,n)||this.isPointEqual(e,o))return{type:2};var a=t.x>e.x?e.x:t.x,s=t.x>e.x?t.x:e.x,c=n.x>o.x?o.x:n.x,u=n.x>o.x?n.x:o.x,l=(r*t.x-t.y-i*n.x+n.y)/(r-i);return l<a||l>s||l<c||l>u?{type:0}:{type:3,x:l,y:r*(l-t.x)+t.y}},e.prototype.checkIfPointAllowAdded=function(t,e){if(t.length>=3)for(var n=t[t.length-2],o=e,r=n,i=t.length-3;i>=0;i--){var a=t[i],s=this.checkLineCrossed(r,a,n,o);if(0!=s.type){if(2==s.type){if(i==t.length-3){r=a;continue}if(0==i&&this.isPointEqual(e,t[0]))return!0}return!1}r=a}return!0},e.prototype.adjust=function(t,e){var n=t.page.reverseDevicePoint([e.deviceX,e.deviceY],t.scale,t.rotate),r=o(n,2),i=r[0],s=r[1];if(this.checkIfPointAllowAdded(t.getVertexes(),{x:i,y:s})){this.pdfViewer.eventEmitter.emit(a.default.updateCreatingDistanceAnnot,t);var c=this.pdfViewer.getStore().getCurrentValue("measurementData");t.setContent(Math.round(100*c.area)/100+" "+c.displayUnit.name),t.setLastPoint(e.deviceX,e.deviceY),t.draw()}},e.prototype.end=function(e,n){if(this.fakeAnnotation){var r,i=this.fakeAnnotation.getVertexes(),s=(r=i,Array.isArray(r)?r:Array.from(r)).slice(0);if(0!=s.length){var c=this.fakeAnnotation.page.reverseDevicePoint([n.clientX,n.clientY],this.fakeAnnotation.scale,this.fakeAnnotation.rotate),u=o(c,2),l={x:u[0],y:u[1]};this.checkIfPointAllowAdded(s,l)&&(this.pdfViewer.eventEmitter.emit(a.default.distanceAnnotCreationEnd,this.fakeAnnotation),t.prototype.end.call(this,e,n))}}},e.prototype.cancel=function(){this.fakeAnnotation&&(this.pdfViewer.eventEmitter.emit(a.default.distanceAnnotCreationCancel,this.fakeAnnotation),t.prototype.cancel.call(this),this.creatingContextmenu&&this.creatingContextmenu.disable())},e.prototype.destroyPageHandler=function(){this.isEnd||this.cancel(),t.prototype.destroyPageHandler.call(this)},e}(r.default);e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=u(n(8)),i=u(n(57)),a=u(n(2)),s=u(n(65)),c=u(n(95));function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var f=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.stateName="add-image-object",o}return l(e,t),e.getName=function(){return"AddImageController"},o(e,null,[{key:"permission",get:function(){return 8}}]),e.prototype.postlink=function(){var t=this,e=this.getPDFUI();this.registerPromise=e.getStateHandlerManager().then((function(t){return t})),this.addDestroyHook(e.addViewerEventListener(r.default.switchStateHandler,(function(e,n){t.getPDFUI().getStateHandlerManager().then((function(o){e===o.get(t.stateName)?t.component.active():n===o.get(t.stateName)&&t.component.deactive()}))})))},e.prototype.handle=function(t){var e=this,n=this.getPDFUI(),o=this;return n.getStateHandlerManager().then((function(a){a.getCurrentStates()===a.get(e.stateName)?a.switchTo(i.default.getStateName()):n.getPDFViewer().then((function(e){a.switchTo(o.stateName);var n=e.resourceGenerator(s.default.PDF_DOCUMENT_CLOSING,c.default.OBJECT_URL).expose().URL.createObjectURL(t);e.eventEmitter.emit(r.default.addEditImage,n)}))}))},e}(a.default);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(828)),r=s(n(14)),i=n(17),a=s(n(8));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o.default))}return c(e,t),e.getName=function(){return"LoupeController"},e.prototype.mounted=function(){var t=this;this.layer=this.getComponentByName("loupe-tool-dialog");this.getComponentByName("");var e=this.header=this.layer.element.querySelector(".fv__ui-loupe-tool-header"),n=this.footer=this.layer.element.querySelector(".loupe-tool-bottom-bar"),o=this.body=this.layer.element.querySelector(".fv__ui-loupe-body"),r=new i.DebouncePromiseQueue,s=void 0,c=function(e){t.currentRenderer=e,o.firstElementChild!==e.element&&(o.firstElementChild?o.replaceChild(e.element,o.firstElementChild):o.appendChild(e.element))};this.addDestroyHook(this.getPDFUI().addViewerEventListener(a.default.createPageAreaRenderer,(function(i){if(i.setDimension(255,400),o.firstElementChild?o.replaceChild(i.element,o.firstElementChild):o.appendChild(i.element),s=t.layer.on("resize",(function(t,o){var a=e.offsetHeight+n.offsetHeight;i.setDimension(t,o-a),r.push((function(t){return i.update()}))})),!t.layer.isVisible){var a=t.layer.getRoot();t.layer.open(a.element);var c=t.header.offsetHeight+t.footer.offsetHeight;t.layer.element.style.cssText="width: 255px;height: "+(400+c)+"px;"}})),this.getPDFUI().addViewerEventListener(a.default.startUpdatePageAreaRenderer,(function(e){if(!t.layer.isVisible){var n=t.layer.getRoot();t.layer.open(n.element);var o=t.header.offsetHeight+t.footer.offsetHeight;t.layer.element.style.cssText="width: 255px;height: "+(400+o)+"px;"}c(e)})),this.getPDFUI().addViewerEventListener(a.default.switchPageAreaRenderer,(function(e){t.layer.isVisible&&c(e)})),this.getPDFUI().addViewerEventListener(a.default.destroyPageAreaRenderer,(function(t){s&&s()})))},e.prototype.stateIn=function(){},e.prototype.stateOut=function(){this.layer.hide()},e}(r.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(11),r=l(n(842)),i=l(n(3));n(843);var a=l(n(57)),s=l(n(1)),c=n(37),u=n(9);function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var h=function(t){function e(){f(this,e);var n=p(this,t.call(this,arguments));return n.dataURL=null,n.cursorStyle="fv__cursor-none",n}return d(e,t),e.getStateName=function(){return"pdfSign"},e.prototype.pageHandler=function(t){var e=this,n=this;this.pageRender=t;var o=t.$handler,l=o[0],f=this.hammer=new Hammer.Manager(l,{recognizers:[[Hammer.Tap],[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]}),p=t.getScale(),d=new Image;d.onload=function(){var t=(d.width>d.height?114:d.width/d.height*114)*p,e=(d.width>d.height?d.height/d.width*114:114)*p;h.css({border:"2px solid transparent",position:"absolute",top:"-"+(e+2)+"px",left:"-"+(t+2)+"px",width:t,height:e}),h.show()};var h=(0,i.default)(d);o.append(h.hide()),this.pdfViewer[0].eventEmitter.on(s.default.applicationOfInkSign,(function(t){n.dataURL=t,d.src=n.dataURL||n.pdfViewer[0].getInkSignManager().getCurrentInkSign().getDataURL()})),o.addClass(this.cursorStyle),o.on("mousemove",(function(t){var e=l.getBoundingClientRect(),n=t.clientX-e.left,o=t.clientY-e.top;h.css({top:o,left:n})})),o.on("mouseleave",(function(t){h.css({top:-Number(h.css("height").replace("px","")),left:-Number(h.css("width").replace("px",""))})})),n.pdfViewer[0].eventEmitter.on("add-inksign",(function(e){if(e.pageRender!==t){var r=o.find(".fv__signature-tool-container");r&&r.remove(),h.show(),n.hammer.set({enable:!0})}})),t.getPDFPage().then((function(i){var p=t.getScale();f.on("tap",(function(f){h.hide(),o.removeClass(e.cursorStyle);var d=function(t,e){var n=t.getBoundingClientRect(),o=e.srcEvent,r=(0,c.getClientX)(o),i=(0,c.getClientY)(o);return{x:r-n.left,y:i-n.top}}(l,f),g=(0,r.default)();o.append(g),n.pdfViewer[0].eventEmitter.emit("add-inksign",n);var m=o.find("#signatureInPage")[0],v=m.getContext("2d"),y=new Image,b=Number(h.css("width").replace("px",""))*p,w=Number(h.css("height").replace("px",""))*p;y.onload=function(){m.width=b,m.height=w,v.drawImage(y,0,0,m.width,m.height)},y.src=n.dataURL||n.pdfViewer[0].getInkSignManager().getCurrentInkSign().getDataURL();var _=o.find(".fv__signature-tool-container"),P=(_[0],o.find(".fv__signature-tool-btns")),O=0,E=0;u.isMobile&&(O=b/2,E=w/2),_.css({top:d.y-E,left:d.x-O});var x=n.moveHammer=new Hammer.Manager(m,{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]}),C=null;x.on("panstart",(function(t){C=t.center})),x.on("panmove",(function(t){var e=t.center.x-C.x,n=t.center.y-C.y,r=_.css("top"),i=_.css("left"),a=parseFloat(r)+n,s=parseFloat(i)+e,c=a+_.height(),u=s+_.width();a<0&&(a=0),s<0&&(s=0),u>o.width()&&(s=o.width()-_.width()),c>o.height()&&(a=o.height()-_.height()),_.css({top:a,left:s});var l=P.outerHeight();a>l?P.css({top:-l,bottom:"unset"}):P.css({top:"unset",bottom:-l}),C=t.center})),x.on("panend",(function(t){C=null}));var A=o.find(".fv__signature-tool-size")[0],S=n.resizeHammer=new Hammer.Manager(A,{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]});function D(){var e=t.getScale(),n=parseFloat(_.css("top")),o=parseFloat(_.css("left"));_.css({top:n*(e/p),left:o*(e/p)});var r=m.width,i=m.height;m.width=r*(e/p),m.height=i*(e/p),v.drawImage(y,0,0,m.width,m.height),p=e}n.pdfViewer[0].eventEmitter.on(s.default.zoomToSuccess,(function(){D()})),n.pdfViewer[0].eventEmitter.on(s.default.fitWidthResizeViewport,(function(){D()}));var R=null;S.on("panstart",(function(t){R=t.center})),S.on("panmove",(function(t){var e=t.center.x-R.x,n=t.center.y-R.y;m.width=m.width+e,m.height=m.height+n,v.drawImage(y,0,0,m.width,m.height),R=t.center})),S.on("panend",(function(t){R=null})),n.hammer.set({enable:!1}),o.find(".fv__icon-screenshot-ok").on("click",(function(e){var o=t.getRotation(),r={},s=void 0,c=void 0;90===o||270===o?(c=_.width(),s=_.height()):(s=_.width(),c=_.height()),r.top=parseFloat(_.css("top")),r.left=parseFloat(_.css("left")),r.right=r.left+s,r.bottom=r.top+c;var u=function(t){var e=window.atob(t),n=e.length,o=new Uint8Array(n);for(;n--;)o[n]=e.charCodeAt(n);return o}(y.src.replace(/^data\:.*?base64,/,"")),l=i.reverseDeviceRect(r,t.getScale(),o);i.addImage(u,l,o).then((function(){n.pdfViewer[0].getStateHandlerManager().switchTo(a.default.getStateName())}))})),o.find(".fv__icon-screenshot-cancel").on("click",(function(t){n.pdfViewer[0].getStateHandlerManager().switchTo(a.default.getStateName())}))}))}))},e.prototype.destroyPageHandler=function(){this.dataURL=null,this.moveHammer&&this.moveHammer.destroy(),this.resizeHammer&&this.resizeHammer.destroy(),this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle),this.pageRender.$handler.empty()},e.prototype.out=function(){this.destroyPageHandler()},e}(o.IStateHandler);e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(11);r(n(19)),r(n(3));function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n))}return i(e,t),e.textboxWidth=function(){return 100},e.textboxHeight=function(){return 20},e.calloutKneeLength=function(){return 20},e.getStateName=function(){return"createFreetext"},e.prototype.pageHandler=function(t){},e.edit=function(t,e){var n=t.annotsRender.getAnnotRender(e[0].id).component;n.active(!0),setTimeout((function(){n.showReplyDialog("comment")}),0)},e.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass("fv__create-stamp-state-handler")},e.prototype.out=function(){this.destroyPageHandler()},e}(o.IStateHandler);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=c(n(73)),r=c(n(3)),i=n(103),a=c(n(75)),s=n(155);function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=2,f=10,p=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.multipage=l,o.pageSpacing=f,o.isMouseDown=!1,o.isScroll=!1,o.isWheel=!1,o.isMoveToBottom=!1,o.isMoveToTop=!1,o.wheel=o.wheel.bind(o),o.mouseDown=o.mouseDown.bind(o),o.mouseUp=o.mouseUp.bind(o),o.adjust=o.adjust.bind(o),o.keyup=o.keyup.bind(o),o.isJump=!1,o}return u(e,t),e.getName=function(){return"facing-page-view-mode"},e.setMultipage=function(t){l=t},e.getMultipage=function(){return l},e.setPageSpacing=function(t){f=t},e.getPageSpacing=function(){return f},e.prototype.getItems=function(){return this.docRender.$container.find(".fv__pdf-view-mode-item")},e.prototype.into=function(){var t=this,e=["<style>",".facing-page-view-mode{","overflow:hidden;","margin:0 auto;","}",".facing-page-view-mode .fv__pdf-view-mode-item{","float: left;","display: flex;","justify-content: center;","align-items: center;","width:calc("+100/this.multipage+"% - "+this.pageSpacing*(this.multipage-1)/this.multipage+"px)","}",".facing-page-view-mode .fv__pdf-view-mode-item{","margin-right: "+this.pageSpacing+"px;","}",".facing-page-view-mode .fv__pdf-page-layout{","width: 100%;","}",".facing-page-view-mode .fv__pdf-view-mode-item:nth-child("+this.multipage+"n){","margin-right: 0;","}",".facing-page-view-mode .fv__pdf-view-mode-item:nth-of-type(odd) .fv__pdf-page-layout{","margin-right: 0;","margin-left: 0px","}",".facing-page-view-mode .fv__pdf-view-mode-item:nth-of-type(even) .fv__pdf-page-layout{","margin-left: 0;","}","</style>"].join("");this.$style=(0,r.default)(e),this.docRender.$container.after(this.$style),this.docRender.$container.addClass(this.constructor.getName());var n=this.docRender.viewerRender.scrollWrap;this.scrollHost=n.getScrollHost(),this.currentScrollTop=n.getScrollTop();var o=d(150,(function(e){t.isMouseDown||t.isWheel||!t.isScroll||(t.scroll(e),t.isWheel=!1)}));this.initPageLayout(),this._unwatchScrollEvent=n.addScrollEventListener((function(){a.default.isCtrlDown||(t.isScroll=!0,o(n.getScrollTop()-t.currentScrollTop),t.currentScrollTop=n.getScrollTop(),clearTimeout(t.scrollEventTimer),t.scrollEventTimer=setTimeout((function(){t.isScroll=!1;var e=t.docRender;if(e){var n=t.docRender.pagesRender;n&&n.renderVisiblePages().then((function(){t.getCurrentPageIndex();e.isGoto?setTimeout((function(){e.isGoto=!1}),40):e.setCurrentPageIndex(t.getCurrentPageIndex()),t.isNeedAdjust&&!t.isJump&&t.adjust(),t.isJump=!1})).catch((function(){}))}}),100))})),this.wheelHandler=d(200,this.wheel),this.scrollHost.addEventListener("wheel",this.wheelHandler),this.scrollHost.addEventListener("mousedown",this.mouseDown),window.addEventListener("mouseup",this.mouseUp),window.addEventListener("keyup",this.keyup),this.docRender.pdfViewer.eventEmitter.on(i.UIEvents.zoomToSuccess,this.adjust),this.goToPage(this.docRender.getCurrentPageIndex()),(this.hammer=new Hammer.Manager(this.scrollHost,{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]})).on("panend",(function(e){if("hand"===t.docRender.pdfViewer.getStateHandlerManager().getCurrentStates().getStateName())return e&&8===e.direction&&(t.isMoveToBottom=!0),e&&16===e.direction&&(t.isMoveToTop=!0),e&&1===e.direction&&(e.deltaY>0?t.isMoveToTop=!0:t.isMoveToBottom=!0),t.isNeedAdjust=!0,t.adjust(),!1}))},e.prototype.initPageLayout=function(){for(var t=this.getItems(),e=this.multipage,n=this.pageSpacing*(e-1)/e,o=0;o<t.length;o++)t.eq(o).css({width:"calc("+100/e+"% - "+n+"px)"})},e.prototype.keyup=function(t){var e=this;this.reset();var n=t.keyCode;n!==s.KeyCodes.PageDown&&n!==s.KeyCodes.DownArrow||(this.isMoveToBottom=!0),n!==s.KeyCodes.UpArrow&&n!==s.KeyCodes.PageUp||(this.isMoveToTop=!0),n===s.KeyCodes.PageUp||n===s.KeyCodes.PageDown?setTimeout((function(){e.isNeedAdjust=!0}),50):n!==s.KeyCodes.UpArrow&&n!==s.KeyCodes.DownArrow||(this.isNeedAdjust=!0)},e.prototype.wheel=function(t){if(!a.default.isCtrlDown){this.isWheel=!0;var e=this.docRender.viewerRender.scrollWrap;this.currentPageIndex=this.getCurrentPageIndex();e.getHeight(),e.getScrollLeft(),this.getItems().eq(this.currentPageIndex).children(".fv__pdf-page-layout").height();if(this.getVisibleIndexes().length>2)if(t.deltaY>0){var n=this.docRender.doc.getPageCount(),o=this.currentPageIndex+2;this.goToPage(Math.min(o,n-1))}else{var r=this.currentPageIndex-2;r<=0&&(r=0),this.goToPage(r)}}},e.prototype.mouseDown=function(t){this.isMouseDown=!0,this.startPointY=t.screenY;var e=this.docRender.viewerRender.scrollWrap.getScrollHost(),n=(0,r.default)(e).offset(),o=n.top,i=n.left,a=i+e.clientWidth,s=o+e.clientHeight;this.dragging=!0;var c=t.clientX,u=t.clientY;this.scrollType=i<=c&&c<=a&&o<=u&&u<=s?0:a<c&&o<u?1:2},e.prototype.mouseUp=function(t){this.isMouseDown=!1,this.isNeedAdjust=!0},e.prototype.getVisibleIndexes=function(){var t=this.docRender.viewerRender.scrollWrap,e=t.getScrollTop()-t.getScrollOffsetTop(),n=t.getHeight(),o=e+n,r=[],i=0;return this.getItems().each((function(t,n){if(i>o)return!1;var a=n.offsetHeight,s=i-0,c=i+a+8;i=c,s<=o&&c>=e&&r.push(t)})),r},e.prototype.goToPage=function(t,e){this.reset();var n=this.getItems(),o=n.get(t),r=n.eq(t),i=o.offsetHeight,a=(o.offsetWidth,parseInt(r.css("margin-top"))),s=this.docRender.viewerRender.scrollWrap,c=s.getHeight(),u=s.getScrollOffsetLeft(),l=o.offsetTop;l=e?r.position().top+i-c+a+a/2:r.position().top+a/2,s.scrollTo(u,l)},e.prototype.adjust=function(){if(this.isScroll||2===this.scrollType)return!1;var t=this.getVisibleIndexes(),e=this.docRender.viewerRender.scrollWrap,n=e.getScrollTop(),o=(e.getScrollLeft(),this.scrollHost.clientHeight,this.getCurrentPageIndex());if(t.length>2)return this.isMoveToBottom&&(o=t[2]),this.isMoveToTop&&(o=t[0]),this.goToPage(o);this.reset()},e.prototype.reset=function(){this.isMoveToBottom=!1,this.isMoveToTop=!1,this.isNeedAdjust=!1},e.prototype.scroll=function(t){this.docRender.doc.getPageCount();var e=this.docRender.viewerRender.scrollWrap,n=e.getScrollTop(),o=(this.lastScrollTop,e.getScrollLeft(),this.scrollHost.clientHeight,this.currentPageIndex,this.getItems(),this.getVisibleIndexes());if(o.length>2){if(t>0){var r=o[2]||o[0];this.goToPage(r)}if(t<0){var i=o[0]||0;this.goToPage(i)}}},e.prototype.renderViewMode=function(t,e,n,o,i){var a=this,s=t.index,c=this.getMaxPageWidth(),u=this.multipage,l=(u-1)*this.pageSpacing;this.docRender.pagesRender.$ui.css({width:c*u*e+l});for(var f=Math.floor(s/u),p=0,d=this.docRender.doc.getPageCount(),h=this.docRender.viewerRender.scrollWrap.getHeight(),g=[],m=this.docRender.getRotation(),v=0;v<u;v++){var y=f*u+v;y<d&&g.push(this.docRender.getPDFDoc().getPageByIndex(y).then((function(t){var e=void 0;e=90===m||270===m?t.getPxWidth():t.getPxHeight(),p=Math.max(e,p),e})))}Promise.all(g).then((function(){var t=a.getItems(),n=p*e;n<h?(0,r.default)(t[s]).css({height:"calc("+h+"px - 1rem)"}):(0,r.default)(t[s]).css({height:n})}))},e.prototype.getMaxPageWidth=function(){var t=0,e=this.docRender.doc,n=this.docRender.getRotation(),o="width";90!==n&&270!==n||(o="height");var r=e.getPageSizesSync();for(var i in r){var a=4*r[i][o]/3;a>t&&(t=a)}return t},e.prototype.jumpToPage=function(t,e){var n=e.x,o=void 0===n?0:n,r=e.y,i=void 0===r?0:r;this.isJump=!0;var a=this.getItems();t>=a.length?t=a.length-1:t<0&&(t=0);var s=a.eq(t),c=s.position().left+o,u=this.docRender.viewerRender.scrollWrap.getHeight(),l=a.get(t).offsetHeight,f=l/2;i>f&&(i=f);var p=s.position().top+i,d=parseInt(s.css("margin-top"));l<u&&(p=s.position().top+d/2),this.docRender.viewerRender.scrollWrap.scrollTo(c,p),this.currentJumpPageIndex=t},e.prototype.getFitHeight=function(t){var e=this.docRender.viewerRender.scrollWrap;return e.getHeight()-e.getScrollOffsetTop()},e.prototype.getFitWidth=function(t){var e=this.getMaxPageWidth(),n=this.docRender.getRotation(),o="width";90!==n&&270!==n||(o="height");var r=this.docRender.viewerRender.scrollWrap,i=this.multipage,a=(r.getWidth()-16-i*this.pageSpacing)/i,s=this.docRender.doc.getPageSize(t);if(s)return a*s[o]*4/(3*e)},e.prototype.getVisibleIndexes=function(){var t=this.docRender.viewerRender.scrollWrap,e=t.getScrollTop(),n=t.getHeight(),o=e+n,i=[];return this.getItems().each((function(t,n){var a=(0,r.default)(n).outerHeight(!0),s=n.offsetTop;if(s>o)return!1;s<=o&&s+a>=e&&i.push(t)})),i},e.prototype.out=function(){this.docRender.$container.removeClass(this.constructor.getName()),this.docRender.pagesRender.$ui.removeAttr("style"),this.$style&&this.$style.remove(),this._unwatchScrollEvent&&this._unwatchScrollEvent();for(var e=this.getItems(),n=0;n<e.length;n++)(0,r.default)(e[n]).css({width:"",height:""});this.scrollHost&&this.scrollHost.removeEventListener("wheel",this.wheelHandler),this.scrollHost&&this.scrollHost.removeEventListener("mousedown",this.mouseDown),window.removeEventListener("mouseup",this.mouseUp),window.removeEventListener("keyup",this.keyup),this.docRender.pdfViewer.eventEmitter.off(i.UIEvents.zoomToSuccess,this.adjust),this.hammer.destroy(),t.prototype.out.call(this)},e.prototype.getCurrentPageIndex=function(){if(this.isJump)return this.currentJumpPageIndex;for(var t=this.getItems(),e=this.docRender.viewerRender.scrollWrap,n=e.getScrollTop(),o=n+e.getHeight(),i=e.getScrollLeft(),a=i+e.getWidth(),s=void 0,c=[],u=0;u<t.length;u++){var l=t[u],f=(0,r.default)(l).width(),p=(0,r.default)(l).height(),d=l.offsetTop,h=d+p,g=l.offsetLeft,m=g+f,v=void 0;if(d<=n&&h>n&&h<o?v=h-n:d>=n&&h<o?v=p:d<=n&&h>o?v=o-n:d>=n&&d<o&&h>o&&(v=o-d),v){var y=void 0;g<=i&&m>i&&m<a?(y=m-i,c.push({index:u,area:v*y})):g>=i&&m<a?(y=f,c.push({index:u,area:v*y})):g<=i&&m>a?(y=a-i,c.push({index:u,area:v*y})):g>=i&&g<a&&m>a&&(y=a-g,c.push({index:u,area:v*y}))}}for(var b=0,w=0;w<c.length;w++)c[w].area>b&&(b=c[w].area,s=c[w].index);return s},e.prototype.getNextPageIndex=function(){var t=this.docRender.doc.getPageCount(),e=this.getCurrentPageIndex();if(e<t-1){var n=this.docRender.viewerRender.scrollWrap,o=this.docRender.pagesRender.$ui.width(),r=n.getWidth()-16,i=this.multipage;if(r>=o)e=Math.ceil((e+1)/i)*i;else e++}return e>t-1&&(e=t-1),e},e.prototype.getPrevPageIndex=function(){var t=this.getCurrentPageIndex();if(t>0){var e=this.docRender.viewerRender.scrollWrap,n=this.docRender.pagesRender.$ui.width(),o=e.getWidth()-16,r=this.multipage;if(o>=n)t=(Math.ceil((t+1)/r)-2)*r;else t--}return t<0&&(t=0),t},e}(o.default);e.default=p;var d=function(t,e){var n=void 0;return function(){var o=this,r=arguments;clearTimeout(n),n=setTimeout((function(){e.apply(o,r)}),t)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=u(n(55)),r=u(n(101)),i=u(n(131)),a=u(n(7)),s=u(n(129)),c=n(207);n(28);function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var d=a.default.getLogger("PDFUI/ParingUIPartial"),h=function(t){function e(){return l(this,e),f(this,t.apply(this,arguments))}return p(e,t),e.depends=function(){return[r.default,s.default,i.default]},e.prototype.construct=function(t,e){var n=.01*window.innerHeight,o=document.documentElement;o.style.setProperty&&o.style.setProperty("--vh",n+"px");var r=e.renderTo;"string"==typeof r&&(r=document.querySelector(r)),r||(r=document.body),this.renderTo=r,t.viewerFactory=new e.viewerFactory},e.prototype.link=function(t,e,n){var o=t.defaultLanguage,r=e.fragments,i=e.template,a=e.parser,s=e.appearance,u=this.renderTo,l=void 0;r=r.concat(c.DIALOG_FRAGMENTS);var f=void 0;if(i)l=a.parse(i,r),f=function(){u.appendChild(l.element)};else{var p=u.firstElementChild;l=a.parse(p,r),f=function(){p.after(l.element),p.remove()}}return l.setAttribute("role","pdf-ui-root"),n.forEach((function(t){try{t.beforeMounted(l)}catch(t){d.error("an error occurred when executing addon's method: ",t)}})),s.beforeMounted(l),l.element.classList.add("fv__ui-lang-"+o),l.localize().then((function(){return f(),l}))},e}(o.default);e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(370)),r=a(n(78)),i=a(n(18));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.prototype.getLayoutTemplate=function(){return o.template},e.prototype.getDefaultFragments=function(){return o.fragments},e.prototype.disableAll=function(){this.root&&(this.$disabledComponents=[],this.disableToolbar(),this.disableSidebar())},e.prototype.enableAll=function(){this.root&&(this.enableToolbar(),this.enableSidebar(),this.$disabledComponents.forEach((function(t){return t.disable()})),this.$disabledComponents=[])},e.prototype.disableToolbar=function(){var t=this;this.root.querySelectorAll("@tab @group-list").forEach((function(e){t.markupComponentRecursive(e),e.disable()}))},e.prototype.enableToolbar=function(){this.root.querySelectorAll("@tab @group-list").forEach((function(t){return t.enable()}))},e.prototype.disableSidebar=function(){var t=this;this.root.querySelectorAll("@sidebar-panel>*").forEach((function(e){t.markupComponentRecursive(e),e.disable()}))},e.prototype.enableSidebar=function(){this.root.querySelectorAll("@sidebar-panel>*").forEach((function(t){t.enable()}))},e.prototype.markupComponentRecursive=function(t){var e=this;t instanceof i.default?t.children().forEach((function(t){return e.markupComponentRecursive(t)})):t.disabled&&this.$disabledComponents.push(t)},e}(r.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(112);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.lastX=0,o.lastY=0,o}return i(e,t),e.prototype.prepare=function(){t.prototype.prepare.call(this),this.canvas.style.cssText+='\n            -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";\n            -ms-filter: alpha(opacity=50);\n            filter: alpha(opacity=50);\n            -moz-opacity: 0.5;\n            -khtml-opacity: 0.5;\n            opacity: 0.5;\n        '},e.prototype.doRender=function(e){e.smartScale,e.scale,this.component;var n=e.renderingData,o=n.annotInfo,r=this.canvas.getContext("2d"),i=n.outerDeviceRect,a=i.right-i.left,s=i.bottom-i.top;(this.container.style.cssText+="\n                left: "+i.left+"px;\n                top: "+i.top+"px;\n            ",this.canvas.style.cssText+="width: "+a+"px;height: "+s+"px;",r.save(),r.fillStyle=this.numberToRGBAString(o.borderColor),r.globalAlpha=n.opacity,n.isArea)?r.fillRect(0,0,this.canvas.width,this.canvas.height):(t.prototype.doRender.call(this,e),e.quadRects.forEach((function(t){r.fillRect(t.left,t.top,t.width,t.textBlockHeight)})));r.restore()},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=c(n(50)),i=c(n(45)),a=n(6),s=c(n(143));function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.helper=new s.default(n),o}return u(e,t),e.prototype.doRender=function(t){var e=this,n=t.renderingData,o=n.page,r=n.annotInfo,s=r.borderInfo||{},c=t.scale,u=t.rotate,l=this.convertPointToPixel(s.width,c);if(0!=l||-1!=r.borderColor||r.fillColor){var f=this.canvas.getContext("2d");f.clearRect(0,0,this.canvas.width,this.canvas.height),f.save(),t.lineWidth=l,f.globalAlpha=r.opacity,f.strokeStyle=this.numberToRGBAString(r.borderColor),f.lineWidth=l;var p=t.outerRect,d=this.convertToPathPoint(n.startPoint,c,p,o,u),h=this.convertToPathPoint(n.endPoint,c,p,o,u),g=n.leaderLinePoints,m=this.convertToPathPoint(g.start,c,p,o,u),v=this.convertToPathPoint(g.end,c,p,o,u),y=n.captionOffset,b=new i.default(this.convertPointToPixel(y.x,c),-this.convertPointToPixel(y.y,c)),w=this.convertPointToPixel(n.leaderLineExtend,c);try{if(s.style===a.BORDER_STYLE.DASHED){var _=s.dashes||[],P=s.dashPhase||0;f.setLineDash(_.map((function(t){return e.convertPointToPixel(t,c)}))),f.lineDashOffset=this.convertPointToPixel(P,c)}f.beginPath(),this.renderLine(f,d,h,m,v,w),f.closePath(),f.stroke(),this.helper.renderLineEnd(f,l,t,n.startStyle,v,m),this.helper.renderLineEnd(f,l,t,n.endingStyle,m,v),this.renderLineCaption(f,t,l,m,v,b)}finally{f.restore()}}},e.prototype.convertToPathPoint=function(t,e,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=r.getDevicePoint([t.x,t.y],e,a),c=o(s,2),u=c[0],l=c[1];return new i.default(u-n.left,l-n.top)},e.prototype.renderLine=function(t,e,n,o,r,i){if(t.moveTo(o.x,o.y),t.lineTo(r.x,r.y),t.moveTo(e.x,e.y),t.lineTo(o.x,o.y),t.moveTo(n.x,n.y),t.lineTo(r.x,r.y),i>0){var a=o.move(-i,e),s=r.move(-i,n);t.moveTo(o.x,o.y),t.lineTo(a.x,a.y),t.moveTo(r.x,r.y),t.lineTo(s.x,s.y)}},e.prototype.renderLineCaption=function(t,e,n,o,r,i){var s=e.renderingData;e.scale;if(s.hasCaption){var c=s.annotInfo,u=c.content;if("string"==typeof u&&!((u=u.trim()).length<1)){var l,f=Math.atan2(r.y-o.y,r.x-o.x),p=o.distanceTo(r),d=o.move(.5*p,r),h=32*Math.max(1,(l=n,Math.log(l)/Math.log(5)))*e.scale,g=16777215-(16777215&c.borderColor^10855845),m=void 0;t.save(),t.fillStyle=this.numberToRGBAString(g),t.font=h+"px bold Arial",t.textBaseline="middle",t.textAlign="center";var v=t.measureText(u),y=d.move(i.y,o).rotate(Math.PI/2,d);switch(s.captionPos){case a.LINE_CAPTION_POSITION.POS_INLINE:if(0!=i.y&&0!=i.x){m=y.move(i.x,d).rotate(Math.PI/2,y);break}m=y;break;case a.LINE_CAPTION_POSITION.POS_TOP:var b=v.actualBoundingBoxAscent+v.actualBoundingBoxDescent,w=d.move(.5*(n+b)-i.y,r).rotate(Math.PI/2,d);m=0!=i.x?w.move(i.x,d).rotate(Math.PI/2,y):w}t.translate(m.x,m.y),t.rotate(f),t.fillText(u,0,0),t.restore(),t.beginPath();var _=y.move(i.x-v.width/2,d).rotate(Math.PI/2,y);t.moveTo(d.x,d.y),t.lineTo(y.x,y.y),t.moveTo(y.x,y.y),t.lineTo(_.x,_.y),t.closePath(),t.stroke()}}},e}(r.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=u(n(50)),i=u(n(143)),a=u(n(45)),s=n(6),c=u(n(145));function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var f=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.helper=new i.default(n),o}return l(e,t),e.prototype.doPrepare=function(){t.prototype.doPrepare.call(this),this.canvas.classList.add("fv__viewer-render-polyline")},e.prototype.doRender=function(t){var e=t.renderingData,n=e.annotInfo,r=n.borderInfo||{},i=t.scale,c=t.rotate,u=this.canvas.getContext("2d"),l=this.convertPointToPixel(r.width,i);if(0!=l||-1!=n.borderColor||n.fillColor){u.clearRect(0,0,this.canvas.width,this.canvas.height);var f=e.page,p=t.innerRect,d=e.vertexes.map((function(t){var e=f.getDevicePoint([t.x,t.y],i,c),n=o(e,2),r=n[0],s=n[1];return new a.default(r-p.left,s-p.top)}));t.vertexes=d,u.save(),t.lineWidth=l,u.globalAlpha=n.opacity,u.strokeStyle=this.numberToRGBAString(n.borderColor),u.lineWidth=l;try{switch(r.style){case s.BORDER_STYLE.DASHED:case s.BORDER_STYLE.SOLID:this.renderSolid(u,n,t);break;case s.BORDER_STYLE.BEVELED:}var h=d[d.length-1],g=d[d.length-2],m=d[0],v=d[1];this.helper.renderLineEnd(u,l,t,e.startStyle,v,m),this.helper.renderLineEnd(u,l,t,e.endingStyle,g,h)}finally{u.restore()}}},e.prototype.renderSolid=function(t,e,n){var o=this,r=n.scale,i=e.borderInfo,a=i.dashes||[],u=i.dashPhase||0;i.style===s.BORDER_STYLE.DASHED&&(t.setLineDash(a.map((function(t){return o.convertPointToPixel(t,r)}))),t.lineDashOffset=this.convertPointToPixel(u,r)),new c.default(n.vertexes,!1).render(t),t.stroke()},e}(r.default);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=u(n(50)),i=n(114),a=u(n(45)),s=u(n(145)),c=n(6);n(248);function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var d=function(t){function e(n){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];l(this,e);var r=f(this,t.call(this,n));return r.closing=o,r}return p(e,t),e.prototype.doPrepare=function(){t.prototype.doPrepare.call(this),this.canvas.classList.add("fv__viewer-render-polygon")},e.prototype.doRender=function(t){var e=t.renderingData,n=e.annotInfo,r=n.borderInfo||{},i=t.scale,s=t.rotate,u=this.convertPointToPixel(r.width,i);if(0!=u||-1!=n.borderColor||n.fillColor){var l=this.canvas.getContext("2d");l.clearRect(0,0,this.canvas.width,this.canvas.height);var f=e.page,p=t.innerRect,d=e.vertexes.map((function(t){var e=f.getDevicePoint([t.x,t.y],i,s),n=o(e,2),r=n[0],c=n[1];return new a.default(r-p.left,c-p.top)}));t.vertexes=d,l.save(),t.lineWidth=u,l.globalAlpha=n.opacity,l.strokeStyle=0===u?"transparent":this.numberToRGBAString(n.borderColor),l.lineWidth=u;try{switch(r.style){case c.BORDER_STYLE.DASHED:case c.BORDER_STYLE.SOLID:case c.BORDER_STYLE.UNDERLINE:case c.BORDER_STYLE.BEVELED:this.renderSolid(l,n,t);break;case c.BORDER_STYLE.CLOUDY:0==u?this.renderSolid(l,n,t):this.renderCloud(l,n,t)}}finally{l.restore()}}},e.prototype.renderCloud=function(t,e,n){var o=e.fillColor,r=e.borderInfo.cloudIntensity,a=n.innerRect;new i.CloudyPathGenerator(n.vertexes,a,n.outerRect).generate(16/r).render(t),o&&(t.fillStyle=this.numberToRGBAString(o),t.fill()),t.stroke()},e.prototype.renderSolid=function(t,e,n){var o=this,r=n.scale,i=e.borderInfo,a=i.dashes||[],u=i.dashPhase||0,l=e.fillColor;i.style===c.BORDER_STYLE.DASHED&&(t.setLineDash(a.map((function(t){return o.convertPointToPixel(t,r)}))),t.lineDashOffset=this.convertPointToPixel(u,r)),new s.default(n.vertexes,this.closing).render(t),l&&(t.fillStyle=this.numberToRGBAString(l),t.fill()),t.stroke()},e}(r.default);e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=c(n(50)),r=c(n(45)),i=n(6),a=c(n(25)),s=n(114);function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var p=function(t){function e(){return u(this,e),l(this,t.apply(this,arguments))}return f(e,t),e.prototype.doRender=function(t){var e=t.renderingData.annotInfo,n=e.borderInfo||{},o=this.convertPointToPixel(n.width||1,t.scale);if(0!=o||-1!=e.borderColor||e.fillColor){var r=this.canvas.getContext("2d");r.clearRect(0,0,this.canvas.width,this.canvas.height),r.save(),t.lineWidth=o,r.globalAlpha=e.opacity,r.strokeStyle=0===o?"transparent":this.numberToRGBAString(e.borderColor),r.lineWidth=o;try{switch(n.style){case i.BORDER_STYLE.SOLID:this.renderSolid(r,e,t);break;case i.BORDER_STYLE.BEVELED:break;case i.BORDER_STYLE.DASHED:this.renderDashed(r,e,t);break;case i.BORDER_STYLE.CLOUDY:0==n.cloudIntensity?this.renderSolid(r,e,t):this.renderCloud(r,e,t)}var a=e.fillColor;a&&(r.fillStyle=this.numberToRGBAString(a),r.fill()),r.stroke()}finally{r.restore()}}},e.prototype.renderSolid=function(t,e,n){this.renderDashed(t,e,n)},e.prototype.renderDashed=function(t,e,n){var o=e.borderInfo,i=n.lineWidth,a=n.innerRect,s=n.outerRect,c=o.dashes||[],u=o.dashPhase||0,l=.5*i,f=new r.default(.5*(a.left+a.right)-s.left,.5*(a.top+a.bottom)-s.top),p=Math.abs(.5*a.height-l),d=Math.abs(.5*a.width-l);t.lineDashOffset=u,t.setLineDash&&t.setLineDash(c),t.beginPath(),function(t,e,n,o,r){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI,c=!(arguments.length>8&&void 0!==arguments[8])||arguments[8];t.ellipse?t.ellipse(e,n,o,r,i,a,s,c):(t.save(),t.translate(e,n),t.rotate(i),t.scale(o,r),t.arc(0,0,1,a,s,c),t.restore())}(t,f.x,f.y,d,p),t.closePath()},e.prototype.renderCloud=function(t,e,n){var o=e.borderInfo.cloudIntensity,i=.5*n.lineWidth,a=this.shrinkRect(n.innerRect,i),c=this.shrinkRect(n.outerRect,i),u=new r.default(.5*(c.right-c.left)-(a.left-c.left),.5*(c.bottom-c.top)-(a.top-c.top)),l=.5*a.height-i,f=.5*a.width-i,p=16/o,d=Math.PI/p,h=2*Math.PI,g=Array(Math.floor(h/d)-1).fill(0).map((function(t,e){return e*d%h})).map((function(t){var e=f*Math.cos(h-t),n=l*Math.sin(h-t);return u.add(e,n)}));new s.CloudyPathGenerator(g,a,c).generate(1,t).render(t)},e.prototype.shrinkRect=function(t,e){var n=a.default.on(t).shrink(e).extract();return Object.assign(n,{width:n.right-n.left,height:n.bottom-n.top})},e}(o.default);e.default=p},function(t,e,n){"use strict";n.r(e),n.d(e,"FakePolylineAnnotation",(function(){return u}));var o,r=n(59),i=n(219),a=n.n(i),s=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(){return(c=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},u=function(t){function e(e){var n,o=t.call(this,e)||this;return o.vertexes=[],o.deviceVertexes=[],o.annotationInfo.vertexes&&(n=o.vertexes).push.apply(n,o.annotationInfo.vertexes),o.annotationInfo.vertexes=o.vertexes,o}return s(e,t),e.prototype.getVertexes=function(){return this.vertexes},e.prototype.getDeviceVertexes=function(){return this.deviceVertexes},e.prototype.addPoint=function(t,e){var n=this.page.reverseDevicePoint([t,e],this.scale,this.rotate),o=n[0],r=n[1];this.vertexes.push({x:o,y:r}),this.deviceVertexes.push({x:t,y:e}),this.updateRect()},e.prototype.setLastPoint=function(t,e){var n=this.vertexes[this.vertexes.length-1],o=this.deviceVertexes[this.deviceVertexes.length-1],r="number"==typeof t?t:o.x,i="number"==typeof e?e:o.y,a=this.page.reverseDevicePoint([r,i],this.scale,this.rotate),s=a[0],c=a[1];n.x=s,n.y=c,o.x=r,o.y=i,this.updateRect()},e.prototype.zoomTo=function(e){var n=this;this.scale!==e&&(t.prototype.zoomTo.call(this,e),this.deviceVertexes=this.vertexes.map((function(t){var o=n.page.getDevicePoint([t.x,t.y],e,n.rotate);return{x:o[0],y:o[1]}})),this.updateRect())},e.prototype.removeLastPoint=function(){this.vertexes.pop(),this.deviceVertexes.pop()},e.prototype.getRenderingData=function(e,n){var o=t.prototype.getRenderingData.call(this,e,n);return c(c({},o),{vertexes:this.vertexes})},e.prototype.generateApRenderer=function(){return new a.a(this)},e.prototype.getType=function(){return"polyline"},e.prototype.getOuterDeviceRect=function(e,n){return t.prototype.getDeviceRect.call(this,e,n)},e.prototype.updateRect=function(){if(0!==this.deviceVertexes.length){var t=this.deviceVertexes[0],e=t.x,n=t.y,o=t.x,r=t.y;this.deviceVertexes.forEach((function(t){e=Math.min(e,t.x),o=Math.max(o,t.x),n=Math.min(n,t.y),r=Math.max(r,t.y)})),this.setRect({left:e,top:n,right:o,bottom:r})}},e}(r.a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=C(n(56)),a=C(n(224)),s=n(5);n(612);var c=C(n(239)),u=C(n(12));n(632),n(635),n(735);C(n(7));n(776);C(n(71));var l=C(n(173)),f=n(13),p=(C(n(84)),C(n(214)),C(n(365)),C(n(366)),C(n(22)),C(n(78)),C(n(1075))),d=C(n(1076)),h=C(n(88)),g=C(n(215)),m=C(n(131)),v=C(n(69)),y=C(n(216)),b=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(207)),w=C(n(8)),_=C(n(1085)),P=n(6),O=C(n(20)),E=C(n(74)),x=C(n(87));C(n(369));function C(t){return t&&t.__esModule?t:{default:t}}function A(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var S=c.default.getProxyClass(a.default,(function(t,e,n){return t.pdfViewerPromise.then((function(t){return e.call.apply(e,[t].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(n)))}))}),null),D=[.5,.75,1,1.25,1.5,2,4,6,10],R=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this)),r=new p.default(d.default);o.partialManager=r,r.load(e);var a=(n=(0,v.default)({i18n:{},keymap:{},customs:(0,v.default)(!1,{defaultStateHandler:f.STATE_HANDLER_HAND,defaultExportCommentsFormat:"fdf",scalingValues:D,getLoadingMode:function(){return 0}},n.customs),viewerOptions:{},appearance:y.default,addons:[],fragments:[],viewerFactory:_.default},n)).viewerOptions;return o.eventEmitter=a.eventEmitter||new i.default,a.eventEmitter=a.eventEmitter||o.eventEmitter,r.construct(o,n),o.initializePromise=r.linkAll(),o.pdfViewerPromise=r.link(h.default),o.uiRootPromise=r.link(g.default),o.addonsPromise=r.link(m.default),o.addonInstancePromise=o.addonsPromise.then((function(t){var e=t.reduce((function(t,e){return t[e.clazz.getLibraryName()]=e,t}),{});return o.addonInstanceMap=e,e})),o.initializePromise.then((function(t){o.eventEmitter.emit(w.default.initializationCompleted)})),o}return A(e,t),e.module=function(t,e){return u.default.module(t,e)},e.root=function(){return u.default.module(s.ROOT_MODULE_NAME)},e.prototype.changeLanguage=function(t){var e=this,n=this.currentLanguage;return this.currentLanguage=t,this.getPDFViewer().then((function(n){return n.changeLanguage(t).then((function(n){return e._changeI18nLanguage(t)})).then((function(t){return e.getRootComponent()})).then((function(t){return t.localize()}))})).catch((function(t){return e.currentLanguage=n,Promise.reject(t)}))},e.prototype.refreshTranslations=function(){return this.changeLanguage(this.currentLanguage)},e.prototype.addI18NResources=function(t,e,n){return this.i18n.addResourceBundle(t,e,n,!0,!0),this.refreshTranslations()},e.prototype.addKeymap=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.PDFUI_BINDER;return this.getPDFViewer().then((function(t){return t.keyboard})).then((function(o){o.registerKeybinding(n,t,e)}))},e.prototype.addKeyboardShortcutEventListener=function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.PDFUI_BINDER,r=t.prototype.addKeyboardShortcutEventListener.call(this,e,n,o);return function(){r.then((function(t){return t()}))}},e.prototype.switchKeyboardEventBinder=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=void 0,o=this.getPDFViewer().then((function(n){return n.switchKeyboardEventBinder(t,e)}));return o.then((function(t){n=t})),function(){n?n():o.then((function(t){return t()}))}},e.prototype._changeI18nLanguage=function(t){var e=this;return new Promise((function(n,o){e.i18n.changeLanguage(t,(function(r){r?o(r):(e.getRootComponent().then((function(n){var o=e.i18n.store.toJSON(),r=Object.keys(o),i=n.element.classList;r.forEach((function(t){return i.remove("fv__ui-lang-"+t)})),i.add("fv__ui-lang-"+t)})),n())}))}))},e.prototype.parseTemplate=function(t,e){e&&"object"===(void 0===e?"undefined":r(e))||(e=[]),Array.isArray(e)||(e=[e]);var n=new l.default(this.localizer,this,this.templateParser).parse(t,e);if(n.getComponentByName(s.WEBPDF_VIEWER_COMPONENT_NAME))throw new Error("<viewer> component is not allowed for this API.");return n},e.prototype.alert=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"common-dialogs.alert-message",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"common-dialogs.alert-title",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"body";return"[object Object]"===Object.prototype.toString.call(t)?b.alert(this,t.message,t.title,t.appendTo,t.level):b.alert(this,t,e,n)},e.prototype.prompt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"common-dialogs.prompt-message",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"common-dialogs.prompt-title",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"body",r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return"[object Object]"===Object.prototype.toString.call(e)?b.prompt(this,t,e.message,e.title,e.appendTo,e.ok,e.level):b.prompt(this,t,e,n,o,r)},e.prototype.promptPassword=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"common-dialogs.prompt-message",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"common-dialogs.prompt-title",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"body",r=arguments[4],i=arguments[5],a=this,s={pdfui:a,defaultValue:t,message:e,title:n,appendTo:o,notifyType:r,notifyContent:i};return b.promptPassword(s)},e.prototype.confirm=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"common-dialogs.confirm-message",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"common-dialogs.confirm-title",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"body";return"[object Object]"===Object.prototype.toString.call(t)?b.confirm(this,t.message,t.title,t.appendTo,t.level):b.confirm(this,t,e,n)},e.prototype.loading=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body,e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.getRootComponent().then((function(){return b.loading(e,t,n,o)}))},e.prototype.getPDFViewer=function(){return this.pdfViewerPromise},e.prototype.rerender=function(){return this.uiRootPromise.then((function(t){return t.rerender()}))},e.prototype.addUIEventListener=function(t,e){var n=this;return"string"==typeof t||Array.isArray(t)?(Array.isArray(t)||(t=[t]),t.forEach((function(t){n.eventEmitter.on(t,e)})),function(){n.removeUIEventListener(t,e)}):(Object.keys(t).forEach((function(e){n.eventEmitter.on(e,t[e])})),function(){Object.keys(t).forEach((function(e){n.removeUIEventListener(e,t[e])}))})},e.prototype.removeUIEventListener=function(t,e){var n=this;Array.isArray(t)||(t=[t]),t.forEach((function(t){n.eventEmitter.off(t,e)}))},e.prototype.addViewerEventListener=function(t,e){var n=this,o="string"!=typeof t&&!Array.isArray(t);return this.getPDFViewer().then((function(n){o?Object.keys(t).forEach((function(e){n.eventEmitter.on(e,t[e])})):(Array.isArray(t)||(t=[t]),t.forEach((function(t){n.eventEmitter.on(t,e)})))})),o?function(){Object.keys(t).forEach((function(e){n.removeViewerEventListener(e,t[e])}))}:function(){n.removeViewerEventListener(t,e)}},e.prototype.removeViewerEventListener=function(t,e){return this.getPDFViewer().then((function(n){Array.isArray(t)||(t=[t]),t.forEach((function(t){n.eventEmitter.off(t,e)}))}))},e.prototype.getRootComponent=function(){return this.uiRootPromise},e.prototype.getComponentByName=function(t){return this.uiRootPromise.then((function(e){return e.getComponentByName(t)}))},e.prototype.getAllComponentsByName=function(t){return this.uiRootPromise.then((function(e){return e.getAllComponentsByName(t)}))},e.prototype.destroy=function(){var t=this;return Promise.all([this.getPDFViewer()].concat(this.addonsPromise)).then((function(e){var n=o(e,2),r=n[0],i=n[1];return Promise.all(i.map((function(t){return Promise.resolve(t.destroy())}))).then((function(e){return r.keyboard.destroy(),r.destroy().then((function(e){return t.uiRootPromise.then((function(t){return t.destroy()}))})).then((function(){t.eventEmitter.emit(w.default.applicationDestroyed),t.uiRootPromise=null,t.pdfViewerPromise=null,t.addonInstanceMap=null,t.addonInstancePromise=null,t.addonsPromise=null,t.initializePromise=null,t.eventEmitter.removeAllListeners(),t.eventEmitter=null,t.partialManager.destroy(),t.partialManager=null}))}))}))},e.prototype.convertImageToPDFDoc=function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"untitled.pdf",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=this,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.pdfEngine;return t.prototype.convertImageToPDFDoc.call(this,e,n,o,r,a,s).catch((function(t){return t instanceof Error?i.alert(t.message):i.alert("Failed to convert image to PDF document."),Promise.reject(t)}))},e.prototype.openPDFByFile=function(e,n){var o=this,i=this.openingFlag=[Date.now(),Math.random()];return t.prototype.openPDFByFile.call(this,e,n).catch((function(t){var e=t.error;return"object"!=(void 0===e?"undefined":r(e))||e.error?3===t.error?o.retryPassword_(t.pdfDoc,n):2===t.error?o.alert("alert.formatError"):11===t.error?o.alert("alert.securityError"):5===t.error?o.alert("dialog.openFileFailed.errCertificate"):void 0:i!==o.openingFlag?t:(console.error(e),o.alert("alert.openFailed"))}))},e.prototype.retryPassword_=function(e){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=o.password||"",i=void 0,a=void 0;return r&&(i="error",a="retry.invalidPassword"),this.promptPassword(r,"retry.inputPassword","retry.Password","body",i,a).then((function(r){if(null===r){var i=new Error("Invalid password value: null");return i.error=-2,i.pdfDoc=e,Promise.reject(i)}return o.password=r,t.prototype.reopenPDFDoc.call(n,e,o).catch((function(t){return 3===t.error?n.retryPassword_(t.pdfDoc,o):Promise.reject(t)}))}),O.default)},e.prototype.openPDFByHttpRangeRequest=function(e,n){var o=this,i=this.openingFlag=[Date.now(),Math.random()];return t.prototype.openPDFByHttpRangeRequest.call(this,e,n).catch((function(t){var e=t.error;return"object"!=(void 0===e?"undefined":r(e))||e.error?3===t.error?o.retryPassword_(t.pdfDoc,n):2===t.error?o.alert("alert.formatError"):11===t.error?o.alert("alert.securityError"):5===t.error?o.alert("dialog.openFileFailed.errCertificate"):404===t.error?o.alert("toolbar.alert.openFailed"):5===t.error?o.alert("dialog.openFileFailed.errCertificate"):void 0:i!==o.openingFlag?t:(console.error(e),o.alert("alert.openFailed"))}))},e.prototype.getSelectedTextInfo=function(){return this.getPDFViewer().then((function(t){return t.getStore().getCurrentValue(P.STORE_NAMES.SELECTION_INFO)}))},e.prototype.callAddonAPI=function(t,e){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.addonInstancePromise.then((function(r){return n.callAddonSync(t,e,o)}))},e.prototype.callAddonSync=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!this.addonInstanceMap)throw new Error("Not all addons are prepared!");"function"==typeof t&&E.default.isSubClassOf(t,x.default)&&(t=t.getLibraryName());var o=this.addonInstanceMap[t];if(!o)throw new Error("The addon with the specified library name could not be found: "+t+"!");return o.receiveAction(e,n)},e.prototype.getAnnotationIcons=function(t,e){return this.initDefaultStamps(),e?this.customStamps:Object.assign({},this.customStamps,this.defaultStamps)},e}(S);e.default=R},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n(383);var i=K(n(3)),a=K(n(384)),s=K(n(410)),c=K(n(22)),u=K(n(412)),l=n(28),f=(K(n(237)),K(n(1))),p=K(n(56)),d=n(90),h=K(n(413)),g=K(n(414)),m=K(n(494)),v=K(n(507)),y=K(n(542)),b=K(n(543)),w=K(n(268)),_=K(n(548)),P=K(n(550)),O=K(n(271)),E=K(n(69)),x=K(n(551)),C=K(n(553)),A=n(4),S=K(n(158)),D=n(132),R=K(n(560)),j=n(31),T=K(n(117)),M=K(n(24)),I=K(n(62)),k=K(n(96)),F=K(n(561)),N=K(n(65)),L=K(n(562)),V=K(n(563)),B=K(n(95)),U=K(n(564)),H=K(n(565)),q=n(105),$=K(n(566)),W=K(n(608)),z=K(n(610)),Y=(K(n(275)),n(64)),G=K(n(106));function K(t){return t&&t.__esModule?t:{default:t}}function J(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var X=function(){},Z=function(){return-1},Q=void 0,tt="JR",et="canvas",nt={annotRenderingMode:{highlight:et,caret:et,squiggly:et,underline:et,strikeout:et,choiceButton:et,pushButton:et,textField:et,comboBox:et,note:et,fileAttachment:et,sound:et,freetext:et,redact:et},highPerformance:!1,enableSignature:!1},ot=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=(n.preloadJR,n.preloadSR,n.libPath),i=n.jr,a=n.sr,c=n.i18n,u=n.i18nOptions,l=n.eventEmitter,A=void 0===l?new p.default:l,R=n.minScale,M=void 0===R?.1:R,I=n.maxScale,k=void 0===I?10:I,N=n.defaultScale,$=void 0===N?"fitWidth":N,W=n.scaleFrequency,z=void 0===W?0:W,Y=n.tileSize,K=void 0===Y?1200:Y,Q=n.getTileSize,et=void 0===Q?null:Q,ot=n.StateHandlers,rt=void 0===ot?[]:ot,it=n.customs,at=void 0===it?{}:it,st=n.keymap,ct=void 0===st?{}:st,ut=n.Viewmodes,lt=void 0===ut?[]:ut,ft=n.enableJS,pt=n.enableSafeMode,dt=n.stateHandlerConfig,ht=n.watermarkConfig,gt=n.actionOptions,mt=void 0===gt?{}:gt,vt=n.defaultViewMode,yt=void 0===vt?"continuous-view-mode":vt,bt=n.snapshotServer,wt=void 0===bt?new O.default({uploadSnapshotAPIPath:"snapshot/upload"}):bt,_t=n.highPerformance,Pt=n.annotRenderingMode,Ot=n.defaultKeyboardEventBinder,Et=void 0===Ot?j.VIEWER_BINDER:Ot,xt=n.defaultAnnotConfig,Ct=n.enableSignature,At=n.enableShortcutKey,St=void 0===At||At,Dt=n.engineMode,Rt=void 0===Dt?tt:Dt,jt=n.sharedWorker,Tt=void 0!==jt&&jt,Mt=n.noJSFrame,It=void 0!==Mt&&Mt;J(this,t),-1!==(o=o?(0,d.isUrl)(o)?o:(0,d.urlJoin)(location.href,o):(0,d.getCurrentPath)()).indexOf("?")&&(o=o.replace(/\?.*$/,"")),-1!==o.indexOf("#")&&(o=o.replace(/#.*$/,"")),"/"!==o[o.length-1]&&(o+="/"),this.libPath=o;var kt=10,Ft="jr-engine/gsdk";(i=i||{}).licenseKey=i.licenseKey||"",i.licenseSN=i.licenseSN||"",i.l=i.l||"";var Nt=i.workerPath||"";Nt?(0,d.isUrl)(Nt)||(Nt=(0,d.urlJoin)(o,Nt)):Nt=o;var Lt=i.enginePath;i.workerPath=Nt,i.enginePath=Lt,i.enginePath=i.enginePath||Ft,Lt?(0,d.isUrl)(Lt)||(Lt=(0,d.urlJoin)(o,Lt)):Lt=o+Ft,i.enginePath=Lt;var Vt="../external/brotli",Bt=i.fontPath;Bt?(0,d.isUrl)(Bt)||(Bt=(0,d.urlJoin)(o,Bt)):Bt=(0,d.urlJoin)(o,Vt),i.brotli=Object.assign({core:!0},i.brotli),i.fontPath=Bt,this.snapshotServer=wt;var Ut=(a=a||{}).workerPath||"";Ut=Ut?(0,d.isUrl)(Ut)?Nt:(0,d.urlJoin)(o,Ut):o,a.workerPath=Ut;var Ht=(u=(0,E.default)({initOption:{ns:"viewer_"}},u)).path;Ht=Ht?(0,d.isUrl)(Ht)?Ht:(0,d.urlJoin)(o,Ht):o+"locales",u.absolutePath=u.absolutePath||Ht,this.i18n=c||(0,s.default)(u),Rt=Rt.toUpperCase(),-1===[tt,"SR","MIX"].indexOf(Rt)&&(Rt=tt);var qt={},$t=!0,Wt="object"===("undefined"==typeof WebAssembly?"undefined":r(WebAssembly));switch(Rt){case"SR":Pt||(qt=nt.annotRenderingMode),Wt="undefined"!==(void 0===_t?"undefined":r(_t))&&_t,$t="undefined"!==(void 0===Ct?"undefined":r(Ct))&&Ct,document.body.classList.add("fv__viewer-sr__"),this.pdfEngine=this.getWebPDFSR();break;case"MIX":document.body.classList.add("fv__viewer-sr__"),this.pdfEngine=this.getWebPDFSR(),this.mixPdfJREngine=this.getWebPDFJR();break;case tt:default:this.pdfEngine=this.getWebPDFJR()}this.customs=Object.assign({closeDocBefore:X,closeDocAfter:X,getDocPermissions:Z},at);var zt=this;this.actionOptions=Object.assign({remoteGotoActionInit:function(){var t=window.opener;t&&(t.postMessage({isReady:!0},window.location.origin),window.addEventListener("message",(function(t){if(t.source!==window){var e=t.data,n=e.foxitSdkActionType,o=e.foxitSdkActionUrl,r=e.foxitSdkActionFileName,i=e.top,a=(e.bottom,e.left),s=(e.right,e.pageIndex),c=e.zoomFactor,u=e.zoomMode;"TypeGoToR"===n&&zt.openPDFByHttpRangeRequest({range:{url:o}},{fileName:r}).then((function(){A.once(f.default.renderPageSuccess,(function(){switch(u){case"ZoomXYZ":var t=c;0===t?zt.goToPage(s,i,a,0!==i):zt.zoomTo(t,!1).then((function(){zt.goToPage(s,i,a,0!==i)}));break;case"ZoomFitHorz":zt.zoomTo("fitWidth",!1).then((function(){zt.goToPage(s,i,a,0!==i)}));break;case"ZoomFitPage":zt.zoomTo("fitHeight",!1).then((function(){zt.goToPage(s,i,a,0!==i)}))}}))}))}}),!1))}},mt),this.keyboard=new w.default(this);var Yt=(0,_.default)();if(Yt.forEach((function(t){var n=t.binder;t.active;e.keyboard.addEventBinder(n)})),"string"==typeof Et&&!(Et=this.keyboard.getBinder(Et)))throw new Error("Incorrect default keyboard event binder name: "+Et+", it should should be one of these: "+Yt.map((function(t){return t.name})));for(var Gt in Yt.forEach((function(t){var n=t.binder,o=t.deps;t.depToDefault&&n.attach(Et),o&&o.map((function(t){return e.keyboard.getBinder(t)})).forEach((function(t){return n.attach(t)}))})),P.default){var Kt=P.default[Gt];this.keyboard.registerKeybinding(Kt.bindTo,Gt,Kt.shortcut)}for(var Jt in ct)this.keyboard.registerKeybinding(Jt,ct[Jt]);"string"==typeof Et?this.keyboard.setDefaultBinderName(Et):Et instanceof T.default&&this.keyboard.setDefaultBinderName(Et.name),this.keyboard.activeDefaultBinder(),this.viewModeManager=new h.default(this);for(var Xt=0,Zt=lt.length;Xt<Zt;Xt++)this.registerViewMode(lt[Xt]);this.defaultAnnotConfig=xt||X,pt=void 0===pt||pt,this.config={sr:a,jr:i,minScale:M,maxScale:k,defaultScale:$,tileSize:K,getTileSize:et,enableJS:ft,enableSafeMode:pt,defaultViewMode:yt,stateHandlerConfig:dt,watermarkConfig:ht,scaleFrequency:z,highPerformance:Wt,annotRenderingMode:Object.assign({highlight:"canvas",choiceButton:"canvas",pushButton:"native",textField:"native",comboBox:"canvas",note:"native",fileAttachment:"native",sound:"native",freetext:"native"},qt,Pt),enableSignature:$t,sizeCount:kt,enableShortcutKey:St,engineMode:Rt,sharedWorker:Tt,noJSFrame:It,printSetting:{quality:100,showHeaderFooter:!0}},this.eventEmitter=A,this.store=new D.Store,this.mementoManager=new C.default(this);var Qt=this.annotManager=new g.default(this);"SR"===Rt&&Qt.setViewerAnnotFlag((function(t){var e=t.getType();return-1===["text","caret","freetext","fileattachment","highlight","ink","line","circle","square","polygon","polyline","squiggly","strikeout","underline","widget","redact"].indexOf(e)?G.default.locked|G.default.readOnly:0})),this.actionManager=new m.default(this),this.JSEngine=new v.default(this),this.inkSignManager=new b.default(this),this.viewerUI=arguments[0].viewerUI||new S.default;var te=this.stateHandlerManager=new y.default(this);this.viewerUI.prepare(this),this.customRenderManager=new x.default(this);for(var ee=0,ne=rt.length;ee<ne;ee++)te.register(rt[ee]);this.annotsEventMaps=[],this._annotMouseEventCallback=this._annotMouseEventCallback.bind(this),this._runtimeColor=["RGB",.55,.55,1],this._highlightControls=!0,this.lifeCycleManager=new F.default,this.lifeCycleManager.registerLifecycle(new H.default),this.lifeCycleManager.registerLifecycle(new L.default(this)),this.lifeCycleManager.registerLifecycle(new V.default(this)),this.lifeCycleManager.registerResourceGenerator(B.default.OBJECT_URL,U.default),this.activationManager=new q.ActivationManager}return t.prototype.resourceGenerator=function(t,e){return this.lifeCycleManager.generator(t,e)},t.prototype.getDefaultAnnotConfig=function(){return(this.webPDFJR||this.webPDFSR).getDefaultAnnotConfig()||X},t.prototype.setDefaultAnnotConfig=function(t){(this.webPDFJR||this.webPDFSR).setDefaultAnnotConfig(t)},t.prototype._annotMouseEventCallback=function(t){this.annotsEventMaps.map((function(e){e&&e(t)}))},t.prototype.startListenAnnotMouseEvent=function(){this.cleanListenAnnotMouseEvent(),document.addEventListener("mouseup",this._annotMouseEventCallback,{capture:!0})},t.prototype.stopListenAnnotMouseEvent=function(){this.cleanListenAnnotMouseEvent(),document.removeEventListener("mouseup",this._annotMouseEventCallback)},t.prototype.addListenAnnotMouseEvent=function(t){this.annotsEventMaps.push(t)},t.prototype.cleanListenAnnotMouseEvent=function(){this.annotsEventMaps=[]},t.prototype.changeLanguage=function(t){var e=this;return new Promise((function(n,o){e.i18n.changeLanguage(t,(function(t){t?o(t):n()}))}))},t.prototype.takeSnapshot=function(t,e,n,o,r){var i=this.getPDFPageRender(t);if(!i)throw new Error("page not found: "+t);return i.getSnapshot(e,n,o,r)},t.prototype.uploadImage=function(t){var e=this;return this.snapshotServer.uploadImage(t).catch((function(t){return console.warn(e.i18n.t("viewer_:error.snapshotServer")),Promise.reject(t)}))},t.prototype.copySnapshot=function(t){var e=document.createElement("img");e.src=t;var n=document.createElement("div");if(n.appendChild(e),n.classList.add("fv__ui-canvas-mirror"),document.body.appendChild(n),document.body.createControlRange){var o=document.body.createControlRange();o.addElement(e),o.execCommand("copy"),document.body.removeChild(n)}else{var r=window.getSelection();r.removeAllRanges();var i=document.createRange();i.selectNodeContents(n),r.addRange(i);try{document.execCommand("copy",!1,null)}catch(t){}document.body.removeChild(n)}},t.prototype.getKeyboardEventBinder=function(t){var e=this.keyboard.getBinder(t);if(!e)throw new Error("event binder not found error: "+t);return e},t.prototype.switchKeyboardEventBinder=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.keyboard.activeBinder(t,e)},t.prototype.addKeyboardShortcutEventListener=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.getDefaultKeyboardEventBinder(),o=void 0;return(o=n instanceof T.default?n:this.keyboard.getBinder(n))?o.on(t,e):X},t.prototype.addEventListener=function(t,e){var n=this;return this.eventEmitter.on(t,e),function(){n.eventEmitter.off(t,e)}},t.prototype.getDefaultKeyboardEventBinder=function(){return this.keyboard.getDefaultKeyboardEventBinder()},t.prototype.getWebPDFJR=function(){var t=this;if(this.webPDFJRPromise)return this.webPDFJRPromise;var e=(0,c.default)();return Promise.resolve().then(n.t.bind(null,293,7)).then((function(n){var o=new(n.default($.default))(t.config.jr,t.eventEmitter);t.webPDFJR=o;var r="viewer_:error.initEngine.c2";return o.setDefaultAnnotConfig(t.defaultAnnotConfig),o.init().then((function(n){var i=n.other,a={"viewer  component":{version:R.default},"core component":{version:n.version},JR:{version:!0}};if(!i)return console.table&&console.table(a),t.eventEmitter.emit(f.default.jrLicenseSuccess),e.resolve(o);var s=location.href,c=!0;if(i.h){c=!1;for(var u=i.h,l=u.length;l--;){var p=u[l];if(new RegExp(p).test(s)){c=!0;break}}}if(!c)return t.viewerUI.alert(r),void e.reject(new Error("failed to initialize WebPDF JR Engine"));var d=Date.now(),h=i.b;if(h&&!(c=d>h))return t.viewerUI.alert(r),void e.reject(new Error("failed to initialize WebPDF JR Engine"));var g=i.e;return g&&!(c=d<g)?(t.viewerUI.alert(r),void e.reject(new Error("failed to initialize WebPDF JR Engine"))):c?(console.table&&console.table(a),t.eventEmitter.emit(f.default.jrLicenseSuccess),e.resolve(o)):(t.viewerUI.alert(r),void e.reject(new Error("failed to initialize WebPDF JR Engine")))}),(function(n){t.viewerUI.alert(t.i18n.t("viewer_:error.initEngine.c"+n||!1)),e.reject(n)})),o})),this.webPDFJRPromise=e.promise},t.prototype.getWebPDFSR=function(){var t=this;return this.webPDFSRPromise?this.webPDFSRPromise:this.webPDFSRPromise=Promise.resolve().then(n.t.bind(null,296,7)).then((function(e){var n=new(e.default($.default))(t.config.sr,t.eventEmitter);return t.webPDFSR=n,n.setDefaultAnnotConfig(t.defaultAnnotConfig),n.init().then((function(){var e={"viewer  component":{version:R.default},SR:{version:!0}};console.table&&console.table(e),t.isWebPDFSR=!0,t.scaleFrequency=4,t.config.scaleFrequency=4,t.eventEmitter.emit(f.default.srLicenseSuccess)}),(function(e){alert(t.i18n.t(["viewer_:error.initEngine.c1","viewer_:error.initEngine.c2"][e-1]||"viewer_:error.c-1"))})),n}))},t.prototype.initAnnotationIcons=function(t){var e=arguments,n=this;return this.pdfEngine.then((function(e){return e.setIcons(t)})).then((function(o){return!e[1]&&n.eventEmitter.emit(f.default.iconInited,t)}))},t.prototype.addAnnotationIcon=function(t){var e=this;return this.pdfEngine.then((function(e){return e.addIcon(t)})).then((function(n){return e.eventEmitter.emit(f.default.iconAdded,t)}))},t.prototype.removeAnnotationIcon=function(t,e,n){var o=this;return e||(n=null),this.pdfEngine.then((function(o){return o.removeIcon(t,e,n)})).then((function(r){return o.eventEmitter.emit(f.default.iconRemoved,{type:t,category:e,name:n})}))},t.prototype.init=function(t){this.$ui=(0,i.default)(t),this.pdfViewerRender=new a.default(this.$ui,this.viewModeManager.get(this.config.defaultViewMode),this)},t.prototype.redraw=function(t){var e=this;if(!this.pdfViewerRender||!this.pdfViewerRender.pdfDocRender)return Promise.resolve(!1);try{var n=this.pdfViewerRender.pdfDocRender.pagesRender,o=[];return t&&n.setRenderFlags(7),n.pageRenders.forEach((function(t){t.page&&o.push(t.renderLayout())})),Promise.all(o).then((function(t){return n.renderVisiblePages()})).finally((function(){e.eventEmitter.emit(f.default.fitWidthResizeViewport)}))}catch(t){return Promise.reject(t)}},t.prototype.rotateTo=function(t){return(0,Y.assertThat)((0,Y.isValidRotationAngle)(t),"Incorrect rotation degree: "+t+", It should be 0, 90, 180 or 270"),this.pdfViewerRender.rotateTo(t)},t.prototype.getRotation=function(){return this.pdfViewerRender.getRotation()},t.prototype.openPDFByFile=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.pdfEngine;return t.name&&!n.fileName&&(n.fileName=t.name),void 0===n.isRenderOnDocLoaded&&(n.isRenderOnDocLoaded=!0),this.close().then((function(){e.eventEmitter.emit(f.default.beforeOpenFile);var t=void 0;return t=o?Promise.resolve(o):e.getWebPDFJR(),n.isRenderOnDocLoaded&&e.pdfViewerRender.rendering(),t}),(function(){return Promise.reject({error:-3})})).then((function(e){return e.getPDFDocByFile(t,n)})).then((function(t){return e._reopenPDFDoc(t,n)}),(function(t){return e.eventEmitter.emit(f.default.openFileFailed,t),Promise.reject(t)})).finally((function(){n.isRenderOnDocLoaded&&e.pdfViewerRender.rendered()}))},t.prototype.openPDFByHttpRangeRequest=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fileName:""},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.pdfEngine,r=t.range.url;if(!n.fileName&&r.endsWith(".pdf")){var i=r.lastIndexOf("/"),a=r.substring(i+1);a=decodeURIComponent(a),n.fileName=a}if(void 0===n.isRenderOnDocLoaded&&(n.isRenderOnDocLoaded=!0),!/^\w+\:\/\/.*/.test(r)){var s=location.pathname.replace(/\/[^\/]+$/,"/");t.range.url=(0,d.resolvePath)(location.protocol+"//"+location.host+s,r)}return this.close().then((function(){e.eventEmitter.emit(f.default.beforeOpenFile);var t=void 0;return t=o?Promise.resolve(o):e.getWebPDFJR(),n.isRenderOnDocLoaded&&e.pdfViewerRender.rendering(),t}),(function(t){throw t})).then((function(e){return e.getPDFDocByHttpRangeRequest(t,n)})).then((function(t){return e._reopenPDFDoc(t,n)}),(function(t){throw e.eventEmitter.emit(f.default.openFileFailed,t),t})).finally((function(){n.isRenderOnDocLoaded&&e.pdfViewerRender.rendered()}))},t.prototype.openPDFById=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fileName:""};return void 0===n.isRenderOnDocLoaded&&(n.isRenderOnDocLoaded=!0),this.close().then((function(){e.eventEmitter.emit(f.default.beforeOpenFile);var t;return t=e.getWebPDFSR(),n.isRenderOnDocLoaded&&e.pdfViewerRender.rendering(),t}),(function(t){throw t})).then((function(t){return Promise.all([t,rt(n)])})).then((function(e){var r=o(e,2),i=r[0],a=r[1];return n.idJWT=a||n.jwt,i.getPDFDocById(t,n)})).then((function(t){return e._reopenPDFDoc(t,n)}),(function(t){return e.eventEmitter.emit(f.default.openFileFailed,t),Promise.reject(t)})).finally((function(){n.isRenderOnDocLoaded&&e.pdfViewerRender.rendered()}))},t.prototype.createNewDoc=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"untitled.pdf",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{height:842,width:595},o=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{isRenderOnDocLoaded:!0},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.pdfEngine;return void 0===r.isRenderOnDocLoaded&&(r.isRenderOnDocLoaded=!0),this.close().then((function(){return i?Promise.resolve(i):o.getWebPDFJR()}),(function(t){return t||(t=new Error("An unknown error occurred while closing the current opening document!")),t.error=-3,Promise.reject(t)})).then((function(o){return o.createNewDoc(t,e,n)})).then((function(e){return r.password="",r.fileName=t,o.reopenPDFDoc(e,r)}))},t.prototype.convertImageToPDFDoc=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"untitled.pdf",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=this,a=(arguments.length>5&&void 0!==arguments[5]||this.pdfEngine,[]),s=null,c=t instanceof ArrayBuffer,p=null;return new Promise((function(n,o){var r=new Image;if(r.onload=function(){var t=(0,l.getDPI)(),e=r.width/t.x*72,o=r.height/t.y*72;n(a=[e,o])},r.onerror=function(){o(new Error("The input file could not be loaded as an supported image."))},c){var i=new Blob([t]);r.src=p=URL.createObjectURL(i)}else r.src=t?p=URL.createObjectURL(t):e})).then((function(t){return i.createNewDoc(n,r,{height:t[1],width:t[0]},{isRenderOnDocLoaded:!1},i.pdfEngine)})).then((function(t){return(s=t).getPageByIndex(0)})).then((function(n){var o=c?Promise.resolve(t):(0,u.default)(t?p:e);return Promise.all([Promise.resolve(n),o])})).then((function(t){var e=o(t,2),n=e[0],r=e[1];p&&URL.revokeObjectURL(p);var i={left:0,top:a[1],right:a[0],bottom:0};return n.addImage(r,i)})).then((function(t){if(t)return s;throw new Error("faied to insert image")})).catch((function(t){return i.eventEmitter.emit(f.default.openFileFailed,null),t&&console.error(t),Promise.reject(t)}))},t.prototype.renderDoc=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.config.defaultScale;if(this.pdfViewerRender.pdfDocRender){var o=this.pdfViewerRender.pdfDocRender.pagesRender;if(t==this.currentPDFDoc&&o&&o.isPageDOMsLoaded)return Promise.resolve(!0)}return this.pdfViewerRender.rendering(),this.pdfViewerRender.renderDoc(t,n).then((function(){return e.eventEmitter.emit(f.default.openFileSuccess,t),e.eventEmitter.emit(f.default.renderFileSuccess,t),!0}),(function(n){return e.eventEmitter.emit(f.default.renderFileFailed,t),n||(n=new Error("An unknown error occurred while closing the current opening document!")),n.error=-3,Promise.reject(n)})).finally((function(){e.pdfViewerRender.rendered()}))},t.prototype.reopenPDFDoc=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.eventEmitter.emit(f.default.beforeOpenFile),void 0===e.isRenderOnDocLoaded&&(e.isRenderOnDocLoaded=!0),this._reopenPDFDoc(t,e)},t.prototype._reopenPDFDoc=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.startListenAnnotMouseEvent();var i=!1,a=!1;return Promise.resolve(rt(n)).then((function(e){return n.idJWT=e||n.jwt,t.parse(n)})).then((function(t){e.currentPDFDoc=t,i=!0;var o=[t];if(n.isRenderOnDocLoaded){e.eventEmitter.once(f.default.renderPageSuccess,(function(){a=!0}));var r=e.pdfViewerRender.renderDoc(t);e.eventEmitter.emit(f.default.openFileSuccess,t),o.push(r)}return Promise.all(o)}),(function(n){e.currentPDFDoc=null;var o={error:n&&n.code,pdfDoc:t,encryptDict:n&&n.encryptDict};return e.eventEmitter.emit(f.default.openFileFailed,o),Promise.reject(o)})).then((function(t){var r=o(t,1)[0];if(e.mixPdfJREngine){var i=void 0;return e.mixPdfJREngine.then((function(t){return i=t,r.resetEngineInstance(t)})).then((function(t){return e.pdfEngine=i,delete e.mixPdfJREngine,e.eventEmitter.emit(f.default.toggleEngineSr2JrSuccess,t),n.isRenderOnDocLoaded&&e.eventEmitter.emit(f.default.renderFileSuccess,t),t}),(function(t){return i&&(e.pdfEngine=i),n.isRenderOnDocLoaded&&e.eventEmitter.emit(f.default.renderFileSuccess,t),t}))}return n.isRenderOnDocLoaded&&e.eventEmitter.emit(f.default.renderFileSuccess,r),r}),(function(o){if(i&&a)return e.eventEmitter.emit(f.default.renderFileSuccess,t),t;n.isRenderOnDocLoaded&&e.eventEmitter.emit(f.default.renderFileFailed,t);var s={error:-1,pdfDoc:t};try{var c=void 0,u=void 0;"number"===(void 0===o?"undefined":r(o))?c=o:"number"===r(o.error)?(c=o.error,u=o.encryptDict):c=o,s={error:c,pdfDoc:t,encryptDict:u}}catch(t){}return Promise.reject(s)}))},t.prototype.close=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.customs.closeDocBefore,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.customs.closeDocAfter;return this.stopListenAnnotMouseEvent(),this.currentPDFDoc?Promise.resolve(e()).then((function(e){if(!1===e)return Promise.reject("Document cannot be closed because it was rejected by the before callback");t.eventEmitter.emit(f.default.willCloseDocument),t.currentPDFDoc=null;var n=t.pdfViewerRender.closeOldDocRender(),o=void 0;try{o=t.pdfViewerRender.pdfDocRender}catch(t){}return o?(o.hidden(),n.then((function(e){return t.pdfViewerRender.closeOldDocRender()}))):n})).then((function(t){if(!1!==t)return n()})):Promise.resolve()},t.prototype.destroy=function(){var t=this;return this.close().then((function(){t.keyboard.destroy(),t.pdfEngine&&t.pdfEngine.then((function(t){t&&t.api.workerPromise.worker.terminate()}))}))},t.prototype.zoomTo=function(t,e){try{return this.activeElement(),this.pdfViewerRender.zoomTo(t,e)}catch(t){return Promise.reject(t)}},t.prototype.zoom=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.25;try{return this.pdfViewerRender.getScaleRatio().then((function(n){var o=t.config.minScale,r=t.config.maxScale;n===o&&Math.floor(o/e)!==o/e&&(n=Math.floor(n/e)*e);var i=Math.max(o,Math.min(r,n+e));return i=o+Math.round((i-o)/e)*e,i=Math.max(o,Math.min(r,i)),t.zoomTo(i)}))}catch(t){return Promise.reject(t)}},t.prototype.goToPage=function(t,e,n){var o=this,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!this.pdfViewerRender)return Promise.reject("PDFViewer has not been initialized completely!");var i=this.getPDFPageRender(t);return i?r&&"number"!=typeof e?i.getPDFPage().then((function(i){return e=i.getHeight(),o.pdfViewerRender.goToPage(t,e,n,r)})):this.pdfViewerRender.goToPage(t,e,n,r):Promise.reject('The page with index "'+t+'" does not exists or the document has not been opened!')},t.prototype.setLayerNodeVisible=function(t,e){return this.pdfViewerRender&&this.pdfViewerRender.setLayerNodeVisible(t,e)},t.prototype.setEnableJS=function(t){this.JSEngine.setEnableJS(t,this.currentPDFDoc),this.eventEmitter.emit(f.default.changeEnableJS,t)},t.prototype.getEnableJS=function(){return this.JSEngine.getEnableJS()},t.prototype.setSafeReadingMode=function(t){this.config.enableSafeMode=t},t.prototype.getSafeReadingMode=function(){return this.config.enableSafeMode},t.prototype.getSmartScale=function(t){var e=this.config,n=e.scaleFrequency;return 0===n?t+=l.dpr-1:t=Math.ceil((t+l.dpr-1)*n)/n,Math.min(Math.max(t,e.minScale),e.maxScale)},t.prototype.controlStateSwitch=function(t){this.pdfViewerRender&&this.pdfViewerRender.controlStateSwitch(t)},t.prototype.getStateHandlerManager=function(){return this.stateHandlerManager},t.prototype.getInkSignManager=function(){return this.inkSignManager},t.prototype.getViewModeManager=function(){return this.viewModeManager},t.prototype.getMementoManager=function(){return this.mementoManager},t.prototype.getEventEmitter=function(){return this.eventEmitter},t.prototype.getCurrentPDFDoc=function(){return this.currentPDFDoc},t.prototype.getPDFViewerRender=function(){try{return this.pdfViewerRender}catch(t){return null}},t.prototype.getDeviceCurrentPosition=function(){for(var t=this.getPDFDocRender(),e=t.$container.find(".fv__pdf-view-mode-item"),n=t.viewerRender.scrollWrap,o=n.getScrollTop(),r=n.getScrollLeft(),a=0,s=0,c=0,u=0;u<e.length;u++){var l=e[u],f=(0,i.default)(l).find(".fv__pdf-page-layout"),p=f.width(),d=f.height(),h=l.offsetTop,g=h+d,m=l.offsetLeft;if(g>o&&m+p>r){a=u,c=o-h,s=r-m;break}}return{pageIndex:a,left:s,top:c}},t.prototype.getPDFDocRender=function(){try{return this.pdfViewerRender.pdfDocRender||null}catch(t){return null}},t.prototype.getPDFPageRender=function(t){try{return this.pdfViewerRender.pdfDocRender.getPDFPageRender(t)||null}catch(t){return null}},t.prototype.getAnnotRender=function(t,e){try{return this.getPDFPageRender(t).getAnnotRender(e)||null}catch(t){return null}},t.prototype.getPDFPageRenderAsync=function(t){try{return this.pdfViewerRender.pdfDocRender.getPDFPageRender(t)}catch(t){return null}},t.prototype.getAnnotRenderAsync=function(t,e){try{return this.getPDFPageRenderAsync(t).getAnnotRender(e)}catch(t){return null}},t.prototype.killFocus=function(){return Promise.resolve(this.activeElement()||!0)},t.prototype.activeElement=function(t){t?this.activationManager.active(t):this.activationManager.unActiveCurrent()},t.prototype.unActiveElement=function(t){this.activationManager.unActive(t)},t.prototype.getCurrentActivatable=function(){var t=this.activationManager.getCurrentActivatable();if(!t||t.isActive)return t},t.prototype.getAllActiveElements=function(){return this.activationManager.getAllCurrentActivatables()},t.prototype.getAnnotManager=function(){return this.annotManager},t.prototype.registerMatchRule=function(t){this.annotManager.registerMatchRule(t)},t.prototype.setUserName=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.pdfEngine;return(e?Promise.resolve(e):this.getWebPDFJR()).then((function(e){return e.setUserName(t)}))},t.prototype.getUserName=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pdfEngine;return(t?Promise.resolve(t):this.getWebPDFJR()).then((function(t){return t.getUserName()}))},t.prototype.setDynamicInfoFormula=function(t,e){return this.getWebPDFJR().then((function(n){return n.setDynamicInfoFormula(t,e)}))},t.prototype.printPDFDocument2=function(t){var e=t.pages,n=void 0===e?[]:e,o=t.printComments,r=void 0!==o&&o,i=t.progress,a=void 0===i||i,s=t.printer,u=t.hideHeaderFooter,l=void 0!==u&&u,f=t.quality,p=void 0===f?100:f,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:X,h=this.currentPDFDoc;if(!h.checkPermission(M.default.print||M.default.printHigh))throw new Error("Permission denied!");var g=this.resourceGenerator(N.default.PDF_DOCUMENT_CLOSING,B.default.OBJECT_URL),m=g.expose(),v=m.URL;if(a){var y=d,b=this.printProgress||new W.default;this.printProgress=b;var w=0;d=function(t){switch(t.state){case"start":b.show(),b.updateProgress(0,t.total);break;case"progress":b.updateProgress(w++,t.total);break;case"end":b.updateProgress(w++,t.total),setTimeout((function(){b.close()}),200)}y(t)}}s||(s=this.printer||(this.printer=new z.default));var _=this.pdfViewerRender.pdfDocRender,P=_.getFormRender(),O=P.getFormatedData("display"),E=h.AdditionalActions?Promise.resolve():h.loadAdditionalActions();return E.then((function(t){return _.performAction(5),h.PDFForm.addTask()})).then((function(t){return h.getPDFForm().setFieldsValue(O,!0)})).then((function(){return d({state:"start",total:n.length}),Promise.all(n.map((function(t){return x(t).then((function(e){return d({state:"progress",pageIndex:t,total:n.length,imageURI:e}),s.appendImage(t,e),{pageIndex:t,imageURI:e}}))})))})).then((function(t){if(P){var e=P.getFormatedData("value");return h.getPDFForm().setFieldsValue(e,!1).then((function(e){return t}))}return t})).then((function(t){var e=t.reduce((function(t,e){var n=e.pageIndex,o=e.imageURI;return t[n]=o,t}),{});return d({state:"end",total:n.length,result:e}),s.print(l),_.performAction(6),e}));function x(t){return h.getPageByIndex(t).then((function(t){var e=t.getWidth(),n=t.getHeight(),o=void 0;if(e>n){o=90;var i=e;e=n,n=i}else o=0;var a=4*p/300;return t.getPageBitmap(a,o,{x:0,y:0,width:e*a,height:n*a},r?["page","annot"]:["page"],"print").then((function(t){var e=t.buffer,n=t.width,o=t.height,r=t.image;if(r)return v.createObjectURL(r);var i=document.createElement("canvas");i.width=n,i.height=o;var a=i.getContext("2d"),s=a.createImageData(n,o);s.data.set(new(Uint8ClampedArray||Uint8Array)(e)),a.putImageData(s,0,0);var u=(0,c.default)();try{i.toBlob((function(t){u.resolve(v.createObjectURL(t))}),"image/png")}catch(t){u.reject(t)}return u.promise}))}))}},t.prototype.printPDFDocument=function(t){t.asImage;var e=t.endIndex,n=void 0===e?this.currentPDFDoc.getPageCount()-1:e,o=t.printType,r=void 0===o?["page"]:o,i=(t.reverse,t.shrinkToFit,t.silent,t.startIndex),a=void 0===i?0:i,s=(t.ui,t.rangeType),c=t.total,u=(void 0===c&&this.currentPDFDoc.getPageCount(),t.fromToArray),l=t.hideHeaderFooter,f=void 0!==l&&l,p=t.quality,d=void 0===p?100:p,h=[];if("assign"===s)for(var g=0;g<u.length;g++)if(u[g][0]===u[g][1])h.push(u[g][0]-1);else for(var m=u[g][0];m<=u[g][1];m++)h.push(m-1);else{n>this.currentPDFDoc.getPageCount()-1&&(n=this.currentPDFDoc.getPageCount()-1);for(var v=a;v<=n;v++)h.push(v)}return this.printPDFDocument2({pages:h,printComments:!!Array.isArray(r)&&r.indexOf("annot")>-1,hideHeaderFooter:f,quality:d})},t.prototype.highlightControls=function(){return this._highlightControls},t.prototype.getDisplayHighlightColor=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.25,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"HTML";return(0,A.colorConvertor)(this._runtimeColor,e,t)},t.prototype.setRuntimeHighlight=function(t){var e=this.pdfViewerRender.pdfDocRender;if(e){var n=e.formRender;n&&n.setRuntimeHighlight(t)}return this._highlightControls=t},t.prototype.setRuntimeHighlightColor=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;if(e<0||e>1)throw new Error("Opacity beyond 0-1");e/=3;var n=this.pdfViewerRender.pdfDocRender;if(n){var o=n.formRender;o&&o.setRuntimeHighlightColor(t,e)}return this._runtimeColor=t},t.prototype.getStore=function(){return this.store},t.prototype.setJRFontMap=function(t){return this.getWebPDFJR().then((function(e){return e.setFontMap(t)}))},t.prototype.setJRWatermarkFontMap=function(t){return this.getWebPDFJR().then((function(e){return e.setWatermarkFontMap(t)}))},t.prototype.pasteAnnot=function(t,e){var n=this,r=this.currentPDFDoc;t=t.then((function(t){return r.getPageByIndex(e.page)})).then((function(t){return t.getAnnotsByIdArray([e.annot])})).then((function(t){if(t.length>0)return n.getPDFDocRender().getViewBoxCenter().then((function(e){var n=o(e,2),r=n[0],i=n[1];return i={x:i[0],y:i[1]},r.annots.forEach((function(t){var e=t.getRect();e.left-2<i.x&&i.x<e.right+2&&e.bottom-2<i.y&&i.y<e.top+2&&(i.x+=5,i.y-=5)})),r.pasteAnnot(t[0],i)}))})).then((function(t){return t.length>0&&n.eventEmitter.emit(f.default.addAnnotSuccess,t[0]),t})).catch(X)},t.prototype.pasteImage=function(t,e){var n=this;window.URL=window.URL||window.webkitURL;var r=window.URL.createObjectURL(e),a=(0,i.default)("<img style='opacity:0' />");a.on("load",(function(e){t=t.then((function(t){return n.getPDFDocRender().getViewBoxCenter(!1)})).then((function(t){var e=o(t,2),i=e[0],s=e[1],u=n.pdfViewerRender.pdfDocRender.getPDFPageRender(i.getIndex()),l=u.getRotation(),f=void 0,p=void 0;90===l||270===l?(f=a.height(),p=a.width()):(f=a.width(),p=a.height());var d={left:s[0],top:s[1],right:s[0]+f,bottom:s[1]+p};d=i.reverseDeviceRect(d,u.scale,l);var h=new XMLHttpRequest;h.open("get",r),h.responseType="arraybuffer";var g=(0,c.default)();return h.onloadend=function(t){return g.resolve(h.response)},h.send(),Promise.all([i,g.promise,d,l])})).then((function(t){var e=o(t,4),n=e[0],r=e[1],i=e[2],a=e[3];return n.addImage(r,i,a)})).then((function(t){window.URL.revokeObjectURL(r),a.remove()})).catch((function(){window.URL.revokeObjectURL(r),a.remove()}))})),a.attr("src",r),(0,i.default)("body").append(a)},t.prototype.paste=function(t){var e=this;t||(t=[{type:"string",value:Q}]);var n=Promise.resolve(),r=function(t){n=n.then((function(t){return e.getPDFDocRender().getViewBoxCenter()})).then((function(e){var n=o(e,2),r=n[0],i=n[1];return r.addGraphicsObject({fontSize:12,weight:400,italic:!1,fillColor:4278190080,text:t,font:{standardId:0},originPosition:{x:i[0],y:i[1]},type:1})})).catch(X)};return t.forEach((function(t){switch(t.type){case"string":try{var i=JSON.parse(t.value);if("number"==typeof i)return void r(t.value);if(i.doc&&i.annot)return e.pasteAnnot(n,i);i.doc&&i.graphicObject&&e.currentPDFDoc.id==i.doc&&(n=n.then((function(t){return e.getPDFDocRender().getViewBoxCenter()})).then((function(t){var e=o(t,2),n=e[0];e[1];return n.pasteGraphicObject(i.graphicObject,i.page,{})})))}catch(e){r(t.value)}break;case"file":var a=t.value;if(!a)return;/^image.*/.test(a.type)?e.pasteImage(n,a):n=n.then((function(n){return e.currentPDFDoc.attachFile(t.blob)}))}})),n.then((function(t){return e.activeElement(),t}))},t.prototype.copy=function(t){var e=document.activeElement.tagName.toLowerCase();if("textarea"!=e&&"input"!=e&&(t||(t=this.getAllActiveElements()),Array.isArray(t)||(t=[t]),0!==t.length)){var n=t.map((function(t){if(t instanceof I.default){var e=t.annot.getType();if("strikeout"===e||"highlight"===e||"squiggly"===e||"underline"===e||"redact"===e||"caret"===e||"screen"===e||"sound"===e)return;var n=t.getPDFPage();return{page:n.getIndex(),annot:t.getId(),doc:n.getPDFDoc().getId()}}if(t.graphicsObject&&t.graphicsObject instanceof k.default){var o=(t=t.graphicsObject).getPDFPage();return{page:o.getIndex(),graphicObject:t.getId(),doc:o.getPDFDoc().getId()}}})).filter((function(t){return!!t}));Q=JSON.stringify(n),(0,l.copyText)(Q)}},t.prototype._setSaveBefore=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X;this._saveBefore=t},t.prototype.registerSignatureHandler=function(t,e,n){return this.getWebPDFJR().then((function(o){return o.registerSignatureHandler(t,e,n)}))},t.prototype.setEnableShortcutKey=function(t){this.config.enableShortcutKey=t},t.prototype.isShortcutKeyEnabled=function(){return this.config.enableShortcutKey},t.prototype.getInkSignList=function(){return(this.inkSignManager.getList()||[]).map((function(t){return{dataURL:t.dataURL}}))},t.prototype.setInkSignList=function(t){var e=this;Array.isArray(t)&&t.forEach((function(t){if(t.dataURL&&/^data:(.*?)\/(.*?);base64/g.test(t.dataURL)){var n=e.inkSignManager.addInkSign();n.setDataURL(t.dataURL),e.inkSignManager.push(n)}}))},t.prototype.setDefaultPrintSetting=function(t){var e=t.quality;if(e||(e=t.quality=100),(e-100|1e3-e)<0)throw new Error("quality range error, 100 to 10000");var n=this.config.printSetting;this.config.printSetting=Object.assign(n,t)},t.prototype.getPrintSetting=function(t){return this.config.printSetting[t]},t}();function rt(t,e){if(t&&"function"==typeof t.getJWT)return t.getJWT(e)}e.default=ot},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(387)),r=i(n(3));function i(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$ui=(0,r.default)(e),this.pdfViewerRender=n,this.pdfViewer=n.pdfViewer}return t.prototype.rendering=function(){this.$ui.html(o.default)},t.prototype.rendered=function(){this.$ui.empty()},t}();e.default=a},function(t,e){t.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiBmaWxsPSIjZGRkIj4KICA8cGF0aCB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyKSIgZD0iTTAgMTIgVjIwIEg0IFYxMnoiPiAKICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9ImQiIHZhbHVlcz0iTTAgMTIgVjIwIEg0IFYxMno7IE0wIDQgVjI4IEg0IFY0ejsgTTAgMTIgVjIwIEg0IFYxMno7IE0wIDEyIFYyMCBINCBWMTJ6IiBkdXI9IjEuMnMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiBiZWdpbj0iMCIga2V5dGltZXM9IjA7LjI7LjU7MSIga2V5U3BsaW5lcz0iMC4yIDAuMiAwLjQgMC44OzAuMiAwLjYgMC40IDAuODswLjIgMC44IDAuNCAwLjgiIGNhbGNNb2RlPSJzcGxpbmUiICAvPgogIDwvcGF0aD4KICA8cGF0aCB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4KSIgZD0iTTAgMTIgVjIwIEg0IFYxMnoiPgogICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iZCIgdmFsdWVzPSJNMCAxMiBWMjAgSDQgVjEyejsgTTAgNCBWMjggSDQgVjR6OyBNMCAxMiBWMjAgSDQgVjEyejsgTTAgMTIgVjIwIEg0IFYxMnoiIGR1cj0iMS4ycyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGJlZ2luPSIwLjIiIGtleXRpbWVzPSIwOy4yOy41OzEiIGtleVNwbGluZXM9IjAuMiAwLjIgMC40IDAuODswLjIgMC42IDAuNCAwLjg7MC4yIDAuOCAwLjQgMC44IiBjYWxjTW9kZT0ic3BsaW5lIiAgLz4KICA8L3BhdGg+CiAgPHBhdGggdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTQpIiBkPSJNMCAxMiBWMjAgSDQgVjEyeiI+CiAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJkIiB2YWx1ZXM9Ik0wIDEyIFYyMCBINCBWMTJ6OyBNMCA0IFYyOCBINCBWNHo7IE0wIDEyIFYyMCBINCBWMTJ6OyBNMCAxMiBWMjAgSDQgVjEyeiIgZHVyPSIxLjJzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgYmVnaW49IjAuNCIga2V5dGltZXM9IjA7LjI7LjU7MSIga2V5U3BsaW5lcz0iMC4yIDAuMiAwLjQgMC44OzAuMiAwLjYgMC40IDAuODswLjIgMC44IDAuNCAwLjgiIGNhbGNNb2RlPSJzcGxpbmUiIC8+CiAgPC9wYXRoPgogIDxwYXRoIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIwKSIgZD0iTTAgMTIgVjIwIEg0IFYxMnoiPgogICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iZCIgdmFsdWVzPSJNMCAxMiBWMjAgSDQgVjEyejsgTTAgNCBWMjggSDQgVjR6OyBNMCAxMiBWMjAgSDQgVjEyejsgTTAgMTIgVjIwIEg0IFYxMnoiIGR1cj0iMS4ycyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGJlZ2luPSIwLjYiIGtleXRpbWVzPSIwOy4yOy41OzEiIGtleVNwbGluZXM9IjAuMiAwLjIgMC40IDAuODswLjIgMC42IDAuNCAwLjg7MC4yIDAuOCAwLjQgMC44IiBjYWxjTW9kZT0ic3BsaW5lIiAvPgogIDwvcGF0aD4KICA8cGF0aCB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNikiIGQ9Ik0wIDEyIFYyMCBINCBWMTJ6Ij4KICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9ImQiIHZhbHVlcz0iTTAgMTIgVjIwIEg0IFYxMno7IE0wIDQgVjI4IEg0IFY0ejsgTTAgMTIgVjIwIEg0IFYxMno7IE0wIDEyIFYyMCBINCBWMTJ6IiBkdXI9IjEuMnMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiBiZWdpbj0iMC44IiBrZXl0aW1lcz0iMDsuMjsuNTsxIiBrZXlTcGxpbmVzPSIwLjIgMC4yIDAuNCAwLjg7MC4yIDAuNiAwLjQgMC44OzAuMiAwLjggMC40IDAuOCIgY2FsY01vZGU9InNwbGluZSIgLz4KICA8L3BhdGg+Cjwvc3ZnPgo="},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=y(n(22)),i=n(21),a=y(n(228)),s=y(n(230)),c=y(n(393)),u=y(n(60)),l=y(n(61)),f=y(n(19)),p=y(n(1));n(89);var d=y(n(396)),h=y(n(398)),g=y(n(399)),m=y(n(402)),v=n(17);function y(t){return t&&t.__esModule?t:{default:t}}function b(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var w=function(){},_=function(t){function e(n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i));c.isRendered=!1,c.name=e.getDefaultName(),c.$ui=n,c.index=o,n.attr("data-index",o),c.pagesRender=i,c.docRender=i.docRender,c.viewerRender=c.docRender.viewerRender,c.$rendering=n.find(".fv__pdf-page-rendering"),c.$container=n.find(".fv__pdf-page-container").attr("data-index",o),c.$annotsContainer=n.find(".fv__pdf-page-annots-container"),c.$customsContainer=n.find(".fv__pdf-page-customs-container");var u=c.$handler=n.find(".fv__pdf-page-handler-container");c.$invisible=n.find(".fv__pdf-invisible-page-container"),c.pageHandler=new d.default(u,c),c.doc=r,c.scale=1,c.rotate=i.rotate;var l=c.pdfViewer.customs||{};return c.pdfPageRendering=new(l.PDFPageRendering||a.default)(c.$rendering[0],c),c.pageCustomRender=new(l.PageCustomRender||s.default)(n.find(".fv__pdf-custom-page-container")[0],c),c.renderFlags=7,c.renderingDeferreds=[],c.followRenderDeferreds=[],c.watermarkConfig=null,c.excluedHighlights=[],c}return b(e,t),e.getDefaultName=function(){return"pdfPageRender"},e.prototype.getHandlerDOM=function(){return this.$handler.get(0)},e.prototype.updateRenderFlags=function(t){this.renderFlags=this.renderFlags|t},e.prototype.updateRenderFlagsByScaleAndRotate=function(t,e){t!==this.scale||e!==this.rotate?this.updateRenderFlags(7):this.updateRenderFlags(0)},e.prototype.checkRenderLayoutFlags=function(){return 4==(4&this.renderFlags)},e.prototype.resetRenderLayoutFlags=function(){this.renderFlags&=-5},e.prototype.checkRenderContainerFlags=function(){return this.checkRenderContentFlags()||this.checkRenderAnnotFlags()||this.checkRebuildAnnotFlags()},e.prototype.checkRenderContentFlags=function(){return 2==(2&this.renderFlags)},e.prototype.resetRenderContentFlags=function(){this.renderFlags&=-3},e.prototype.checkRenderAnnotFlags=function(){return 1==(1&this.renderFlags)},e.prototype.resetRenderAnnotFlags=function(){this.renderFlags&=-2,this.resetRebuildAnnotFlags()},e.prototype.checkRenderCustomFlags=function(){return 16==(16&this.renderFlags)},e.prototype.resetRenderCustomFlags=function(){this.renderFlags&=-17,this.resetRebuildCustomFlags()},e.prototype.checkRebuildAnnotFlags=function(){return 8==(8&this.renderFlags)},e.prototype.resetRebuildAnnotFlags=function(){this.renderFlags&=-9},e.prototype.checkRebuildCustomFlags=function(){return 32==(32&this.renderFlags)},e.prototype.resetRebuildCustomFlags=function(){this.renderFlags&=-33},e.prototype.setStateHandler=function(t){if(this.stateHandler){if(this.stateHandler.constructor.getStateName()===t.getStateName())return;this.stateHandler.destroyPageHandler()}(this.stateHandler=new t(this.pdfViewer)).pageHandler(this)},e.prototype.updateIndex=function(t){this.index!==t&&(this.index=t,this.$ui.attr("data-index",t),this.$container.attr("data-index",t))},e.prototype.getPDFPage=function(){var t=this;return this.page?Promise.resolve(this.page):this.doc.getPageByIndex(this.index).then((function(e){return t.page=e,e}))},e.prototype.getPDFDoc=function(){return this.doc},e.prototype.getAnnotRender=function(t){try{return this.annotsRender.getAnnotRender(t)}catch(t){return null}},e.prototype.getAnnotRenderSafely=function(t){var e=this;return this.annotsRender?Promise.resolve(this.annotsRender.getAnnotRenderSafely(t)):this.getAnnots().then((function(t){return new c.default(e.$annotsContainer,t,e)})).then((function(e){return e.getAnnotRenderSafely(t)}))},e.prototype.render=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;this.endRender();var r=this.renderSerialPromise;return r||this.rendering(e),this.updateRenderFlagsByScaleAndRotate(e,n),this.scale=e,this.rotate=n,this.annotsRender&&this.annotsRender.updateSize(e,n),Promise.resolve(this.pageCustomRender.render(e,n)).then((function(a){if(!1!==a)return(r=t.renderSerialPromise=new v.SerialPromise(0)).push((function(){var r=void 0;if(t.checkRenderLayoutFlags()){t.resetRenderLayoutFlags();var a=t.pageTileConfigPromise=t.getPageTileConfig(e,n);t.pageTileConfig=null,r=Promise.all([a,t.renderLayout(e,n)]).then((function(e){var n=o(e,1)[0];return t.pageTileConfigPromise=null,t.pageTileConfig=n,n}))}else r=t.getPageTileConfig(e,n);return r.then((function(e){var n=o(e,8),r=n[0],a=n[1],s=n[2],c=n[3],u=n[4],f=n[5],p=n[6],d=n[7],h=t.pageContentTiles;if(!h){t.pageContentTiles=h=new l.default((function(e,n,o,r,i,a){return t.getContentImageDataByTile(e,n,o,r,i,a)}),null,t),t.pdfViewer.webPDFSRPromise||(h.getRectBitmap=function(e,n,o,r){return t.getRectBitmap((0,i.pt2px)(n),e,o,r)});var m=h.$container;m.addClass("fv__pdf-page-content-container"),t.$container.append(m)}var v=t.containerVisibleRect=t.getContainerVisibleRect();h.setVisibleRect(v),t.checkRenderContentFlags()&&(h.clearCache(),t.resetRenderContentFlags());var y=t.getWatermarkConfig()||t.docRender.getWatermarkConfig();return y&&y.content&&y.type?(t.watermark=new g.default(s,c,u,f,y.watermarkSettings,y.watermarkTextProperties)).exportDataURL({content:y.content,type:y.type}).then((function(t){var e=new Image;return e.src=t,h.setUpdateCanvasMore((function(t,n,o,r,i,a){t.drawImage(e,o*a,n*a,r,i,0,0,r,i)})),h.redraw(r,a,s,c,u,f,p,d)})):h.redraw(r,a,s,c,u,f,p,d)}))})),r.push((function(){return t.docRender.checkCannotModifyExcludeAssemble_?Promise.resolve():t.checkRebuildAnnotFlags()?(t.resetRebuildAnnotFlags(),t.rebuildAnnots(e,n,t.containerVisibleRect)):t.renderAnnots(e,n,t.containerVisibleRect)})),r.push((function(){return(t.checkRebuildCustomFlags()?t.rebuildCustoms(e):t.checkRenderCustomFlags()?t.renderCustoms(e):Promise.resolve()).then((function(){t.resetRenderCustomFlags()}))})),r.push((function(){if(!t.stateHandler){var e=t.pdfViewer;(t.stateHandler=new(e.stateHandlerManager.getCurrentStates())(e)).pageHandler(t)}})),r.push((function(){t.scale=e,t.rotate=n,t.rendered(),t.renderSerialPromise=null,t.pdfViewer.eventEmitter.emit(p.default.renderPageSuccess,t)})),r.exec();t.rendered()}))},e.prototype.queueRender=function(){var t=this,e=this.renderingDeferreds.length;if(e){var n=this.renderingDeferreds[e-1],o=n.scale,r=n.rotate;this.updateRenderFlagsByScaleAndRotate(o,r),this._render(o,r).then((function(){for(var e=t.renderingDeferreds,n=0,o=e.length;n<o;n++)e[n].deferred.resolve(t);t.followRenderDeferreds.length?(t.renderingDeferreds=t.followRenderDeferreds,t.followRenderDeferreds=[],t.queueRender()):(t.renderingDeferreds=[],t.isRendering=!1)}))}},e.prototype._render=function(t,e){var n=this;return this.rendering(t),Promise.resolve(this.pageCustomRender.render(t,e)).then((function(o){if(!1!==o)return(n.checkRenderLayoutFlags()?n.renderLayout(t,e):Promise.resolve()).then((function(){return n.resetRenderLayoutFlags(),n.checkRenderContainerFlags()?n.renderContainer(t,e):Promise.resolve()})).then((function(){return n.scale=t,n.rotate=e,n.rendered(),n.pdfViewer.eventEmitter.emit(p.default.renderPageSuccess,n),n}));n.rendered()}))},e.prototype.setShowWidth=function(t){this.showWidth=t},e.prototype.getShowWidth=function(){return this.showWidth},e.prototype.setShowHeight=function(t){this.showHeight=t},e.prototype.getShowHeight=function(){return this.showHeight},e.prototype.renderLayout=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;this.scale;return this.getPDFPage().then((function(r){var a=(0,i.getWHByMatrix)(r.getPxWidth(),r.getPxHeight(),e,n),s=o(a,2),c=s[0],u=s[1];return t.showWidth=c,t.showHeight=u,Promise.all([c,u,t.pagesRender.viewMode.renderViewMode(t,e,n,c,u)])})).then((function(r){var i=o(r,2),a=i[0],s=i[1];t.$ui.css({width:a,height:s}),t.scale=e,t.pdfViewer.eventEmitter.emit(p.default.pageLayoutRedraw,t,e,n)}))},e.prototype.renderContainer=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return this.renderPage(t,e)},e.prototype.getPageTileConfig=function(t,e){var n=this;return this.getPDFPage().then((function(r){var a=n.getSmartScale(t),s=n.pdfViewer.config,c=s.tileSize;s.getTileSize&&(c=s.getTileSize(n.doc,n.page));var u=r.getPxWidth(),l=r.getPxHeight(),f=(0,i.getWHByMatrix)(u,l,a,e),p=o(f,2),d=p[0],h=p[1];return[Math.ceil(h/c),Math.ceil(d/c),d,h,c,a,t,e]}))},e.prototype.renderPage=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return(this.checkRenderContentFlags()?this.renderContentImage(e,n):Promise.resolve()).then((function(o){return t.resetRenderContentFlags(),t.docRender.checkCannotModifyExcludeAssemble_?Promise.resolve():t.checkRebuildAnnotFlags()?t.rebuildAnnots(e,n):t.checkRenderAnnotFlags()?t.renderAnnots(e,n):Promise.resolve()})).then((function(){return t.resetRenderAnnotFlags(),t.checkRebuildCustomFlags()?t.rebuildCustoms(e,n):t.checkRenderCustomFlags()?t.renderCustoms(e,n):Promise.resolve()})).then((function(){if(t.resetRenderCustomFlags(),!t.stateHandler){var e=t.pdfViewer;(t.stateHandler=new(e.stateHandlerManager.getCurrentStates())(e)).pageHandler(t)}}))},e.prototype.updateSize=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return this.getPageTileConfig(e,n).then((function(e){var n=o(e,8),r=n[0],i=n[1],a=n[2],s=n[3],c=n[4],u=n[5],l=n[6],f=n[7],p=t.pageContentTiles;p&&p.updateDom(r,i,a,s,c,u,l,f)}))},e.prototype.renderContentImage=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return this.getPageTileConfig(e,n).then((function(e){var n=o(e,8),r=n[0],i=n[1],a=n[2],s=n[3],c=n[4],u=n[5],l=n[6],f=n[7],p=t.pageContentTiles;return p?p.redraw(r,i,a,s,c,u,l,f):Promise.resolve()}))},e.prototype.adjustHighlightInContentImage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if([].concat(this.excluedHighlights).sort().join()!==[].concat(t).sort().join())return this.excluedHighlights=t,this.redrawContent(!0)},e.prototype.adjustHighlightAnnots=function(){return Promise.resolve()},e.prototype.getRotatedRowAndCols=function(t,e,n,o,r){switch(r){case 0:return[t,e];case 90:return[e,o-t];case 180:return[n-t,o-e];case 270:return[e,t]}},e.prototype.renderContentImageByTileCanvas=function(t,e,n,o,r,i,a,s){var c=this,u=this.pageContentTiles;if(!u){this.pageContentTiles=u=new l.default((function(t,e,n,o,r,i,a,s,u,l){return c.getContentImageDataByTile(t,e,n,o,r,i)}),null,!0);var f=u.$container;f.addClass("fv__pdf-page-content-container"),this.$container.append(f)}var p=this.getWatermarkConfig()||this.docRender.getWatermarkConfig();p&&p.content&&p.type&&(this.watermark=new g.default(n,o,r,i,p.watermarkSettings,p.watermarkTextProperties)).exportDataURL({content:p.content,type:p.type}).then((function(t){var e=new Image;e.src=t,u.setUpdateCanvasMore((function(t,n,o,r,i,a){t.drawImage(e,o*a,n*a,r,i,0,0,r,i)}))}));return u.redraw(t,e,n,o,r,i,a)},e.prototype.renderAnnots=function(t,e,n){var o=this,r=this.parent("pdfDocRender").getFormRender(),i=function(r){if(o.annotsRender)return o.annotsRender.render(t,e,n);return o.getAnnots().then((function(t){return o.annotsRender=o.annotsRender||new c.default(o.$annotsContainer,t,o)})).then((function(o){return o.render(t,e,n)}))};return r?r.form.addTask(i):Promise.resolve(i())},e.prototype.rebuildAnnots=function(t,e,n){var o=this;return this.getAnnots().then((function(t){return o.annotsRender&&(o.annotsRender.destroy(),o.annotsRender=null),o.annotsRender=o.annotsRender||new c.default(o.$annotsContainer,t,o)})).then((function(o){return o.render(t,e,n)}))},e.prototype.renderCustoms=function(t,e){var n=this;return this.customsRender?this.customsRender.render(t,e):this.getPDFPage().then((function(t){return n.pdfViewer.customRenderManager.getPageCustomData(t)})).then((function(t){return n.customsRender&&(n.customsRender.destroy(),n.customsRender=null),n.customsRender=n.customsRender||new m.default(n.$customsContainer,t,n)})).then((function(n){return n.render(t,e)}))},e.prototype.rebuildCustoms=function(t,e){var n=this;return this.getPDFPage().then((function(t){return n.pdfViewer.customRenderManager.getPageCustomData(t)})).then((function(t){return n.customsRender=n.customsRender||new m.default(n.$customsContainer,t,n)})).then((function(n){return n.render(t,e)}))},e.prototype.renderAnnot=function(t,e,n){return new(this.pdfViewer.annotManager.get(t.getType()))(t,this).render(e,n)},e.prototype.rendering=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=this.doc.getPageSize(this.index);if(t!=this.scale&&n){switch((e%360+360)%360){case 90:case 270:var o=n.width;n.width=n.height,n.height=o}n.width*=(0,i.pt2px)(1)*t,n.height*=(0,i.pt2px)(1)*t;var r=n;this.$ui.height()!=n.width&&(r.minHeight=40),this.$ui.get(0).style.cssText+="\n                width: "+Math.ceil(r.width)+"px;\n                height: "+Math.ceil(r.height)+"px;\n                min-height: "+r.minHeight+"px;\n            "}this.firstRendering||(this.firstRendering=!0,this.$ui.addClass("fv__rendering"),this.pdfPageRendering.rendering())},e.prototype.rendered=function(){var t=this;this.isRendered=!0,this.$ui.removeClass("fv__rendering"),this.pdfPageRendering.rendered(),this.pdfViewer.isWisWebPDFSR||this.openActionTrigged||this.getPDFPage().then((function(e){var n=e.getAction("open");n&&t.pdfViewer.actionManager.get(n,t).active(),t.openActionTrigged=!0}))},e.prototype.bindEvent=function(t){var e=this,n=t[0],o=this.pageHammer=new f.default.Manager(n,{recognizers:[[f.default.Pan,{direction:f.default.DIRECTION_ALL}]]});o.add(new f.default.Tap({event:"doubletap",taps:2})),o.add(new f.default.Tap({event:"singletap"})),o.get("doubletap").recognizeWith("singletap"),o.get("singletap").requireFailure("doubletap"),o.on("singletap",(function(t){var n=e.pdfViewer.eventEmitter,o=e.annotsRender;o?(o.unActiveAnnot(),n.emit(p.default.tapPage,t)):n.emit(p.default.tapPage,t)})),o.on("doubletap",(function(t){var n=e.pdfViewer.eventEmitter,o=e.annotsRender;o?(o.unActiveAnnot(),n.emit(p.default.doubleTapPage,t,e)):n.emit(p.default.doubleTapPage,t,e)})),o.on("press",(function(t){var n=e.pdfViewer.eventEmitter,o=e.annotsRender;o?(o.unActiveAnnot(),n.emit(p.default.pressPage,t)):n.emit(p.default.pressPage,t)})),n.oncontextmenu=function(t){t.preventDefault()},t.on("mouseup",(function(t){if(3===t.which){var n=e.pdfViewer.eventEmitter,o=e.annotsRender;o?(o.unActiveAnnot(),n.emit(p.default.rightClickPage,t)):n.emit(p.default.rightClickPage,t)}}))},e.prototype.destroy=function(){this.invisibleRender(),this.pageContentTiles&&this.pageContentTiles.destroy(),this.stateHandler&&this.stateHandler.out(),this.contentImageDataCache&&this.contentImageDataCache.destroy(),this.annotsRender&&this.annotsRender.destroy(),this.pageHammer&&this.pageHammer.destroy(),this.pageHandler.destroy(),this.$ui.empty(),this.eLayoutContainerTransitionStyle&&document.body.removeChild(this.eLayoutContainerTransitionStyle),this.pdfPageRendering.destroy(),this.pageCustomRender&&this.pageCustomRender.destroy(),this.pageCustomRender=null,this.pdfPageRendering=null,this.pageHammer=null,this.pageHandler=null,this.$ui=null,this.eLayoutContainerTransitionStyle=null,this.doc=null,this.page=null,this.contentImageDataCache=null,this.pageContentTiles=null,this.stateHandler=null},e.prototype.getSmartScale=function(t){return this.pdfViewer.getSmartScale(t)},e.prototype.getScale=function(){return this.scale},e.prototype.getRotation=function(){return this.rotate},e.prototype.getRectBitmap=function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.rotate,r=this.page,i=["page"];return this.docRender.checkCannotModifyExcludeAssemble_&&(i=["page","annot"]),r.getPageBitmap(t,o,e,i,"view",n)},e.prototype.previewRectBitmap=function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.rotate;return this.getRectBitmap(t,e,n,o).then((function(r){var i=document.createElement("canvas"),a=i.getContext("2d"),s=r.buffer,c=r.width,u=r.height,l=r.x,f=r.y,p=new(Uint8ClampedArray||Uint8Array)(s),d=a.createImageData(c,u);d.data.set(p),i.width=c+l,i.height=u+f,a.putImageData(d,0,0);var h={scale:t,rect:e,id:n,rotate:o,url:i.toDataURL()};return console.log(h),h}))},e.prototype.getContentImageDataByTile=function(t,e,n,o,r,a){return this.getRectBitmap((0,i.pt2px)(a),{x:e*r,y:t*r,width:n,height:o})},e.prototype.getAnnots=function(){return this.getPDFPage().then((function(t){return t.getAnnots()}))},e.prototype.getTextContinueRectAtDeviceRect=function(t){var e=this,n=void 0;return this.getPDFPage().then((function(o){return(n=o).reverseDeviceRect(t,e.scale,e.rotate)})).then((function(t){return n.getTextContinuousRectsAtRect(t)}))},e.prototype.getTextContinueRectAtDevicePoints=function(t,e,n,r){return Promise.all([this.getPDFPage(),this.reverseDevicePoint(t),this.reverseDevicePoint(e)]).then((function(t){var e=o(t,3),i=e[0],a=e[1],s=e[2];return i.getTextContinuousRectsAtPoints(a,s,8,n,r)}))},e.prototype.getTextContinuousCharAtDeviceRect=function(t){var e=this,n=void 0;return this.getPDFPage().then((function(o){return(n=o).reverseDeviceRect(t,e.scale,e.rotate)})).then((function(t){return n.getTextContinuousCharsAtRect(t)}))},e.prototype.reverseDeviceRect=function(t){var e=this;return this.getPDFPage().then((function(n){return n.reverseDeviceRect(t,e.scale,e.rotate)}))},e.prototype.reverseDevicePoint=function(t){var e=o(t,2),n=e[0],r=e[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rotate;return this.getPDFPage().then((function(t){return t.reverseDevicePoint([n,r],i,a)}))},e.prototype.transformRectArray=function(t,e){for(var n=[],o=this.scale,r=e.length;r--;){var i=e[r];n[r]=t.getDeviceRect(i,o,this.rotate)}return n},e.prototype.getClientPoint=function(t,e){var n=this.$ui[0].getBoundingClientRect();return[t-n.left,e-n.top]},e.prototype.redraw=function(t){return t&&(this.updateRenderFlags(7),this.annotsRender&&this.annotsRender.adjustHighlightsRender()),this.render()},e.prototype.redrawContent=function(t){var e,n=this;return(t?((e=n.pageContentTiles)&&e.clearCache(),n.contentImageDataCache?n.contentImageDataCache.clear():Promise.resolve()):Promise.resolve()).then((function(){return n.renderContentImage(n.scale,n.rotate)})).then((function(){return n.adjustHighlightAnnots()}))},e.prototype.getDevicePointFromEvent=function(t){var e=this.$ui.offset();return[t.pageX-e.left,t.pageY-e.top]},e.prototype.removeAnnotRenders=function(t){return this.annotsRender&&this.annotsRender.removeAnnotRenders(t)},e.prototype.redrawAnnotRenders=function(t){if("canvas"===this.pdfViewer.config.annotRenderingMode.highlight)return this.annotsRender.redrawAnnotRenders(t);for(var e=[],n=[],o=0,r=t.length;o<r;o++){var i=t[o];"highlight"===i.getType()?e.push(i):n.push(i)}return e.length&&this.renderContentImage(),this.annotsRender.redrawAnnotRenders(n)},e.prototype.movedAnnotRenders=function(t,e){return this.annotsRender.movedAnnotRenders(t,e)},e.prototype.addAnnotRenders=function(t){if(this.annotsRender){return[].length&&this.renderContentImage(),this.annotsRender.addAnnotRenders(t)}},e.prototype.getPageAreaRenderer=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new h.default(this,t,e,n,o)},e.prototype.getSnapshot=function(t,e,n,o){var i=this.getPageAreaRenderer(n,o,1,!0);return i.setPosition(t+n/2,e+o/2),i.update().then((function(t){var e=(0,r.default)();return t.toBlob((function(t){return e.resolve(t)}),"image/png"),e.promise}))},e.prototype.unActiveAnnotRender=function(){try{this.annotsRender.unActiveAnnot()}catch(t){}},e.prototype.activeGraphicsObject=function(t){},e.prototype.addCustomRenders=function(t){this.customsRender.addCustomRenders(t)},e.prototype.removeCustomRenders=function(t){this.customsRender.removeCustomRenders(t)},e.prototype.updateCustomRenders=function(t){this.customsRender.updateCustomRenders(t)},e.prototype.setWatermarkConfig=function(t){this.watermarkConfig=t},e.prototype.getWatermarkConfig=function(){return this.watermarkConfig},e.prototype.endRender=function(){var t=this.renderSerialPromise;t&&t.end().catch(w);var e=this.annotsRender;e&&e.endRender()},e.prototype.invisibleRender=function(){this.endRender();var t=this.pageContentTiles;t&&t.invisibleRender();var e=this.annotsRender;e&&e.invisibleRender()},e.prototype.move=function(){},e.prototype.renderingFollowPromise=function(){},e.prototype.getContainerVisibleRect=function(){var t=this.docRender,e=this.$ui[0].getBoundingClientRect(),n=t.getContainerVisibleRect();return{left:Math.max(e.left,n.left)-e.left,right:Math.min(e.right,n.right)-e.left,top:Math.max(e.top,n.top)-e.top,bottom:Math.min(e.bottom,n.bottom)-e.top}},e.prototype.getPDFRectFromClientRect=function(t){var e=this.$ui[0].getBoundingClientRect(),n=t.left-e.left,o=t.top-e.top,r={left:n,top:o,right:n+t.width,bottom:o+t.height};return this.page.reverseDeviceRect(r,this.scale,this.rotate)},e}(u.default);e.default=_},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(229)),r=a(n(3)),i=n(26);function a(t){return t&&t.__esModule?t:{default:t}}var s=[],c=function(){var t=(0,o.default)({isIE:i.isIE}),e=document.createElement("div");e.innerHTML=t;var n=e.firstElementChild;return e.removeChild(n),n}();var u=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$ui=(0,r.default)(e),this.pageRender=n,this.docRender=n.docRender,this.viewerRender=this.docRender.viewerRender,this.pdfViewer=this.viewerRender.pdfViewer}return t.prototype.rendering=function(){this.renderingDOM=(0===s.length&&s.push(c.cloneNode(!0)),s.pop()),this.$ui.append(this.renderingDOM)},t.prototype.rendered=function(){this.$ui.empty(),s.push(this.renderingDOM)},t.prototype.destroy=function(){this.renderingDOM&&(this.renderingDOM.parentElement&&this.renderingDOM.parentElement.removeChild(this.renderingDOM),s.push(this.renderingDOM)),this.$ui=null,this.pageRender=null,this.docRender=null,this.viewerRender=null,this.pdfViewer=null},t}();e.default=u},function(t,e,n){n(0);t.exports=function(t){"use strict";var e="";return e+='<div class="fv__rendering-container">\n    ',(t=t||{}).isIE?e+='\n    <ul class="fv__loading-animation">\n        <li></li>\n        <li></li>\n        <li></li>\n        <li></li>\n        <li></li>\n    </ul>\n    ':(e+='\n    <img class="fv__rendering-svg" ',e+='src="'+n(226)+'"',e+=">\n    "),e+="\n</div>"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.eCustom=e,this.pdfPageRender=n}return t.prototype.render=function(t,e){},t.prototype.destroy=function(){this.pdfPageRender=null,this.eCustom=null},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(229)),r=a(n(3)),i=n(26);function a(t){return t&&t.__esModule?t:{default:t}}var s=(0,o.default)({isIE:i.isIE}),c=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$ui=(0,r.default)(e),this.docRender=n,this.viewerRender=n.viewerRender,this.pdfViewer=this.viewerRender.pdfViewer}return t.prototype.rendering=function(){this.$ui.html(s)},t.prototype.rendered=function(){this.$ui.empty()},t.prototype.destroy=function(){this.$ui=null,this.docRender=null,this.viewerRender=null,this.pdfViewer=null},t}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.eCustom=e,this.pdfDocRender=n,this.doc=n.doc}return t.prototype.render=function(t){},t.prototype.destroy=function(){this.pdfDocRender=null,this.doc=null},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(24),i=(o=r)&&o.__esModule?o:{default:o};function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4294967292;a(this,t),this.permissions=e}return t.prototype.getValue=function(){return this.permissions},t.prototype.checkPrint=function(){return this.permissions&i.default.print},t.prototype.checkModify=function(){return this.permissions&i.default.modify},t.prototype.checkExtract=function(){return this.permissions&i.default.extract},t.prototype.checkAnnotForm=function(){return this.permissions&i.default.annotForm},t.prototype.checkFillForm=function(){return this.permissions&i.default.fillForm},t.prototype.checkExtractAccess=function(){return this.permissions&i.default.extractAccess},t.prototype.checkAssemble=function(){return this.permissions&i.default.assemble},t.prototype.checkPrintHigh=function(){return this.permissions&i.default.printHigh},t.prototype.checkCannotModifyAny=function(){return 0==(1323&this.permissions)},t.prototype.putCannotModifyAny=function(){return this.and(-1324)},t.prototype.checkCannotModifyExcludeAssemble=function(){return 0==(299&this.permissions)},t.prototype.putCannotModifyExcludeAssemble=function(){return this.and(-300)},t.prototype.and=function(t){return this.permissions=this.permissions&t,this},t.prototype.or=function(t){return this.permissions=this.permissions|t,this},t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLocalUserChoiceColor=void 0;var o=i(n(3)),r=i(n(2));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=[{background:"#ffffff",foreground:"#000000"},{background:"#faf9de",foreground:"#1f1f00"},{background:"#fff2e2",foreground:"#381f00"},{background:"#dce2f1",foreground:"#232a3c"},{background:"#3b3537",foreground:"#b0afac"},{background:"#333333",foreground:"#838383",type:"moon"}],c=function(t){for(var e in delete(t=JSON.parse(JSON.stringify(t))).type,t)t.hasOwnProperty(e)&&(t[e]=Number(t[e].replace("#","0xff")));return t},u=(e.getLocalUserChoiceColor=function(){var t={background:null,foreground:null},e=localStorage.getItem("change-color-user-choice");return e&&s[Number(e)]&&(t=c(s[Number(e)])),t},function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.data.colors=s,o}return a(e,t),e.getName=function(){return"ChangeColorController"},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this),this.$list=(0,o.default)(this.component.getComponentByName("change-color-dropdown-list").element),this.$colorRounds=this.$list.find(".fv__ui-change-color-dropdown-color-round"),this.$colorRounds.on("click",(function(t){var n=(0,o.default)(t.target),r=n.hasClass("active");e.$colorRounds.removeClass("active"),!r&&n.addClass("active"),e.component.getPDFUI().getPDFViewer().then((function(t){var e=t.getCurrentPDFDoc(),o={background:null,foreground:null};r||(o=c(s[n.index()])),e.setColors(o).then((function(){for(var e=t.getPDFDocRender().getPDFDoc().getPageCount(),n=0;n<e;n++){var o=t.getPDFPageRender(n);o&&o.isRendered&&o.redraw(!0)}}))})),r?localStorage.removeItem("change-color-user-choice"):localStorage.setItem("change-color-user-choice",n.index())})).on("mouseup",(function(t){return t.stopPropagation()}));var n=localStorage.getItem("change-color-user-choice");n&&this.$colorRounds.eq(Number(n)).addClass("active")},e}(r.default));e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(405);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o));return r.preValue=n[o],r}return i(e,t),e.prototype.prepare=function(){var t=this.subject,e=this.part,n=Object.getOwnPropertyDescriptor(t,e);!n||n.configurable?this.inteceptGetterSetter(t,n):this.prepareTimmerWatcher(t)},e.prototype.inteceptGetterSetter=function(t,e){var n=this.part,o=t[n],r=this,i=this.hasOwnKey=!!e,a={get:function(){return i?o:Object.getPrototypeOf(t)[n]},set:function(t){i=!0;var e=o;o=t,t!==e&&r.notify(t,e)},configurable:!0};Object.defineProperty(t,n,a),e?this.addDestroyHook((function(){Object.defineProperty(t,n,e)})):this.addDestroyHook((function(){delete t[n]}))},e.prototype.prepareTimmerWatcher=function(t){var e=this,n=t[key],o=setInterval((function(){var o=t[key];o!==n&&e.notify(key,o,n)}),5);this.addDestroyHook((function(t){return clearInterval(o)}))},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(72),i=n(135);function a(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.prototype.print=function(t,e){var n,o,i,s,c,u=t.map((function(t){return"string"!==t.type?" %o":" %c"+t.value})).join("").trim(),l=t.map((function(t){switch(t.type){case"string":return t.style;default:return t.value}}));switch(l.splice(0,0,u),e){case r.LEVEL_DEBUG:(n=console).debug.apply(n,a(l));break;case r.LEVEL_INFO:(o=console).info.apply(o,a(l));break;case r.LEVEL_WARN:(i=console).warn.apply(i,a(l));break;case r.LEVEL_ERROR:(s=console).error.apply(s,a(l));break;default:(c=console).log.apply(c,a(l))}},e}(((o=i)&&o.__esModule?o:{default:o}).default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(22),i=(o=r)&&o.__esModule?o:{default:o};var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pdfViewer=e}return t.prototype.getPassword=function(){var t=this,e=(0,i.default)();return setTimeout((function(){var n=prompt(t.pdfViewer.i18n.t("viewer_:tip.inputPassword"),"");if(null===n)return e.reject(new Error("User has been cancelled the prompt dialog"));e.resolve(n)}),0),e.promise},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(73)),r=a(n(3)),i=(a(n(1)),a(n(25)));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n))}return s(e,t),e.getName=function(){return"continuous-view-mode"},e.prototype.getItems=function(){return this.docRender.pagesRender.pageRenders.map((function(t){return t.$ui[0].parentElement}))},e.prototype.into=function(){this.docRender.$container.addClass(e.getName())},e.prototype.getDocLayoutWidth=function(){var t=this.docRender.doc.pageCache,e=0;return t.forEach((function(t){e=Math.max(t.getPxWidth(),e)})),e},e.prototype.getFitHeight=function(t){var e=this.docRender.viewerRender.scrollWrap;return e.getHeight()-e.getScrollOffsetTop()},e.prototype.getFitWidth=function(t){var e=this.docRender.viewerRender.scrollWrap;return e.getWidth()-e.getScrollOffsetLeft()},e.prototype.jumpToPage=function(t,e){var n=e.x,o=void 0===n?0:n,i=e.y,a=void 0===i?0:i,s=this.getItems();t>=s.length?t=s.length-1:t<0&&(t=0);var c=s[t],u=c.offsetLeft+o,l=c.offsetTop+a+parseInt((0,r.default)(c).css("margin-top"));this.docRender.viewerRender.scrollWrap.scrollTo(u,l)},e.prototype.getVisibleIndexes=function(){var t=this.docRender.viewerRender.scrollWrap,e=t.getScrollTop()-t.getScrollOffsetTop()-20,n=t.getHeight(),o=e+n+20,r=[];return this.getItems().forEach((function(t,n){var i=t.offsetTop,a=t.offsetHeight+i;e<a&&o>i&&r.push(n)})),r},e.prototype.out=function(){this.docRender.$container.removeClass(e.getName()),this._unwatchScrollEvent&&this._unwatchScrollEvent(),t.prototype.out.call(this)},e.prototype.getCurrentPageIndex=function(){var t=this.getItems(),e=this.docRender.viewerRender.scrollWrap.getScrollHost(),n=void 0;n=e===window?{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}:e.getBoundingClientRect();for(var o=0,r=0,a=0,s=0;s<t.length;s++){var c=t[s].firstElementChild.getBoundingClientRect(),u=i.default.isOverlap(n,c);if(u&&0==a&&(a=1),u>o&&(o=u,r=s),!u&&1==a){a=2;break}}return r},e.prototype.getNextPageIndex=function(){var t=this.docRender.doc.getPageCount(),e=this.getCurrentPageIndex();return e<t-1&&e++,e},e.prototype.getPrevPageIndex=function(){var t=this.getCurrentPageIndex();return t>0&&t--,t},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.getOwnPropertyDescriptors||(Object.getOwnPropertyDescriptors=function(t){return Object.getOwnPropertyNames(t).reduce((function(e,n){return e[n]=Object.getOwnPropertyDescriptor(t,n),e}),{})});var s=["isProxy","constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf","__defineGetter__","__defineSetter__","__lookupGetter__","__lookupSetter__"],c=s.concat(["length","name","prototype"]),u=e.ORIGIN_PROPERTY_NAME="origin",l="$proxy_class_symbol_"+Date.now().toString(32),f=function(){function t(){a(this,t)}return t.getNoopConstructor=function(t){function e(){}return e.prototype=Object.create(t.prototype),e},t.getProxyClass=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(t){return!0},c=void 0;if(o){var f=this.getNoopConstructor(t);c=function(t){function e(n){a(this,e);var o=r(this,t.call(this));return o[u]=n,o}return i(e,t),e}(f),ProxtClass[l]=!0}else{var p="function"==typeof n?n:this.getNoopConstructor(t);c=function(t){function e(){return a(this,e),r(this,t.apply(this,arguments))}return i(e,t),e}(p);var d=this.getStaticDescriptors(t);Object.defineProperties(c,d),c[l]=!0}var h=this.getClassDescriptors(t.prototype);if("function"==typeof e)for(var g in h){var m=h[g];m&&s(g,m)&&("function"==typeof m.value&&function(){var t=m.value;m.value=o?function(){for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return e.call(this,this[u],t,o)}:function(){for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return e.call(this,this,t,o)}}())}return Object.defineProperties(c.prototype,h),c},t.isProxyClass=function(t){return"function"==typeof t&&t.hasOwnProperty(l)},t.getProxyObject=function(t,e,n){if(null==t)throw new Error("Cannot proxy a null or undefined object");var o=t.constructor;return new(this.getProxyClass(o,e,o,!0,n))(t)},t.getStaticDescriptors=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c,n=o(t);return e.forEach((function(t){try{delete n[t]}catch(e){n[t]=void 0}})),n;function o(t){if(t===Object||t===Function||!t)return{};var e=o(Object.getPrototypeOf(t));return Object.assign(e,Object.getOwnPropertyDescriptors(t))}},t.getClassDescriptors=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,n=r(t);return e.forEach((function(t){try{delete n[t]}catch(e){n[t]=void 0}})),n;function r(t){if("object"!==(void 0===t?"undefined":o(t))||null===t)return{};var e=Object.getPrototypeOf(t),n=e===t?{}:r(e);return Object.assign(n,Object.getOwnPropertyDescriptors(t))}},t}();e.default=f},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";t=t||{};var e="",r=o.$escape,i=function(t){return e+=t};return t.length&&(e+='\n<label class="fv__label-block-text">',e+=r(o.i18n("viewer_:dialog.replies")),e+="</label>\n",i(n(241)(t)),e+="\n"),e}},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";t=t||{};var e="",r=o.$each,i=(t.$value,t.$index,function(t){return e+=t});return t.length&&(e+='\n<ul class="fv__replies_list">\n    ',r(t,(function(t,o){e+="\n    ",i(n(242)(t)),e+="\n    "})),e+="\n</ul>\n"),e}},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";t=t||{};var e="",r=o.$escape,i=function(t){return e+=t};return e+='<li class="fv__replies_item"><span class="fv__replies_content">',e+=r(t.content),e+="</span>\n    ",i(n(241)(t.replies)),e+="\n</li>"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.identity=function(t){return function(){return t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(80)),r=a(n(423)),i=a(n(217));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i));return a.name="highlight",a.$ui.addClass("fv__pdf-page-highlight-annot-container"),a.$handler.addClass("fv__pdf-page-highlight-annot-handler-container"),a}return s(e,t),e.prototype.generateApRenderer=function(){return this.checkRenderingModeIs("canvas")?new i.default(this):new r.default(this)},e.prototype.onShapeUpdating=function(e){if(this.checkRenderingModeIs("canvas"))return t.prototype.onShapeUpdating.call(this,e)},e.prototype.onShapeMoving=function(e){if(this.checkRenderingModeIs("canvas"))return t.prototype.onShapeMoving.call(this,e)},e.prototype.updateRender=function(){return this.redraw()},e.prototype.checkRenderingModeIs=function(t){return this.pdfViewer.config.annotRenderingMode.highlight===t},e.prototype.getRenderingData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,o=t.prototype.getRenderingData.call(this,e,n);return Object.assign(o,{isArea:this.annot.isArea()})},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={success:0,file:1,format:2,password:3,handle:4,certificate:5,unknown:6,invalidLicense:7,param:8,unsupported:9,outOfMemory:10,securityHandler:11,notParsed:12,notFound:13,invalidType:14,conflict:15,unknownState:16,dataNotReady:17,invalidData:18,xFALoadError:19,notLoaded:20,invalidState:21,notCDRM:22,canNotConnectToServer:23,invalidUserToken:24,noRights:25,rightsExpired:26,deviceLimitation:27,canNotRemoveSecurityFromServer:28,canNotGetACL:29,canNotSetACL:30,isAlreadyCPDF:31,isAlreadyCDRM:32,canNotUploadDocInfo:33,canNotUploadCDRMInfo:34,invalidWrapper:35,canNotGetClientID:36,canNotGetUserToken:37,invalidACL:38,invalidClientID:39,OCREngineNotInit:40,diskFull:41,OCRTrialIsEnd:42,filePathNotExist:43,complianceEngineNotInit:44,complianceEngineInvalidUnlockCode:45,complianceEngineInitFailed:46,timeStampServerMgrNotInit:47,LTVVerifyModeNotSet:48,LTVRevocationCallbackNotSet:49,LTVCannotSwitchVersion:50,LTVCannotCheckDTS:51,LTVCannotLoadDSS:52,LTVCannotLoadDTS:53,needSigned:54,complianceResourceFile:55,timeStampServerMgrNoDefaltServer:56,defaultTimeStampServer:57,noConnectedPDFModuleRight:58,noXFAModuleRight:59,noRedactionModuleRight:60,noRMSModuleRight:61,noOCRModuleRight:62,noComparisonModuleRight:63,noComplianceModuleRight:64,noOptimizerModuleRight:65,noConversionModuleRight:66}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(80)),r=i(n(425));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i));return a.name="Underline",a.$ui.addClass("fv__pdf-page-Underline-annot-container"),a.$handler.addClass("fv__pdf-page-Underline-annot-handler-container"),a}return a(e,t),e.prototype.generateApRenderer=function(){return this.checkRenderingModeIs("canvas")?new r.default(this):t.prototype.generateApRenderer.call(this)},e.prototype.checkRenderingModeIs=function(t){return this.pdfViewer.config.annotRenderingMode.underline===t},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(80)),r=i(n(426));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i));return a.name="strikeout",a.$ui.addClass("fv__pdf-page-squiggly-annot-container"),a.$handler.addClass("fv__pdf-page-squiggly-annot-handler-container"),a}return a(e,t),e.prototype.generateApRenderer=function(){return this.checkRenderingModeIs("canvas")?new r.default(this):t.prototype.generateApRenderer.call(this)},e.prototype.checkRenderingModeIs=function(t){return this.pdfViewer.config.annotRenderingMode.squiggly===t},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DashedPathGenerator=e.DashedPathSegment=e.DashedPath=void 0;var o,r=n(146),i=n(45);(o=i)&&o.__esModule;function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=e.DashedPath=function(t){function e(){return a(this,e),s(this,t.apply(this,arguments))}return c(e,t),e.prototype.render=function(t){try{t.save(),t.beginPath(),this.segments.filter((function(t){return t.isOn})).forEach((function(e){e.render(t)})),t.closePath()}finally{t.restore()}},e}(r.Path),l=e.DashedPathSegment=function(t){function e(n,o){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];a(this,e);var i=s(this,t.call(this,n,o));return i.isOn=r,i}return c(e,t),e.prototype.render=function(t){this.isOn&&(t.moveTo(this.from.x,this.from.y),t.lineTo(this.to.x,this.to.y))},e}(r.PathSegment);e.DashedPathGenerator=function(t){function e(n,o){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];a(this,e);var c=s(this,t.call(this));return c.contour=n,c.dashes=o,c.phase=r,c.continuous=i,c.dashSum=o.reduce((function(t,e){return t+e}),0),c}return c(e,t),e.prototype.generate=function(){var t=this,e=new u;if(0==this.dashes.length)this.contour.reduce((function(t,n){e.addSegment(new l(t,n))}));else{var n=this.phase<this.dashSum?this.phase:this.phase%this.dashSum,o=0,r=0,i=!0;n>0&&this.dashes.reduce((function(t,e,a){var s=t+e;return s>n&&(r=s-n,o=a,i=a%2==0),s}),0);var a=function(){return(o+1)%t.dashes.length};this.contour.reduce((function(s,c){var u=s.distanceTo(c),f=s;for(r>0&&(e.addSegment(new l(f,f=f.move(r,c),i)),i=!i,u-=r,o=a());;){var p=t.dashes[o];if(!(u>=p)){e.addSegment(new l(f,c,i)),t.continuous?(r=p-u,u=0):(r=n,o=0,i=!0);break}e.addSegment(new l(f,f=f.move(p,c),i)),u-=p,o=a(),i=!i}return c}))}return e},e}(r.PathGenerator)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=b(n(62)),i=(b(n(61)),n(21)),a=b(n(3)),s=b(n(0)),c=b(n(33)),u=n(429),l=b(n(92)),f=b(n(1)),p=n(4),d=b(n(40)),h=b(n(148)),g=n(13),m=b(n(27)),v=b(n(432)),y=n(9);function b(t){return t&&t.__esModule?t:{default:t}}function w(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var _=u.defaultAnnotComponentKey,P=(0,u.getLinkContextMenu)(".fv__pdf-page-annot-handler-rect"),O=void 0,E=function(t){function e(n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i));m.default.property(a,"shapeControl",(function(){var t=new c.default({start:function(t,e,n){return a.onStartUpdateShape(t,e,n)},update:function(t,e){return a.onShapeUpdating(t,e)},moving:function(t,e){return a.onShapeMoving(t,e)},end:function(t,e,n){return a.onShapeUpdateEnd(t,e,n)},resizable:!0,enableDiagonally:!0});return a.moveDisabled()&&t.disable(),t})),a.apRenderer=a.generateApRenderer(),a.name="link",a.highlightModeIsActive=!1,a.$ui.addClass("pdf-page-link-annot-container"),a.$handler.addClass("pdf-page-link-annot-handler-container");var u=a.pdfViewer.i18n;s.default.i18n=function(t){return u.t(t)},n.action&&(a.actionViewer=a.pdfViewer.actionManager.get(n.action,a));var l=y.isTouchDevice?"touchstart":"mousedown";return a.$ui.on(l,(function(t){a.highlightModeIsActive=!0,a.render();var e=y.isTouchDevice?"touchend":"mouseup";window.addEventListener(e,(function(){a.highlightModeIsActive=!1,a.render()}),{capture:!0,once:!0})})),a}return w(e,t),e.getDefaultContextMenuConfig=function(){return P},e.setContextMenuConfig=function(t){O=t},e.prototype.actionsDisabled=function(){return!(32&this.docRender.getUserPermission().getValue())},e.prototype.addAction=function(t){this.actionViewer=this.pdfViewer.actionManager.get(t,this)},e.prototype.removeAction=function(){this.actionViewer=null},e.prototype.onStartUpdateShape=function(t,e,n){},e.prototype.onShapeUpdating=function(t){t.width<1||t.height<1||this.setRect(t)},e.prototype.onShapeMoving=function(t,e){this.$ui.css({left:t.left,top:t.top})},e.prototype.onShapeUpdateEnd=function(t,e,n){switch(n){case c.default.ACTION_MOVE:return this.moveTo(t.left,t.top);case c.default.ACTION_RESIZE:return t.width<1||t.height<1?Promise.resolve():this.setRect(t)}},e.prototype.getTileConfig=function(t,e){var n=this.pdfViewer,o=n.getSmartScale(t),r=n.config.tileSize,i=this.annot,a=i.getDeviceRect(1,e),s=i.getDeviceRect(o,e),c=s.right-s.left,u=s.bottom-s.top;return[Math.ceil(u/r),Math.ceil(c/r),c,u,r,o,t,e,a.left,a.top]},e.prototype.generateApRenderer=function(){return new v.default(this)},e.prototype.render=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=this.annot;return this.scale=t,this.rotate=e,n.isEmpty()||n.isDeleted()||n.rectIsEmpty()?(this.renderDestroy(),Promise.resolve()):this.apRenderer.render(t,e,this.visibleRect)},e.prototype.active=function(){t.prototype.active.call(this),this.$handler.addClass("active"),this.activeRect();var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e)},e.prototype.movedByOther=function(){this.isActive&&(this.activeRect(),this.shapeControl.updateBoundary(this.getBoundary()))},e.prototype.doAction=function(){this.actionViewer&&this.actionViewer.active()},e.prototype.afterRender=function(t){if(t.transformed&&this.isActive){this.activeRect();var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e)}},e.prototype._getShapeControllerBoundaryBox=function(){var t=this.getPDFPage(),e=(0,i.getWHByMatrix)(t.getPxWidth(),t.getPxHeight(),this.scale,this.rotate),n=o(e,2);return{left:0,top:0,right:n[0],bottom:n[1]}},e.prototype.activeMore=function(t,e){},e.prototype.activeMoreItem=function(){},e.prototype.unActive=function(){t.prototype.unActive.call(this),this.$handler.removeClass("active"),this.shapeControl.deactive()},e.prototype.unActiveMore=function(){},e.prototype.renderDestroy=function(){this.tileCanvas&&this.tileCanvas.destroy(),this.$handler.remove()},e.prototype.updateBorderProperty=function(){},e.prototype.getPropertyOptions=function(){var t=this.annot;return{color:(0,p.colorConvertor)(t.getBorderColor(),"#"),borderWidth:t.getBorderWidth(),highlightingMode:t.getHighlightingMode(),actionType:this.$action&&this.$action.getType(),disabled:this.propertyDisabled(),minBorderWidth:0}},e.prototype.showPropertiesDialog=function(){this.$propertiesControl=new l.default(this,document.body),this.updateDeleteStatus(!0)},e.prototype.hidePropertiesDialog=function(){this.$propertiesControl.close(),this.updateDeleteStatus(!1)},e.prototype.showActionsDialog=function(){this.$actionsControl=new h.default(this,document.body,this.annot.action),this.updateDeleteStatus(!0)},e.prototype.hideActionsDialog=function(){this.$actionsControl.close(),this.updateDeleteStatus(!1)},e.prototype.setColor=function(t){var e=this;return this.annot.setBorderColor(t).then((function(t){return t?e.updateRender().then((function(){return e.pdfViewer.eventEmitter.emit(f.default.updateActionAnnotation,e),t})):t}))},e.prototype.setBorderWidth=function(t){var e=this;return this.annot.setBorderWidth(t).then((function(t){return t?e.updateRender().then((function(){return e.pdfViewer.eventEmitter.emit(f.default.updateActionAnnotation,e),t})):t}))},e.prototype.setBorderStyle=function(t,e){var n=this;return this.annot.setBorderStyle(t,e).then((function(){return n.updateRender().then((function(){n.pdfViewer.eventEmitter.emit(f.default.updateActionAnnotation,n)}))}))},e.prototype.setHighlightingMode=function(t){var e=this;return this.annot.setHighlightingMode(t).then((function(t){return t?e.updateRender().then((function(){return e.pdfViewer.eventEmitter.emit(f.default.updateActionAnnotation,e),t})):t}))},e.prototype.redraw=function(){return this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),this.render()},e.prototype.updateRender=function(){return Promise.resolve()},e.prototype.destroy=function(){this.$propertiesControl=null,this.contextMenu&&this.contextMenu.destroy(),t.prototype.destroy.call(this)},e.prototype.showContextMenu=function(t,e){this.contextMenu&&(this.contextMenu.setCurrentTarget(this),this.contextMenu.showAt(t,e))},e.prototype.removeAnnot=function(){var t=this;if(this.deleteDisabled())return!1;var e=this.pdfViewer,n=e.eventEmitter,o=this.annot;return Promise.resolve((e.customs.removeAnnotBefore||d.default)(this)).then((function(e){if(n.emit(f.default.removeActionAnnotationBefore,t),!1!==e)return o.getPDFPage().removeAnnot(o).then((function(e){if(e)return n.emit(f.default.removeActionAnnotationSuccess,t);n.emit(f.default.removeActionAnnotationFailed,t)}),(function(){n.emit(f.default.removeActionAnnotationFailed,t)}))}))},e.prototype.removeAnnotRender=function(){this.renderDestroy(),this.parent().remove()},e.prototype.activeRect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot,e=this.$rect=this.$rect||this.rectInit(),n=this.scale,o=this.rotate,r=t.getDeviceRect(n,o);e.css({left:r.left+"px",top:r.top+"px",width:r.right-r.left+"px",height:r.bottom-r.top+"px"})},e.prototype.rectInit=function(){var t=this.$handler,e=(0,a.default)(this.createRectDom());t.append(e);var n=e[0],o=this.rectHammer=new Hammer.Manager(n,{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]});return o.add(new Hammer.Tap({event:"doubletap",taps:2})),o.add(new Hammer.Tap({event:"singletap"})),o.get("doubletap").recognizeWith("singletap"),o.get("singletap").requireFailure("doubletap"),t.on("contextmenu",(function(t){t.preventDefault()})),t.on("mouseup",(function(t){t.stopPropagation()})),this.contextMenu=this.pdfViewer.viewerUI.createContextMenu(this,t.get(0),this.getContextMenuConfig()),e.data(_,this),e},e.prototype.createRectDom=function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui},e.prototype.getContextMenuConfig=function(){if(O)return O;var t=this.constructor.getDefaultContextMenuConfig();for(var e in this.updateContextMenuConfig(t),t)switch(e){case"items":var n=t[e],o=this.pdfViewer.i18n;for(var r in n){var i=n[r];i.nameI18nKey&&(i.name=o.t(i.nameI18nKey))}}return t},e.prototype.doubleTapAnnot=function(){},e.prototype.updateContextMenuConfig=function(t){},e.prototype.tapAnnot=function(e){return this.pdfViewer.getStateHandlerManager().getCurrentStates().getStateName()===g.STATE_HANDLER_HAND?this.doAction():t.prototype.tapAnnot.call(this,e)},e.prototype.invisibleRender=function(){this.apRenderer.invisibleRender()},e.prototype.getRenderingData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,o=t.prototype.getRenderingData.call(this,e,n);return Object.assign(o,{highlightingMode:this.annot.getHighlightingMode(),highlightModeIsActive:this.highlightModeIsActive})},e}(r.default);e.default=E},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=m(n(41)),i=m(n(33)),a=m(n(433)),s=n(435),c=m(n(1)),u=n(6),l=m(n(25)),f=n(21),p=n(17),d=n(4),h=m(n(27)),g=m(n(221));function m(t){return t&&t.__esModule?t:{default:t}}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var y=(0,s.getCircleContextMenu)(),b=function(t){function e(n,o,r,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,a));return h.default.property(s,"shapeControl",(function(){var t=new i.default({start:function(){return s.onStartUpdateShape()},update:function(t,e){return s.onShapeUpdating(t,e)},moving:function(t,e){return s.onShapeMoving(t,e)},end:function(t,e,n){return s.onShapeUpdateEnd(t,e,n)}});return(s.groupMoveDisabled()||s.moveDisabled())&&t.disable(),t})),s.$ui.addClass("circle-ui"),s}return v(e,t),e.getDefaultContextMenuConfig=function(){return y},e.prototype.generateApRenderer=function(){return new g.default(this)},e.prototype.movedByOther=function(){this.isActive&&this._applyShapeChange()},e.prototype._applyShapeChange=function(){var t=this._getShapeControllerBoundaryBox(),e=this.getInnerBoundary();this.shapeControl.active(this.$handler,e,t),this._updateShapeControlMargin()},e.prototype.active=function(){t.prototype.active.call(this),this.activeRect(this.annot),this._applyShapeChange();var e=this.shapeControl.getPreviewerContext();this._previewUpdatedShape(this.shapeControl.getCurrentShape(),e)},e.prototype.activeRect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot,e=this.$rect=this.$rect||this.rectInit(),n=this.scale,o=this.rotate,r=t.getDeviceInnerRect(n,o),i="px";e.css({left:r.left+i,top:r.top+i,width:r.right-r.left+i,height:r.bottom-r.top+i})},e.prototype._updateShapeControllerBoundaryBox=function(){this.shapeControl.updateBoundaryBox(this._getShapeControllerBoundaryBox()),this._updateShapeControlMargin()},e.prototype._getShapeControllerBoundaryBox=function(){var t=this.getPDFPage(),e=(0,f.getWHByMatrix)(t.getPxWidth(),t.getPxHeight(),this.scale,this.rotate),n=o(e,2),r=n[0],i=n[1],a=this.getInnerRect(),s=this.getRect(),c=l.default.subtract(a,s);return l.default.on({left:0,top:0,right:r,bottom:i}).add(c).extract()},e.prototype.createRectDom=function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui},e.prototype.unActive=function(){t.prototype.unActive.call(this),this.shapeControl.deactive()},e.prototype.onStartUpdateShape=function(t,e){this.editDebouncePromise||(this.editDebouncePromise=new p.DebounceAsyncTaskExecutor(0))},e.prototype.onShapeUpdating=function(t,e){var n=this;this.pdfViewer.config.highPerformance&&(this._previewUpdatedShape(t,e),this.editDebouncePromise.exec((function(){return n.setRect(n._transformShapeOfInnerRectToOuterRect(t)).then((function(t){n._updateShapeControllerBoundaryBox()}))})))},e.prototype.onShapeMoving=function(t,e){var n=this;this.pdfViewer.config.highPerformance&&this.editDebouncePromise.exec((function(){var e=n.getRect(),o=n.getInnerRect(),r=e.left-o.left,i=e.top-o.top;return n.moveTo(t.left+r,t.top+i).then((function(t){n._updateShapeControllerBoundaryBox()}))}))},e.prototype.onShapeUpdateEnd=function(t,e,n){var o=this;this._previewUpdatedShape(t,e);var r=this.getRect(),i=this.getInnerRect(),a=r.left-i.left,s=r.top-i.top;return this.editDebouncePromise.waitForLastTask().then((function(){return o.moveTo(t.left+a,t.top+s).then((function(e){return o.setRect(o._transformShapeOfInnerRectToOuterRect(t))})).then((function(t){o._updateShapeControllerBoundaryBox()}))}))},e.prototype._transformShapeOfInnerRectToOuterRect=function(t){var e={left:t.left,top:t.top,right:t.left+t.width,bottom:t.top+t.height},n=l.default.subtract(this.getRect(),this.getInnerRect()),o=l.default.on(e).add(n).extract();return{left:o.left,top:o.top,width:o.right-o.left,height:o.bottom-o.top}},e.prototype._previewUpdatedShape=function(t,e){e.clearRect(0,0,t.width,t.height);var n=t.width/2,o=t.height/2,r=n,i=o;e.strokeStyle="#759DB8",e.lineWidth=1,(0,a.default)(e,n,o,r,i),e.stroke()},e.prototype.getPropertyOptions=function(){var t=this.annot;return{color:(0,d.colorConvertor)(t.getBorderColor(),"#"),opacity:t.getOpacity(),borderWidth:t.getBorderWidth(),cloudy:!0,fillColor:t.getFillColor(),disabled:this.propertyDisabled()}},e.prototype.render=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return t.prototype.render.call(this,e,n)},e.prototype.setBorderWidth=function(t){var e=this;return this.annot.setBorderWidth(t).then((function(t){return e._handlerRerender(t)}))},e.prototype.setBorderStyle=function(t,e){var n=this;return this.annot.setBorderStyle(t,e).then((function(t){return n._handlerRerender(t)}))},e.prototype.setCloudIntencity=function(t){return this.setBorderStyle(u.BORDER_STYLE.CLOUDY,t)},e.prototype.setFillColor=function(t){var e=this;return this.annot.setFillColor(t).then((function(t){return e._handlerRerender(t)}))},e.prototype.getInnerRect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=this.getPDFPage(),o=this.annot.getInnerRect(),r=n.getDeviceRect(o,t,e);return{left:r.left,top:r.top,right:r.right,bottom:r.bottom}},e.prototype.getInnerBoundary=function(){var t=this.getPDFPage(),e=this.annot.getInnerRect(),n=t.getDeviceRect(e,this.scale,this.rotate);return{left:n.left,top:n.top,width:n.right-n.left,height:n.bottom-n.top}},e.prototype._handlerRerender=function(t){var e=this;return t?this.updateRender().then((function(){return e.pdfViewer.eventEmitter.emit(c.default.updateActionAnnotation,e),t})):t},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shapeControl.destroy()},e.prototype._updateShapeControlMargin=function(){var t=this.getGroupRect(),e=this.getRect();this.shapeControl.setMargin(l.default.expandOffset(e,t))},e.prototype.redraw=function(e){return this.groupMoveDisabled()||this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),t.prototype.redraw.call(this,e)},e}(r.default);e.default=b},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=p(n(41)),i=p(n(33)),a=n(21),s=p(n(25)),c=n(28),u=p(n(27)),l=n(17),f=p(n(149));function p(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var h=function(t){function e(n,o,r,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,a));return s.name="note",s.$ui.addClass("fv__pdf-page-note-annot-container"),s.$handler.addClass("fv__pdf-page-note-annot-handler-container"),u.default.property(s,"shapeControl",(function(){var t=new i.default({start:function(){return s.onStartUpdateShape()},moving:function(t,e,n){return s.onShapeMoving(t,e,n)},end:function(t,e){return s.onShapeUpdateEnd(t,e)},resizable:!1});return t.ui.classList.add("fv__pdf-page-annot-handler-rect"),(s.groupMoveDisabled()||s.moveDisabled())&&t.disable(),t})),s}return d(e,t),e.prototype.active=function(){t.prototype.active.call(this),this.activeRect();var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e),this.setMargin()},e.prototype.activeRect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot,e=this.$rect=this.$rect||this.rectInit(),n=this.scale,o=this.rotate,r=t.getDeviceRect(n,o),i=void 0,a=void 0;if(8&this.annot.getFlags()){var s=this.annot.getRect();i=s.right-s.left,a=s.top-s.bottom}else{var c=this.annot.getDeviceRect(1,o);i=c.right-c.left,a=c.bottom-c.top}e.css({left:r.left,top:r.top,width:i,height:a})},e.prototype.movedByOther=function(){this.isActive&&(this.activeRect(),this.shapeControl.updateBoundary(this.getBoundary()),this.setMargin())},e.prototype._getShapeControllerBoundaryBox=function(){var t=this.getPDFPage(),e=(0,a.getWHByMatrix)(t.getPxWidth(),t.getPxHeight(),this.scale,this.rotate),n=o(e,2);return{left:0,top:0,right:n[0],bottom:n[1]}},e.prototype.unActive=function(){t.prototype.unActive.call(this),this.shapeControl.deactive()},e.prototype.setIconName=function(t){return this.annot.setIconName(t).then((function(t){return t}))},e.prototype.createRectDom=function(){return this.shapeControl.ui},e.prototype.onStartUpdateShape=function(){this.editDebouncePromiseQueue||(this.editDebouncePromiseQueue=new l.DebounceAsyncTaskExecutor(0))},e.prototype.onShapeMoving=function(t,e,n){var o=this;if(this.pdfViewer.config.highPerformance)this.editDebouncePromiseQueue.exec((function(){return o.moveTo(t.left,t.top).then((function(t){o.setMargin(),o._updateShapeControllerBoundaryBox()}))}));else{var r=this._moveOffset||{},i=r.offsetLeft||0,a=r.offsetTop||0;this._moveOffset={offsetLeft:i+n.offsetLeft,offsetTop:a+n.offsetTop}}},e.prototype.onShapeUpdateEnd=function(t,e){var n=this;return this.editDebouncePromiseQueue.waitForLastTask().then((function(){return n.moveTo(t.left,t.top).then((function(t){n.setMargin(),n._updateShapeControllerBoundaryBox()}))}))},e.prototype.setMargin=function(){var t=this.getGroupRect(),e=this.getRect();this.shapeControl.setMargin(s.default.expandOffset(e,t))},e.prototype._updateShapeControllerBoundaryBox=function(){this.shapeControl.updateBoundaryBox(this._getShapeControllerBoundaryBox())},e.prototype.redraw=function(e){return this.groupMoveDisabled()||this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),t.prototype.redraw.call(this,e)},e.prototype.generateApRenderer=function(){return this.isHTMLSimulate("note")?new f.default(this):t.prototype.generateApRenderer.call(this)},e.prototype.render=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,o=this.annot.info;if("R"==o.RT&&o.IRT.length>0)return Promise.resolve();if(t.prototype.render.call(this,e,n),1!=c.dpr&&this.tileCanvas){var r=this.getTileConfig(e,n),i=Math.max(.5,e*c.dpr/r[5]);this.tileCanvas.$container.css({transform:"scale("+i+")"})}},e}(r.default);e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=g(n(41)),i=g(n(33)),a=g(n(1)),s=n(21),c=g(n(25)),u=n(17),l=n(76),f=g(n(27)),p=g(n(20)),d=g(n(149)),h=g(n(462));function g(t){return t&&t.__esModule?t:{default:t}}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var v=function(t){function e(n,o,r,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,a));return s.name="file",s.$ui.addClass("fv__pdf-page-file-annot-container"),s.$handler.addClass("fv__pdf-page-file-annot-handler-container"),f.default.property(s,"shapeControl",(function(){var t=new i.default({start:function(){return s.onStartUpdateShape()},moving:function(t,e,n){return s.onShapeMoving(t,e,n)},end:function(t,e){return s.onShapeUpdateEnd(t,e)},resizable:!1});return t.ui.classList.add("fv__pdf-page-annot-handler-rect"),(s.groupMoveDisabled()||s.moveDisabled())&&t.disable(),t})),s}return m(e,t),e.prototype.active=function(){t.prototype.active.call(this),this.activeRect(),this._applyShapeChange()},e.prototype.activeRect=function(){arguments.length>0&&void 0!==arguments[0]||this.annot;var t=this.$rect=this.$rect||this.rectInit(),e=this.scale,n=this.rotate,o=this.getRect(e,n);t.css({left:o.left,top:o.top,width:o.right-o.left,height:o.bottom-o.top})},e.prototype._applyShapeChange=function(){var t=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),t),this.setMargin()},e.prototype.movedByOther=function(){this.isActive&&this._applyShapeChange()},e.prototype._getShapeControllerBoundaryBox=function(){var t=this.getPDFPage(),e=(0,s.getWHByMatrix)(t.getPxWidth(),t.getPxHeight(),this.scale,this.rotate),n=o(e,2);return{left:0,top:0,right:n[0],bottom:n[1]}},e.prototype.unActive=function(){t.prototype.unActive.call(this),this.shapeControl.deactive()},e.prototype.setIconName=function(t){var e=this;return this.annot.setIconName(t).then((function(t){return t?e.updateRender().then((function(){return e.pdfViewer.eventEmitter.emit(a.default.updateActionAnnotation,e),t})):t}))},e.prototype.createRectDom=function(){return this.shapeControl.ui},e.prototype.onStartUpdateShape=function(t,e){this.editDebouncePromise||(this.editDebouncePromise=new u.DebounceAsyncTaskExecutor(0))},e.prototype.onShapeMoving=function(t,e,n){var o=this;this.pdfViewer.config.highPerformance&&this.editDebouncePromise.exec((function(){return o.moveTo(t.left,t.top).then((function(t){o.setMargin()}))}))},e.prototype.onShapeUpdateEnd=function(t,e){var n=this;return this.editDebouncePromise.waitForLastTask().then((function(){return n.moveTo(t.left,t.top).then((function(t){n.setMargin()}))}))},e.prototype.setMargin=function(){var t=this.getGroupRect(),e=this.getRect();this.shapeControl.setMargin(c.default.expandOffset(e,t))},e.prototype.doubleTapAnnot=function(){this.rectDoubleTap()},e.prototype.rectDoubleTap=function(){this.download()},e.prototype.download=function(){var t=this,e=this.pdfViewer;if(!this.annot.getFileSpec())return e.viewerUI.alert("sidebar.attachment.emptyFile");var n=Promise.resolve();e.getSafeReadingMode()&&(n=e.viewerUI.confirm("sidebar.attachment.safeModeDownload")),n.then((function(){t.annot.getFileattachmentStream().then((function(e){(0,l.download)(e,t.annot.getFileSpec().getFileName(),"application/octet-stream")}))}),p.default)},e.prototype.redraw=function(e){return this.groupMoveDisabled()||this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),t.prototype.redraw.call(this,e)},e.prototype.generateApRenderer=function(){return this.isHTMLSimulate("fileAttachment")?new d.default(this):new h.default(this)},e.prototype.getRect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=this.getPDFPage(),o=this.annot.getRect(),r=n.getDeviceRect(o,t,e),i=n.getDeviceRect(o,t,0);return{left:r.left,top:r.top,right:r.left+(i.right-i.left),bottom:r.top+(i.bottom-i.top)}},e.prototype.getBoundary=function(){var t=this.annot.getDeviceRect(this.scale,this.rotate),e=this.annot.getDeviceRect(this.scale,0),n=this.annot.getRect(),o=e.right-e.left,r=e.bottom-e.top;return 8&this.annot.getFlags()&&(o=n.right-n.left,r=n.top-n.bottom),{left:t.left,top:t.top,width:o,height:r}},e}(r.default);e.default=v},function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE__253__},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(41)),r=i(n(463));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i));return a.name="caret",a.$ui.addClass("fv__pdf-page-caret-annot-container"),a.$handler.addClass("fv__pdf-page-caret-annot-handler-container"),a}return a(e,t),e.prototype.generateApRenderer=function(){return this.checkRenderingModeIs("canvas")?new r.default(this):t.prototype.generateApRenderer.call(this)},e.prototype.checkRenderingModeIs=function(t){return this.pdfViewer.config.annotRenderingMode.caret===t},e.prototype.active=function(){t.prototype.active.call(this),this.activeRect(),this.$rect.addClass("active")},e.prototype.afterRender=function(t){t.transformed&&this.isActive&&this.activeRect()},e.prototype.unActive=function(){t.prototype.unActive.call(this);var e=this.$rect;e&&e.removeClass("active")},e.prototype.isReplace=function(){return this.annot.isGrouped()&&"replace"===(this.annot.getIntent()||"").toLowerCase()},e.prototype.showUI=function(){var e=this;if(this.isReplace()){var n=this.annot.getGroupElements().filter((function(t){return t!==e.annot}))[0],o=this.parent("annotsRender").getAnnotRender(n.getId());return t.prototype.showUI.call(this).then((function(){return o.component.showUI()}))}return t.prototype.showUI.call(this)},e.prototype.hideUI=function(){var e=this;if(this.isReplace()){var n=this.annot.getGroupElements().filter((function(t){return t!==e.annot}))[0],o=this.parent("annotsRender").getAnnotRender(n.getId());return t.prototype.hideUI.call(this).then((function(){return o.component.hideUI()}))}return t.prototype.hideUI.call(this)},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=c(n(150)),r=c(n(33)),i=n(4),a=c(n(27)),s=c(n(93));function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(n,o,i,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,i,s));return a.default.property(c,"shapeControl",(function(){var t=new r.default({start:function(t,e,n){return c.onStartUpdateShape(t,e,n)},moving:function(t,e){return c.onShapeMoving(t,e)},update:function(t,e){return c.onShapeUpdating(t,e)},end:function(t,e,n){return c.onShapeUpdateEnd(t,e,n)},resizable:!0,degree:0,enableDiagonally:!0,enableFrame:!1,previewer:!1,enableUniform:!0});return(c.groupMoveDisabled()||c.moveDisabled())&&t.disable(),t})),c}return u(e,t),e.prototype.generateApRenderer=function(){return new s.default(this)},e.prototype.getInnerRect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return this.getRect(t,e)},e.prototype.getPropertyOptions=function(){var t=this.annot;(0,i.colorConvertor)(t.getBorderColor(),"#");return{opacity:t.getOpacity(),borderStyle:!1,disabled:this.propertyDisabled(),rotation:(this.annot.getRotation()+360)%360}},e.prototype.setBitmap=function(t,e){var n=this;return this.annot.setBitmap(t,e).then((function(t){return n.render(n.scale,n.rotate)}))},e.prototype.updateRender=function(){return this.render()},e.prototype.redraw=function(e){return this.groupMoveDisabled()||this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),t.prototype.redraw.call(this,e)},e.prototype.setRotation=function(t){var e=this;return this.annot.setRotation(t).then((function(t){return t?e.updateRender().then((function(){var n=e.getInnerBoundary(),o=e._getShapeControllerBoundaryBox();return e.shapeControl.active(e.$handler,n,o),t})):t}))},e}(o.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=h(n(41)),i=h(n(33)),a=h(n(1)),s=n(21),c=h(n(25)),u=n(17),l=n(4),f=h(n(27)),p=h(n(465)),d=h(n(93));function h(t){return t&&t.__esModule?t:{default:t}}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var m=function(t){function e(n,o,r,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,a));return s.name="ink",s.$ui.addClass("pdf-page-ink-annot-container"),s.$handler.addClass("pdf-page-ink-annot-handler-container"),f.default.property(s,"shapeControl",(function(){var t=new i.default({interceptor:function(t){return s.checkSize(t)},start:function(){return s.onStartUpdateShape()},update:function(t,e){return s.onShapeUpdating(t,e)},moving:function(t,e,n){return s.onShapeMoving(t,e,n)},end:function(t,e,n){return s.onShapeUpdateEnd(t,e,n)},enableDiagonally:!0});return(s.groupMoveDisabled()||s.moveDisabled())&&t.disable(),t})),s}return g(e,t),e.prototype.checkSize=function(t){return!(t.width<10||t.height<10)},e.prototype.generateApRenderer=function(){var t=this.getInkList();return t&&t.length<1e3?new p.default(this):new d.default(this)},e.prototype.createRectDom=function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui},e.prototype.active=function(){t.prototype.active.call(this),this.activeRect();var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e),this.setMargin()},e.prototype.movedByOther=function(){this.isActive&&(this.activeRect(),this.shapeControl.updateBoundary(this.getBoundary()),this.setMargin())},e.prototype.afterRender=function(t){if(t.transformed&&this.isActive){this.activeRect();var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e),this.setMargin()}},e.prototype._getShapeControllerBoundaryBox=function(){var t=this.getPDFPage(),e=(0,s.getWHByMatrix)(t.getPxWidth(),t.getPxHeight(),this.scale,this.rotate),n=o(e,2);return{left:0,top:0,right:n[0],bottom:n[1]}},e.prototype.onStartUpdateShape=function(){this.editDebouncePromise||(this.editDebouncePromise=new u.DebounceAsyncTaskExecutor(0))},e.prototype.onShapeUpdating=function(t,e){this.pdfViewer.config.highPerformance&&(t.width<10&&(t.width=10),this.setRect(t),this.setMargin())},e.prototype.onShapeMoving=function(t,e,n){var o=this;this.pdfViewer.config.highPerformance&&this.editDebouncePromise.exec((function(){return o.moveTo(t.left,t.top).then((function(){o.setMargin()}))}))},e.prototype._getShapeControllerBoundaryBox=function(){var t=this.getPDFPage(),e=(0,s.getWHByMatrix)(t.getPxWidth(),t.getPxHeight(),this.scale,this.rotate),n=o(e,2),r=n[0],i=n[1];return c.default.on({left:0,top:0,right:r,bottom:i}).extract()},e.prototype.onShapeUpdateEnd=function(t,e,n){var o=this;return t.width<10&&(t.width=10),"resize"!==n||this.pdfViewer.config.highPerformance?this.editDebouncePromise.waitForLastTask().then((function(){return o.moveTo(t.left,t.top).then((function(t){o.setMargin()}))})):this.editDebouncePromise.waitForLastTask().then((function(){return o.setRect(t)})).then((function(t){o.setMargin()}))},e.prototype.getPropertyOptions=function(){var t=this.annot;return{color:(0,l.colorConvertor)(t.getBorderColor(),"#"),opacity:t.getOpacity(),borderWidth:t.getBorderWidth(),borderStyle:!1,disabled:this.propertyDisabled()}},e.prototype.setBorderWidth=function(t){var e=this;return this.annot.setBorderWidth(t).then((function(t){return t?e.updateRender().then((function(){return e.pdfViewer.eventEmitter.emit(a.default.updateActionAnnotation,e),t})):t}))},e.prototype.getInkList=function(){return this.annot.getInkList()},e.prototype.setMargin=function(){var t=this.getGroupRect(),e=this.getRect();this.shapeControl.setMargin(c.default.expandOffset(e,t)),this.shapeControl.updateBoundaryBox(this._getShapeControllerBoundaryBox())},e.prototype.redraw=function(e){return this.groupMoveDisabled()||this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),t.prototype.redraw.call(this,e)},e.prototype.getRenderingData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,o=t.prototype.getRenderingData.call(this,e,n),r=this.getInkList();return Object.assign(o,{inkList:r})},e}(r.default);e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(147),i=(o=r)&&o.__esModule?o:{default:o};function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=(0,n(108).getCommonContextMenu)(),c=function(t){function e(n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i));return a.name="polygonCloud",a}return a(e,t),e.getDefaultContextMenuConfig=function(){return s},e}(i.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=h(n(152)),i=n(472),a=n(21),s=h(n(1)),c=n(4),u=h(n(260)),l=h(n(27)),f=n(17),p=h(n(474)),d=h(n(3));function h(t){return t&&t.__esModule?t:{default:t}}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var m=["left","bottom","right","top"],v=function(t){function e(n,o,r,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,a));s.annot=n,s.name="callout",s.$ui.removeClass("fv__pdf-page-textbox-annot-container"),s.$handler.removeClass("fv__pdf-page-textbox-annot-handler-container"),s.$ui.addClass("fv__pdf-page-callout-annot-container"),s.$handler.addClass("fv__pdf-page-callout-annot-handler-container"),l.default.property(s,"shapeControl",(function(){var t=(0,i.getShapeController)();return s.moveDisabled()&&t.disable(),t})),s.editDebouncePromiseQueue=new f.DebouncePromiseQueue;var c=(0,d.default)("<div class='fv__ftui-container'><pre class='fv__textbox_ui'></pre></div>");return s.$pre=c.find("pre"),s.$ui.append(c),s}return g(e,t),e.prototype.unActive=function(){t.prototype.unActive.call(this),this.shapeControl.deactive()},e.prototype.generateApRenderer=function(){return this.isHTMLSimulate("freetext")?new p.default(this):t.prototype.generateApRenderer.call(this)},e.prototype.active=function(e){var n=this;t.prototype.active.call(this,e);var o,r=this._getShapeControllerBoundaryBox();o=this.getBoundary(),this.shapeControl.init({start:function(t){return n.onStartUpdateShape(t)},moving:function(t,e,o,r){return n.onShapeMoving(t,e,o,r)},end:function(t){return n.onShapeUpdateEnd(t)}},this),!0!==e&&this.shapeControl.active(this.$page,o,r)},e.prototype.movedByOther=function(){if(this.isActive){this.activeRect();var t=this._getShapeControllerBoundaryBox(),e=this.getBoundary();this.shapeControl.active(this.$page,e,t),this.shapeControl.adjustPointControl()}},e.prototype.afterRender=function(t){t.transformed&&this.isActive&&this.movedByOther()},e.prototype._getShapeControllerBoundaryBox=function(){var t=this.getPDFPage(),e=(0,a.getWHByMatrix)(t.getPxWidth(),t.getPxHeight(),this.scale,this.rotate),n=o(e,2);return{left:0,top:0,right:n[0],bottom:n[1]}},e.prototype.backup=function(){var t=this,e=this.annot.getCalloutLinePoints();if(this.backupProperty={points:JSON.parse(JSON.stringify(e)),rect:Object.assign({},this.annot.getRect()),innerRect:Object.assign({},this.annot.getInnerRect())},e.length<3){var n=this.annot.getBorderStyle(),o=u.default.calcCalloutPosition({start:[0,0],end:[this.backupProperty.innerRect.left,(this.backupProperty.innerRect.top+this.backupProperty.innerRect.bottom)/2],width:this.getPDFPage().getWidth(),height:this.getPDFPage().getHeight(),rotate:this.getPDFPage().getRotation()-this.rotate,borderStyle:n,endingStyle:this.annot.getCalloutLineEndingStyle()});this.setCalloutLinePoints(o.calloutLinePoints).then((function(e){var n,o=t._getShapeControllerBoundaryBox();n=t.getBoundary(),t.shapeControl.active(t.$rect,n,o)}))}},e.prototype.onStartUpdateShape=function(t){this.backup()},e.prototype.onShapeMoving=function(t,e,n,r){var a=this,s=this.annot.page.reverseDeviceOffset([n,r],this.scale,this.rotate),c=o(s,2),u=c[0],l=c[1];return this.updatePromise=this.updatePromise||Promise.resolve(),this.updatePromise=this.updatePromise.then((function(){switch(t){case i.ACTION_TEXT:return a.updateTextRect(u,l);case i.ACTION_AREA:return a.updateRect(u,l);case i.ACTION_POINT:return a.updatePoint(e,u,l)}})).then((function(t){if(a.annot.isGrouped()){var e=a.annot.info.rect,n=a.annot.info.innerRect,o=a.annot.info.calloutLinePoints;a.editDebouncePromiseQueue.push((function(){return a._flushEdit(e,n,o)}))}return t}))},e.prototype.onShapeUpdateEnd=function(t){var e=this.annot.info.rect,n=this.annot.info.innerRect,o=this.annot.info.calloutLinePoints;return this._flushEdit(e,n,o)},e.prototype._flushEdit=function(t,e,n){var o=this,r=Promise.resolve();return this.annot.isGrouped()&&(r=this.annot.moveTo({left:t.left,top:t.top})),r.then((function(){return o.setRectInPDF(t,!1)})).then((function(t){return o.activeRect(),o.setInnerRect(e)})).then((function(t){return o.setCalloutLinePoints(n)})).then((function(t){o.redraw()}))},e.prototype.updateRect=function(t,e){var n=Object.assign({},this.backupProperty.rect);if(n.left+=t,n.right+=t,n.bottom+=e,n.top+=e,!this.checkRect(n,!0))return Promise.resolve(!1);if(t=n.left-this.backupProperty.rect.left,e=n.top-this.backupProperty.rect.top,0==t&&0==e)return Promise.resolve();var o=Object.assign({},this.backupProperty.innerRect);o.left+=t,o.right+=t,o.top+=e,o.bottom+=e;var r=JSON.parse(JSON.stringify(this.backupProperty.points));return r[0].x+=t,r[0].y+=e,r[1].x+=t,r[1].y+=e,r[2].x+=t,r[2].y+=e,this.annot.info.rect=n,this.annot.info.innerRect=o,this.annot.info.calloutLinePoints=r,Promise.resolve({rect:this.getRect(),innerRect:this.getInnerBoundary(),points:this.getCalloutPointers()})},e.prototype.updateTextRect=function(t,e){var n=Object.assign({},this.backupProperty.innerRect),o=this.annot.getCalloutLinePoints();if(n.left+=t,n.right+=t,n.top+=e,n.bottom+=e,!this.checkRect(n,!0))return Promise.resolve(!1);if(!(o=u.default.checkKneePoint(0,o,n)))return Promise.resolve(!1);var r=this.getPDFPage(),i=u.default.recalculateRect({points:o,innerRect:n,width:r.getWidth(),height:r.getHeight(),rotate:r.getRotation(),borderInfo:this.annot.getBorderInfo(),endingStyle:this.annot.getCalloutLineEndingStyle()});return this.annot.info.rect=i,this.annot.info.innerRect=n,this.annot.info.calloutLinePoints=o,Promise.resolve({rect:this.getRect(),innerRect:this.getInnerBoundary(),points:this.getCalloutPointers()})},e.prototype.updatePoint=function(t,e,n){var o=this.annot.page,r=this.backupProperty.points,i=JSON.parse(JSON.stringify(this.annot.getCalloutLinePoints())),a=!0,s=Object.assign({},this.backupProperty.innerRect);switch(t){case"calloutStart":i[0].x=r[0].x+e,i[0].y=r[0].y+n;if(s.left-20<i[0].x&&i[0].x<s.right+20&&s.bottom-20<i[0].y&&i[0].y<s.top+20)return Promise.resolve();break;case"calloutKnee":if(i[1].x==i[2].x){if(e=0,r[1].y<r[2].y&&r[1].y+n>=r[2].y)return Promise.resolve();if(r[1].y>r[2].y&&r[1].y+n<=r[2].y)return Promise.resolve()}else if(i[1].y==i[2].y){if(n=0,r[1].x<r[2].x&&r[1].x+e>=r[2].x)return Promise.resolve();if(r[1].x>r[2].x&&r[1].x+e<=r[2].x)return Promise.resolve()}if(r[1].x+e<0||r[1].y+n<0)return Promise.resolve();a=!1,i[1].x=r[1].x+e,i[1].y=r[1].y+n;break;default:for(var c=[].concat(m),l=0;l<this.rotate/90+this.annot.page.getRotation();l++){var f=c.shift();c.push(f)}switch(t){case"left":s[c[0]]+=y(c[0],e,n);break;case"bottom":s[c[1]]+=y(c[1],e,n);break;case"right":s[c[2]]+=y(c[2],e,n);break;case"top":s[c[3]]+=y(c[3],e,n)}}if(a&&!(i=u.default.checkKneePoint(0,i,s)))return Promise.resolve(!1);var p=u.default.recalculateRect({points:i,innerRect:s,width:o.getWidth(),height:o.getHeight(),rotate:o.getRotation(),borderStyle:this.annot.getBorderInfo(),endingStyle:this.annot.getCalloutLineEndingStyle()});return this.checkRect(p)?(this.annot.info.rect=p,this.annot.info.innerRect=s,this.annot.info.calloutLinePoints=i,Promise.resolve({rect:this.getRect(),innerRect:this.getInnerBoundary(),points:this.getCalloutPointers()})):Promise.resolve()},e.prototype.setEndingStyle=function(t,e){var n=this;return this.annot.setCalloutLineEndingStyle(+e).then((function(){return n.annot.update()})).then((function(){n.activeRect(),n.redraw()}))},e.prototype.setFillColor=function(t){var e=this;return this.annot.setFillColor(t).then((function(t){return t?e.updateRender().then((function(){return e.pdfViewer.eventEmitter.emit(s.default.updateActionAnnotation,e),t})):t}))},e.prototype.setBorderWidth=function(t){var e=this;return this.annot.setBorderWidth(t).then((function(t){return t?e.updateRender().then((function(){return e.pdfViewer.eventEmitter.emit(s.default.updateActionAnnotation,e),t})):t}))},e.prototype.setBorderStyle=function(t,e){var n=this;return this.annot.setBorderStyle(t,e).then((function(){return n.updateRender().then((function(){n.pdfViewer.eventEmitter.emit(s.default.updateActionAnnotation,n)}))}))},e.prototype.getPropertyOptions=function(){t.prototype.getPropertyOptions.call(this);var e=this.annot,n=(0,c.colorConvertor)(e.getBorderColor(),"#"),o=e.getOpacity(),r=this.annot.getFillColor(),i=e.getBorderWidth(),a=this.propertyDisabled(),s=e.getFontColor(),u=e.getDefaultAppearance().textSize;return{color:n,opacity:o,fillColor:r,lineStartStyle:e.getCalloutLineEndingStyle(),borderWidth:i,cloudy:!0,disabled:a,fontColor:s,fontSize:u}},e.prototype.getCalloutPointers=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot.getCalloutLinePoints(),e=[],n=0;n<t.length;n++){var o=this.annot.page.getDevicePoint([t[n].x,t[n].y],this.scale,this.rotate);e.push(o)}return e},e.prototype.setInnerRectHeight=function(t){var e=Object.assign({},this.backupProperty.innerRect),n=this.annot.getBorderWidth();5===this.annot.getBorderInfo().style&&(n=0);var o={left:t.left-e.left-n,right:t.right-e.right+n,top:t.top-e.top+n,bottom:t.bottom-e.bottom-n},r=0;return Math.abs(o.left)<3&&(r++,o.left=0),Math.abs(o.right)<3&&(r++,o.right=0),Math.abs(o.top)<3&&(r++,o.top=0),Math.abs(o.bottom)<3&&(r++,o.bottom=0),4==r?Promise.resolve(!1):this.setInnerRectProperty({left:e.left+o.left,bottom:e.bottom+o.bottom,top:e.top+o.top,right:e.right+o.right})},e.prototype.setInnerRectProperty=function(t){var e=this,n=JSON.parse(JSON.stringify(this.backupProperty.points));if(!(n=u.default.checkKneePoint(0,n,t)))return Promise.resolve(!1);var o=this.annot.page,r=u.default.recalculateRect({points:n,innerRect:t,width:o.getWidth(),height:o.getHeight(),rotate:o.getRotation(),borderStyle:this.annot.getBorderInfo(),endingStyle:this.annot.getCalloutLineEndingStyle()});Promise.resolve(),this.annot.getRect();return this.setRectInPDF(r,!1).then((function(n){return e.setInnerRect(t)})).then((function(t){return e.setCalloutLinePoints(n)}))},e.prototype.checkRect=function(t,e){var n=this.annot.page,o=n.getMediaWidth(),r=n.getMediaHeight();if(e){var i=void 0;return t.left<2?(i=2-t.left,t.left+=i,t.right+=i):t.right>o-2&&(i=o-2-t.right,t.left+=i,t.right+=i),t.bottom<2?(i=2-t.bottom,t.bottom+=i,t.top+=i):t.top>r-2&&(i=r-2-t.top,t.bottom+=i,t.top+=i),!0}return!(t.left<0||t.bottom<0||t.top>r||t.right>o)},e.prototype.redraw=function(e){return this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),t.prototype.redraw.call(this,e)},e.prototype.setHeight=function(t,e){this.annot.page.getRotationAngle(),this.annot.getRotation();t[0].style.height=t[0].scrollTop+t[0].scrollHeight+"px";var n=t[0].getBoundingClientRect(),o=this.parent("pdfPageRender").getPDFRectFromClientRect(n);this.setInnerRectHeight(o)},e}(r.default),y=function(t,e,n){return"left"===t||"right"==t?e:n};e.default=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(3),i=(o=r)&&o.__esModule?o:{default:o};var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype.init=function(t,e){this.calloutRender=t,this.$ui=(0,i.default)(e),this.$ui.hide()},t.prototype.draw=function(t,e,n){var o=this.$ui[0];o.width=e.right-e.left,o.height=e.bottom-e.top;var r=o.getContext("2d");r.save(),r.clearRect(0,0,this.$ui.width(),this.$ui.height()),r.beginPath(),t.length>1&&(r.moveTo(t[0][0]-e.left,t[0][1]-e.top),r.lineTo(t[1][0]-e.left,t[1][1]-e.top)),t.length>2&&r.lineTo(t[2][0]-e.left,t[2][1]-e.top),r.strokeStyle="#5aa",r.lineWidth=2,r.stroke(),r.save();var i=n.width||n.right-n.left,a=n.height||Math.abs(n.top-n.bottom);r.rect(n.left-e.left,n.top-e.top,i,a),r.fillStyle="rgba(88, 176, 176, 0.5)",r.stroke(),r.fillRect(n.left-e.left,n.top-e.top,i,a),r.restore()},t.prototype.show=function(t,e,n){t&&this.draw(t,e,n),this.$ui.show()},t.prototype.hide=function(){this.$ui&&this.$ui.hide()},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.calcCalloutPosition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.start,o=e.end,i=e.page,a=e.width,s=void 0===a?o[0]+110:a,c=e.height,u=void 0===c?o[1]+30:c,l=e.borderStyle,f=e.endingStyle,p=e.scale,d=e.rotate;o[0]=Math.max(o[0],2),o[1]=Math.max(o[1],12);var h=100*p*4/3,g=20*p*2/3,m=i.reverseDeviceRect({left:o[0],right:o[0]+h,top:o[1]-g,bottom:o[1]+g},p,d);n=i.reverseDevicePoint(n,p,d),o=i.reverseDevicePoint(o,p,d),m.left<0&&(m.left=0),m.bottom<0&&(m.bottom=0);var v=[{x:n[0],y:n[1]},{x:m.left-15,y:m.top+10},{x:m.left-.1,y:m.top+10}];if(!(v=t.checkKneePoint(0,v,m))||r(v[0],v[1])<15||r(v[2],v[1])<15)return{invalid:!0};var y=t.recalculateRect({points:v,innerRect:m,width:s,height:u,borderStyle:l,endingStyle:f});return y.left<5||y.right>s-5||y.bottom<5||y.top>u-5?{invalid:!0}:{calloutLinePoints:v,rect:y,innerRect:m}},t.checkKneePoint=function(e,n,o){if(e>3||n.length<2)return null;var i=JSON.parse(JSON.stringify(n));switch(e){case 0:i[2]={x:o.left-.1,y:(o.top+o.bottom)/2-.1},i[1]={x:i[2].x-15,y:i[2].y};break;case 1:i[1]={x:(o.left+o.right)/2,y:o.bottom-15},i[2]={x:i[1].x-.1,y:o.bottom-.1};break;case 2:i[1]={x:o.right+15,y:(o.top+o.bottom)/2},i[2]={x:o.right-.1,y:i[1].y-.1};break;case 3:i[1]={x:(o.left+o.right)/2,y:o.top+15},i[2]={x:i[1].x-.1,y:o.top-.1}}var a=r(i[2],i[0]),s=r(i[2],i[1]),c=r(i[1],i[0]),u=Math.acos((a-s-c)/(2*Math.sqrt(s)*Math.sqrt(c)));return Math.PI>u&&u>Math.PI/2?t.checkKneePoint(e+1,n,o):i},t.recalculateRect=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.points,n=t.innerRect,o=t.width,r=void 0===o?1e4:o,i=(t.height,t.borderInfo),a=t.endingStyle,s=1e4,c=0,u=0,l=1e4,f=0;f<3;f++)e[f].x<s&&(s=e[f].x),e[f].x>c&&(c=e[f].x),e[f].y>u&&(u=e[f].y),e[f].y<l&&(l=e[f].y);var p=0;i&&5==i.style&&(p=1==i.cloudIntensity?6:9);var d={left:Math.max(Math.min(s,n.left)-1,0),top:Math.max(u,n.top)+1,right:Math.min(Math.max(c,n.right)+1,r),bottom:Math.min(l,n.bottom)-1};0!==p&&(Math.abs(d.left-n.left)<2&&(d.left-=p),Math.abs(d.right-n.right)<2&&(d.right+=p),Math.abs(d.top-n.top)<2&&(d.top+=p),Math.abs(d.bottom-n.bottom)<2&&(d.bottom-=p));var h=0;switch(a){case 7:case 8:h=8;break;case 2:case 1:case 3:case 6:case 9:h=6}return 0!=h&&(d.left-=h,d.right+=h,d.top+=h,d.bottom-=h),d},t}(),r=function(t,e){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)};e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(151)),r=(a(n(1)),n(4)),i=a(n(475));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i));return a.name="textbox",a.$ui.removeClass("fv__pdf-page-typewritter-annot-container"),a.$handler.removeClass("fv__pdf-page-typewritter-annot-handler-container"),a.$ui.addClass("fv__pdf-page-textbox-annot-container"),a.$handler.addClass("fv__pdf-page-textbox-annot-handler-container"),a.$pre.addClass("fv__textbox_ui"),a}return s(e,t),e.prototype.getShapeOptions=function(){var e=t.prototype.getShapeOptions.call(this);return e.resizable=!0,e},e.prototype.generateApRenderer=function(){return this.isHTMLSimulate("freetext")?new i.default(this):t.prototype.generateApRenderer.call(this)},e.prototype.getPropertyOptions=function(){t.prototype.getPropertyOptions.call(this);var e=this.annot,n=(0,r.colorConvertor)(e.getBorderColor(),"#"),o=e.getOpacity(),i=e.getBorderWidth();return{color:n,opacity:o,fillColor:e.getFillColor(),borderWidth:i,cloudy:!0,disabled:this.propertyDisabled(),fontColor:e.getFontColor(),fontSize:e.getDefaultAppearance().textSize}},e.prototype.setHeight=function(t,e){t[0].style.height=t[0].scrollTop+t[0].scrollHeight+"px";var n=t[0].getBoundingClientRect(),o=this.parent("pdfPageRender").getPDFRectFromClientRect(n);this.setInnerRectHeight(o)},e.prototype.setBorderWidth=function(t){return this.annot.setBorderWidth(t)},e.prototype.setFillColor=function(t){return this.annot.setFillColor(t)},e.prototype.setBorderStyle=function(t,e){return this.annot.setBorderStyle(t,e)},e.prototype.setInnerRectHeight=function(t){var e=this,n=void 0,o=this.annot.getBorderInfo(),r=Object.assign({},this.backupProperty.rect),i=this.getPadding();n=5==o.style?Object.assign({},this.backupProperty.innerRect):{left:r.left+i,right:r.right-i,top:r.top-i,bottom:r.bottom+i};var a={left:t.left-n.left,right:t.right-n.right,top:t.top-n.top,bottom:t.bottom-n.bottom},s=0;return Math.abs(a.left)<3&&(s++,a.left=0),Math.abs(a.right)<3&&(s++,a.right=0),Math.abs(a.top)<3&&(s++,a.top=0),Math.abs(a.bottom)<3&&(s++,a.bottom=0),4==s?Promise.resolve():(r={left:r.left+a.left,right:r.right+a.right,top:r.top+a.top,bottom:r.bottom+a.bottom},n={left:n.left+a.left,right:n.right+a.right,top:n.top+a.top,bottom:n.bottom+a.bottom},this.annot.setInnerRectNoAction(t).then((function(t){return e.annot._setRect(r)})))},e.prototype.beforeBlur=function(){},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=x(n(62)),i=x(n(61)),a=n(21),s=n(76),c=x(n(3)),u=x(n(33)),l=n(490),f=n(17),p=x(n(1)),d=x(n(40)),h=n(4),g=x(n(92)),m=x(n(148)),v=n(13),y=n(94),b=x(n(0)),w=x(n(27)),_=n(26),P=n(9),O=x(n(65)),E=x(n(95));function x(t){return t&&t.__esModule?t:{default:t}}function C(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function A(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function D(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var R=void 0,j=void 0,T=(0,l.getImageContextMenu)(".fv__pdf-page-annot-handler-rect"),M=(0,l.getMultiMediaContextMenu)(".fv__pdf-page-annot-handler-rect"),I=function(t){function e(){return A(this,e),S(this,t.apply(this,arguments))}return D(e,t),e.prototype._resize=function(e,n,o){e==y.DIR_NORTH||e==y.DIR_SOUTH||e==y.DIR_EAST||e==y.DIR_WEST?this.enableUniform=!1:this.enableUniform=!0,t.prototype._resize.call(this,e,n,o)},e}(u.default),k=function(t){function e(n,o,r,i){A(this,e);var a=S(this,t.call(this,n,o,r,i));a.name="screen",a.$ui.addClass("fv__pdf-page-screen-annot-container"),a.$handler.addClass("fv__pdf-page-screen-annot-handler-container"),a.fileExt="",n.action&&(a.actionViewer=a.pdfViewer.actionManager.get(n.action,a)),a.isVideoAudio=n.info.isAudioVideo,w.default.property(a,"shapeControl",(function(){var t=new I({start:function(t,e,n){return a.onStartUpdateShape(t,e,n)},update:function(t,e){return a.onShapeUpdating(t,e)},moving:function(t,e,n){return a.onShapeMoving(t,e,n)},end:function(t,e,n){return a.onShapeUpdateEnd(t,e,n)},resizable:!0,enableDiagonally:!0,annotRender:i});return(a.groupMoveDisabled()||a.moveDisabled())&&t.disable(),t}));var s=a.pdfViewer.i18n;return b.default.i18n=function(t){return s.t(t)},a}return D(e,t),e.getDefaultContextMenuConfig=function(){return T},e.getMultiMediaContextMenuConfig=function(){return M},e.setContextMenuConfig=function(t){R=t},e.setMultiMediaContextMenuConfig=function(t){j=t},e.prototype.isMultiMedia=function(){return this.isVideoAudio},e.prototype.redraw=function(t){return this.groupMoveDisabled()||this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),t&&this.tileCanvas&&this.tileCanvas.clearCache(),this.render()},e.prototype.getTileConfig=function(t,e){var n=this.pdfViewer,o=n.getSmartScale(t),r=n.config.tileSize,i=this.annot,a=i.getDeviceRect(1,e),s=i.getDeviceRect(o,e),c=s.right-s.left,u=s.bottom-s.top;return[Math.ceil(u/r),Math.ceil(c/r),c,u,r,o,t,e,a.left,a.top]},e.prototype.render=function(){var t,e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,r=this.annot;this.scale=n,this.rotate=o;var s=this.getAnnotFlag();if(s.checkInvisible()||s.checkHidden()||r.isEmpty()||r.isDeleted()||r.rectIsEmpty())return this.tileCanvas&&this.tileCanvas.hideContainer(),Promise.resolve();this.updatePayerRect(),this.tileCanvas&&this.tileCanvas.showContainer();var c,u=this.getTileConfig(n,o),l=this.tileCanvas;return l?(c=l).redraw.apply(c,C(u)):(l=this.tileCanvas=new i.default((function(t,n,o,i,s,c,u,l,f){return e.getPDFPage().getAnnotBitmap(r.getId(),(0,a.pt2px)(c),f,{x:u*c+n*s,y:l*c+t*s,width:o,height:i})}),this.$ui),this.isMultiMedia()&&this.$ui.append('<div class="fv__pdf-page-multi-media-annot-container"></div>'),(t=l).redraw.apply(t,C(u)))},e.prototype.afterRender=function(t){if(t.transformed){if(this.isActive){this.activeRect();var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e)}if(this.isMultiMedia()&&this.$player&&this.$player.is(":visible")){var n=this.annot.getDeviceRect(this.scale,this.rotate);this.$player.css({left:n.left+"px",top:n.top+"px",width:n.right-n.left+"px",height:n.bottom-n.top+"px"})}}},e.prototype.onShapeRotated=function(t){t<0&&(t+=360),t<=45||t>315?t=0:t>45&&t<=135?t=270:t>135&&t<=225?t=180:t>225&&t<=315||t>-135&&t<=-45?t=90:console.warn("degree error: "+t);var e=this.annot.getRotation();return(e+=t)>=360&&(e-=360),this.setRotation(e)},e.prototype.onStartUpdateShape=function(t,e,n){this.editDebouncePromise||(this.editDebouncePromise=new f.DebounceAsyncTaskExecutor(0))},e.prototype.onShapeUpdating=function(t,e){var n=this;if(this.pdfViewer.config.highPerformance)return this.editDebouncePromise.exec((function(){return n.setRect(t)}))},e.prototype.onShapeMoving=function(t,e){var n=this;if(this.pdfViewer.config.highPerformance)return this.editDebouncePromise.exec((function(){return n.moveTo(t.left,t.top)}))},e.prototype.onShapeUpdateEnd=function(t,e,n){var o=this;return this.editDebouncePromise.exec((function(){return o.setRect(t)}))},e.prototype.active=function(){t.prototype.active.call(this),this.activeRect(),this.$handler.addClass("active"),this._applyShapeChange()},e.prototype._applyShapeChange=function(){var t=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),t)},e.prototype.movedByOther=function(){this.isActive&&this._applyShapeChange()},e.prototype.getMultiMediaUrl=function(){var t=this,e=this.pdfViewer.resourceGenerator(O.default.PDF_DOCUMENT_CLOSING,E.default.OBJECT_URL).expose().URL;return this.annot.getActionPromise().then((function(n){var o=n.info;if(t.multiMediaUrl)return t.multiMediaUrl;if(o&&"TypeRendition"==o.type)for(var r=0;r<o.renditions.length;r++){var i=o.renditions[r].fileName,a=o.renditions[r].contentType;if(i){var s=i.substr(i.lastIndexOf(".")).toLowerCase();if(t.fileExt=s,[".mp4",".mp3",".wav",".ogg",".m4a",".mov",".avi"].indexOf(s)>-1){t.isMultiMediaAnnot=!0;var c=o.renditions[r].buffer,u=new Blob([c.buffer],{type:a}),l=e.createObjectURL(u);t.multiMediaUrl=l,t.multiMediaFilename=i,t.actionBlob=u;break}}}return t.multiMediaUrl}))},e.prototype.play=function(){this.doAction()},e.prototype.updatePayerRect=function(){if(this.$player){var t=this.annot.getDeviceRect(this.scale,this.rotate);this.$player.css({left:t.left+"px",top:t.top+"px",width:t.right-t.left+"px",height:t.bottom-t.top+"px"})}},e.prototype.doAction=function(){var t=this;this.isMultiMedia()?this.getMultiMediaUrl().then((function(e){if(e){if(t.$handler.addClass("active"),t.$player)t.$player.show();else{if([".mp3",".wav",".ogg"].indexOf(t.fileExt)>-1){P.isMobile||_.isSafari?t.$handler.append('<div class="fv__pdf-player" style="position:absolute;" ><audio class="player" src="'+e+'" poster="#" style="width:50px" width="100%" height="100%" controls="controls" controlsList="nodownload">Your browser does not support the video tag.</audio><button><i class="fv__close-video"></i></button></div>'):t.$handler.append('<div class="fv__pdf-player fv__hide" style="position:absolute;" ><audio class="player" src="'+e+'" poster="#" width="100%" height="100%" controls="controls" controlsList="nodownload">Your browser does not support the video tag.</audio><button><i class="fv__close-video"></i></button></div>')}else t.$handler.append('<div class="fv__pdf-player" style="position:absolute;" ><video class="player" src="'+e+'" poster="#" width="100%" height="100%" controls="controls" controlsList="nodownload">Your browser does not support the video tag.</video><button><i class="fv__close-video"></i></button></div>');t.$player=t.$handler.find(".fv__pdf-player"),t.player=t.$handler[0].querySelector(".fv__pdf-player .player"),(_.isIE||_.isEdge)&&t.player.addClass("IE-player"),t.$handler[0].querySelector(".fv__close-video").parentNode.addEventListener("click",(function(e){t.player&&t.player.pause&&t.player.pause(),t.$player.hide()}))}t.updatePayerRect(),t.$rect&&t.$rect.css({left:"-100px",top:"-100px",width:0,height:0});var n=t.player.play();void 0!==n&&n.then((function(){_.isSafari&&t.player.play()})).catch((function(e){if(!_.isSafari){var n=t.pdfViewer.i18n.t("viewer_:contextmenu.annot.noSptPlayPlsDownload");t.$player.remove(),t.pdfViewer.viewerUI.alert(n)}}))}})):this.actionViewer&&this.actionViewer.active()},e.prototype.download=function(){var t=this;this.isMultiMedia()&&this.getMultiMediaUrl().then((function(e){(0,s.download)(t.actionBlob,t.multiMediaFilename,t.actionBlob.type)}))},e.prototype.addAction=function(t){this.actionViewer=this.pdfViewer.actionManager.get(t,this)},e.prototype.activeRect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot,e=this.$rect=this.$rect||this.rectInit(),n=this.scale,o=this.rotate,r=t.getDeviceRect(n,o);e.css({left:r.left+"px",top:r.top+"px",width:r.right-r.left+"px",height:r.bottom-r.top+"px"})},e.prototype.rectInit=function(){var t=this,e=this.$handler,n=(0,c.default)(this.createRectDom());e.append(n);var o=n[0],r=this.rectHammer=new Hammer.Manager(o,{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]});return r.add(new Hammer.Tap({event:"doubletap",taps:2})),r.add(new Hammer.Tap({event:"singletap"})),r.get("doubletap").recognizeWith("singletap"),r.get("singletap").requireFailure("doubletap"),r.on("singletap",(function(e){t.rectSingleTap(e)})),e.on("contextmenu",(function(t){t.preventDefault()})),e.on("mouseup",(function(t){t.stopPropagation()})),this.contextMenu=this.pdfViewer.viewerUI.createContextMenu(this,e.get(0),this.getContextMenuConfig()),n.data(l.defaultAnnotComponentKey,this),n},e.prototype.showContextMenu=function(t,e){this.contextMenu&&(this.contextMenu.setCurrentTarget(this),this.contextMenu.showAt(t,e))},e.prototype.createRectDom=function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui},e.prototype._getShapeControllerBoundaryBox=function(){var t=this.getPDFPage(),e=(0,a.getWHByMatrix)(t.getPxWidth(),t.getPxHeight(),this.scale,this.rotate),n=o(e,2);return{left:0,top:0,right:n[0],bottom:n[1]}},e.prototype.getContextMenuConfig=function(){var t=void 0;if(this.isMultiMedia()){if(j)return j;t=this.constructor.getMultiMediaContextMenuConfig()}else{if(R)return R;t=this.constructor.getDefaultContextMenuConfig()}for(var e in t)switch(e){case"items":var n=t[e],o=this.pdfViewer.i18n;for(var r in n){var i=n[r];i.nameI18nKey&&(i.name=o.t(i.nameI18nKey))}}return this.isMultiMedia()?this.constructor.setMultiMediaContextMenuConfig(t):this.constructor.setContextMenuConfig(t),t},e.prototype.updateRender=function(){return Promise.resolve()},e.prototype.unActive=function(){t.prototype.unActive.call(this),this.$handler&&this.$handler.removeClass("active")},e.prototype.unActiveMore=function(){},e.prototype.rectSingleTap=function(t){},e.prototype.removeAnnot=function(){var t=this;if(this.deleteDisabled())return!1;var e=this.pdfViewer,n=e.eventEmitter,o=this.annot;return Promise.resolve((e.customs.removeAnnotBefore||d.default)(this)).then((function(e){if(n.emit(p.default.removeActionAnnotationBefore,t),!1!==e)return o.getPDFPage().removeAnnot(o).then((function(e){if(e)return n.emit(p.default.removeActionAnnotationSuccess,t);n.emit(p.default.removeActionAnnotationFailed,t)}),(function(){n.emit(p.default.removeActionAnnotationFailed,t)}))}))},e.prototype.removeAnnotRender=function(){this.renderDestroy(),this.parent().remove()},e.prototype.removeAction=function(){this.actionViewer=null},e.prototype.getPropertyOptions=function(){var t=this.annot,e=(0,h.colorConvertor)(t.getBorderColor(),"#");-1==e&&(e=0);var n=t.getBorderWidth(),o=t.getBorderStyle(),r=t.getRotation();return{color:e,opacity:t.getOpacity(),borderWidth:n,borderStyle:o,disabled:this.propertyDisabled(),rotation:r}},e.prototype.updateContextMenu=function(){var t=this.getContextMenuConfig();this.isMultiMedia()&&(this.player.paused?delete t.items.pause:delete t.items.play),this.$handler.contextMenu(t)},e.prototype.playOrPause=function(){var t=this.player;t.paused?t.play():t.pause()},e.prototype.showPropertiesDialog=function(){this.$propertiesControl=new g.default(this,document.body),this.updateDeleteStatus(!0)},e.prototype.hidePropertiesDialog=function(){this.$propertiesControl.close(),this.updateDeleteStatus(!1)},e.prototype.showActionsDialog=function(){this.$actionsControl=new m.default(this,document.body,this.annot.action),this.updateDeleteStatus(!0)},e.prototype.hideActionsDialog=function(){this.$actionsControl.close(),this.updateDeleteStatus(!1)},e.prototype.setBorderWidth=function(t){var e=this;return this.annot.setBorderWidth(t).then((function(t){return t?e.updateRender().then((function(){return e.pdfViewer.eventEmitter.emit(p.default.updateActionAnnotation,e),t})):t}))},e.prototype.setColor=function(t){var e=this;return this.annot.setBorderColor(t).then((function(t){return t?e.updateRender().then((function(){return e.pdfViewer.eventEmitter.emit(p.default.updateActionAnnotation,e),t})):t}))},e.prototype.setBorderStyle=function(t,e){var n=this;return this.annot.setBorderStyle(t,e).then((function(t){return t?n.updateRender().then((function(){n.pdfViewer.eventEmitter.emit(p.default.updateActionAnnotation,n)})):t}))},e.prototype.setOpacity=function(t){var e=this;return t==this.annot.getOpacity()?Promise.resolve(!0):this.annot.setOpacity(t).then((function(t){return t?e.updateRender().then((function(){return e.pdfViewer.eventEmitter.emit(p.default.updateActionAnnotation,e),t})):t}))},e.prototype.setRotation=function(t){var e=this,n=this.annot.getRotation(),o=Math.abs(t-n);if(0==o)return!0;var r=this.annot.getRect(),i=r.right-r.left,a=r.top-r.bottom;if(90==o||270==o){var s=(i-a)/2;r.left+=s,r.right-=s,r.top+=s,r.bottom-=s}return this.annot.setRect(r).then((function(n){return n?e.annot.setRotation(t).then((function(t){return t?e.updateRender().then((function(){return e.active(),e.pdfViewer.eventEmitter.emit(p.default.updateActionAnnotation,e),t})):t})):n}))},e.prototype.renderDestroy=function(){this.tileCanvas&&this.tileCanvas.destroy(),this.tileCanvas&&this.$handler.remove()},e.prototype.doubleTapAnnot=function(){return!1},e.prototype.tapAnnot=function(e){return this.pdfViewer.getStateHandlerManager().getCurrentStates().getStateName()===v.STATE_HANDLER_HAND?this.doAction():t.prototype.tapAnnot.call(this,e)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.contextMenu&&this.contextMenu.destroy()},e}(r.default);e.default=k},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(141);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i)),s=n.getGroupHeader();return s&&"Replace"===s.getIntent()&&(a.isReplace=!0,a.caretAnnot=s),a}return i(e,t),e.prototype.onRightChangeSuccess=function(t){if(this.isReplace)return this.caretAnnot.moveRectByCharIndex(t.charIndex)},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=S(n(41)),i=(S(n(62)),S(n(33))),a=S(n(1)),s=n(21),c=n(4),u=n(17),l=n(94),f=S(n(61)),p=n(76),d=n(492),h=S(n(40)),g=S(n(92)),m=S(n(148)),v=n(13),y=S(n(0)),b=n(493),w=S(n(27)),_=S(n(3)),P=n(9),O=n(26),E=S(n(25)),x=S(n(65)),C=S(n(95)),A=S(n(149));function S(t){return t&&t.__esModule?t:{default:t}}function D(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function R(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function T(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var M=void 0,I=(0,d.getSoundContextMenu)(".fv__pdf-page-annot-handler-rect"),k=function(t){function e(){return R(this,e),j(this,t.apply(this,arguments))}return T(e,t),e.prototype._resize=function(e,n,o){e==l.DIR_NORTH||e==l.DIR_SOUTH||e==l.DIR_EAST||e==l.DIR_WEST?this.enableUniform=!1:this.enableUniform=!0,t.prototype._resize.call(this,e,n,o)},e}(i.default),F=function(t){function e(n,o,r,i){R(this,e);var a=j(this,t.call(this,n,o,r,i));a.name="sound",a.$ui.addClass("fv__pdf-page-sound-annot-container"),a.$handler.addClass("fv__pdf-page-sound-annot-handler-container"),n.action&&(a.actionViewer=a.pdfViewer.actionManager.get(n.action,a)),a.isVideoAudio=n.info.isAudioVideo,a.audioUrl="",a.audioBlobData=null,a.multiMediaFilename="",w.default.property(a,"shapeControl",(function(){var t=new k({start:function(t,e,n){return a.onStartUpdateShape(t,e,n)},update:function(t,e){return a.onShapeUpdating(t,e)},moving:function(t,e,n){return a.onShapeMoving(t,e,n)},end:function(t,e,n){return a.onShapeUpdateEnd(t,e,n)},resizable:!1,enableDiagonally:!0,moveable:!1,rotatable:!1,annotRender:i,enableSizeBox:!a.isMultiMedia()});return(a.groupMoveDisabled()||a.moveDisabled())&&t.disable(),t}));var s=a.pdfViewer.i18n;return y.default.i18n=function(t){return s.t(t)},a.apRenderer=new A.default(a),a}return T(e,t),e.getDefaultContextMenuConfig=function(){return I},e.setContextMenuConfig=function(t){M=t},e.prototype.isMultiMedia=function(){return this.isVideoAudio},e.prototype.redraw=function(){return this.groupMoveDisabled()||this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),this.render()},e.prototype.getTileConfig=function(t,e){var n=this.pdfViewer,o=n.getSmartScale(t),r=n.config.tileSize,i=this.annot,a=i.getDeviceRect(1,e),s=i.getDeviceRect(o,e),c=s.right-s.left,u=s.bottom-s.top;return[Math.ceil(u/r),Math.ceil(c/r),c,u,r,o,t,e,a.left,a.top]},e.prototype.swapLowHighBit=function(t){for(var e=new Int8Array(t).length,n=new DataView(t),o=new Int8Array(e),r=0;r<e;r+=2)o[r]=n.getInt8(r+1),o[r+1]=n.getInt8(r);return o},e.prototype.getMultiMediaUrl=function(){var t=this.annot;if(!this.audioBlobData){var e=t.info.soundObj,n=e.data;this.multiMediaFilename=t.info.title;var o=e.sampleRate,r=e.sampleBits,i=e.channel,a=this.swapLowHighBit(n),s=(a.length,(0,b.encodeWAV)(a,i,o,r)),c=new Blob([new Int8Array(s.buffer)],{type:"audio/wav"});this.audioBlobData=c}var u=this.pdfViewer.resourceGenerator(x.default.PDF_DOCUMENT_CLOSING,C.default.OBJECT_URL).expose().URL;return this.audioUrl=u.createObjectURL(this.audioBlobData,{type:"audio/wav"}),this.audioUrl},e.prototype.render=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,o=arguments[2],r=this.annot;this.scale=t,this.rotate=n;var i,a,c=this.getTileConfig(t,n),u=this.tileCanvas,l=this.getAnnotFlag();return l.checkInvisible()||l.checkHidden()||r.isEmpty()||r.isDeleted()||r.rectIsEmpty()?(u&&u.hideContainer(),Promise.resolve()):(u&&u.showContainer(),this.isHTMLSimulate()?this.apRenderer.render(t,n):u?(u.setVisibleRect(o),(i=u).redraw.apply(i,D(c))):(u=this.tileCanvas=new f.default((function(t,n,o,i,a,c,u,l){return e.getPDFPage().getAnnotBitmap(r.getId(),(0,s.pt2px)(c),e.rotate,{x:u*c+n*a,y:l*c+t*a,width:o,height:i})}),this.$ui),this.isMultiMedia()&&this.$ui.append('<div class="fv__pdf-page-sound-annot-container"></div>'),u.setVisibleRect(o),(a=u).redraw.apply(a,D(c))))},e.prototype.afterRender=function(t){if(t.transformed){if(this.isActive){this.activeRect();var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e)}if(this.isMultiMedia()&&this.$player&&this.$player.is(":visible")){var n=this.annot.getDeviceRect(this.scale,this.rotate);this.$player.css({left:n.left+"px",top:n.top+"px",width:n.right-n.left+"px",height:n.bottom-n.top+"px"})}}},e.prototype.activeRect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot,e=this.$rect=this.$rect||this.rectInit(),n=this.scale,o=this.rotate,r=t.getDeviceRect(n,o);e.css({left:r.left+"px",top:r.top+"px",width:r.right-r.left+"px",height:r.bottom-r.top+"px"})},e.prototype.rectInit=function(){var t=this,e=this.$handler,n=(0,_.default)(this.createRectDom());e.append(n);var o=n[0],r=this.rectHammer=new Hammer.Manager(o,{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]});return r.add(new Hammer.Tap({event:"doubletap",taps:2})),r.add(new Hammer.Tap({event:"singletap"})),r.get("doubletap").recognizeWith("singletap"),r.get("singletap").requireFailure("doubletap"),r.on("doubletap",(function(e){!1!==t.onDoubleTap(e)&&t.rectDoubleTap()})),this.contextMenu=this.pdfViewer.viewerUI.createContextMenu(this,e.get(0),this.getContextMenuConfig()),n.data(d.defaultAnnotComponentKey,this),n},e.prototype.getContextMenuConfig=function(){if(M)return M;var t=this.constructor.getDefaultContextMenuConfig();for(var e in t)switch(e){case"items":var n=t[e],o=this.pdfViewer.i18n;for(var r in n){var i=n[r];i.nameI18nKey&&(i.name=o.t(i.nameI18nKey))}}return this.constructor.setContextMenuConfig(t),t},e.prototype.onShapeRotated=function(t){t<0&&(t+=360),t<=45||t>315?t=0:t>45&&t<=135?t=270:t>135&&t<=225?t=180:t>225&&t<=315||t>-135&&t<=-45?t=90:console.warn("degree error: "+t);var e=this.annot.getRotation();return(e+=t)>=360&&(e-=360),this.setRotation(e)},e.prototype.onStartUpdateShape=function(t,e,n){this.editDebouncePromise||(this.editDebouncePromise=new u.DebounceAsyncTaskExecutor(0))},e.prototype.onShapeUpdating=function(t,e){var n=this;this.pdfViewer.config.highPerformance&&this.editDebouncePromise.exec((function(){return n.setRect(t)}))},e.prototype.onShapeMoving=function(t,e){var n=this;this.pdfViewer.config.highPerformance&&this.editDebouncePromise.exec((function(){return n.moveTo(t.left,t.top).then((function(t){n.setMargin()}))}))},e.prototype.onShapeUpdateEnd=function(t,e,n){var o=this;return this.editDebouncePromise.exec((function(){return o.moveTo(t.left,t.top).then((function(e){return o.setRect(t)})).then((function(t){o.setMargin()}))}))},e.prototype.setMargin=function(){var t=this.getGroupRect(),e=this.getRect();this.shapeControl.setMargin(E.default.expandOffset(e,t))},e.prototype.active=function(){t.prototype.active.call(this),this.activeRect(),this.$handler.addClass("active")},e.prototype.play=function(){this.doAction()},e.prototype.doAction=function(){var t=this;if(this.isMultiMedia()){var e=this.getMultiMediaUrl();if(!e)return;if(this.$handler.addClass("active"),this.$player)this.player?this.player.src=e:(this.player=this.$handler[0].querySelector(".fv__pdf-player audio"),this.player&&(this.player.src=e)),this.$player.show();else{if(O.isIE&&!O.isEdge){var n=this.pdfViewer.i18n.t("viewer_:contextmenu.annot.noSptPlayPlsDownload");return this.pdfViewer.viewerUI.alert(n),!1}this.$handler.append('<div class="fv__pdf-player fv__hide" style="position:absolute;" ><audio style="width: 200px" src="'+e+'" poster="#" width="100px" height="100%" controls="controls" controlsList="nodownload">Your browser does not support the video tag.</audio><button><i class="fv__close-video"></i></button></div>'),this.$player=this.$handler.find(".fv__pdf-player"),this.player=this.$handler[0].querySelector(".fv__pdf-player audio"),(O.isIE||O.isEdge)&&this.player.addClass("IE-player"),(P.isMobile||P.isTablet)&&this.player.removeAttribute("controls"),this.$handler[0].querySelector(".fv__close-video").addEventListener("click",(function(e){URL.revokeObjectURL(t.audioUrl),t.player&&t.player.pause&&t.player.pause(),t.$player.hide()}))}var o=this.annot.getDeviceRect(this.scale,this.rotate);this.$player.css({left:o.left+"px",top:o.top+"px",width:o.right-o.left+"px",height:o.bottom-o.top+"px"}),this.$rect&&this.$rect.css({left:"-100px",top:"-100px",width:0,height:0}),this.player&&this.player.play&&this.player.play()}else this.actionViewer&&this.actionViewer.active()},e.prototype.download=function(){this.getMultiMediaUrl();var t=this.audioBlobData;O.isIE&&!O.isEdge&&(this.multiMediaFilename=this.multiMediaFilename+".wav"),(0,p.download)(t,this.multiMediaFilename,{type:"audio/wav"})},e.prototype.addAction=function(t){this.actionViewer=this.pdfViewer.actionManager.get(t,this)},e.prototype.showContextMenu=function(t,e){this.contextMenu&&(this.contextMenu.setCurrentTarget(this),this.contextMenu.showAt(t,e))},e.prototype.createRectDom=function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui},e.prototype._getShapeControllerBoundaryBox=function(){var t=this.getPDFPage(),e=(0,s.getWHByMatrix)(t.getPxWidth(),t.getPxHeight(),this.scale,this.rotate),n=o(e,2);return{left:0,top:0,right:n[0],bottom:n[1]}},e.prototype.updateRender=function(){return Promise.resolve()},e.prototype.unActive=function(){t.prototype.unActive.call(this),this.$handler.removeClass("active")},e.prototype.removeAnnot=function(){var t=this;if(this.deleteDisabled&&"function"==typeof this.deleteDisabled&&this.deleteDisabled()||!this.deleteDisabled)return!1;var e=this.pdfViewer,n=e.eventEmitter,o=this.annot;return Promise.resolve((e.customs.removeAnnotBefore||h.default)(this)).then((function(e){if(n.emit(a.default.removeActionAnnotationBefore,t),!1!==e)return o.getPDFPage().removeAnnot(o).then((function(e){if(e)return n.emit(a.default.removeActionAnnotationSuccess,t);n.emit(a.default.removeActionAnnotationFailed,t)}),(function(){n.emit(a.default.removeActionAnnotationFailed,t)}))}))},e.prototype.removeAnnotRender=function(){this.renderDestroy(),this.parent().remove()},e.prototype.removeAction=function(){this.actionViewer=null},e.prototype.getPropertyOptions=function(){var t=this.annot,e=(0,c.colorConvertor)(t.getBorderColor(),"#");-1==e&&(e=0);var n=t.getBorderWidth(),o=t.getBorderStyle();return{color:e,opacity:t.getOpacity(),borderWidth:n,borderStyle:o,disabled:this.propertyDisabled()}},e.prototype.updateContextMenu=function(){var t=this.getContextMenuConfig();this.isMultiMedia()&&(this.player.paused?delete t.items.pause:delete t.items.play),this.$handler.contextMenu(t)},e.prototype.playOrPause=function(){var t=this.player;t.paused?t.play():t.pause()},e.prototype.showPropertiesDialog=function(){this.$propertiesControl=new g.default(this,document.body),this.updateDeleteStatus(!0)},e.prototype.hidePropertiesDialog=function(){this.$propertiesControl.close(),this.updateDeleteStatus(!1)},e.prototype.showActionsDialog=function(){this.$actionsControl=new m.default(this,document.body,this.annot.action),this.updateDeleteStatus(!0)},e.prototype.hideActionsDialog=function(){this.$actionsControl.close(),this.updateDeleteStatus(!1)},e.prototype.setBorderWidth=function(t){var e=this;return this.annot.setBorderWidth(t).then((function(t){return t?e.updateRender().then((function(){return e.pdfViewer.eventEmitter.emit(a.default.updateActionAnnotation,e),t})):t}))},e.prototype.setColor=function(t){var e=this;return this.annot.setBorderColor(t).then((function(t){return t?e.updateRender().then((function(){return e.pdfViewer.eventEmitter.emit(a.default.updateActionAnnotation,e),t})):t}))},e.prototype.setBorderStyle=function(t,e){var n=this;return this.annot.setBorderStyle(t,e).then((function(t){return t?n.updateRender().then((function(){n.pdfViewer.eventEmitter.emit(a.default.updateActionAnnotation,n)})):t}))},e.prototype.setOpacity=function(t){var e=this;return t==this.annot.getOpacity()?Promise.resolve(!0):this.annot.setOpacity(t).then((function(t){return t?e.updateRender().then((function(){return e.pdfViewer.eventEmitter.emit(a.default.updateActionAnnotation,e),t})):t}))},e.prototype.setRotation=function(t){var e=this,n=this.annot.getRotation(),o=Math.abs(t-n);if(0==o)return!0;var r=this.annot.getRect(),i=r.right-r.left,s=r.top-r.bottom;if(90==o||270==o){var c=(i-s)/2;r.left+=c,r.right-=c,r.top+=c,r.bottom-=c}return this.annot.setRect(r).then((function(n){return n?e.annot.setRotation(t).then((function(t){return t?e.updateRender().then((function(){return e.active(),e.pdfViewer.eventEmitter.emit(a.default.updateActionAnnotation,e),t})):t})):n}))},e.prototype.renderDestroy=function(){this.tileCanvas&&this.tileCanvas.destroy(),this.tileCanvas&&this.$handler.remove()},e.prototype.doubleTapAnnot=function(){return!1},e.prototype.tapAnnot=function(e){return this.pdfViewer.getStateHandlerManager().getCurrentStates().getStateName()===v.STATE_HANDLER_HAND?this.doAction():t.prototype.tapAnnot.call(this,e)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.contextMenu&&this.contextMenu.destroy()},e}(r.default);e.default=F},function(t,e,n){(function(t,o){var r;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(i){e&&e.nodeType,t&&t.nodeType;var a="object"==typeof o&&o;a.global!==a&&a.window!==a&&a.self;var s,c=2147483647,u=/^xn--/,l=/[^\x20-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,h=String.fromCharCode;function g(t){throw new RangeError(p[t])}function m(t,e){for(var n=t.length,o=[];n--;)o[n]=e(t[n]);return o}function v(t,e){var n=t.split("@"),o="";return n.length>1&&(o=n[0]+"@",t=n[1]),o+m((t=t.replace(f,".")).split("."),e).join(".")}function y(t){for(var e,n,o=[],r=0,i=t.length;r<i;)(e=t.charCodeAt(r++))>=55296&&e<=56319&&r<i?56320==(64512&(n=t.charCodeAt(r++)))?o.push(((1023&e)<<10)+(1023&n)+65536):(o.push(e),r--):o.push(e);return o}function b(t){return m(t,(function(t){var e="";return t>65535&&(e+=h((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=h(t)})).join("")}function w(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function _(t,e,n){var o=0;for(t=n?d(t/700):t>>1,t+=d(t/e);t>455;o+=36)t=d(t/35);return d(o+36*t/(t+38))}function P(t){var e,n,o,r,i,a,s,u,l,f,p,h=[],m=t.length,v=0,y=128,w=72;for((n=t.lastIndexOf("-"))<0&&(n=0),o=0;o<n;++o)t.charCodeAt(o)>=128&&g("not-basic"),h.push(t.charCodeAt(o));for(r=n>0?n+1:0;r<m;){for(i=v,a=1,s=36;r>=m&&g("invalid-input"),((u=(p=t.charCodeAt(r++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:36)>=36||u>d((c-v)/a))&&g("overflow"),v+=u*a,!(u<(l=s<=w?1:s>=w+26?26:s-w));s+=36)a>d(c/(f=36-l))&&g("overflow"),a*=f;w=_(v-i,e=h.length+1,0==i),d(v/e)>c-y&&g("overflow"),y+=d(v/e),v%=e,h.splice(v++,0,y)}return b(h)}function O(t){var e,n,o,r,i,a,s,u,l,f,p,m,v,b,P,O=[];for(m=(t=y(t)).length,e=128,n=0,i=72,a=0;a<m;++a)(p=t[a])<128&&O.push(h(p));for(o=r=O.length,r&&O.push("-");o<m;){for(s=c,a=0;a<m;++a)(p=t[a])>=e&&p<s&&(s=p);for(s-e>d((c-n)/(v=o+1))&&g("overflow"),n+=(s-e)*v,e=s,a=0;a<m;++a)if((p=t[a])<e&&++n>c&&g("overflow"),p==e){for(u=n,l=36;!(u<(f=l<=i?1:l>=i+26?26:l-i));l+=36)P=u-f,b=36-f,O.push(h(w(f+P%b,0))),u=d(P/b);O.push(h(w(u,0))),i=_(n,v,o==r),n=0,++o}++n,++e}return O.join("")}s={version:"1.4.1",ucs2:{decode:y,encode:b},decode:P,encode:O,toASCII:function(t){return v(t,(function(t){return l.test(t)?"xn--"+O(t):t}))},toUnicode:function(t){return v(t,(function(t){return u.test(t)?P(t.slice(4).toLowerCase()):t}))}},void 0===(r=function(){return s}.call(e,n,e,t))||(t.exports=r)}()}).call(this,n(496)(t),n(104))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={yellow:["CMYK",0,0,1,0],white:["G",1],transparent:["T"],red:["RGB",1,0,0],magenta:["CMYK",0,1,0,0],ltGray:["G",.75],green:["RGB",0,1,0],gray:["G",.5],dkGray:["G",.25],cyan:["CMYK",1,0,0,0],blue:["RGB",0,0,1],black:["G",0],equal:function(t,e){},convert:function(t,e){var n,o,r;if(e==t[0])return[].concat(t);switch(t[0]){case"T":n=-1,o=-1,r=-1;break;case"G":n=o=r=t[1];break;case"RGB":n=t[1],o=t[2],r=t[3];break;case"CMYK":n=(1-t[4])*(1-t[1]),o=(1-t[4])*(1-t[2]),r=(1-t[4])*(1-t[3])}switch(e){case"T":return;case"G":return["G",(n+r+o)/3];case"RGB":return["RGB",n,o,r];case"CMYK":var i=1-n,a=1-o,s=1-r,c=Math.min(Math.min(i,a),s);return 0!=c?(temp2=Math.round(rep_v/100*c),Math.round(100*temp2),Math.round(100*(i-temp2)),Math.round(100*(a-temp2)),Math.round(100*(s-temp2))):(Math.round(100*i),Math.round(100*a),Math.round(100*s),0),["CMYK",n,o,r]}}};e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(4);var i=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.delayValue=!1,this.changePropsQueue=[],this.annot=e,this.pageIndex=n}return t.prototype._delayOrExec=function(t){this.delay?this.changePropsQueue.push(t):t()},t.prototype.destroy=function(){var t=this;this.annot.getPage().removeAnnotById(this.annot.getId()).then((function(){t.annot=null}))},t.prototype.getProps=function(){var t=this,e={},n=[],o=Object.getOwnPropertyNames(this.constructor.prototype),r=this;return o.map((function(e){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);o&&!o.get||n.push(e)})),Object.getOwnPropertyNames(this.constructor.prototype.__proto__.__proto__).map((function(e){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype.__proto__.__proto__,e);o&&!o.get||n.push(e)})),console.log("key:",n),n.map((function(t){var n=r[t];void 0!==n?(e[t]=n,console.log("this."+t+"=",e[t])):console.log("this."+t+'="undefined"')})),e},t.prototype.setProps=function(t){var e=this,n=[];Object.getOwnPropertyNames(this.constructor.prototype).map((function(t){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);o&&!o.set||n.push(t)}));var o=Object.getOwnPropertyNames(this.constructor.prototype.__proto__.__proto__);for(var r in o.map((function(t){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype.__proto__.__proto__,t);o&&!o.set||n.push(t)})),this.delay=!0,t)this[r]=t[r],console.log("this."+r+"=",t[r]);this.delay=!1},t.prototype.getStateInModel=function(t){if("text"===this.annot.info.type)return"Marked"===t?[this.annot.getMarkedState(0)]:"Review"===t?[this.annot.getReviewState(0)]:void 0},o(t,[{key:"type",get:function(){return"Annotation"}},{key:"component",get:function(){return PDFJSGlobal.app.viewerApp.getPDFPageRender(this.pageIndex).annotsRender.getAnnotRender(this.name).component}},{key:"author",get:function(){return this.annot.getTitle()},set:function(t){var e=this;this._delayOrExec((function(){e.annot.setTitle(t)}))}},{key:"borderEffectIntensity",get:function(){return this.annot.getCloudIntensity()},set:function(t){var e=this;this._delayOrExec((function(){e.annot.setBorderStyle(5,t)}))}},{key:"borderEffectStyle",get:function(){return 5===this.annot.getBorderStyle()?"C":""},set:function(t){var e=this;this._delayOrExec((function(){if(""!==t&&"C"!==t)throw new TypeError('effectStyle either empty string or "C"');"C"===t?e.annot.setBorderStyle(5,1):e.annot.setBorderStyle(0,[])}))}},{key:"contents",get:function(){return this.annot.getContent()},set:function(t){var e=this;this._delayOrExec((function(){e.annot.setContent(t)}))}},{key:"creationDate",get:function(){return this.annot.getCreateDateTime()}},{key:"delay",get:function(){return this.delayValue},set:function(t){!1===t?(this.delayValue=!1,this.changePropsQueue.forEach((function(t){t&&t()})),this.changePropsQueue=[]):!0===t&&(this.delayValue=!0)}},{key:"doc",get:function(){return this.annot.page.doc}},{key:"hidden",get:function(){return 2===(this.annot.getFlags()&&2)},set:function(t){var e=this;this._delayOrExec((function(){var n=e.annot.getFlags();return t?n|=2:n&=-3,e.annot.setFlags(n)}))}},{key:"inReplyTo",get:function(){return this.annot.info.IRT},set:function(t){}},{key:"intent",get:function(){return this.annot.getIntent()},set:function(t){var e=this;this._delayOrExec((function(){e.annot.setIntent(t)}))}},{key:"lock",get:function(){return 128===(this.annot.getFlags()&&128)},set:function(t){var e=this;this._delayOrExec((function(){var n=e.annot.getFlags();return t?n|=128:n&=-129,e.annot.setFlags(n)}))}},{key:"modDate",get:function(){return this.annot.getModifiedDateTime()},set:function(t){var e=this;this._delayOrExec((function(){e.annot.setModifiedDateTime(t)}))}},{key:"name",get:function(){return this.annot.id},set:function(t){var e=this;this._delayOrExec((function(){e.annot.id=t}))}},{key:"noView",get:function(){return 32===(this.annot.getFlags()&&32)},set:function(t){var e=this;this._delayOrExec((function(){var n=e.annot.getFlags();return t?n|=32:n&=-33,e.annot.setFlags(n)}))}},{key:"opacity",get:function(){return this.annot.getOpacity()},set:function(t){var e=this;this._delayOrExec((function(){if(Object.prototype.toString.call(t).indexOf("Number")<0)throw new Error("only accept Number");if(t<0||t>1)throw new Error("opacity range: 0 - 1");e.annot.setOpacity(t)}))}},{key:"page",get:function(){return this.annot.getPage().getIndex()},set:function(t){}},{key:"print",get:function(){return 4===(this.annot.getFlags()&&4)},set:function(t){var e=this;this._delayOrExec((function(){var n=e.annot.getFlags();return t?n|=4:n&=-5,e.annot.setFlags(n)}))}},{key:"rect",get:function(){var t=this.annot.getRect(),e=t.left,n=t.right,o=t.top;return[e,t.bottom,n,o]},set:function(t){var e=this;this._delayOrExec((function(){if(!Array.isArray(t))throw new Error("only accept Array");e.annot.setRect({left:t[0],right:t[2],top:t[3],bottom:t[1]})}))}},{key:"readOnly",get:function(){return 64===(this.annot.getFlags()&&64)},set:function(t){var e=this;this._delayOrExec((function(){var n=e.annot.getFlags();return t?n|=64:n&=-65,e.annot.setFlags(n)}))}},{key:"refType",get:function(){this.annot.info.RT},set:function(t){var e=this;this._delayOrExec((function(){if("R"!==t&&"Group"!==t)throw new TypeError('refType should be "R" or "Group"');e.annot.info.RT=t}))}},{key:"richContents",get:function(){},set:function(t){}},{key:"seqNum",get:function(){return this.annot.info.objNumber}},{key:"strokeColor",get:function(){return(0,r.convertFromNumberToJSColor)(this.annot.info.borderColor)},set:function(t){var e=this;this._delayOrExec((function(){var n=(0,r.colorConvertor)(t,"int",0);e.annot.setBorderColor(n)}))}},{key:"style",get:function(){return this.annot.getBorderStyle()},set:function(t){var e=this;this._delayOrExec((function(){var n=t.borderStyle,o=t.styleParam;e.annot.setBorderStyle(n,o)}))}},{key:"subject",get:function(){return this.annot.getSubject()},set:function(t){var e=this;this._delayOrExec((function(){e.annot.setSubject(t)}))}},{key:"toggleNoView",get:function(){return 256===(this.annot.getFlags()&&256)},set:function(t){var e=this;this._delayOrExec((function(){var n=e.annot.getFlags();return t?n|=256:n&=-257,e.annot.setFlags(n)}))}},{key:"popupOpen",get:function(){if("freetext"!==this.type&&"sound"!==this.type&&"fileattachment"!==this.type)return this.annot.getPopup().getOpenStatus()},set:function(t){var e=this;"freetext"!==this.type&&"sound"!==this.type&&"fileattachment"!==this.type&&this._delayOrExec((function(){e.annot.getPopup().setOpenStatus(t).then((function(){t&&e.component.showReplyDialog("comment")}))}))}},{key:"popupRect",get:function(){if("freetext"!==this.type&&"sound"!==this.type&&"fileattachment"!==this.type){var t=this.annot.getPopup().getRect(),e=t.left,n=t.right,o=t.top;return[e,t.bottom,n,o]}},set:function(t){var e=this;"freetext"!==this.type&&"sound"!==this.type&&"fileattachment"!==this.type&&this._delayOrExec((function(){if(!Array.isArray(t))throw new Error("only accept Array");e.annot.getPopup().setRect({left:t[0],right:t[2],top:t[3],bottom:t[1]})}))}}]),t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=(l(n(269)),l(n(153))),i=l(n(546)),a=(l(n(270)),l(n(30))),s=n(28),c=l(n(547)),u=l(n(20));function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var p=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return o.pdfViewer=n,o.prepare(),o.eventBinderMap=[],o.eventBinders=[],o.activeBinders=[],o.defaultBinderName=null,o}return f(e,t),e.prototype.setDefaultBinderName=function(t){this.defaultBinderName=t},e.prototype.activeDefaultBinder=function(){return!!this.defaultBinderName&&(this.activeBinder(this.defaultBinderName),!0)},e.prototype.getDefaultKeyboardEventBinder=function(){return this.getBinder(this.defaultBinderName)},e.prototype.getBinder=function(t){return this.eventBinderMap[t]},e.prototype.registerKeybinding=function(t,e,n){this.eventBinderMap[t].registerKeybinding(e,n)},e.prototype.activeBinder=function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=this.activeBinders.slice(0),r=this.eventBinderMap[t];if(o.indexOf(r)>-1||!r)return u.default;r.isActive=!0,n?(o.forEach((function(t){t.isActive=!1})),this.activeBinders=[r]):this.activeBinders.push(r);var i=!1;return function(){if(!i)if(i=!0,r.isActive=!1,n)o.forEach((function(t){t.isActive=!0})),e.activeBinders=o.slice(0);else{var t=e.activeBinders.indexOf(r);t>-1&&e.activeBinders.splice(t,1)}}},e.prototype.getActiveBinders=function(){return this.activeBinders.slice(0)},e.prototype.findCommandsInActiveBinders=function(t){var e=new r.default(t.ctrlKey,t.shiftKey,t.altKey,t.metaKey,t.keyCode);return this.activeBinders.map((function(t){var n=t.getCommandOfKeybinding(e);if(n)return{command:n,binder:t}})).filter((function(t){return!!t}))},e.prototype.findCommands=function(t){var e=new r.default(t.ctrlKey,t.shiftKey,t.altKey,t.metaKey,t.keyCode);return this.eventBinders.map((function(t){var n=t.getCommandOfKeybinding(e);if(n)return{command:n,binder:t}})).filter((function(t){return!!t}))},e.prototype.addEventBinder=function(t,e){if(e){var n=this.eventBinderMap[e];if(!n)throw new Error("cannot found the event binder you attach to: "+e+"!");n.attach(t)}else this.eventBinders.push(t);this.eventBinderMap[t.name]=t,t.setKeyboard(this)},e.prototype.prepare=function(){var t=this,e=void 0,n=function(n){if(t.pdfViewer.isShortcutKeyEnabled())for(var i=new r.default(n.ctrlKey,n.shiftKey,n.altKey,n.metaKey,n.keyCode),a=(0,s.eventPath)(n),u=function(o){var r=a[o];if(t.activeBinders.some((function(t){var o=t.acceptElement(r);return o&&(e=new c.default(n),t.handleKeydownEvent(i,e)),o})))return{v:void 0}},l=0;l<a.length;l++){var f=u(l);if("object"===(void 0===f?"undefined":o(f)))return f.v}},a=function(n){if(t.pdfViewer.isShortcutKeyEnabled()&&(!e||!e.isStopped)){for(var o=new r.default(n.ctrlKey,n.shiftKey,n.altKey,n.metaKey,n.keyCode),a=new i.default(n.ctrlKey,n.shiftKey,n.altKey,n.metaKey,o.keyCode,n),c=(0,s.eventPath)(n),u=function(e){var r=c[e];return t.activeBinders.some((function(t){return!!t.acceptElement(r)&&t.handleEvent(o,a)}))?"break":a.propagationStopped?(n.stopPropagation(),"break"):void 0},l=0;l<c.length;l++){if("break"===u(l))break}a.preventedDefault&&n.preventDefault()}};window.addEventListener("keydown",n),window.addEventListener("keyup",a),this.addDestroyHook((function(){return window.removeEventListener("keydown",n)})),this.addDestroyHook((function(){return window.removeEventListener("keyup",a)}))},e}(a.default);e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyBindingRule=void 0;var o,r=n(153);(o=r)&&o.__esModule;function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.KeyBindingRule=function(){function t(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;i(this,t),this.command=e,this.keybinding=n,this.priority=o}return t.prototype.equals=function(t){return this.keybinding.equals(t.keybinding)},t}();var a=function(){function t(){i(this,t),this._keybindingRules=[]}return t.prototype.registerKeyBindingRule=function(t){var e=this._keybindingRules.filter((function(e){return e.equals(t)}));if(e.length>0){var n=!0,o=!1,r=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;if(s.equals(t)){if(s.command===t.command)return void(s.priority=t.priority);throw new Error("shortcut conflict: "+s.command+" and "+t.command+" has the same keybindings: "+t.keybinding.toString())}}}catch(t){o=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}}this._keybindingRules.push(t)},t.prototype.getKeyBindings=function(t){return this._keybindingRules.filter((function(e){return e.command===t})).sort((function(t,e){return t.priority>e.priority?-1:1})).reduce((function(t,e){var n=!0,o=!1,r=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){if(i.value.equals(e))return}}catch(t){o=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}return t.push(e),t}),[]).map((function(t){return t.keybinding}))},t.prototype.getCommandOfKeybinding=function(t){var e=this._keybindingRules.filter((function(e){return t.equals(e.keybinding)}));if(e.length>0)return e[0].command},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(154)),r=i(n(153));function i(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t._readModifiers=function(t){t=t.trim().toLowerCase();var e=!1,n=!1,o=!1,r=!1,i=void 0;do{i=!1,/^ctrl[\+\-]/.test(t)&&(e=!0,t=t.substring("ctrl-".length),i=!0),/^shift[\+\-]/.test(t)&&(n=!0,t=t.substring("shift-".length),i=!0),/^alt[\+\-]/.test(t)&&(o=!0,t=t.substring("alt-".length),i=!0),/^meta[\+\-]/.test(t)&&(r=!0,t=t.substring("meta-".length),i=!0),/^win[\+\-]/.test(t)&&(r=!0,t=t.substring("win-".length),i=!0),/^cmd[\+\-]/.test(t)&&(r=!0,t=t.substring("cmd-".length),i=!0)}while(i);var a=void 0,s=t.indexOf(" ");return s>0?(a=t.substring(0,s),t=t.substring(s)):(a=t,t=""),{remains:t,ctrl:e,shift:n,alt:o,meta:r,key:a}},t.parseKeybinding=function(t){var e=this._readModifiers(t),n=o.default.fromString(e.key);return new r.default(e.ctrl,e.shift,e.alt,e.meta,n)},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(22),i=(o=r)&&o.__esModule?o:{default:o};function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.render,o=void 0===n?function(t){return t}:n,r=e.payloadFieldName,i=void 0===r?"file":r,s=e.origin,c=void 0===s?"":s,u=e.uploadSnapshotAPIPath,l=e.method,f=void 0===l?"POST":l;a(this,t),this.render=o,this.payloadFieldName=i,this.origin=c,this.uploadSnapshotAPIPath=u,this.method=f}return t.prototype.uploadImage=function(t){var e=new XMLHttpRequest,n=(0,i.default)();return e.addEventListener("readystatechange",(function(t){4==e.readyState&&(e.status>=200&&e.status<300||304==e.status?n.resolve(e.responseText):n.reject(e))})),e.open(this.method,this.origin+"/"+this.uploadSnapshotAPIPath+"?filefield="+this.payloadFieldName,!0),e.setRequestHeader("Content-Type","image/png"),e.setRequestHeader("X_File_Name","snapshot.png"),e.send(t),n.promise},t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(119)),r=a(n(559)),i=(n(6),n(28),a(n(1)),a(n(160)));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=[{iconClass:"fv__icon-popup-copy",name:"copy_selected_text"},{iconClass:"fv__icon-toolbar-text-highlight",name:"create-text-highlight"},{iconClass:"fv__icon-toolbar-strikeout",name:"create-strikeout"},{iconClass:"fv__icon-toolbar-underline",name:"create-underline"}],u=(0,r.default)({actions:c}),l=(new DOMParser).parseFromString(u,"text/html").body.firstElementChild,f=function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o));return r.selectionTool=new i.default(n,o),r.init(),r}return s(e,t),e.prototype.init=function(){var t=this;this.dom=l.cloneNode(!0),this.pageRender.$ui.get(0).appendChild(this.dom),this.dom.addEventListener("click",(function(e){if(!e.target.classList.contains("disabled")){var n=e.target.getAttribute("action");n&&t[n]&&t[n]().then((function(){t.hide()}))}}))},e.prototype.copy_selected_text=function(){return this.selectionTool.copy()},e.prototype["create-text-highlight"]=function(){return this.selectionTool.createTextHighlight()},e.prototype["create-strikeout"]=function(){return this.selectionTool.createStrikeout()},e.prototype["create-underline"]=function(){return this.selectionTool.createUnderline()},e.prototype.showAt=function(e,n){var o=this;t.prototype.showAt.call(this,e,n),this.dom.style.cssText+="\n            left: "+e+"px;\n            top: "+n+"px;\n        ",Promise.resolve(this.pageRender.docRender.getUserPermission().getValue()).then((function(t){32&t?o.dom.querySelector("div>div:not(.fv__icon-popup-copy)").classList.remove("disabled"):o.dom.querySelector("div>div:not(.fv__icon-popup-copy)").classList.add("disabled"),16&t?o.dom.querySelector("div>div.fv__icon-popup-copy").classList.remove("disabled"):o.dom.querySelector("div>div.fv__icon-popup-copy").classList.add("disabled"),o.dom.classList.add("fv__active")}))},e.prototype.hide=function(){t.prototype.hide.call(this),this.dom.classList.remove("fv__active")},e.prototype.destroy=function(){this.dom.remove(),this.selectionTool.destroy()},e}(o.default);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=i(n(74));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u=i(n(7)).default.getLogger("WebAppLifecycleInvoker"),l=function(){function t(){c(this,t),this.$hooks=[]}return t.resolveInstance=function(e){if("object"===(void 0===e?"undefined":o(e))){if(e.invoke)return function(t){function n(){return c(this,n),a(this,t.apply(this,arguments))}return s(n,t),n.prototype.prepare=function(){"function"==typeof e.prepare&&e.prepare.apply(this,arguments)},n.prototype.generate=function(){return e.invoke.apply(this,arguments)},n}(t)}else if("function"==typeof e)return r.default.isSubClassOf(e,t)?e:function(t){function n(){return c(this,n),a(this,t.apply(this,arguments))}return s(n,t),n.prototype.generate=function(){return e.apply(this,arguments)},n}(t);throw new Error("incorrect lifecycle invoker")},t.prototype.addReleaseHook=function(t){"function"==typeof t&&this.$hooks.push(t)},t.prototype.prepare=function(){},t.prototype.generate=function(){},t.prototype.release=function(){var t=[];this.$hooks.forEach((function(e,n){try{!1===e()&&t.push(e)}catch(t){u.error("An error occurred while release a resource",t)}})),this.$hooks=t},t.prototype.expose=function(){return{}},t.prototype.wrap=function(t,e,n){var r=Object.create(t),i=t[e];if("function"!=typeof i)throw new Error("Unable to wrap a member that is not function. Actual type: "+(void 0===i?"undefined":o(i)));return r[e]=n(i.bind(r)),r},t}();e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=new Error("Method not implemented."),r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.option=e}return t.prototype.loadForm=function(t){throw Error(o+": loadForm")},t.prototype.formFillerEvent=function(t,e,n,r){throw Error(o+": formFillerEvent")},t.prototype.updateField=function(t,e,n,r){throw Error(o+": updateField")},t.prototype.updateFormControl=function(t,e,n,r,i){throw Error(o+": updateFormControl")},t.prototype.updateMKProperty=function(t,e,n,r,i){throw Error(o+": updateMKProperty")},t.prototype.setWidgetAS=function(t,e,n,r){throw Error(o+": setWidgetAS")},t.prototype.setFieldValue=function(t,e,n){throw Error(o+": setFieldValue")},t.prototype.getFieldsValue=function(t){throw Error(o+": getFieldsValue")},t.prototype.addControl=function(t,e,n,r,i){throw Error(o+": addControl")},t.prototype.validateFieldName=function(t,e,n){throw Error(o+": validateFieldName")},t.prototype.renameField=function(t,e,n){throw Error(o+": renameField")},t.prototype.removeField=function(t,e){throw Error(o+": removeField")},t.prototype.removeControl=function(t,e,n){throw Error(o+": removeControl")},t.prototype.fixPageFields=function(t,e){throw Error(o+": fixPageFields")},t.prototype.init=function(){return Promise.resolve(!0)},t.prototype.getPDFDocIdByFile=function(t){throw Error(o+": getPDFDocIdByFile")},t.prototype.getPDFDocIdByChunk=function(t,e){throw Error(o+": getPDFDocIdByChunk")},t.prototype.getPDFDocIdByHttpRangeRequest=function(t){throw Error(o+": getPDFDocIdByHttpRangeRequest")},t.prototype.getPDFDocIdByStream=function(t){throw Error(o+": getPDFDocIdByStream")},t.prototype.parsePDFDocByPassword=function(t){throw Error(o+": parsePDFDocByPassword")},t.prototype.setIcons=function(){throw Error(o+": setIcons")},t.prototype.addIcon=function(t){throw Error(o+": addIcon")},t.prototype.removeIcon=function(t,e,n){throw Error(o+": removeIcon")},t.prototype.getPDFDocInfoById=function(t){throw Error(o+": getPDFDocInfoById")},t.prototype.getMetadata=function(t){throw Error(o+": getMetadata")},t.prototype.setMetadataValue=function(t,e,n){throw Error(o+": setMetadataValue")},t.prototype.getPageInfoByIndex=function(t,e){throw Error(o+": getPageInfoByIndex")},t.prototype.getPageInfoById=function(t,e){throw Error(o+": getPageInfoById")},t.prototype.getPageBitmap=function(t,e,n,r,i,a,s){throw Error(o+": getPageBitmap")},t.prototype.getPageAndHighlightBitmap=function(t,e,n,r,i){throw Error(o+": getPageAndHighlightBitmap")},t.prototype.setRenderFlag=function(t,e){throw Error(o+": setRenderFlag")},t.prototype.getAnnot=function(t,e,n){throw Error(o+": getAnnot")},t.prototype.getPageAnnotIDList=function(t,e){throw Error(o+": getPageAnnotIDList")},t.prototype.getAnnots=function(t,e,n){throw Error(o+": getAnnots")},t.prototype.getAnnotBitmap=function(t,e,n,r,i,a){throw Error(o+": getAnnotBitmap")},t.prototype.getAnnotBitmapByRange=function(t,e,n,r,i,a){throw Error(o+": getAnnotBitmapByRange")},t.prototype.getAnnotIdAtPoint=function(t,e,n,r){n.x,n.y;throw Error(o+": getAnnotIdAtPoint")},t.prototype.getAnnotIdAtDevicePoint=function(t,e,n,r,i){n.x,n.y;throw Error(o+": getAnnotIdAtDevicePoint")},t.prototype.getCharInfoAtPoint=function(t,e,n,r){n.x,n.y;throw Error(o+": getCharInfoAtPoint")},t.prototype.updateAnnotQuadPointsByCharIndex=function(t,e,n,r,i){throw Error(o+": updateAnnotQuadPointsByCharIndex")},t.prototype.setAnnotContent=function(t,e,n,r){throw Error(o+": setAnnotContent")},t.prototype.setAnnotBorderColor=function(t,e,n,r){throw Error(o+": setAnnotBorderColor")},t.prototype.setAnnotBorderStyle=function(t,e,n,r,i){throw Error(o+": setAnnotBorderStyle")},t.prototype.setAnnotBorderWidth=function(t,e,n,r){throw Error(o+": setAnnotBorderWidth")},t.prototype.setAnnotFillColor=function(t,e,n,r){throw Error(o+": setAnnotFillColor")},t.prototype.setAnnotBorderInfo=function(t,e,n,r){throw Error(o+": setAnnotBorderInfo")},t.prototype.setAnnotOpacity=function(t,e,n,r){throw Error(o+": setAnnotOpacity")},t.prototype.removeAnnot=function(t,e,n){throw Error(o+": removeAnnot")},t.prototype.annotAddReply=function(t,e,n,r){throw Error(o+": annotAddReply")},t.prototype.annotRemoveReply=function(t,e,n,r){throw Error(o+": annotRemoveReply")},t.prototype.annotRemoveAllStateAnnots=function(t,e,n){throw Error(o+": annotRemoveAllStateAnnots")},t.prototype.annotRemoveAllReply=function(t,e,n){throw Error(o+": annotRemoveAllReply")},t.prototype.setAnnotRect=function(t,e,n,r){throw Error(o+": setAnnotRect")},t.prototype.getAnnotInnerRect=function(t,e,n){throw Error(o+": getAnnotInnerRect")},t.prototype.moveAnnotTo=function(t,e,n,r){throw Error(o+": moveAnnotTo")},t.prototype.getPDFDocStream=function(t,e,n){throw Error(o+": getPDFDocStream")},t.prototype.setAnnotEndingStyle=function(t,e,n,r,i){throw Error(o+": setAnnotEndingStyle")},t.prototype.enableLineCaption=function(t,e,n,r){throw Error(o+": enableLineCaption")},t.prototype.setLineStartPoint=function(t,e,n,r,i){throw Error(o+": setLineStartPoint")},t.prototype.setLineEndPoint=function(t,e,n,r,i){throw Error(o+": setLineEndPoint")},t.prototype.setAnnotLeaderLineLength=function(t,e,n,r){throw Error(o+": setAnnotLeaderLineLength")},t.prototype.updateAnnotVertexes=function(t,e,n,r,i,a){throw Error(o+": updateAnnotVertexes")},t.prototype.setAnnotVertexes=function(t,e,n,r){throw Error(o+": setAnnotVertexes")},t.prototype.setAnnotAPBitmap=function(t,e,n,r,i){throw Error(o+": setAnnotAPBitmap")},t.prototype.setAction=function(t,e,n,r){throw Error(o+": setAction")},t.prototype.setAnnotInnerRect=function(t,e,n,r){r.left,r.right,r.top,r.bottom;throw Error(o+": setAnnotInnerRect")},t.prototype.setAnnotFlag=function(t,e,n,r){throw Error(o+": setAnnotFlag")},t.prototype.importFromFDFFile=function(t,e,n){throw Error(o+": importFromFDFFile")},t.prototype.importFromFDF=function(t,e,n){throw Error(o+": importFromFDF")},t.prototype.exportToFDF=function(t,e,n){throw Error(o+": exportToFDF")},t.prototype.addAnnot=function(t){throw Error(o+": addAnnot")},t.prototype.getTextRectsAtRect=function(t,e,n){throw Error(o+": getTextRectsAtRect")},t.prototype.getTextContinuousRectsAtRect=function(t,e,n){throw Error(o+": getTextContinuousRectsAtRect")},t.prototype.getTextContinuousRectsAtPoints=function(t,e,n,r,i,a,s){throw Error(o+": getTextContinuousRectsAtPoints")},t.prototype.getTextContinuousCharsAtRect=function(t,e,n){throw Error(o+": getTextContinuousCharsAtRect")},t.prototype.getTextSearch=function(t,e,n,r){throw Error(o+": getTextSearch")},t.prototype.textSearchFindNext=function(t){throw Error(o+": textSearchFindNext")},t.prototype.textSearchFindPrev=function(t){throw Error(o+": textSearchFindPrev")},t.prototype.textSearchDestroy=function(t){throw Error(o+": textSearchDestroy")},t.prototype.registerSecurityCallback=function(t,e){throw Error(o+": registerSecurityCallback")},t.prototype.destroyDoc=function(t){throw Error(o+": destroyDoc")},t.prototype.destroyPage=function(t,e){throw Error(o+": destroyPage")},t.prototype.setPopupOpenStatus=function(t,e,n,r){throw Error(o+": setPopupOpenStatus")},t.prototype.moveCaretRectByCharIndex=function(t,e,n,r){throw Error(o+": moveCaretRectByCharIndex")},t.prototype.setAnnotIntent=function(t,e,n,r){throw Error(o+": setAnnotIntent")},t.prototype.setUserName=function(t){throw Error(o+": setUserName")},t.prototype.getUserName=function(){throw Error(o+": getUserName")},t.prototype.addAnnotReviewState=function(t,e,n,r){throw Error(o+": addAnnotReviewState")},t.prototype.addAnnotMarkedState=function(t,e,n,r){throw Error(o+": addAnnotMarkedState")},t.prototype.setStateName=function(t,e,n,r){throw Error(o+": setStateName")},t.prototype.setNoteOpenStatus=function(t,e,n,r){throw Error(o+": setNoteOpenStatus")},t.prototype.removeAllStateAnnots=function(t,e,n){throw Error(o+": removeAllStateAnnots")},t.prototype.setDynamicInfoFormula=function(t,e){throw Error(o+": setDynamicInfoFormula")},t.prototype.getGraphicObjectsInfo=function(t,e){throw Error(o+": getGraphicObjectsInfo")},t.prototype.updatePageInfo=function(t,e){throw Error(o+": updatePageInfo")},t.prototype.setPageRotation=function(t,e,n){throw Error(o+": setPageRotation")},t.prototype.addPageImage=function(t,e,n,r,i,a,s){throw Error(o+": addPageImage")},t.prototype.addWatermark=function(t,e,n){throw Error(o+": addWatermark")},t.prototype.getGraphicsObjectAtPoint=function(t,e,n,r,i,a){throw Error(o+": getGraphicsObjectAtPoint")},t.prototype.setGraphicsObjectMatrix=function(t,e,n,r){throw Error(o+": setGraphicsObjectMatrix")},t.prototype.getGraphicsObjectBitmap=function(t,e,n,r,i){throw Error(o+": getGraphicsObjectBitmap")},t.prototype.setGraphicsObjectBorderStyle=function(t,e,n,r,i){throw Error(o+": setGraphicsObjectBorderStyle")},t.prototype.setGraphicsObjectBorderWidth=function(t,e,n,r){throw Error(o+": setGraphicsObjectBorderWidth")},t.prototype.setGraphicsObjectBorderColor=function(t,e,n,r){throw Error(o+": setGraphicsObjectBorderColor")},t.prototype.setGraphicsObjectFillColor=function(t,e,n,r){throw Error(o+": setGraphicsObjectFillColor")},t.prototype.setGraphicsObjectOpacity=function(t,e,n,r){throw Error(o+": setGraphicsObjectOpacity")},t.prototype.addGraphicsObject=function(t,e,n){throw Error(o+": addGraphicsObject")},t.prototype.setImageObjectOpacity=function(t,e,n,r){throw Error(o+": setImageObjectOpacity")},t.prototype.setImageObjectRotation=function(t,e,n,r){throw Error(o+": setImageObjectRotation")},t.prototype.insertSubAction=function(t,e,n,r){throw Error(o+": insertSubAction")},t.prototype.setSubAction=function(t,e,n,r){throw Error(o+": setSubAction")},t.prototype.removeAllSubActions=function(t,e){throw Error(o+": removeAllSubActions")},t.prototype.removeSubAction=function(t,e,n){throw Error(o+": removeSubAction")},t.prototype.setActionData=function(t,e,n){throw Error(o+": setActionData")},t.prototype.removeGraphicsObject=function(t,e,n){throw Error(o+": removeGraphicsObject")},t.prototype.removePageAllAnnot=function(t,e){throw Error(o+": removePageAllAnnot")},t.prototype.setTextObjectChar=function(t,e,n,r){throw Error(o+": setTextObjectChar")},t.prototype.setTextObjectItalic=function(t,e,n,r){throw Error(o+": setTextObjectItalic")},t.prototype.setTextObjectBold=function(t,e,n,r){throw Error(o+": setTextObjectBold")},t.prototype.setTextObjectFontSize=function(t,e,n,r){throw Error(o+": setTextObjectFontSize")},t.prototype.setTextObjectStandardFont=function(t,e,n,r){throw Error(o+": setTextObjectStandardFont")},t.prototype.setTextObjectFontByName=function(t,e,n,r,i,a){throw Error(o+": setTextObjectFontByName")},t.prototype.getTextObjectWoff=function(t,e,n){throw Error(o+": getTextObjectWoff")},t.prototype.getAnnotWoff=function(t,e,n){throw Error(o+": getAnnotWoff")},t.prototype.drmEncrypt=function(t,e){throw Error(o+": drmEncrypt")},t.prototype.getAction=function(t,e,n){throw Error(o+": getAction")},t.prototype.getActionFileStream=function(t,e,n){throw Error(o+": getActionFileStream")},t.prototype.getTemplates=function(t){throw Error(o+": getTemplates")},t.prototype.hideTemplate=function(t,e,n){throw Error(o+": hideTemplate")},t.prototype.spawnPage=function(t,e,n,r,i){throw Error(o+": spawnPage")},t.prototype.setFieldsValue=function(t,e,n){throw Error(o+": setFieldsValue")},t.prototype.removeTemplate=function(t,e){throw Error(o+": removeTemplate")},t.prototype.setUniqueId=function(t,e,n,r){throw Error(o+": setUniqueId")},t.prototype.getFontBufferByName=function(t,e){throw Error(o+": getFontBufferByName")},t.prototype.getPageSizes=function(t,e){throw Error(o+": getPageSizes")},t.prototype.setMeasureRatio=function(t,e,n,r){throw Error(o+": setMeasureRatio")},t.prototype.setMeasureUnit=function(t,e,n,r){throw Error(o+": setMeasureUnit")},t.prototype.startImportPages=function(t,e,n,r,i,a,s,c){throw Error(o+": startImportPages")},t.prototype.extractPages=function(t,e,n,r,i){throw Error(o+": extractPages")},t.prototype.getHeaderFooter=function(t){throw Error(o+": getHeaderFooter")},t.prototype.updateHeaderFooter=function(t,e){throw Error(o+": updateHeaderFooter")},t.prototype.addHeaderFooter=function(t,e){throw Error(o+": addHeaderFooter")},t.prototype.removeHeaderFooter=function(t){throw Error(o+": removeHeaderFooter")},t.prototype.paste=function(t,e,n,r,i,a){throw Error(o+": paste")},t.prototype.setDefaultAp=function(t,e,n,r){throw Error(o+": setDefaultAp")},t.prototype.addAnnotGroup=function(t,e,n,r){throw Error(o+": addAnnotGroup")},t.prototype.verifySignature=function(t,e){throw Error(o+": verifySignature")},t.prototype.setCalloutLinePoints=function(t,e,n,r){throw Error(o+": setCalloutLinePoints")},t.prototype.getGraphicsObjectByIndex=function(t,e,n){throw Error(o+": getGraphicsObjectByIndex")},t.prototype.getGraphicsObjectByIndex=function(t,e,n){throw Error(o+": getGraphicsObjectByIndex")},t.prototype.getGraphicsObjectsCount=function(t,e){throw Error(o+": getGraphicsObjectsCount")},t.prototype.getFontsInfo=function(t){notImplemented()},t.prototype.setInkList=function(t,e,n,r){throw Error(o+": setInkList")},t.prototype.getBookmarks=function(t){throw Error(o+": getBookmarks")},t.prototype.createRootBookmark=function(t){throw Error(o+": createRootBookmark")},t.prototype.insertBookmark=function(t,e,n,r,i,a,s){throw Error(o+": insertBookmark")},t.prototype.setBookmarkProperty=function(t,e,n){throw Error(o+": setBookmarkProperty")},t.prototype.removeBookmark=function(t,e){throw Error(o+": removeBookmark")},t.prototype.getLayerNodes=function(t){throw Error(o+": getLayerNodes")},t.prototype.setLayerNodeVisiable=function(t,e,n){throw Error(o+": setLayerNodeVisiable")},t.prototype.getThumb=function(t,e,n){throw Error(o+": getThumb")},t.prototype.movePageTo=function(t,e,n){throw Error(o+": movePageTo")},t.prototype.insertPage=function(t,e,n,r){throw Error(o+": insertPage")},t.prototype.removePage=function(t,e){throw Error(o+": removePage")},t.prototype.setAnnotIconName=function(t,e,n,r){throw Error(o+": setAnnotIconName")},t.prototype.setCalloutLineEndingStyle=function(t,e,n,r){throw Error(o+": setCalloutLineEndingStyle")},t.prototype.getDocAdditionalActions=function(t){throw Error(o+": getDocAdditionalActions")},t.prototype.getPageBox=function(t,e,n){throw Error(o+": getPageBox")},t.prototype.setDocColors=function(t,e){throw Error(o+": setDocColors")},t.prototype.markRedactAnnot=function(t,e,n,r){throw Error(o+": markRedactAnnot")},t.prototype.applyRedaction=function(t){throw Error(o+": applyRedaction")},t.prototype.redactApply=function(t,e,n){throw Error(o+": redactApply")},t.prototype.setRedactApplyFillColor=function(t,e,n,r){throw Error(o+": setRedactApplyFillColor")},t.prototype.getAnnotsRawData=function(t,e){throw Error(o+": getAnnotsRawData")},t.prototype.hasForm=function(t){throw Error(o+": hasForm")},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=n(21),i=h(n(70)),a=h(n(16)),s=n(162),c=h(n(276)),u=(h(n(277)),h(n(34))),l=h(n(22)),f=h(n(24)),p=n(157),d=n(64);function h(t){return t&&t.__esModule?t:{default:t}}function g(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var m=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.info=e,this.doc=n,this.engine=n.engine,this.api=n.api,this._pxWdith=(0,r.pt2px)(this.getWidth()),this._pxHeight=(0,r.pt2px)(this.getHeight()),this.annots=[],this.annotIdMap={},this.graphicObjects=[],this.info.AA[0]&&(this.openAction=this.doc.engine.actionFactory.createAction(this.info.AA[0],n,this.doc.api,this.doc.engine.eventEmitter,this)),this.info.AA[1]&&(this.closeAction=this.doc.engine.actionFactory.createAction(this.info.AA[1],n,this.doc.api,this.doc.engine.eventEmitter,this))}return t.prototype.getAction=function(t){return"open"==t?this.openAction:this.closeAction},t.prototype.getId=function(){return this.info.id},t.prototype.getInfo=function(){return this.info},t.prototype.getPDFDoc=function(){return this.doc},t.prototype.getIndex=function(){return this.info.index},t.prototype.getWidth=function(){return this.info.width},t.prototype.getHeight=function(){return this.info.height},t.prototype.updateInfo=function(){var t=this;return this.doc.api.updatePageInfo(this.getPDFDoc().getId(),this.getId()).then((function(e){t.info=e,t.doc.updatePageSize(e.index,t.getWidth(),t.getHeight()),t._pxWdith=(0,r.pt2px)(t.getWidth()),t._pxHeight=(0,r.pt2px)(t.getHeight()),t.doc.engine.eventEmitter.emit(a.default.pageInfoChange,t)}))},t.prototype.getRotation=function(){return this.info.rotation},t.prototype.setRotation=function(t){var e=this;if(!this.doc.checkPermission(f.default.assemble))throw new Error("Permission error");var n=this.getRotation();return t===n?Promise.resolve():this.doc.api.setPageRotation(this.getPDFDoc().getId(),this.getId(),t).then((function(t){return Promise.all([t,e.updateInfo()])})).then((function(t){var r=o(t,1)[0];e.doc.engine.eventEmitter.emit(a.default.pageRotationChange,e,r,n)}))},t.prototype.getRotationAngle=function(){var t=this.getRotation();if(4===t)throw new Error("Unknown rotation angle value: "+t);return 90*t},t.prototype.getPxWidth=function(){return this._pxWdith},t.prototype.getPxHeight=function(){return this._pxHeight},t.prototype.getPDFMatrix=function(){return new i.default(this.info.matrix)},t.prototype.getDeviceMatrix=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this.getPDFMatrix(),n=this.getHeight(),o=this.getWidth();e.translate(0,-n);var i=(0,r.pt2px)(1);switch(e.scale(i,-i),t){case 90:e.rotate(t/180*Math.PI),e.translate(i*n,0);break;case 180:e.rotate(t/180*Math.PI),e.translate(i*o,i*n);break;case 270:e.rotate(t/180*Math.PI),e.translate(0,i*o)}return e},t.prototype.getDeviceMatrix2=function(){var t=this.getPDFMatrix(),e=this.getRotation(),n=(0,r.pt2px)(1);switch(e%4){case 0:t.translate(0,-this.getHeight()),t.scale(n,-n);break;case 1:t.scale(-n,n),t.rotate(Math.PI/2);break;case 2:t.translate(-this.getWidth(),0),t.scale(-n,n);break;case 3:t.translate(this.getWidth(),this.getHeight()),t.rotate(Math.PI/2),t.scale(n,-n)}return t},t.prototype.getDevicePoint=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=this.getDeviceMatrix(n);return o.scale(e,e),o.transformPoint(t[0],t[1])},t.prototype.getDeviceRect=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=this.getDeviceMatrix(n);o.scale(e,e);var r=o.transformRect(t.left,t.top,t.right,t.bottom);return{left:r[0],top:r[1],right:r[2],bottom:r[3]}},t.prototype.reverseDevicePoint=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=this.getDeviceMatrix(n);return o.scale(e,e),o.setReverse(),o.transformPoint(t[0],t[1])},t.prototype.reverseDeviceOffset=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=this.getDeviceMatrix(n);return o.e=o.f=0,o.scale(e,e),o.setReverse(),o.transformPoint(t[0],t[1])},t.prototype.reverseDeviceRect=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=this.getDeviceMatrix(n);o.scale(e,e),o.setReverse();var r=o.transformRect(t.left,t.top,t.right,t.bottom);return{left:r[0],top:r[3],right:r[2],bottom:r[1]}},t.prototype.render=function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:["page"],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"view";if(!this.doc.checkPermission(f.default.print||f.default.printHigh))throw new Error("Permission error");if(t*=4/3,-1==o.indexOf("page")&&o.push("page"),"view"!=r&&"print"!=r)throw new Error("Param error: usage should be one of 'view', 'print'. Got '"+r+"' instead.");return this.getPageBitmap(t,e,n,o,r)},t.prototype.getPageBitmap=function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:["page"],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"view",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return this.doc.api.getPageBitmap(this.getPDFDoc().getId(),this.getId(),t,e,n,o,r,i)},t.prototype.getPageAndHighlightBitmap=function(t,e,n,o){return this.doc.api.getPageAndHighlightBitmap(this.getPDFDoc().getId(),this.getId(),t,e,n,o)},t.prototype.getAnnotBitmap=function(t,e,n,o){return this.doc.api.getAnnotBitmap(this.getPDFDoc().getId(),this.getId(),t,e,n,o)},t.prototype.getAnnotBitmapByRange=function(t,e,n,o){return this.doc.api.getAnnotBitmapByRange(this.getPDFDoc().getId(),this.getId(),t,e,n,o)},t.prototype.getAnnotCount=function(){return this.info.annotCount},t.prototype.getAnnots=function(){var t=this,e=Object.keys(this.annotIdMap);return this.annots.length&&e.length?Promise.resolve(e.map((function(e){return t.annotIdMap[e]}))):this.annotsPromise=this.annotsPromise||this.doc.api.getAnnots(this.getPDFDoc().getId(),this.getId()).then((function(e){return e.map((function(e){return t.doc.engine.annotManager.get(e,t)}))})).then((function(e){t.annotIdMap=e.reduce((function(t,e,n){return t[e.getId()]=e,t}),t.annotIdMap);var n=e.map((function(e){return e.reviseSummary((function(e){return t.annotIdMap[e]}))}));return Promise.all(n).then((function(){return t.annots=e,t.annots}))}))},t.prototype.getMarkupAnnots=function(){var t=!0===arguments[0];return this.getAnnots().then((function(t){return e(t)}));function e(e){e=e.filter((function(t){return t.isMarkup()&&!t.isDeleted()&&!("popup"===t.getType())&&!function(t){return"widget"===t}(t.getType())&&t.getReplies&&(!t.isStateAnnot||!t.isStateAnnot())}));var n=[],o=[];e.forEach((function(t){var e=t.getReplies();n.push.apply(n,g(e)),n.forEach((function t(e){if(!e&&e.getReplies){var o=e.getReplies();n.push.apply(n,g(o)),o.forEach(t)}})),o.push.apply(o,g(t.getReviewStates())),o.push.apply(o,g(t.getMarkedStates()))}));var r=e.filter((function(t){return-1===n.indexOf(t)&&-1===o.indexOf(t)}));return t?r.reduce((function(t,e){var n=e.getGroupHeader&&e.getGroupHeader()||e;return-1===t.indexOf(n)&&t.push(n),t}),[]):(r.forEach((function(t){"Replace"===t.getIntent()&&t.groupElements.forEach((function(e){if(e!==t){var n=r.indexOf(e);n>-1&&r.splice(n,1)}}))})),r)}},t.prototype.filterAnnot=function(t,e){for(var n=!t,o=0;o<this.annots.length;o++){var r=this.annots[o];if(n&&r.getType()==e)return r;r.info.objectNumber==t&&(n=!0)}return null},t.prototype.getAnnotTree=function(){var t=this,e=!0===arguments[0];return this.getMarkupAnnots(e).then((function(e){return t.getAnnots().then((function(t){var n=t.filter((function(t){return!t.isMarkup()&&!t.isDeleted()&&"popup"!==t.info.type}));return e.concat(n).sort((function(e,n){return t.indexOf(e)-t.indexOf(n)}))}))}))},t.prototype.getAnnotIdAtDevicePoint=function(t,e,n){return this.doc.api.getAnnotIdAtDevicePoint(this.getPDFDoc().getId(),this.getId(),{x:t[0],y:t[1]},e,n)},t.prototype.getCharInfoAtPoint=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!this.doc.checkPermission(f.default.extract||f.default.extractAccess))throw new Error("Permission error");return this.doc.api.getCharInfoAtPoint(this.getPDFDoc().getId(),this.getId(),{x:t[0],y:t[1]},e)},t.prototype.removeAnnot=function(t){return this.removeAnnotById(t.getId())},t.prototype.removeAnnotById=function(t){var e=this;if(!this.doc.checkPermission(f.default.annotForm))throw new Error("Permission error");return this.getAnnots().then((function(n){return e.doc.api.removeAnnot(e.getPDFDoc().getId(),e.getId(),t)})).then((function(t){return e.clearRelatives(t),e.clearAnnotIds(t)})).then((function(t){return e.doc.engine.eventEmitter.emit(a.default.annotationRemoved,t,e),t}))},t.prototype.changeAnnotId=function(t,e){t in this.annotIdMap&&(this.annotIdMap[e]=this.annotIdMap[t],delete this.annotIdMap[t])},t.prototype.removeAllAnnot=function(){var t=this;if(!this.doc.checkPermission(f.default.annotForm))throw new Error("Permission error");var e=void 0;return this.getAnnots().then((function(n){return e=Object.keys(t.annotIdMap),t.doc.api.removePageAllAnnot(t.getPDFDoc().getId(),t.getId())})).then((function(){return t.clearRelatives(e),t.clearAnnotIds(e)})).then((function(e){return t.doc.engine.eventEmitter.emit(a.default.annotationRemoved,e,t),e}))},t.prototype.getThumb=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;(0,d.assertThat)((0,d.isValidRotationAngle)(t),"Incorrect rotation degree: "+t+", it should be 0, 90, 180, or 270");var e=this.getPDFDoc().getId(),n=this.getId();return this.doc.api.getThumb(e,n,t)},t.prototype.clearRelatives=function(t){if(Array.isArray(t)&&t){var e=t.slice(0);this.getAnnots().then((function(t){t.some((function(t){return t instanceof u.default&&0==(e=t.removeRepliesByIdLocaly(e)).length}))}))}},t.prototype.clearAnnotIds=function(t){for(var e=[],n=this.annotIdMap,o=this.info,r=t.length;r--;){var i=t[r];e[r]=n[i],e[r]&&(e[r].info.isDeleted=!0),delete n[i],o.annotCount--}return e},t.prototype.addReplyAnnot=function(t){if(!this.doc.checkPermission(f.default.annotForm))throw new Error("Permission error");return this.addAddonAnnot(t)},t.prototype.addAddonAnnot=function(t){var e=this,n=t.getId();return this.info.annotCount++,this.annotIdMap[n]=t,t.reviseSummary((function(t){return e.annotIdMap[t]}))},t.prototype.removeAddonAnnotById=function(t){return!!this.annotIdMap[t]&&(this.info.annotCount-=1,delete this.annotIdMap[t])},t.prototype.addAnnot=function(t){var e=this;if(-1==y.indexOf(t.type))throw new Error("Annot type error");if(t.iconCatagory&&(t.iconCategory=t.iconCatagory),t.iconInfo&&t.iconInfo.catagory&&(t.iconInfo.category=t.iconInfo.catagory),!this.doc.checkPermission(f.default.annotForm))throw new Error("Permission error");var n=t.iconInfo;if(n&&!v(n.name))throw new Error("Only Latin alpha is available.");"number"==typeof t.page&&(t=(0,p.xfdfJsonToAddJson)(t));var o=this.getPDFDoc().getId(),r=this.getId(),i=this.doc.engine.getDefaultAnnotConfig()(t.type,t.intent);return t=Object.assign({},i,t),this.doc.api.addAnnot(o,r,t).then((function(t){return e._doAfterAddAnnots(t)}),(function(t){var e=(0,l.default)();return e.reject(t),e.promise}))},t.prototype.markRedactAnnot=function(t,e){var n=this;if(!this.doc.checkPermission(f.default.annotForm))throw new Error("Permission error");var o=this.getPDFDoc().getId(),r=this.getId();return this.doc.api.markRedactAnnot(o,r,t,e).then((function(t){return n._doAfterAddAnnots(t)}))},t.prototype.addAnnotGroup=function(t,e){var n=this;if(!this.doc.checkPermission(f.default.annotForm))throw new Error("Permission error");t.forEach((function(t){if(!t.type)throw new Error("Annot type error")}));var o=this.getPDFDoc().getId(),r=this.getId();return this.doc.api.addAnnotGroup(o,r,t,e).then((function(t){return n._doAfterAddAnnots(t)}))},t.prototype._doAfterAddAnnots=function(t){var e=this,n=t.map((function(t){return t&&e.doc.engine.annotManager.get(t,e)}));n.reduce((function(t,e){return t[e.getId()]=e,t}),this.annotIdMap);var o=n.map((function(t){return t.reviseSummary((function(t){return e.annotIdMap[t]}))}));return Promise.all(o).then((function(){return e.doc.engine.eventEmitter.emit(a.default.annotationAdd,n,e),n}))},t.prototype.getUnloadedAnnots=function(){var t=this,e=this.getPDFDoc().getId(),n=this.getId();return this.doc.api.getPageAnnotIDList(e,n).then((function(o){var r=o.filter((function(e){return!t.annotIdMap[e]}));return t.doc.api.getAnnots(e,n,r).then((function(e){return e.map((function(e){return e?t.doc.engine.annotManager.get(e,t):null}))})).then((function(e){var n=e.reduce((function(t,e){return t[e.getId()]=e,t}),{});return t.annotIdMap=o.reduce((function(e,o){return e[o]=t.annotIdMap[o]||n[o],e}),{}),Promise.all(Object.keys(t.annotIdMap).map((function(e){return t.annotIdMap[e].update()}))).then((function(t){return e}))})).then((function(e){t.annots=t.annots.concat(e);t.annots.map((function(e){return e.reviseSummary((function(e){return t.annotIdMap[e]}))}));return e}))}))},t.prototype.getTextRectsAtRect=function(t){return this.doc.api.getTextRectsAtRect(this.getPDFDoc().getId(),this.getId(),t)},t.prototype.getTextContinuousRectsAtRect=function(t){return this.doc.api.getTextContinuousRectsAtRect(this.getPDFDoc().getId(),this.getId(),t)},t.prototype.getTextContinuousRectsAtPoints=function(t,e,n,o,r){return this.doc.api.getTextContinuousRectsAtPoints(this.getPDFDoc().getId(),this.getId(),t,e,n,o,r)},t.prototype.getTextContinuousCharsAtRect=function(t){return this.doc.api.getTextContinuousCharsAtRect(this.getPDFDoc().getId(),this.getId(),t)},t.prototype.getTextSearch=function(t,e){var n=this;return this.doc.api.getTextSearch(this.getPDFDoc().getId(),this.getId(),t,e).then((function(t){return new c.default(t,n)}))},t.prototype.destroy=function(){return this.annots.forEach((function(t){return t.destroy()})),this.graphicObjects.forEach((function(t){return t.destroy()})),this.graphicObjects=null,this.annots=null,this.annotIdMap=null,this.info=null,this.doc=null,this.api=null,Promise.resolve()},t.prototype.getAnnotsByIdArray=function(t){var e=this;return this.getAnnots().then((function(){for(var n=e.annotIdMap,o=[],r=0,i=t.length;r<i;r++){var a;(a=n[t[r]])&&o.push(a)}return o}))},t.prototype.flatten=function(t){var e=this;if((t|3-t)<0)throw new Error("Param option error.");var n=this.doc;if(!(n.checkPermission(f.default.annotForm)&&n.checkPermission(f.default.modify)&&n.checkPermission(f.default.assemble)))throw new Error("Permission error");return this.doc.api.flatten(this.getPDFDoc().getId(),this.getId(),t).then((function(t){e.annotIdMap={},e.annots.length=0,e.info.annotCount=0;var o=void 0;return(o=e.doc.getPDFForm())&&o.reduceControl(e.getIndex(),t),e.doc.engine.eventEmitter.emit(a.default.flattened,e.getIndex()),e.doc.engine.eventEmitter.emit(a.default.docModified,n),!0}))},t.prototype.addImage=function(t,e){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!this.doc.checkPermission(8))throw new Error("Permission error");var r={x:e.left,y:e.bottom},i=e.right-e.left,s=e.top-e.bottom;return this.doc.api.addPageImage(this.getPDFDoc().getId(),this.getId(),t,r,i,s,o).then((function(t){if(t){var e=n.doc.engine.graphicsObjectManager.get(t,n);return e&&n.graphicObjects.push(e),n.doc.engine.eventEmitter.emit(a.default.imageAdded,n),e}return t}))},t.prototype.addWatermark=function(t){var e=this,n=t.type,o=t.text;if("text"!==n||!(0,s.allIsSpace)(o)){if(!this.doc.checkPermission(f.default.modify))throw new Error("Permission error");return this.doc.api.addWatermark(this.getPDFDoc().getId(),this.getId(),t).then((function(t){if(t)if(t.typeInEngine&&"AnnotType_e_Watermark"===t.typeInEngine){var n=[].concat(e.doc.engine.annotManager.get(t,e));e.doc.engine.eventEmitter.emit(a.default.annotationAdd,n,e),e.doc.engine.eventEmitter.emit(a.default.watermarkAdded,e)}else e.doc.engine.eventEmitter.emit(a.default.watermarkAdded,e);return t}))}},t.prototype.getGraphicsObjectsInRect=function(t,e,n){var o=this;if(n<0||n>3)throw new Error("Type error, only 0~3 are available. current is: "+n);return this.doc.api.getGraphicsObjectAtPoint(this.getPDFDoc().getId(),this.getId(),null,e,n,t).then((function(t){return t.map((function(t){var e=o.doc.engine.graphicsObjectManager.get(t,o);return e&&o.graphicObjects.push(e),e}))}))},t.prototype.getGraphicsObjectAtPoint=function(t,e,n){var o=this;return this.doc.api.getGraphicsObjectAtPoint(this.getPDFDoc().getId(),this.getId(),t,e,n).then((function(t){var e=o.doc.engine.graphicsObjectManager.get(t,o);return e&&o.graphicObjects.push(e),e}))},t.prototype.getGraphicsObjectByIndex=function(t){var e=this;return t<0?Promise.resolve(null):this.doc.api.getGraphicsObjectByIndex(this.getPDFDoc().getId(),this.getId(),t).then((function(t){var n=e.doc.engine.graphicsObjectManager.get(t,e);return n&&e.graphicObjects.push(n),n}))},t.prototype.getGraphicsObjectsCount=function(){return this.doc.api.getGraphicsObjectsCount(this.getPDFDoc().getId(),this.getId())},t.prototype.setGraphicsObjectMatrix=function(t){var e=this;if(!this.doc.checkPermission(f.default.modify))throw new Error("Permission error");return this.doc.api.setGraphicsObjectMatrix(this.getPDFDoc().getId(),t).then((function(t){e.doc.engine.eventEmitter.emit(a.default.graphicsUpdated,e)}))},t.prototype.addGraphicsObject=function(t){var e=this;if(!this.doc.checkPermission(f.default.modify))throw new Error("Permission error");return this.doc.api.addGraphicsObject(this.getPDFDoc().getId(),this.getId(),t).then((function(t){return e.doc.engine.eventEmitter.emit(a.default.graphicsUpdated,e),e.doc.engine.graphicsObjectManager.get(t,e)}))},t.prototype.pasteAnnot=function(t,e){var n=this;if(!this.doc.checkPermission(f.default.annotForm))throw new Error("Permission error");var o=this.getPDFDoc().getId(),r=this.getId();return this.doc.api.paste(o,r,t.getPage().getId(),"annot",t.getId(),e).then((function(t){return n._doAfterAddAnnots(t)}),(function(t){var e=(0,l.default)();return e.reject(t),e.promise}))},t.prototype.removeGraphicsObject=function(t){var e=this;return this.graphicObjects=this.graphicObjects.filter((function(t){return t.getId()!=t.getId()})),this.doc.api.removeGraphicsObject(this.getPDFDoc().getId(),this.getId(),t.getId()).then((function(t){e.doc.engine.eventEmitter.emit(a.default.graphicsUpdated,e)}))},t.prototype.pasteGraphicObject=function(t,e,n){var o=this;if(!this.doc.checkPermission(f.default.modify))throw new Error("Permission error");if(this.graphicObjects.some((function(e){return e.getId()==t}))){var r=this.getPDFDoc().getId(),i=this.getId();return this.doc.api.paste(r,i,this.doc.pageCache[e].getId(),"graphicObject",t,n).then((function(t){return o.doc.engine.eventEmitter.emit(a.default.graphicsUpdated,o),o.doc.engine.graphicsObjectManager.get(t,o)}),(function(t){var e=(0,l.default)();return e.reject(t),e.promise}))}},t.prototype.getMediaWidth=function(){return this.info.mediaWidth},t.prototype.getMediaHeight=function(){return this.info.mediaHeight},t.prototype.isCropped=function(){return this.info.isCropped},t.prototype.getPageBox=function(t){return this.doc.api.getPageBox(this.getPDFDoc().getId(),this.getIndex(),t)},t}(),v=function(t){for(var e=0;e<t.length;e++){if(t.charCodeAt(e)>256)return!1}return!0},y=["highlight","strikeout","underline","squiggly","caret","text","fileattachment","freetext","ink","line","link","circle","square","polygon","polyline","stamp","screen"];e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(568),i=(o=r)&&o.__esModule?o:{default:o};var a=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e,this.page=n,this.api=n.api}return t.prototype.getId=function(){return this.id},t.prototype.findNext=function(){return this.page.doc.api.textSearchFindNext(this.getId()).then((function(t){return t?new i.default(t):null}))},t.prototype.findPrev=function(){return this.page.doc.api.textSearchFindPrev(this.getId()).then((function(t){return t?new i.default(t):null}))},t.prototype.destroy=function(){return this.page.doc.api.textSearchDestroy(this.getId())},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(47)),r=s(n(163)),i=n(38),a=s(n(16));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=c(this,t.call(this,n,o));r.action=r.page.doc.engine.actionFactory.createAction(n.action,o.doc,r.page.doc.api,r.eventEmitter,r);var i=r.page.doc.getPDFForm();i&&i.mapFormControl(r.info.field||r.info.objNum,r);var a=r.getField();if(!a)return c(r);var s=a.getControl(n.objectNumber);return s&&!s.isEmpty()&&"display"in s.changes&&r.setDisplay(s.changes.display),r}return u(e,t),e.prototype.destroy=function(){this.action=null,t.prototype.destroy.call(this)},e.prototype.setDisplay=function(t,e){var n=this.info.flag;switch(t){case 0:n&=-2,n&=-3,n&=-33,n|=4;break;case 1:n&=-2,n&=-33,n|=6;break;case 2:n&=-2,n&=-5,n&=-3,n&=-33;break;case 3:n|=32,n|=4,n&=-3}return this.setFlagValue(n,e)},e.prototype.getObjNum=function(){return this.info.objectNumber},e.prototype.getFlags=function(){return-66&t.prototype.getFlags.call(this)},e.prototype.getAction=function(){return this.action},e.prototype.getRotation=function(){return this.info.rotation},e.prototype.getField=function(){if(!this.page)return null;var t=this.page.getPDFDoc().getPDFForm();return t&&t.getField(this.info.field)},e.prototype.getMKProperty=function(t){switch(t){case"borderColor":return this.info.MKBorderColor;case"fillColor":return this.info.fillColor;case"normalCaption":case"downCaption":case"rolloverCaption":return this.info[t]}},e.prototype.setMKProperty=function(t,e){switch(t){case"borderColor":if(this.info.MKBorderColor==e)return Promise.resolve(!0);this.info.MKBorderColor=e;break;default:if(this.info[t]==e)return Promise.resolve(!0);this.info[t]=e}return this.updateMKProperty(t,e)},e.prototype.updateMKProperty=function(t,e){var n=this.page,o=n.getPDFDoc();return this.page.doc.api.updateMKProperty(o.getId(),n.getId(),this.getId(),t,e)},e.prototype.updateUI=function(t){this.engine.eventEmitter.emit(a.default.annotationUpdated,[this],this.getPDFPage(),"widget"),this.render&&this.render(t)},e.prototype.setRenderNotifier=function(t){this.render=t},e.prototype.update=function(){return t.prototype.update.call(this)},e.prototype.getAdditionalAction=function(t){if(!this.engineActions)for(var e in this.engineActions={},this.info.AA)this.engineActions[e]=r.default.createAction(this.info.AA[e],this);return this.engineActions[t]?this.engineActions[t]:this.getField().getAction(t)},e.prototype.getAction=function(){return this.action},e.prototype.switchAS=function(){3==this.getField().getType()&&"Off"!=this.info.ApState||(1==this.info.ApStates.length&&"Off"!=this.info.ApStates[0]&&(this.info.ApStates[1]="Off"),this.info.ApStates[0]==this.info.ApState?this.info.ApState=this.info.ApStates[1]:this.info.ApState=this.info.ApStates[0],this.getField().setValue(this.info.ApState,this))},e.prototype.setAS=function(t,e){switch(t||(t="Off"),this.getField().getType()){case 3:if(e){if(e!=this){var n=this.info.ApStates.indexOf(t);i.FieldFlag.inUnison(this.getField().getFlags())?this.info.ApState=-1==n?"Off":t:this.info.ApState="Off"}}else this.info.ApStates[1]!==t?this.info.ApState="Off":this.info.ApState=t;break;default:if(e!=this){var o=this.info.ApStates.indexOf(t);this.info.ApState=-1==o?"Off":t}}var r=this.page,a=r.getPDFDoc();return this.page.doc.api.setWidgetAS(a.getId(),r.getId(),this.getId(),this.info.ApState)},e.prototype.getOnAS=function(){return"Off"!=this.info.ApStates[0]?this.info.ApStates[0]:this.info.ApStates[1]},e.prototype.getAS=function(){return this.info.ApState},e.prototype.getIconObjNum=function(t){switch(t){case 0:return this.info.normalIcon;case 1:return this.info.downIcon;case 2:return this.info.rollIcon}},e.prototype.setIconObj=function(t,e){var n=void 0;switch(e){case 0:n="normalIcon",this.info.normalIcon=t;break;case 1:n="downIcon",this.info.downIcon=t;break;case 2:n="rolloverIcon",this.info.rollIcon=t}return this.updateMKProperty(n,t)},e.prototype.setAction=function(t,e){var n=this;this.info.action=e;var o=this.page,r=o.doc;return-1==t?this.action=e:(this.info.AA[t]=e.info,this.engineActions||(this.engineActions={}),this.engineActions[t]=e),this.page.doc.api.setAction(r.getId(),o.getId(),this.getId(),e.info,t).then((function(t){return e.init(t,n.page.doc.engine.actionFactory,r,n.page.doc.api,n.page.doc.engine.eventEmitter,n),t}))},e.prototype.getDAFontColor=function(){var t=this.getDefaultAppearance().textColor;return t||this.getField().getDAFontColor()},e.prototype.getAlignment=function(){return void 0!==this.info.alignment?this.info.alignment:this.getField().getAlignment()},e.prototype.getDefaultAppearance=function(){var t=this.info.DA;if(t&&Object.keys(t).length>0)return t=Object.assign({},this.info.DA);var e=this.getField();return Object.assign({},e.info.DA)},e}(o.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(42)),r=(i(n(16)),n(43));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n,o,i,c,u,l){if(a(this,e),0==arguments.length){var f=s(this,t.call(this,r.Action_Type.uri));return s(f)}return s(this,t.call(this,n,o,i,c,u,l))}return c(e,t),e.prototype.getURI=function(){return this.info.uri},e.prototype.checkOutData=function(t){return t&&t.uri},e.prototype.setURI=function(t){var e=this;if(!t&&"string"==typeof t)throw new Error("param error. Only non-empty strings is available.");return this.doc?this.doc.api.setActionURI(this.doc.getId(),this.info.objNumber,t).then((function(t){return e.updateAction(t),t})):(this.info.uri=t,Promise.resolve())},e.prototype.exportToJson=function(){var e=t.prototype.exportToJson.call(this);return Object.assign(e,{uri:this.getURI()})},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(42)),r=(i(n(47)),n(43));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(){if(a(this,e),0==arguments.length){var n=s(this,t.call(this,r.Action_Type.resetForm));return s(n)}var o=Array.prototype.slice.call(arguments),i=o[0],c=o[1],u=o[2],l=o[3],f=o[4],p=o[5];return s(this,t.call(this,i,c,u,l,f,p))}return c(e,t),e.prototype.getFlags=function(){return this.info.flags},e.prototype.getFieldNames=function(){return this.info.fieldNames},e.prototype.checkOutData=function(t){return t&&t.fieldNames},e.prototype.setFieldNames=function(t){var e=this;return this.doc?this.doc.api.setActionFieldNames(this.doc.getId(),this.info.objNumber,t).then((function(t){return e.updateAction(t),t})):(this.info.fieldNames=t,Promise.resolve())},e.prototype.setFlags=function(t){var e=this;if(!this.doc)return this.info.flags=t,Promise.resolve();if(0!==t&&1!==t)throw new Error("param error. Only 0 or 1 is available.");return this.doc.api.setActionFlags(this.doc.getId(),this.info.objNumber,t).then((function(t){return e.updateAction(t),t}))},e.prototype.exportToJson=function(){var e=t.prototype.exportToJson.call(this);return Object.assign(e,{fieldNames:this.getFieldNames(),flags:this.getFlags()})},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(42),i=(o=r)&&o.__esModule?o:{default:o},a=n(43);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=["ZoomXYZ","ZoomFitPage","ZoomFitHorz","ZoomFitRect"],f=function(t){function e(n,o,r,i,u,l){if(s(this,e),0==arguments.length){var f=c(this,t.call(this,a.Action_Type.goto));return c(f)}return c(this,t.call(this,n,o,r,i,u,l))}return u(e,t),e.prototype.getDestination=function(){return this.info.destination},e.prototype.checkOutData=function(t){return function(t){var e=void 0;return e=!!t.type,{ZoomXYZ:function(){e=t.pageIndex!=null&&t.left!=null&&t.top!=null&&t.zoomFactor!=null},ZoomFitPage:function(){e=!!(t.pageIndex!=null)},ZoomFitHorz:function(){e=t.pageIndex!=null&&t.top!=null},ZoomFitVert:function(){e=t.pageIndex!=null&&t.left},ZoomFitRect:function(){e=t.pageIndex!=null&&t.left&&t.top!=null&&t.bottom!=null&&t.right!=null},ZoomFitBBox:function(){e=!!(t.pageIndex!=null)},ZoomFitBHorz:function(){e=t.pageIndex!=null&&t.top!=null},ZoomFitBVert:function(){e=t.pageIndex!=null&&t.left!=null}}[t.type](),e}(t)},e.prototype.setDestination=function(t){var e=this;if(!this.doc)return this.info.destination=t,Promise.resolve();if(-1===l.indexOf(t.zoomMode))throw new Error("param error. ZoomMode is invalid.");return t.pageIndex=Math.min(this.doc.getPageCount()-1,Math.max(t.pageIndex,0)),this.doc.api.setActionDestination(this.doc.getId(),this.info.objNumber,t).then((function(t){return e.updateAction(t),t}))},e.prototype.exportToJson=function(){var e=t.prototype.exportToJson.call(this);return Object.assign(e,{destination:this.getDestination()})},e}(i.default);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(42),i=(o=r)&&o.__esModule?o:{default:o},a=n(43);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(n,o,r,i,u,l){if(s(this,e),0==arguments.length){var f=c(this,t.call(this,a.Action_Type.hide));return c(f)}return c(this,t.call(this,n,o,r,i,u,l))}return u(e,t),e.prototype.getFieldNames=function(){return this.info.fieldNames},e.prototype.getHideState=function(){return this.info.hideState},e.prototype.setFieldNames=function(t){var e=this;return this.doc?this.doc.api.setActionFieldNames(this.doc.getId(),this.info.objNumber,t).then((function(t){return e.updateAction(t),t})):(this.info.fieldNames=t,Promise.resolve())},e.prototype.setHideState=function(t){var e=this;return this.doc?this.doc.api.setActionHideState(this.doc.getId(),this.info.objNumber,t).then((function(t){return e.updateAction(t),t})):(this.info.hideState=t,Promise.resolve())},e.prototype.checkOutData=function(t){return t&&t.fieldNames&&t.hideState},e.prototype.exportToJson=function(){var e=t.prototype.exportToJson.call(this);return Object.assign(e,{fieldNames:this.getFieldNames(),hideState:this.getHideState()})},e}(i.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e?this.json=e:(this.json={contentFormats:{},margin:{left:72,right:36,top:72,bottom:36},textSize:12,textColor:4278190080,hasTextShrinked:!1,hasFixedSized:!1,startPageNumber:1},this.empty=!0)}return t.prototype.destroy=function(){this.json=null},t.prototype.isEmpty=function(){return this.empty},t.prototype.getContent=function(t){return this.json.contentFormats[t]||this.json.contents[t]},t.prototype.setFont=function(t){this.json.fontId=t},t.prototype.setContentFormat=function(t,e){this.empty=!1,this.json.contentFormats[t]=e},t.prototype.setRange=function(t){if(t.start<1||t.end<1)throw new Error("page range is wrong.");if(t.filter<0||t.filter>2)throw new Error("Wrong filter.");this.json.range=t},t.prototype.setMargin=function(t){this.json.margin=t},t.prototype.setTextSize=function(t){this.json.textSize=t},t.prototype.setTextColor=function(t){this.json.textColor=t},t.prototype.enableTextShrinked=function(t){this.json.hasTextShrinked=t},t.prototype.enableFixedSizedForPrint=function(t){this.json.hasFixedSized=t},t.prototype.setStartDisplayingPage=function(t){this.json.startPageNumber=t},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){throw new Error("Unsupported operation!")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(32));function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return s(e,t),e.prototype.render=function(){(0,o.default)()},e}(r(n(30)).default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getUIXNamespace=i,e.getUIXNodeName=a,e.getUIXAttribute=s;var o=n(5);function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t){var e=t.nodeName.toLowerCase(),n=e.indexOf(o.NAMESPACE_SEPERATOR);return n>-1?e.substring(0,n):o.ROOT_MODULE_NAME}function a(t){var e=t.nodeName.toLowerCase(),n=e.indexOf(o.NAMESPACE_SEPERATOR);return e.substring(n+1)}function s(t,e){var n=t.getUIXNamespace();return n===o.ROOT_MODULE_NAME||0===n.length?t.getAttribute(e):t.getAttribute(""+n+o.NAMESPACE_SEPERATOR+e)}HTMLElement.prototype.remove||(HTMLElement.prototype.remove=function(){this.parentElement&&this.parentElement.removeChild(this)}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}),HTMLElement.prototype.getUIXNamespace=function(){return i(this)},HTMLElement.prototype.getUIXNodeName=function(){return a(this)},HTMLElement.prototype.getUIXAttribute=function(t){return s(this,t)},HTMLElement.prototype.addClass=function(t){var e;"string"==typeof t&&(e=this.classList).add.apply(e,r(t.split(" ")))},HTMLElement.prototype.removeClass=function(t){var e;"string"==typeof t&&(e=this.classList).remove.apply(e,r(t.split(" ")))},HTMLElement.prototype.clear=function(){for(var t=Array.prototype.slice.call(this.childNodes,0),e=t.length,n=0;n<e;n++){var o=t[n];this.removeChild(o)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(617)),r=i(n(15));function i(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=this._resolveMetadata(e);this.optionsResolver=new o.default(n.options)}return t.prototype._resolveMetadata=function(t){if(t===r.default)return r.default.getMetadata();var e=Object.getPrototypeOf(t.prototype).constructor,n=this._resolveMetadata(e),o=t.getMetadata();return{options:Object.assign({},n.options,o.options)}},t.prototype.resolve=function(t){this.optionsResolver.resolve(t)},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="[\\x20\\t\\r\\n\\f]",r="(?:\\\\.|[\\w-]|[^\0-\\xa0])+";e.rWhitespace=new RegExp("^"+o+"+"),e.rDirectlyChildren=new RegExp("^"+o+"*(\\>)"+o+"*"),e.rType=new RegExp("^@(("+r+"):)?("+r+")"),e.rName=new RegExp("^"+r+"(:"+r+")?"),e.rAttribute=new RegExp("^\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\0-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\0-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\]"),e.rMethods=new RegExp("^::((?:\\\\.|[\\w-]|[^\0-\\xa0])+)(?:\\(([^\\(\\)]*?)\\))"),e.rTrim=new RegExp("^"+o+"+|((?:^|[^\\\\])|(?:\\\\.)*)"+o+"+$","g"),e.rRoot=new RegExp("^!root")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(58)),r=a(n(23)),i=a(n(15));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){return!0},f=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.prototype.selectFrom=function(t){return t.reduce((function(t,e){return e instanceof i.default&&e.isContainer()||e instanceof r.default?t.concat(e.findChildren(l,!1)):t}),[]).reduce((function(t,e){return-1==t.indexOf(e)&&t.push(e),t}),[])},e}(o.default);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(66),i=(o=r)&&o.__esModule?o:{default:o},a=n(5);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.ORIENTATION_HORIZONTAL,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"no";s(this,e);var r=c(this,t.call(this));return r.orientation=n,r.gap=o,r}return u(e,t),e.getName=function(){return"flow"},e.prototype.render=function(t,e){var n=document.createElement("div");n.classList.add("fv__layout-flow",this.orientation,"gap_"+this.gap);var o=t.map((function(t){var e=document.createElement("div");return e.classList.add("fv__layout-flow-item"),e.appendChild(t),e}));n.append.apply(n,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(o)),e.appendChild(n)},e}(i.default);e.default=l},function(t,e,n){"use strict";var o=a(n(12)),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(48)),i=a(n(303));function a(t){return t&&t.__esModule?t:{default:t}}var s=o.default.root().getRegistry();for(var c in r)s.registerComponent(r[c]);s.components[i.default.getName()]=i.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(18)),r=a(n(644)),i=a(n(645));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n,o,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,a)),c=n.shrinkSize||parseInt(s.viewConfig.attrs["shrink-size"]);return s.shrinkSize=c||(s.parent?s.parent.shrinkSize:1024),s.shrinkTitle=n.shrinkTitle||s.viewConfig.attrs["shrink-title"]||"",s.according=n.according||s.viewConfig.attrs.according||"root",s.layout=new r.default,s.isShrinked=!1,s.retainCount=n.retainCount||parseInt(s.viewConfig.attrs["retain-count"])||1,s.btnList=new i.default(s,o,a),s.setRetainCount(s.retainCount),s}return s(e,t),e.getName=function(){return"group"},e.prototype.setPDFUIInstance=function(e){t.prototype.setPDFUIInstance.call(this,e),this.btnList.setPDFUIInstance(e)},e.prototype.render=function(){t.prototype.render.call(this),this.btnList.render()},e.prototype.createDOMElement=function(){var t=document.createElement("div");return t.classList.add("fv__ui-grouplist-item"),t},e.prototype.setRetainCount=function(t){if(t<0)throw new Error("Illegal argument: retainCount must large then -1 but actual "+t);this.retainCount=t,this.rerenderChildren()},e.prototype.setShrinkTitle=function(t){this.btnList.setShrinkTitle(t),this.shrinkTitle=this.btnList.title},e.prototype.rerenderChildren=function(){var t=this,e=this.children();0===e.length?(this.element.clear(),this.element.classList.add("fv__ui-is-empty")):this.element.classList.remove("fv__ui-is-empty");var n=e.slice(0,this.retainCount).map((function(t){return t.element}));e.slice(this.retainCount).forEach((function(e){t.btnList.append(e)})),e.length>this.retainCount&&n.push(this.btnList.moreElement),n.push(this.btnList.element),this.diffRenderer(this.element,n),this.btnList.updateShrinkComponents(e.slice(this.retainCount))},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this),this.btnList.mounted();var n=function(){e.updateShrinkStatus()};window.addEventListener("resize",n),this.addDestroyHook((function(){window.removeEventListener("resize",n)})),this.updateShrinkStatus()},e.prototype.updateShrinkStatus=function(){if(!(this.shrinkSize<=0)){var t=void 0;switch(this.according){case"screen":t=window.innerWidth;break;default:t=this.getRoot().element.offsetWidth}t<=this.shrinkSize?(this.element.classList.add("shrink"),this.isShrinked=!0):(this.element.classList.remove("shrink"),this.isShrinked=!1)}},e.prototype.doDestroy=function(){t.prototype.doDestroy.call(this),this.btnList.destroy()},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(136);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.$ui.get(0).parentElement;i(this,e);var r=a(this,t.call(this,n));return r.scrollHost=o,r}return s(e,t),e.create=function(t){return function(e){function n(o){return i(this,n),a(this,e.call(this,o,t))}return s(n,e),n}(e)},e.prototype.getScrollHost=function(){return this.scrollHost},e.prototype.scrollBy=function(t,e){var n=this.scrollHost;n.scrollBy?n.scrollBy(t,e):(n.scrollLeft=n.scrollLeft+t,n.scrollTop=n.scrollTop+e)},e.prototype.scrollTo=function(t,e){var n=this.scrollHost;n.scrollTo?n.scrollTo(t,e):(n.scrollLeft=t,n.scrollTop=e)},e.prototype.getScrollOffsetLeft=function(){return this.viewerRender.$ui.get(0).offsetLeft},e.prototype.getScrollOffsetTop=function(){return this.viewerRender.$ui.get(0).offsetLeft},e.prototype.getScrollTop=function(){return this.scrollHost.scrollTop},e.prototype.getScrollLeft=function(){return this.scrollHost.scrollLeft},e.prototype.getScrollX=function(){return this.getScrollLeft()},e.prototype.getScrollY=function(){return this.getScrollTop()},e.prototype.getWidth=function(){return this.scrollHost.offsetWidth-30},e.prototype.getHeight=function(){return this.scrollHost.offsetHeight},e.prototype.addScrollEventListener=function(e){return t.prototype.addScrollEventListener.call(this,e)},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=c},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(655),i=(o=r)&&o.__esModule?o:{default:o};t._babelPolyfill||n(295),e.default=i.default}).call(this,n(104))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(71),i=(o=r)&&o.__esModule?o:{default:o},a=n(28);var s=function(){},c=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.worker=e,this.promises=[];var o=this.cacheMap={},r=this.callMap={},i=this.listeners={};e.onmessage=function(t){var c=t.data;if(-1===c.type)return console.log(c.params);var u=c.destroyId;if(u)delete r[u];else{var l=c.params;if(c.uiListener){var f=i[c.uiListener];if(f)for(var p=0,d=f.length;p<d;p++)f[p](l)}else{var h=c.callId;if(h)Promise.resolve((r[h]||s)(l)).then((function(t){var n=t instanceof ArrayBuffer?[t]:[];(0,a.isIE10)()&&(n=null),e.postMessage({backId:c.backId,params:t},n)}));else{var g=c.id,m=o[g];delete o[g];var v=+c.type;try{m[["resolve","reject"][v]](l)}catch(t){0}setTimeout((function(){if(Object.keys(o).length<1){var t=n.listeners.idle;t&&t.forEach((function(t){return t()}));var e=n.listeners.reset;e&&e.forEach((function(t){return t()}))}}),0)}}}},e.onerror=function(t){console.error("WorkerError",t)}}return t.prototype.emit=function(t,e){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(0,a.isIE10)()&&(o=o[0]);var s=new Promise((function(a,s){var c=(0,i.default)("worker");n.cacheMap[c]={resolve:a,reject:s};try{n.worker.postMessage({name:t,params:e,id:c,more:r},o)}catch(o){n.worker.postMessage({name:t,params:e,id:c,more:r})}}));return s},t.prototype.calls=function(t){var e=(0,i.default)("worker_call");return this.callMap[e]=t,e},t.prototype.on=function(t,e){(this.listeners[t]=this.listeners[t]||[]).push(e)},t.prototype.off=function(t,e){var n=this.listeners[t];if(n){var o=n.indexOf(e);-1!=o&&n.splice(o,1)}},t.prototype.over=function(t){},t}();e.default=c},function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE__295__},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(658),i=(o=r)&&o.__esModule?o:{default:o};t._babelPolyfill||n(295),e.default=i.default}).call(this,n(104))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(18);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r)),a=i.viewConfig.attrs;return i.iconCls=n.iconCls||a["icon-cls"]||a["icon-class"],i.title=n.title||a.title,delete a.title,i}return i(e,t),e.getName=function(){return"sidebar-panel"},e.getMetadata=function(){return{options:{fullwidth:{type:"boolean",default:!1}}}},e.prototype.doInsert=function(t,e){var n=this.bodyElement.children;if(e<0||e>n.length)throw new Error("index out of bounds: "+e);this.rerenderChildren()},e.prototype.getContainerElement=function(){return this.bodyElement},e.prototype.prerender=function(){t.prototype.prerender.call(this),this.ctrlElement=document.createElement("a"),this.headerElement=document.createElement("div"),this.titleElement=document.createElement("span"),this.bodyElement=document.createElement("div")},e.prototype.render=function(){t.prototype.render.call(this),this.ctrlElement.classList.add("fv__ui-sidebar-nav-ctrl"),this.ctrlElement.innerHTML='<i class="fv__ui-sidebar-nav-icon '+this.iconCls+'"></i>',this.headerElement.classList.add("fv__ui-sidebar-panel-header"),this.titleElement.classList.add("fv__ui-sidebar-panel-title"),this.bodyElement.classList.add("fv__ui-sidebar-panel-body"),this.headerElement.appendChild(this.titleElement),this.element.appendChild(this.headerElement),this.element.appendChild(this.bodyElement),this.titleElement.setAttribute("data-i18n",this.title)},e.prototype.active=function(){this.isVisible&&t.prototype.active.call(this)},e.prototype.doActive=function(){if(this.element.classList.add("active"),this.ctrlElement.classList.add("active"),this.parent){var t=this.parent.lastActivePanel;t&&t!==this&&t.deactive(),this.parent.lastActivePanel=this,this.fullwidth&&this.parent.enableFullWidth(),this.parent.expand()}this.broadcast("active",this)},e.prototype.doDeactive=function(){this.element.classList.remove("active"),this.ctrlElement.classList.remove("active"),this.fullwidth&&this.parent.disableFullWidth()},e.prototype.doDisable=function(){this.ctrlElement.classList.add("disabled"),t.prototype.doDisable.call(this)},e.prototype.doEnable=function(){this.ctrlElement.classList.remove("disabled"),t.prototype.doEnable.call(this)},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this),this.ctrlElement.addEventListener("click",(function(t){e.disabled||(e.isActive?e.parent.collapse():e.active())}))},e.prototype.doHidden=function(){this.parent&&this.isActive&&this._activeSibling(),t.prototype.doHidden.call(this),this.ctrlElement.classList.add("fv__ui-hide")},e.prototype.doShown=function(){t.prototype.doShown.call(this),this.ctrlElement.classList.remove("fv__ui-hide")},e.prototype.removeElement=function(){this.ctrlElement.remove(),this.element.remove()},e.prototype.remove=function(){this.parent&&(this.isActive&&this._activeSibling(),t.prototype.remove.call(this))},e.prototype._activeSibling=function(){var t=this.nextSiblings();t||(t=this.parent.first()),t&&t.active()},e.prototype.updateDisableStatus=function(){this.disabled?this.ctrlElement.classList.add("disabled"):this.ctrlElement.classList.remove("disabled")},e.prototype.updateActiveStatus=function(){var t=this.isActive,e=this.$options.active;"function"==typeof e&&(t=e.call(this)),!1===t||this.active()},e.prototype.addCSSClass=function(e){e&&(t.prototype.addCSSClass.call(this,e),this.ctrlElement.classList.add(e))},e.prototype.removeCSSClass=function(e){e&&(t.prototype.removeCSSClass.call(this,e),this.ctrlElement.classList.remove(e))},e.prototype.getTooltipAnchor=function(){return this.ctrlElement},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(18),i=(o=r)&&o.__esModule?o:{default:o},a=n(5);function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.slotName=i.attrs.for,i.targetName=i.attrs.component,i}return s(e,t),e.getName=function(){return"slot"},e.prototype.createDOMElement=function(){var t=document.createElement("template");return window.HTMLTemplateElement||(t.style.cssText="display: none!important;"),t},e.prototype.rerenderChildren=function(){},e.prototype.mounted=function(){var e=void 0;if(!(e=this.targetName?this.getRoot().getComponentByName(this.targetName):this.parent))throw new Error("slot target not found: "+this.targetName);e.appendSlot(this.slotName,this),t.prototype.mounted.call(this)},e.prototype.acceptText=function(){return!1},e.prototype.appendText=function(t){this.$container.append(t)},e.prototype.localize=function(){return Promise.all(this.$container.map((function(t){return t.localize()})))},e.prototype.receiveBroadcast=function(e,n){t.prototype.receiveBroadcast.call(this,e,n),e===a.COMPONENT_BROADCAST_LOCALIZE&&this.$container.each((function(t){return t.localize()}))},e}(i.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(15),i=(o=r)&&o.__esModule?o:{default:o},a=n(5);function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.textContent=i.viewConfig.textContent,i}return s(e,t),e.getName=function(){return"text"},e.prototype.createDOMElement=function(){return document.createTextNode("")},e.prototype.render=function(){this.localize()},e.prototype.setText=function(t){this.textContent=t+"",this.localize()},e.prototype.doActive=function(){},e.prototype.doDeactive=function(){},e.prototype.doHidden=function(){},e.prototype.doShown=function(){},e.prototype.doDisable=function(){},e.prototype.doEnable=function(){},e.prototype.receiveBroadcast=function(e,n){t.prototype.receiveBroadcast.call(this,e,n),e===a.COMPONENT_BROADCAST_LOCALIZE&&this.localize()},e.prototype.localize=function(){var t=this;return this.localizer.translate(this.textContent,{},this.textContent).then((function(e){t.element.textContent=e}))},e.prototype.sync=function(e,n){switch(e){case"text":return this.setText(n),!0;default:return t.prototype.sync.call(this,e,n)}},e}(i.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(18)),r=i(n(172));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}n(671);var s=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.singleton=!!n.singleton||"true"===i.attrs.singleton,i}return a(e,t),e.getName=function(){return"accordion"},e.prototype.doInsert=function(t,e){if(!(t instanceof r.default))throw new Error("the typeof the accordion children must be <accordion-card>");var n=this.element.children;if(e<0||e>n.length)throw new Error("index out of bounds: "+e);this.rerenderChildren()},e.prototype.activeAll=function(){this.$container.each((function(t){return t.active()}))},e.prototype.deactiveAll=function(){this.$container.each((function(t){return t.deactive()}))},e.prototype.render=function(){t.prototype.render.call(this)},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(18),i=(o=r)&&o.__esModule?o:{default:o};function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}n(672);var s=void 0,c=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r)),a=i.viewConfig.attrs;return i.path=n.path||a.path||[],a.listdata?i.listdata=JSON.parse(a.listdata):i.listdata=n.listdata||{},i}return a(e,t),e.getName=function(){return"listbox"},e.prototype.destroy=function(){this.path=null,this.listdata=null,t.prototype.destroy.call(this)},e.prototype.createDOMElement=function(){return document.createElement("ul")},e.prototype.selectComponent=function(t,n){var o=t+"-"+n;e.setFocus(this.getComponentByName(o))},e.prototype.updateListData=function(t){var e=this;this.empty(),s=null,this.listdata=t||{};var n=this;Object.keys(this.listdata).map((function(t){var o=e.path.concat(t),r="listbox-item"+Math.random().toString(36).substr(2);return e.pdfUI.parseTemplate("<listbox-item name="+r+"></listbox-item>",[{target:r,config:{root:n,path:o,listdata:e.listdata[t],callback:e.$options.callback}}])})).forEach((function(t){e.append(t),t.mounted()}))},e.prototype.render=function(){t.prototype.render.call(this),this.element.classList.add("fv__ui-list-box"),this.$options.subList&&this.element.classList.add("fv__ui-sublist"),this.updateListData(this.listdata)},e.setFocus=function(t){s&&s.deactive(),s=t,t.active()},e}(i.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(18)),r=a(n(677)),i=a(n(122));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.title=n.title||i.attrs.title,i.iconCls=n.iconCls||i.attrs["icon-class"]||i.attrs.iconCls,delete i.attrs.title,i}return s(e,t),e.getName=function(){return"layer-header"},e.prototype.setTitle=function(t){this.title=t,this.titleElement.setAttribute("data-i18n",t),this.localizer.localizeElement(this.titleElement)},e.prototype.setIconCls=function(t){this.iconCls&&this.iconElement.classList.remove(this.iconCls),this.iconElement.classList.add(t),this.iconCls=t,this.iconElement.classList.remove("fv__ui-hide"),this.localizer.localizeElement(this.iconElement)},e.prototype.render=function(){t.prototype.render.call(this),this.element.classList.add("fv__ui-layer-header"),this.element.innerHTML=(0,r.default)(),this.iconElement=this.element.querySelector(".fv__ui-layer-header-icon"),this.titleElement=this.element.querySelector(".fv__ui-layer-header-title"),this.buttonsElement=this.element.querySelector(".fv__ui-layer-header-buttons"),this.buttonElementList=this.buttonsElement.querySelectorAll("a"),this.titleElement.setAttribute("data-i18n",this.title),this.iconCls?this.iconElement.classList.add(this.iconCls):this.iconElement.classList.add("fv__ui-hide")},e.prototype.rerenderChildren=function(){},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this);var n={close:function(){(e.findClosestComponent((function(t){return t instanceof i.default}))||e.parent).hide()}};this.buttonElementList.forEach((function(t){var o=t.getAttribute("action"),r=n[o];if(!r)throw new Error("handler of layer header button not found: "+o);t.addEventListener("click",r),e.addDestroyHook((function(){return t.removeEventListener("click",r)}))}))},e.prototype.getSlotContainer=function(t){switch(t){case"buttons":return this.buttonsElement}},e.prototype.sync=function(e,n){switch(e){case"title":return this.setTitle(n),!0;case"icon":return this.setIconCls(n),!0}return t.prototype.sync.call(this,e,n)},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(18)),r=i(n(121));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s={input:"change",select:"change",button:"click",a:"click"},c=function(t){function e(n,o,r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r))}return a(e,t),e.getName=function(){return"{native}"},e.getMetadata=function(){return{options:{handleon:{type:"string",required:!1}}}},e.prototype.isNative=function(){return!0},e.prototype.createDOMElement=function(){return document.createElement(this.viewConfig.nodeName)},e.prototype.acceptText=function(){return!0},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this);var n=this.handleon||s[this.element.nodeName]||"click",o=function(t){e.disabled||(e.controller instanceof r.default||(e.controller.handle(t),t.stopPropagation()),e.trigger(n,t))};this.element.addEventListener(n,o),this.addDestroyHook((function(){e.element.removeEventListener(n,o)}))},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=f(n(305)),r=f(n(7)),i=f(n(23)),a=n(285),s=f(n(306)),c=f(n(709)),u=f(n(12)),l=f(n(307));function f(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var d=r.default.getLogger("XMLTemplateParser"),h={},g=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return n.domParser=new DOMParser,n}return p(e,t),e.prototype.parseRoot=function(t){var e=this._parseTemplateChildrenElements(t);if(e.length>1)throw new Error("Multiple root element found in template: "+e.length);for(var n=e.item(0),o=n.getUIXNamespace(),r=n.getUIXNodeName(),i={},a=n.attributes.length,s=0;s<a;s++){var c=n.attributes.item(s);i[c.name]=c.value}return{namespace:o,nodeName:r,attributes:i}},e.prototype.parse=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._parseTemplateChildrenElements(t);if(e){var o=n.length;if(1!==o)throw new Error("Invalid template: quantity of root element out of bounds: "+o);var r=n[0];return this.$parseToUIXNode(r)}var i=[],a=!0,s=!1,c=void 0;try{for(var u,l=n[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var f=u.value,p=this.$parseToUIXNode(f);p&&i.push(p)}}catch(t){s=!0,c=t}finally{try{!a&&l.return&&l.return()}finally{if(s)throw c}}return i},e.prototype._parseTemplateChildrenElements=function(t){var e=void 0;if("string"==typeof t){t=t.trim();var n=void 0;if(h[t])n=h[t].cloneNode(!0);else{var o=(n=this.domParser.parseFromString(t,"text/html")).querySelector("parsererror");if(o)throw new Error("Parse template failed: "+o.innerText);h[t]=n.cloneNode(!0)}(e=n.body.children).length||(e=n.head.children)}else if("undefined"!=typeof HTMLTemplateElement&&t instanceof HTMLTemplateElement)e=t.content.children;else if(t instanceof DocumentFragment)if(t.children)e=t.children;else{var r=t.childNodes[0];for(e=[];r;)r.nodeType==Node.ELEMENT_NODE&&e.push(r),r=r.nextSibling}else{if(!(t instanceof Element))throw new TypeError("Illegal argument, template must be a html text or instance of window.Element");e=[t]}return e},e.prototype.$parseToUIXNode=function(t,e,n){var o=this.$convertToUIXNode(t,e,n);if(o){o.prelink();for(var r="undefined"!=typeof HTMLTemplateElement&&t instanceof HTMLTemplateElement?t.content.firstChild:t.firstChild;r;){var i=this.$parseToUIXNode(r);i&&o.append(i),r=r.nextSibling}return o.postlink(),o}},e.prototype.$convertToUIXNode=function(t,e,n){if(t instanceof Text){var o=t.textContent.trim();if(o.length>0)return new s.default({text:o})}else{if(t instanceof HTMLElement){var r=(0,a.getUIXNamespace)(t),f=(0,a.getUIXNodeName)(t),p={},h=!0,g=!1,m=void 0;try{for(var v,y=t.attributes[Symbol.iterator]();!(h=(v=y.next()).done);h=!0){var b=v.value;p[b.name.toLowerCase()]=b.value}}catch(t){g=!0,m=t}finally{try{!h&&y.return&&y.return()}finally{if(g)throw m}}p=Object.assign(p,n);var w=u.default._nostrictModule(r);if(!w)return;if("undefined"!=typeof HTMLTemplateElement&&t instanceof HTMLTemplateElement)return new c.default({namespace:r,nodeName:f,attrs:p,template:t.outerHTML,fragmentContent:t.content});var _=t.textContent,P=w.getFragment(f);if(P){var O=this.domParser.parseFromString(P.template,"text/html"),E=O.querySelector("parsererror");if(E)throw new Error("Parse template failed: "+E.innerText);var x=O.body.children;if(1!==x.length)throw new Error("Invalid template: quantity of root element out of bounds: "+x.length);var C=x.item(0),A=C.getAttribute("name");return C.setAttribute(l.default.NEXT_NAME_ATTR,A),this.$parseToUIXNode(C,P,p)}return e?new l.default({namespace:r,nodeName:f,attrs:p,text:_,template:t.outerHTML,fragment:e}):new i.default({namespace:r,nodeName:f,text:_,attrs:p,template:t.outerHTML})}d.debug("useless node: ",t)}},e}(o.default);e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(32));r(n(23));function r(t){return t&&t.__esModule?t:{default:t}}var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype.parseRoot=function(t){(0,o.default)()},t.prototype.parse=function(t){(0,o.default)()},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(166),i=(o=r)&&o.__esModule?o:{default:o},a=n(5);function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n){var o=n.text;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,{namespace:a.ROOT_MODULE_NAME,type:i.default.NODE_TYPE_TEXT,text:o}));return r.$$options.text=o,r}return s(e,t),e.prototype.clone=function(){var t=new e(this.$$options);return t.setComponentOptions(this.componentOptions),t},e}(i.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=c(n(166)),i=n(5),a=c(n(69)),s=c(n(23));function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var p=c(n(7)).default.getLogger("senior-node");function d(t){var e={};return Array.isArray(t.config)?e.config=[]:t.config&&(e.config={}),(0,a.default)(!0,e,t)}var h=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.namespace,a=void 0===o?i.ROOT_MODULE_NAME:o,s=n.nodeName,c=n.attrs,f=n.text,p=n.template,h=n.fragment;u(this,e);var g=l(this,t.call(this,{namespace:a,type:r.default.NODE_TYPE_FRAGMENT,nodeName:s,attrs:c,template:p,text:f}));return g.$$options.fragment=h,g.fragment=d(h),g.nestName=g.attrs[e.NEXT_NAME_ATTR],delete g.attrs[e.NEXT_NAME_ATTR],g}return f(e,t),o(e,null,[{key:"NEXT_NAME_ATTR",get:function(){return"fv__nest-name_576218"}}]),e.prototype.clone=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=new e(Object.assign({},this.$$options,{fragment:d(this.fragment)}));return n.children=this.children.map((function(e){var o=t?e.clone(t):e;return o.parent=n,o})),n.setComponentOptions(this.componentOptions),n.parent=this.parent,n},e.prototype.getFragment=function(){return d(this.fragment)},e.prototype.prelink=function(){var t=this,e=this.fragment.config;e&&(Array.isArray(e)||(e=[e]),e.forEach((function(e){e.target==t.nestName&&(t.componentOptions||p.info("duplicate config found",t.componentOptions,"will be covered by ",e),t.setComponentOptions(e))})))},e.prototype.postlink=function(){var t=this,e=this.fragment.config;e&&(Array.isArray(e)||(e=[e]),e.forEach((function(e){var n=t.querySelectorAll(e.target);n&&n.forEach((function(t){t.setComponentOptions(e)}))})))},e}(s.default);e.default=h},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(10)),r=i(n(121));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.order=-1/0,o}return a(e,t),e.getName=function(){return"process-scope"},e.prototype.processComponentOptions=function(t){t.callback||(t.callback=r.default)},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(10));function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=r(n(7)).default.getLogger("@sync"),u=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"sync"},e.prototype.componentPrelink=function(){var t=this,e=this.controller.watch(this.attrValue,(function(e){var n=t.subName;t.component.sync(n,e)||c.warn("this property("+n+") is not supported by this component <"+t.component.nodeName+"> and data synchronization was failed. the component instance: ",t.component)}));this.addDestroyHook(e)},e}(o.default);e.default=u},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(10);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n))}return i(e,t),e.getName=function(){return"contextmenu-options"},e.prototype.getOptions=function(){var t=this.controller.eval(this.attrValue),e={};return e.uixSelector=t["uix-selector"]||t.uixSelector,e.cssSelector=t["css-selector"]||t.cssSelector,e.before=t.before||function(t){return!0},e},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=a},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(14)),r=i(n(57));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r.default))}return a(e,t),e.getName=function(){return"HandController"},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=f(n(46)),r=n(94),i=f(n(75));n(191);var a=f(n(35)),s=n(31),c=f(n(1)),u=n(800),l=n(801);function f(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var d=function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return r.type=o,r.cursorStyle="fv__cursor-crosshair",r}return p(e,t),e.prototype.pageHandler=function(t){var e=this;this.pageRender=t;var n=t.$handler;n.addClass(this.cursorStyle);var o=n.get(0),r=this.hammer=new Hammer.Manager(o);r.add(new Hammer.Pan({direction:Hammer.DIRECTION_ALL}));var i=this.pdfViewer.getKeyboardEventBinder(s.ANNOTATION_CREATING_BINDER),u=!1,l=void 0,f=function(){};this.offCancelEvent=i.on(s.KEY_MAP_ESC_CREATING_DRAWING,(function(){f(),e.cancel(),u=!0})),r.on("panstart",(function(t){f=e.pdfViewer.switchKeyboardEventBinder(s.ANNOTATION_CREATING_BINDER),u=!1,l=o.getBoundingClientRect(),e.startPoint=(0,a.default)(o,t),e.start({left:e.startPoint.x,top:e.startPoint.y})})),r.on("panmove",(function(t){if(!u){var n=o.getBoundingClientRect(),r=n.left-l.left,i=n.top-l.top,a=e.correctPosition({x:e.startPoint.x+t.deltaX-r,y:e.startPoint.y+t.deltaY-i});return e.currentPoint=a,e.adjust(e.currentFakeAnnot,e.startPoint,a)}})),r.on("panend",(function(t){if(f(),!u){var n=o.getBoundingClientRect(),r=n.left-l.left,i=n.top-l.top,a=e.correctPosition({x:e.startPoint.x+t.deltaX-r,y:e.startPoint.y+t.deltaY-i});e.currentPoint=a,e.end(e.currentFakeAnnot,e.startPoint,a),l=null}})),r.on("pancancel",(function(t){if(f(),!u)return l=null,e.end(e.currentFakeAnnot,e.startPoint,e.currentPoint)})),this.removeZoomToSuccessEvent=this.pdfViewer.addEventListener(c.default.zoomToSuccess,(function(t){!u&&e.currentFakeAnnot&&(e.currentFakeAnnot.zoomTo(t),e.currentFakeAnnot.draw())}))},e.prototype.correctPosition=function(t){var e=this.pageRender.getShowWidth(),n=this.pageRender.getShowHeight();return{x:Math.max(0,Math.min(e,t.x)),y:Math.max(0,Math.min(n,t.y))}},e.prototype.start=function(t){var e=t.left,n=t.top;switch(this.type){case"circle":this.currentFakeAnnot=new l.FakeCircleAnnotation({pdfViewer:this.pdfViewer,pageRender:this.pageRender,info:{flags:4}});break;case"square":this.currentFakeAnnot=new u.FakeSquareAnnotation({pdfViewer:this.pdfViewer,pageRender:this.pageRender,info:{flags:4}});break;default:throw new Error("Will never happen")}this.currentFakeAnnot.setRect({left:e,top:n,right:e+10,bottom:n-10})},e.prototype.adjust=function(t,e,n){var o=e.x,r=e.y,a=n.x,s=n.y,c=void 0,u=void 0,l=Math.abs(o-a),f=Math.abs(r-s);i.default.isShift?(l=f=Math.min(l,f),c=a<o?o-l:o,u=s<r?r-f:r):(c=Math.min(o,a),u=Math.min(r,s)),l=Math.max(l,1),f=Math.max(f,1),t.setRect({left:c,top:u,right:c+l,bottom:u+f}),t.draw()},e.prototype.end=function(t,e,n){this.currentFakeAnnot.apply(),this.currentFakeAnnot=null},e.prototype.cancel=function(){this.currentFakeAnnot.destroy(),this.currentFakeAnnot=null},e.prototype.currentPointDirection=function(){var t=this.startPoint.x,e=this.startPoint.y,n=this.currentPoint.x,o=this.currentPoint.y;return n<=t?o<e?r.DIR_NORTH_WEST:r.DIR_SOUTH_WEST:o<e?r.DIR_NORTH_EAST:r.DIR_SOUTH_EAST},e.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle),this.offCancelEvent&&this.offCancelEvent(),this.removeZoomToSuccessEvent&&this.removeZoomToSuccessEvent()},e.prototype.out=function(){this.destroyPageHandler()},e}(o.default);e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});s(n(46));var o=s(n(7)),r=s(n(196)),i=n(13),a=n(222);function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}o.default.getLogger("creation/polyline/state");var u=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,"polyline"))}return c(e,t),e.getStateName=function(){return i.STATE_HANDLER_CREATE_POLYLINE},e.prototype.create=function(t,e){var n=new a.FakePolylineAnnotation({pdfViewer:this.pdfViewer,pageRender:this.pageRender,info:this.createAnnotJson({type:"polyline",flags:4,date:new Date})});return n.addPoint(t,e),n.addPoint(t,e),n},e}(r.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={IDLE:"idle",CONSTRUCT:"construct",CREATING:"creating"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(7)),r=s(n(196)),i=n(13),a=n(319);function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=o.default.getLogger("creation/polygon/state"),l=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,"polygon"))}return c(e,t),e.getStateName=function(){return i.STATE_HANDLER_CREATE_POLYGON},e.prototype.create=function(t,e){var n=new a.FakePolygonAnnotation({pdfViewer:this.pdfViewer,pageRender:this.pageRender,info:this.createAnnotJson({type:"polygon",flags:4,date:new Date})});return n.addPoint(t,e),n.addPoint(t,e),n},e.prototype.canBeCompleted=function(t){var e=t.getVertexes().length;return e<2&&u.debug("polygon has only "+e+" points"),e>2},e}(r.default);e.default=l},function(t,e,n){"use strict";n.r(e),n.d(e,"FakePolygonAnnotation",(function(){return f}));var o,r=n(222),i=n(220),a=n.n(i),s=n(6),c=n(25),u=n.n(c),l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),f=function(t){function e(e){var n=t.call(this,e)||this;n.isCloudy=!1;var o=n.annotationInfo;if(o.borderStyle)switch(o.borderInfo.style=o.borderStyle,o.borderStyle){case s.BORDER_STYLE.CLOUDY:n.annotationInfo.borderInfo.cloudIntensity=o.borderStyleParam,n.isCloudy=!0;break;case s.BORDER_STYLE.DASHED:n.annotationInfo.borderInfo.dashes=o.borderStyleParam}return n}return l(e,t),e.prototype.generateApRenderer=function(){var t=this.isCloudy;return new a.a(this,t)},e.prototype.getOuterDeviceRect=function(e,n){return this.isCloudy?u.a.on(this.getDeviceRect(e,n)).expand(50).extract():t.prototype.getDeviceRect.call(this,e,n)},e.prototype.getType=function(){return"polygon"},e}(r.FakePolylineAnnotation)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(14)),r=a(n(807)),i=a(n(24));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.prototype.changePeimission=function(t){var e=this;this.getPDFUI().getPDFDocRender().then((function(t){return t.getUserPermission().getValue()})).then((function(n){var o=t.checkPermission(i.default.annotForm)&&t.checkPermission(i.default.modify);n&e.constructor.permission&&o?e.component.lock&&e.component.unlock():e.component.lock&&e.component.lock()}))},e}(o.default.ext(r.default,"CreateTextFieldController",32));e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(2)),r=i(n(8));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.data.pageNumber=0,o.data.currentPageIndex=1,o}return a(e,t),e.getName=function(){return"GotoPrevPageController"},e.prototype.postlink=function(){var t=this;this.addDestroyHook(this.getPDFUI().addViewerEventListener(r.default.openFileSuccess,(function(e){t.data.pageNumber=e.getPageCount(),t.data.currentPageIndex=1,t.component.disable(),t.digest()})),this.getPDFUI().addViewerEventListener(r.default.importPages,(function(e){t.data.pageNumber+=e.length})),this.getPDFUI().addViewerEventListener(r.default.pageNumberChange,(function(e){e<=1?t.component.disable():(t.component.enable(),t.data.currentPageIndex=e,t.digest())})))},e.prototype.handle=function(){return this.getPDFUI().getPDFDocRender().then((function(t){return t.prevPage()}))},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(2)),r=i(n(8));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.data.pageNumber=0,o.data.currentPageIndex=1,o}return a(e,t),e.getName=function(){return"GotoNextPageController"},e.prototype.postlink=function(){var t=this;this.addDestroyHook(this.getPDFUI().addViewerEventListener(r.default.openFileSuccess,(function(e){t.data.pageNumber=e.getPageCount(),t.data.currentPageIndex=1,1===t.data.pageNumber?t.component.disable():t.component.enable()})),this.getPDFUI().addViewerEventListener(r.default.pageAdded,(function(e){t.data.pageNumber++})),this.getPDFUI().addViewerEventListener(r.default.pageRemoved,(function(e){t.data.pageNumber--})),this.getPDFUI().addViewerEventListener(r.default.importPages,(function(e){t.data.pageNumber+=e.length})),this.getPDFUI().addViewerEventListener(r.default.pageNumberChange,(function(e){e>=t.data.pageNumber?t.component.disable():(t.component.enable(),t.data.currentPageIndex=e)})))},e.prototype.handle=function(){this.getPDFUI().getPDFDocRender().then((function(t){t.nextPage()}))},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(324),i=(o=r)&&o.__esModule?o:{default:o};function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.multipage=2,o}return a(e,t),e.getName=function(){return"facing-continuous-page-view-mode"},e}(i.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(73)),r=i(n(3));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=2,c=10,u=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.multipage=s,o.pageSpacing=c,o}return a(e,t),e.getName=function(){return"multipage-view-mode"},e.setMultipage=function(t){s=t},e.getMultipage=function(){return s},e.setPageSpacing=function(t){c=t},e.getPageSpacing=function(){return c},e.prototype.getItems=function(){return this.docRender.$container.find(".fv__pdf-view-mode-item")},e.prototype.into=function(){var t=this,e=this.constructor.getName(),n=["<style>","."+e+"{","overflow:hidden;","margin:0 auto;","}","."+e+" .fv__pdf-view-mode-item{","float: left;","display: flex;","justify-content: center;","align-items: center;","width:calc("+100/this.multipage+"% - "+this.pageSpacing*(this.multipage-1)/this.multipage+"px)","}","."+e+" .fv__pdf-view-mode-item{","margin-right: "+this.pageSpacing+"px;","}","."+e+" .fv__pdf-page-layout{","width: 100%;","}","."+e+" .fv__pdf-view-mode-item:nth-child("+this.multipage+"n){","margin-right: 0;","}","."+e+" .fv__pdf-view-mode-item:nth-of-type(odd) .fv__pdf-page-layout{","margin-right: 0;","margin-left: 0px","}","."+e+" .fv__pdf-view-mode-item:nth-of-type(even) .fv__pdf-page-layout{","margin-left: 0;","}","</style>"].join("");this.$style=(0,r.default)(n),this.docRender.$container.after(this.$style),this.docRender.$container.addClass(this.constructor.getName());var o=this.docRender.viewerRender.scrollWrap;this.initPageLayout(),this._unwatchScrollEvent=o.addScrollEventListener((function(){clearTimeout(t.scrollEventTimer),t.scrollEventTimer=setTimeout((function(){var e=t.docRender.pagesRender;e&&e.renderVisiblePages().then((function(){t.docRender.isGoto?setTimeout((function(){t.docRender.isGoto=!1}),40):t.docRender.setCurrentPageIndex(t.getCurrentPageIndex())}),(function(){}))}),100)}))},e.prototype.initPageLayout=function(){var t=this.getItems(),e=this.multipage,n=this.pageSpacing*(e-1)/e;t.css({width:"calc("+100/e+"% - "+n+"px)"})},e.prototype.out=function(){this.docRender.$container.removeClass(this.constructor.getName()),this.docRender.pagesRender.$ui.removeAttr("style"),this.$style&&this.$style.remove(),this._unwatchScrollEvent&&this._unwatchScrollEvent(),this.getItems().css({width:"",height:""}),t.prototype.out.call(this)},e.prototype.renderViewMode=function(t,e,n,o,i){var a=this,s=t.index,c=this.getMaxPageWidth(),u=this.multipage,l=(u-1)*this.pageSpacing;this.docRender.pagesRender.$ui.css({width:c*u*e+l});for(var f=Math.floor(s/u),p=0,d=this.docRender.doc.getPageCount(),h=[],g=this.docRender.getRotation(),m=0;m<u;m++){var v=f*u+m;v<d&&h.push(this.docRender.getPDFDoc().getPageByIndex(v).then((function(t){var e=void 0;e=90===g||270===g?t.getPxWidth():t.getPxHeight(),p=Math.max(e,p),e})))}Promise.all(h).then((function(){var t=a.getItems();(0,r.default)(t[s]).css({height:p*e})}))},e.prototype.getPagesLayout=function(){for(var t=this.docRender.doc.pageCache,e=t.length,n=this.multipage,o=Math.ceil(e/n),r=Array(n).fill(0),i=Array(o).fill(0),a=0;a<n;a++)for(var s=a;s<e;s+=n)r[a]=Math.max(r[a],t[s].getPxWidth());for(var c=0;c<o;c++)for(var u=0;u<n;u++)t[c*n+u]&&(i[c]=Math.max(i[c],t[c*n+u].getPxHeight()));var l=[];return t.forEach((function(t,e){l.push({width:r[e%n],height:i[Math.floor(e/3)]})})),l},e.prototype.getMaxPageWidth=function(){var t=0,e=this.docRender.doc.getPageSizesSync(),n=this.docRender.getRotation(),o=void 0;for(var r in o=90===n||270===n?"height":"width",e){var i=4*e[r][o]/3;i>t&&(t=i)}return t},e.prototype.getFitHeight=function(t){var e=this.docRender.viewerRender.scrollWrap;return e.getHeight()-e.getScrollOffsetTop()},e.prototype.getFitWidth=function(t){var e=this.getMaxPageWidth(),n=this.docRender.viewerRender.scrollWrap,o=this.multipage,r=(n.getWidth()-16-o*this.pageSpacing)/o,i=this.docRender.doc.getPageSize(t),a=this.docRender.getRotation();if(i){return r*(90===a||270===a?i.height:i.width)*4/(3*e)}},e.prototype.jumpToPage=function(t,e){var n=e.x,o=void 0===n?0:n,r=e.y,i=void 0===r?0:r,a=this.getItems();t>=a.length?t=a.length-1:t<0&&(t=0);var s=a.eq(t),c=s.position().left+o,u=s.position().top+i;this.docRender.viewerRender.scrollWrap.scrollTo(c,u)},e.prototype.getVisibleIndexes=function(){var t=this.docRender.viewerRender.scrollWrap,e=t.getScrollTop(),n=t.getHeight(),o=e+n,i=[];this.multipage;return this.getItems().each((function(t,n){if(0>o)return!1;var a=(0,r.default)(n).outerHeight(!0),s=n.offsetTop;s<=o&&s+a>=e&&i.push(t)})),i},e.prototype.getCurrentPageIndex=function(){for(var t=this.getItems(),e=this.docRender.viewerRender.scrollWrap,n=e.getScrollTop(),o=n+e.getHeight(),i=e.getScrollLeft(),a=i+e.getWidth(),s=void 0,c=[],u=0;u<t.length;u++){var l=t[u],f=(0,r.default)(l).width(),p=(0,r.default)(l).height(),d=l.offsetTop,h=d+p,g=l.offsetLeft,m=g+f,v=void 0;if(d<=n&&h>n&&h<o?v=h-n:d>=n&&h<o?v=p:d<=n&&h>o?v=o-n:d>=n&&d<o&&h>o&&(v=o-d),v){var y=void 0;g<=i&&m>i&&m<a?(y=m-i,c.push({index:u,area:v*y})):g>=i&&m<a?(y=f,c.push({index:u,area:v*y})):g<=i&&m>a?(y=a-i,c.push({index:u,area:v*y})):g>=i&&g<a&&m>a&&(y=a-g,c.push({index:u,area:v*y}))}}for(var b=0,w=0;w<c.length;w++)c[w].area>b&&(b=c[w].area,s=c[w].index);return s},e.prototype.getNextPageIndex=function(){var t=this.docRender.doc.getPageCount(),e=this.getCurrentPageIndex();if(e<t-1){var n=this.docRender.viewerRender.scrollWrap,o=this.docRender.pagesRender.$ui.width(),r=n.getWidth()-16,i=this.multipage;if(r>=o)e=Math.ceil((e+1)/i)*i;else e++}return e>t-1&&(e=t-1),e},e.prototype.getPrevPageIndex=function(){var t=this.getCurrentPageIndex();if(t>0){var e=this.docRender.viewerRender.scrollWrap,n=this.docRender.pagesRender.$ui.width(),o=e.getWidth()-16,r=this.multipage;if(o>=n)t=(Math.ceil((t+1)/r)-2)*r;else t--}return t<0&&(t=0),t},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(2));function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=r(n(7)).default.getLogger("ZoomToScaleValueController"),u=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"ZoomToScaleValueController"},e.prototype.handle=function(){return this.getPDFUI().zoomTo(this.data.scale).catch((function(t){c.warn(t)}))},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=n(2),a=(o=i)&&o.__esModule?o:{default:o},s=n(76),c=n(11);function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var p=function(t){function e(){return u(this,e),l(this,t.apply(this,arguments))}return f(e,t),e.getName=function(){return"DownloadFileController"},e.prototype.postlink=function(){var t=this;this.addDestroyHook(this.getPDFUI().addViewerEventListener(c.Events.openFileSuccess,(function(e){e.checkNoAdditionPerm(1)?t.component.disable():t.component.enable()})))},e.prototype.handle=function(){return this.getPDFUI().getPDFViewer().then((function(t){t.activeElement(null);var e=[];return t.currentPDFDoc.getStream((function(t){var n=t.arrayBuffer,o=t.blob;o?e=o:e.push(n)})).then((function(n){return[e,t.currentPDFDoc.getFileName()]}))})).then((function(t){var e=r(t,2),n=e[0],o=e[1];o&&0!==o.length||(o="download.pdf"),(0,s.download)(n,o,"application/pdf")}))},e}(a.default);e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=c(n(14)),i=c(n(208)),a=(c(n(8)),c(n(7))),s=n(6);function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}a.default.getLogger("CreateDistanceController");var l=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,i.default));return o.$throttles={},o}return u(e,t),e.getName=function(){return"CreateDistanceController"},e.prototype.mounted=function(){t.prototype.mounted.call(this),this.rulerContainer=this.getComponentByName("pdf-viewer-container-with-ruler")},e.prototype.updateMeasurementAnnotContentInfo=function(t){if(t.annot.getIntent()!==s.Intents.LINE_DIMENSION)throw new Error("incorrect annotation intent: "+t.annot.getIntent()+", it must be "+s.Intents.LINE_DIMENSION);var e=t.getLengthInInchUnit()+this.component.localizer.translateSync("measurement.units.inch"),n=t.getId(),o=this.$throttles[n]||this._throttle((function(e){requestAnimationFrame((function(n){t.setContent(e)}))}));this.$throttles[n]=o,o(e)},e.prototype._throttle=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=void 0;return function(){var o=arguments,r=this;clearTimeout(n),n=setTimeout((function(){return t.apply(r,o)}),e)}},e.prototype.stateIn=function(){this.rulerContainer&&this.rulerContainer.active(),this.component.parent.select(this.component),this.component.parent.element.classList.add("selected")},e.prototype.stateOut=function(){this.rulerContainer&&this.rulerContainer.deactive(),this.component.parent.element.classList.remove("selected")},o(e,null,[{key:"permission",get:function(){return 32}}]),e}(r.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=c(n(14)),i=c(n(127)),a=(c(n(8)),c(n(7))),s=n(6);function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}a.default.getLogger("CreatePerimeterController");var l=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,i.default));return o.$throttles={},o}return u(e,t),e.getName=function(){return"CreatePerimeterController"},e.prototype.mounted=function(){t.prototype.mounted.call(this),this.rulerContainer=this.getComponentByName("pdf-viewer-container-with-ruler")},e.prototype.updateMeasurementAnnotContentInfo=function(t){if(t.annot.getIntent()!==s.Intents.POLYLINE_DIMENSION)throw new Error("incorrect annotation intent: "+t.annot.getIntent()+", it must be "+s.Intents.POLYLINE_DIMENSION);var e=t.getLengthInInchUnit()+this.component.localizer.translateSync("measurement.units.inch"),n=t.getId(),o=this.$throttles[n]||this._throttle((function(e){requestAnimationFrame((function(n){t.setContent(e)}))}));this.$throttles[n]=o,o(e)},e.prototype._throttle=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=void 0;return function(){var o=arguments,r=this;clearTimeout(n),n=setTimeout((function(){return t.apply(r,o)}),e)}},e.prototype.stateIn=function(){this.rulerContainer&&this.rulerContainer.active(),this.component.parent.select(this.component),this.component.parent.element.classList.add("selected")},e.prototype.stateOut=function(){this.rulerContainer&&this.rulerContainer.deactive(),this.component.parent.element.classList.remove("selected")},o(e,null,[{key:"permission",get:function(){return 32}}]),e}(r.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(44),r=n(85);var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.convertPoint2RealUnit=function(t,e){var n=e[r.FIELD_USER_SPACE_SCALE],i=e[r.FIELD_USER_SPACE_UNIT],a=e[r.FIELD_REAL_SCALE];return o.POINT.convertTo(t,i)*(a/n)},t.caculateDistance=function(e,n,o){var r=n.x-e.x,i=n.y-e.y,a=Math.abs(r),s=Math.abs(i),c=Math.sqrt(a*a+s*s);return t.convertPoint2RealUnit(c,o)},t.caculateAngle=function(e,n,o,r){var i=t.caculateDistance(e,n,r),a=t.caculateDistance(n,o,r),s=t.caculateDistance(e,o,r),c=(Math.pow(i,2)+Math.pow(a,2)-Math.pow(s,2))/(2*i*a);return Number.isNaN(c)?0:Math.round(Math.abs(Math.acos(c))/Math.PI*180*100)/100},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RulerIterator=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(44),i=(n(110),n(111)),a=n(28);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var c=function(){function t(e){s(this,t),this.orientation=e.orientation,this.pixelUnit=e.orientation===i.ORIENTATION_HORIZONTAL?r.PIXEL_HORIZONTAL:r.PIXEL_VERTICAL,this.setZoom(e.zoom),this.setUnit(e.unit);var n=(0,a.getDPI)();this.dpi=e.orientation===i.ORIENTATION_HORIZONTAL?n.x:n.y,this.minDivisionPixels=e.minDivisionPixels||this.dpi/this.inchRate/10}return o(t,null,[{key:"SCALE_TYPE_UNIT",get:function(){return"unit"}},{key:"SCALE_TYPE_MIDDLE",get:function(){return"middle"}},{key:"SCALE_TYPE_SCALE",get:function(){return"scale"}}]),t.prototype.setUnit=function(t){this.unit=t||r.INCH,this.inchRate=function(t){return t===r.MILLIMETER?r.CENTIMETER.fromInchRate:t.fromInchRate}(t),this.scaleRate=this.unit==r.MILLIMETER?10:1},t.prototype.setZoom=function(t){this.zoom=Math.max(t,.001)},t.prototype.iterator=function(t){return new u(this,t)},t.prototype.clone=function(){return new t({dpi:this.dpi,unit:this.unit,zoom:this.zoom,minDivisionPixels:this.minDivisionPixels})},t.prototype.scaleInfo=function(){var t=this.zoom,e=this.minDivisionPixels;if(this.zoom>1)return{divisionPixels:this.unit.convertTo(1,this.pixelUnit)/10*t*this.scaleRate,division:.1};var n=this.unit.convertTo(1,this.pixelUnit)/10*t*this.scaleRate,o=Math.max(e,n),r=Math.floor(o/n);return{divisionPixels:r*n,division:r/10}},t}();e.default=c;var u=e.RulerIterator=function(){function t(e,n){s(this,t),this.ruler=e,this.length=n,this.scaleInfo=e.scaleInfo(),this.$$offset=-this.scaleInfo.divisionPixels,this.$$scale=10*-this.scaleInfo.division,this.$$countFlag=0}return t.prototype.hasNext=function(){return this.$$offset<this.length},t.prototype.next=function(){var t=void 0;switch(this.$$countFlag%10){case 0:t=c.SCALE_TYPE_SCALE,this.$$scale+=10*this.scaleInfo.division;break;case 5:t=c.SCALE_TYPE_MIDDLE;break;default:t=c.SCALE_TYPE_UNIT}return this.$$offset+=this.scaleInfo.divisionPixels,this.$$countFlag++,{type:t,scale:this.$$scale*this.ruler.scaleRate,offset:this.$$offset}},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(2);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"CancelCreatingMeasurementController"},e.prototype.handle=function(){return this.getPDFUI().getPDFViewer().then((function(t){t.getStore().dispatch("create-measurement-status","cancel")}))},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(2);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"CompleteCreatingMeasurementController"},e.prototype.handle=function(){return this.getPDFUI().getPDFViewer().then((function(t){t.getStore().dispatch("create-measurement-status","complete")}))},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(8)),r=i(n(57));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.stateName="edit-image",o}return a(e,t),e.getName=function(){return"EditImageController"},e.prototype.postlink=function(){var t=this,e=this.getPDFUI();this.addDestroyHook(e.addViewerEventListener(o.default.switchStateHandler,(function(e,n){t.getPDFUI().getStateHandlerManager().then((function(o){e===o.get(t.stateName)?t.component.active():n===o.get(t.stateName)&&t.component.deactive()}))})))},e.prototype.handle=function(){var t=this;return this.getPDFUI().getStateHandlerManager().then((function(e){e.getCurrentStates()===e.get(t.stateName)?e.switchTo(r.default.getStateName()):e.switchTo(t.stateName)}))},e}(i(n(2)).default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=c(n(2)),a=c(n(834)),s=c(n(8));function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n))}return u(e,t),e.getName=function(){return"CreateStampController"},e.prototype.postlink=function(){var e=this;t.prototype.postlink.call(this);var n=this.getPDFUI();n.stampHandlerRegistered||(n.getStateHandlerManager().then((function(t){return t.register(a.default)})),a.default.setPDFUI(n),n.stampHandlerRegistered=!0),this.addDestroyHook(n.addViewerEventListener(s.default.switchStateHandler,(function(t){var n=e.component;t.getStateName()!=a.default.getStateName()&&n.doDeactive()})),n.addUIEventListener(s.default.stampSelectedChange,(function(t){var n=e.component,o=a.default.getStampPath();n.path&&o[0]==n.path[0]&&o[1]==n.path[1]?n.active():n.deactive()})));var r=function(){n.getPDFDocRender().then((function(t){return t.getUserPermission().getValue()})).then((function(t){return Promise.all([32&t,n.getComponentByName("create-custom-stamps")])})).then((function(t){var e=o(t,2),n=e[0],r=e[1];n?r.unlock():r.lock()}))};this.addDestroyHook(n.addViewerEventListener(s.default.openFileSuccess,r),n.addViewerEventListener(s.default.permissionChanged,r))},e.prototype.handle=function(t,e){if(e)return this.getPDFUI().getStateHandlerManager().then((function(n){n.switchTo(a.default.getStateName(),{category:t,name:e})}))},r(e,null,[{key:"permission",get:function(){return 32}}]),e}(i.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(2);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"ShowCreateStampDialogController"},e.prototype.handle=function(t){var e=this.getComponentByName("create-stamp-dialog");e.update(),e.open(document.body)},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(2)),r=a(n(8)),i=a(n(212));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.data.signatures=[],o}return s(e,t),e.getName=function(){return"InkSignListController"},e.prototype.postlink=function(){var t=this,e=this.getPDFUI();this.addDestroyHook(e.addViewerEventListener(r.default.inkSignAdded,(function(e){t.data.signatures=e.slice(0),t.digest()})),e.addViewerEventListener(r.default.inkSignDeleted,(function(e){t.data.signatures=e.slice(0),t.digest()}))),e.getStateHandlerManager().then((function(t){t.register(i.default)}))},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CreateInkSignDialogController=void 0;var o=u(n(2)),r=u(n(3)),i=n(5),a=u(n(212)),s=u(n(8)),c=n(37);function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}e.CreateInkSignDialogController=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.signPoints=[],o.signColor="#000000",o.signSize=4,o}return l(e,t),e.getName=function(){return"CreateInkSignDialogController"},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this),this.$tabPanel=(0,r.default)(this.component.getComponentByName("sign-dialog-tab-panel").element),this.$panelDraw=(0,r.default)(this.component.getComponentByName("sign-dialog-panel-draw").element),this.$selectColor=(0,r.default)(this.component.getComponentByName("sign-dialog-select-color").element),this.$selectSize=(0,r.default)(this.component.getComponentByName("sign-dialog-select-size").element),this.$okBtn=(0,r.default)(this.component.getComponentByName("sign-dialog-ok-btn").element),this.$closeBtn=(0,r.default)(this.component.getComponentByName("sign-dialog-close-btn").element),this.$canvas=(0,r.default)(this.component.getComponentByName("sign-dialog-canvas").element),this.$eraser=(0,r.default)(this.component.getComponentByName("sign-dialog-select-eraser").element),this.$save=(0,r.default)(this.component.getComponentByName("sign-dialog-save").element),this.$panelImage=(0,r.default)(this.component.getComponentByName("sign-dialog-panel-image").element),this.$optionConvertTo=(0,r.default)(this.component.getComponentByName("sign-dialog-option-convert-to").element),this.$eraserImage=this.$panelImage.find(".image-title > .fv__icon-toolbar-clear"),this.$inputFile=this.$panelImage.find("input[type=file]"),this.$previewImg=this.$panelImage.find(".preview-img"),this.$errorMessage=this.$panelImage.find(".preview-file-error-message"),this.originBase64="",this.$selectColor.find("[data-color='"+this.signColor+"']").addClass("circle-active"),this.$selectSize.find("[data-size='"+this.signSize+"']").addClass("circle-active"),this._bindEvent(),this.component.on(i.COMPONENT_EVENTS.SHOWN,(function(){e.$tabPanel.find(".fv__ui-sign-dialog-tab").eq(0).trigger("click")})),this.component.on(i.COMPONENT_EVENTS.HIDDEN,(function(){e.$eraser.trigger("click"),e.$eraserImage.trigger("click")}))},e.prototype._bindEvent=function(){var t=this,e=this.hammer=new Hammer.Manager(this.$canvas[0],{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]}),n=this.$canvas[0].getContext("2d");function o(t,e){var n=t.getBoundingClientRect(),o=e.srcEvent;return{x:(0,c.getClientX)(o)-n.left,y:(0,c.getClientY)(o)-n.top}}e.on("panstart",(function(e){n.lineWidth=t.signSize,n.strokeStyle=t.signColor,n.lineJoin="round",n.lineCap="round";var r=o(t.$canvas[0],e),i={x:r.x-e.deltaX,y:r.y-e.deltaY};n.beginPath(),n.moveTo(i.x,i.y),t.signPoints.push(i)})),e.on("panmove",(function(e){var r=o(t.$canvas[0],e);n.lineTo(r.x,r.y),n.stroke(),t.signPoints.push(r)})),e.on("panend",(function(t){})),this.$tabPanel.find(".fv__ui-sign-dialog-tabs").find("*").on("click",(function(e){var n=(0,r.default)(e.currentTarget);t.$tabPanel.find(".fv__ui-sign-dialog-tab").removeClass("active"),n.closest(".fv__ui-sign-dialog-tab").addClass("active"),t.$tabPanel.find(".fv__ui-sign-dialog-panel").hide();var o=n.closest(".fv__ui-sign-dialog-tab").index();t.$tabPanel.find(".fv__ui-sign-dialog-panel").eq(o).show(),0!==o||t.$canvas.attr("width")||t.$canvas.attr("height")||(t.$canvas[0].width=t.$canvas.parent().width(),t.$canvas[0].height=t.$canvas.parent().height())})),this.$eraser.on("click",(function(){n.clearRect(0,0,t.$canvas[0].width,t.$canvas[0].height),t.signPoints=[]})),this.$closeBtn.on("click",(function(){t.component.hide()})),this.$selectColor.find(".circle").on("click",(function(e){var o=e.target;o.classList.contains("color-wrapper")||(o=o.parentNode),t.$selectColor.find("[data-color]").removeClass("circle-active");var i=(0,r.default)(o);i.addClass("circle-active"),t.signColor=n.strokeStyle=i.data("color")})),this.$selectSize.find(".circle").on("click",(function(e){var o=e.target;o.classList.contains("color-wrapper")||(o=o.parentNode),t.$selectSize.find("[data-size]").removeClass("circle-active");var i=(0,r.default)(o);i.addClass("circle-active"),t.signSize=n.lineWidth=i.data("size")})),this.$okBtn.on("click",(function(e){var n=t.$tabPanel.find(".fv__ui-sign-dialog-tab.active").index();if(!(0===n&&0===t.signPoints.length||1===n&&!t.$previewImg.attr("src"))){var o=t.getPDFUI();o.getPDFViewer().then((function(e){var r=e.getInkSignManager(),i=0===n?t.$canvas[0].toDataURL("image/png",1):t.$previewImg.attr("src");if(t.$save.is(":checked")){var c=r.addInkSign();c.setDataURL(i);var u=r.push(c);r.setCurrentInkSign(u)}o.getPDFDocRender().then((function(t){return t})).then((function(t){t&&t.getUserPermission().checkModify()&&(e.getStateHandlerManager().switchTo(a.default.getStateName()),e.eventEmitter.emit(s.default.applicationOfInkSign,i))})),t.component.hide(),t.signPoints=[]}))}})),this.$inputFile.on("change",(function(e){var n=(0,r.default)(e.currentTarget)[0].files[0];if(t.$errorMessage.text(""),n){if("image/jpeg"!==n.type.toLocaleLowerCase()&&"image/jpg"!==n.type.toLocaleLowerCase()&&"image/png"!==n.type.toLocaleLowerCase())return t.$eraserImage.trigger("click"),void t.$errorMessage.text(t.component.localizer.translateSync("dialog.error.fileFormatError"));var o=new FileReader;o.onload=function(){var e=t.$panelImage.find(".preview-img-wrapper");e.css("background-color","#f8f8f8"),t.originBase64=o.result,t.$previewImg.attr("src",t.originBase64),setTimeout((function(){t.$optionConvertTo.trigger("change"),t.$previewImg.removeAttr("style");var n=t.$previewImg.width(),o=t.$previewImg.height(),r=e.width(),i=e.height();t.$previewImg.css(r/n*o<i?"width":"height","100%")}),0)},o.readAsDataURL(n)}})),this.$eraserImage.on("click",(function(e){t.$inputFile.val(""),t.$previewImg.removeAttr("src"),t.$panelImage.find(".preview-img-wrapper").css("background-color","unset"),t.$errorMessage.text(""),t.originBase64=""})),this.$optionConvertTo.on("change",(function(e){if(t.originBase64)if((0,r.default)(e.currentTarget).is(":checked")){var n=new Image;n.onload=function(){var e=n.width,o=n.height,r=document.createElement("canvas");r.setAttribute("width",e),r.setAttribute("height",o);var i=r.getContext("2d");i.drawImage(n,0,0,e,o);var a,s=i.getImageData(0,0,e,o),c=s.data,u=void 0,l=void 0,f=void 0,p=void 0,d=void 0;for(u=0,a=c.length;u<a;u+=4)l=c[u],f=c[u+1],p=c[u+2],c[u+3],d=Math.floor((l+f+p)/3),c[u]=d,c[u+1]=d,c[u+2]=d;i.putImageData(s,0,0,0,0,e,o);var h=r.toDataURL(t.originBase64.split(";base64,")[0].replace("data:",""),1);t.$previewImg.attr("src",h)},n.src=t.originBase64}else t.$previewImg.attr("src",t.originBase64)}))},e}(o.default)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(2);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n))}return i(e,t),e.getName=function(){return"ShowCreateInkSignDialogController"},e.prototype.handle=function(t){var e=this.getComponentByName("create-signature");e.update(),e.open(document.body)},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=f(n(300)),r=f(n(340)),i=f(n(342)),a=f(n(86)),s=n(343),c=f(s),u=f(n(20)),l=n(5);function f(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var d=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r)),l=i.getClosestComponentByClass(a.default);return l&&!i.timeFormatter&&(i.timeFormatter=l.timeFormatter),l&&!i.floatingTimeFormatter&&(i.floatingTimeFormatter=l.floatingTimeFormatter),i.timeFormatter||(i.timeFormatter=c.default),i.floatingTimeFormatter||(i.floatingTimeFormatter=s.commentListFloatingTimeFormatter),i.lastReplyComponent=null,i.lastCommentCardComponent=null,i.lastEditComponent=null,i.clearLastEditComponent=u.default,i.clearLastReplyComponent=u.default,i.clearLastCommentCardComponent=u.default,i.addDestroyHook((function(){i.clearLastEditComponent(),i.clearLastReplyComponent(),i.clearLastCommentCardComponent()})),i}return p(e,t),e.getName=function(){return"comment-list"},e.getMetadata=function(){return{options:{timeFormatter:{type:"function",required:!1},floatingTimeFormatter:{type:"function",required:!1}}}},e.prototype.render=function(){t.prototype.render.call(this),this.element.classList.add("fv__ui-commentlist")},e.prototype.selectCommentItem=function(t){var e=this;this.lastEditComponent&&this.lastEditComponent!==t&&this.lastEditComponent.publishMessage(),this.lastReplyComponent&&this.lastReplyComponent.parent!==t&&(this.lastReplyComponent.switchToView(),this.lastReplyComponent.deselect(),this.lastReplyComponent.applyState(),this.lastReplyComponent=null),this.lastCommentCardComponent&&this.lastCommentCardComponent!==t&&(this.lastCommentCardComponent.deselect(),this.lastCommentCardComponent.applyState()),this.lastCommentCardComponent=t,t.selected||(t.select(),t.applyState(),this.trigger("selectCommentItem",t)),this.clearLastCommentCardComponent(),this.clearLastCommentCardComponent=t.once(l.COMPONENT_EVENTS.DESTROYED,(function(){e.lastCommentCardComponent===t&&(e.lastCommentCardComponent=null)}))},e.prototype.selectCommentReply=function(t){var e=this;this.lastReplyComponent!==t&&(this.lastEditComponent&&this.lastEditComponent!==t&&this.lastEditComponent.publishMessage(),this.lastCommentCardComponent&&t.parent!==this.lastCommentCardComponent&&(this.lastCommentCardComponent.deselect(),this.lastCommentCardComponent.applyState()),this.lastReplyComponent&&this.lastReplyComponent!==t&&(this.lastReplyComponent.deselect(),this.lastReplyComponent.applyState()),this.lastReplyComponent=t,t.parent.select(),t.parent.applyState(),this.lastCommentCardComponent=t.parent,t.select(),t.applyState(),this.trigger("selectCommentReply",t),this.clearLastReplyComponent(),this.clearLastReplyComponent=t.once(l.COMPONENT_EVENTS.DESTROYED,(function(){e.lastReplyComponent=null})),this.clearLastCommentCardComponent(),this.clearLastCommentCardComponent=t.parent.once(l.COMPONENT_EVENTS.DESTROYED,(function(){e.lastCommentCardComponent=null})))},e.prototype.selectComponent=function(t){t instanceof r.default?this.selectCommentItem(t):t instanceof i.default&&this.selectCommentReply(t)},e.prototype.editComponent=function(t){var e=this;if(t.annot&&"sound"===t.annot.getType())return!1;t!==this.lastEditComponent&&this.lastEditComponent&&this.lastEditComponent.publishMessage(),t.switchToEdit(),t.applyState(),this.lastEditComponent=t,this.clearLastEditComponent(),this.clearLastEditComponent=t.once(l.COMPONENT_EVENTS.DESTROYED,(function(){e.lastEditComponent=null}))},e}(o.default);e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=l(n(868)),r=l(n(341)),i=l(n(8)),a=l(n(7)),s=l(n(339)),c=n(9),u=l(n(869));function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var p=(0,o.default)(),d={line:"fv__icon-commentlist-line",linearrow:"fv__icon-commentlist-arrow",linedimension:"fv__icon-commentlist-measure-distance",polylinedimension:"fv__icon-commentlist-measure-perimeter",polygondimension:"fv__icon-commentlist-measure-area",circle:"fv__icon-commentlist-circle",square:"fv__icon-commentlist-square",polyline:"fv__icon-commentlist-polyline",polygon:"fv__icon-commentlist-polygon",polygoncloud:"fv__icon-commentlist-cloud",fileattachment:"fv__icon-commentlist-document-pin",freetexttypewriter:"fv__icon-commentlist-typewriter",typewriter:"fv__icon-commentlist-typewriter",freetextcallout:"fv__icon-commentlist-callout",callout:"fv__icon-commentlist-callout",freetexttextbox:"fv__icon-commentlist-textbox",textbox:"fv__icon-commentlist-textbox",freetext:"fv__icon-commentlist-textbox",ink:"fv__icon-commentlist-pencil",stamp:"fv__icon-commentlist-stamp",text:"fv__icon-commentlist-note-pin",areahighlight:"fv__icon-commentlist-area-highlight",highlight:"fv__icon-commentlist-highlight",caret:"fv__icon-commentlist-insert",replace:"fv__icon-commentlist-replace",sound:"fv__icon-commentlist-sound",movie:"fv__icon-commentlist-movie",squiggly:"fv__icon-commentlist-squiggly",strikeout:"fv__icon-commentlist-strikeout",redact:"fv__icon-commentlist-redact",underline:"fv__icon-commentlist-underline"},h=a.default.getLogger("pdf-ui.CommentCardComponent"),g=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));i.selected=!1,i.hasContent=!1,i.hasStates=!1,i.operationMode="view",i.editable=!0,i.message="";var a=i.getClosestComponentByClass(s.default);return i.timeFormatter=a.timeFormatter,i.floatingTimeFormatter=a.floatingTimeFormatter,i}return f(e,t),e.getName=function(){return"comment"},e.prototype.createDOMElement=function(){return document.createElement("div")},e.prototype.render=function(){var e=this;t.prototype.render.call(this);var n=this.element;n.classList.add("fv__ui-commentlist-comment"),n.setAttribute("z-index",-1),(0,u.default)(n,p),this.repliesElement=n.querySelector(".fv__ui-commentlist-replies"),this.titleElement=n.querySelector(".fv__ui-commentlist-comment-title"),this.iconElement=n.querySelector(".fv__ui-commentlist-comment-icon"),this.timeElement=n.querySelector(".fv__ui-commentlist-comment-time"),this.messageElement=n.querySelector(".fv__ui-commentlist-comment-message"),this.messageEditorElement=n.querySelector(".fv__ui-commentlist-comment-editor-area>.fv__ui-commentlist-editor"),this.addReplyContainerElement=n.querySelector(".fv__ui-commentlist-add-reply"),this.addReplyBtn=n.querySelector(".fv__ui-commentlist-comment-tools [action=add-reply]"),this.publishMessageBtn=n.querySelector(".fv__ui-commentlist-comment-tools [action=publish]"),this.commentMenu=n.querySelector("[role=comment-menu]"),this.commentMenus=n.querySelector(".fv__ui-commentlist-comment-menus"),this.handlerElement=n.querySelector(".fv__ui-commentlist-handler"),this.replyEditorElement=n.querySelector(".fv__ui-commentlist-reply-editor>.fv__ui-commentlist-editor"),this.toolsElement=n.querySelector(".fv__ui-commentlist-comment-tools");var o=n.querySelector("[role=comment-menu]"),r=n.querySelector(".fv__ui-commentlist-comment-menus"),i=this.pdfUI.parseTemplate(o.content||o.innerHTML);i.localize(),r.appendChild(i.element),i.parent=this,i.resetDataScope(),this.menuComponent=i,this.addDestroyHook((function(){e.menuComponent.destroy()}))},e.prototype.addElementEventListener=function(t,e,n){t.addEventListener(e,n),this.addDestroyHook((function(){t.removeEventListener(e,n)}))},e.prototype.deselect=function(){t.prototype.deselect.call(this),this.getInputReplyContent().length>0&&this.publishReplyMessage()},e.prototype.changePeimission=function(t){32&t.getUserPermission().getValue()?this.replyEditorElement.setAttribute("contenteditable",""):this.replyEditorElement.removeAttribute("contenteditable")},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this),this.menuComponent.mounted(),this.pdfUI.getPDFDocRender().then((function(t){return e.changePeimission(t)})),this.addDestroyHook(this.getPDFUI().addViewerEventListener("permission-changed",(function(t){e.getPDFUI().getPDFDocRender().then((function(t){return e.changePeimission(t)}))})));var n=(new Date).getTime();this.addElementEventListener(this.handlerElement,"click",(function(t){c.isIOS?(new Date).getTime()-n<300?e.trigger("dblclick",t):(n=(new Date).getTime(),e.trigger("click",t)):e.trigger("click",t)})),this.addElementEventListener(this.handlerElement,"dblclick",(function(t){e.trigger("dblclick",t)})),this.addElementEventListener(this.publishMessageBtn,"click",(function(t){e.publishMessage()})),this.addElementEventListener(this.addReplyBtn,"click",(function(t){e.publishReplyMessage()})),this.addElementEventListener(this.commentMenus,"click",(function(t){return t.stopPropagation()})),this.addElementEventListener(this.commentMenus,"dblclick",(function(t){return t.stopPropagation()}));var o=!1;this.addElementEventListener(this.replyEditorElement,"focus",(function(t){if(o=!1,e.element.classList.add("focus-reply-editor"),c.isMobile){e.replyEditorElement.scrollIntoViewIfNeeded?e.replyEditorElement.scrollIntoViewIfNeeded():e.replyEditorElement.scrollIntoView({block:"nearest",behavior:"smooth",inline:"nearest"})}}));var r=!1;this.addElementEventListener(this.replyEditorElement,"contextmenu",(function(){o=!0})),this.addElementEventListener(this.replyEditorElement,"blur",(function(t){if(o)o=!1;else{var n=e.getInputReplyContent();n&&0!==n.length||e.element.classList.remove("focus-reply-editor"),r?e.reqFocus(e.replyEditorElement):e.selected&&e.publishReplyMessage(),r=!1}})),this.addElementEventListener(this.messageEditorElement,"blur",(function(t){r?e.reqFocus(e.messageEditorElement):e.publishMessage()})),this.addElementEventListener(this.messageEditorElement,"focus",(function(t){if(c.isMobile){e.messageEditorElement.scrollIntoViewIfNeeded?e.messageEditorElement.scrollIntoViewIfNeeded():e.messageEditorElement.scrollIntoView({block:"nearest",behavior:"smooth",inline:"nearest"})}})),this.addElementEventListener(this.element,"mousedown",(function(t){r=!0})),this.addElementEventListener(this.element,"mouseup",(function(t){r=!1})),this.addElementEventListener(this.menuComponent.element,"dblclick",(function(t){t.stopPropagation()})),this.menuComponent.controller.setParentScope(this.controller),this.pdfUI.eventEmitter.emit(i.default.appendCommentListComment,this,this.annot)},e.prototype.reqFocus=function(t){t&&!t.matches(":focus")&&t.focus()},e.prototype.hasFocusOnReplyEditor=function(){return this.replyEditorElement.matches(":focus")},e.prototype.receiveBroadcast=function(e,n){switch(t.prototype.receiveBroadcast.call(this,e,n),e){case"scroll":this.menuComponent.isActive&&this.menuComponent.deactive()}},e.prototype.publishMessage=function(){"edit"==this.operationMode&&this.trigger("publish",this.getInputMessageContent())},e.prototype.publishReplyMessage=function(){var t=this.getInputReplyContent();t&&t.trim().length>0&&this.trigger("reply",t.trim())},e.prototype.getInputReplyContent=function(){return this.replyEditorElement.innerText.trim()},e.prototype.getInputMessageContent=function(){return this.messageEditorElement.innerText.trim()},e.prototype.focusOnReplyEditor=function(){this.replyEditorElement.focus()},e.prototype.clearReplyEditor=function(){this.replyEditorElement.innerText=""},e.prototype.setAnnotTitle=function(t){this.titleElement.innerText=t||""},e.prototype.setAnnot=function(t){if(t){var e=this.annot;this.annot=t,e&&e.getId()===t.getId()||this._updateIcon(t)}},e.prototype._updateIcon=function(t){var e=t.getType().toLowerCase(),n=t.getIntent&&t.getIntent(),o=t.getSubject&&t.getSubject(),r=void 0;if("highlight"===e&&t.isArea())r=d.areahighlight;else{if(n&&""!==n&&(r=d[n.toLowerCase()]),!r)switch(e){case"freetext":o&&""!==o&&(r=d[o.toLowerCase()]);break;default:r=d[e]}r||h.info("icon not found for ",e)}this.iconElement.className="fv__ui-commentlist-comment-icon "+r},e.prototype.setModifyTime=function(t){this.currentModifyTime=t,this.currentFormatedModifyTime=this.floatingTimeFormatter(t),this.displayingModifyTime=this.timeFormatter(t),this.timeElement.innerText=this.displayingModifyTime,this.element.title=this.currentFormatedModifyTime},e.prototype.setMessage=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.hasContent="string"==typeof t&&t.trim().length>0,this.message=t?t.replace(/[\r\n]/g," "):"",this.messageElement.innerText=this.message,e&&(this.controller.applyAll(),this.menuComponent.controller.applyAll())},e.prototype.disableEdit=function(){this.editable=!1;var t=this.menuComponent.getComponentByName("edit-comment-menu");t&&t.disable()},e.prototype.enableEdit=function(){this.editable=!0;var t=this.menuComponent.getComponentByName("edit-comment-menu");t&&t.enable()},e.prototype.switchToEdit=function(){this.editable&&(t.prototype.switchToEdit.call(this),this.messageEditorElement.innerText=this.message)},e.prototype.applyState=function(){t.prototype.applyState.call(this),this.element.classList.remove("has-content","no-content"),this.element.classList.add(this.hasContent?"has-content":"no-content"),this.controller.applyAll(),this.menuComponent.controller.applyAll(),"edit"===this.operationMode&&this.reqFocus(this.messageEditorElement)},e.prototype.getContainerElement=function(){return this.repliesElement},e.prototype.doDestroy=function(){t.prototype.doDestroy.call(this),this.pdfUI.eventEmitter.emit(i.default.destroyCommentListComment,this,this.annot)},e.prototype.getTitleElement=function(){return this.titleElement},e.prototype.getTimeElement=function(){return this.timeElement},e.prototype.getToolsElement=function(){return this.toolsElement},e}(r.default);e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(18)),r=i(n(32));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.selected=!1,i.operationMode="view",i.hasStates=!1,i.isStateListHidden=!1,i}return a(e,t),e.prototype.select=function(){this.disabled||(this.selected=!0)},e.prototype.deselect=function(){this.selected=!1},e.prototype.switchToEdit=function(){this.disabled||(this.operationMode="edit")},e.prototype.switchToView=function(){this.operationMode="view"},e.prototype.setStates=function(t){this.states=t,this.hasStates=t.length>0,this.stateStatistics=t.reduce((function(t,e){var n=e.getState();return t[n]=(t[n]||0)+1,t}),{})},e.prototype.updateState=function(t,e){this.stateStatistics[t]--,this.stateStatistics[e]++},e.prototype.hideStateList=function(){this.isStateListHidden=!0},e.prototype.showStateList=function(){this.isStateListHidden=!1},e.prototype.publishMessage=function(){(0,r.default)()},e.prototype.applyState=function(){if(this.element.classList.remove("view","edit","not-selected","selected","has-states","no-states"),this.element.classList.add(this.operationMode,this.hasStates?"has-states":"no-states",this.selected?"selected":"not-selected"),this.hasStates){var t=this.element.querySelector(".fv__ui-commentlist-comment-status-list");if(this.isStateListHidden)t.classList.add("fv__ui-hide");else{t.classList.remove("fv__ui-hide");var e=t.querySelectorAll("[status]");for(var n in e.forEach((function(t){t.classList.add("fv__ui-hide")})),this.stateStatistics){var o=this.stateStatistics[n],r=t.querySelector("[status="+n+"]");r&&(r.classList.remove("fv__ui-hide"),r.querySelector("[role=count]").innerText=o)}}}},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=s(n(341)),i=s(n(870)),a=s(n(8));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=(0,i.default)(),l=function(t){function e(n,o,r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r))}return c(e,t),e.getName=function(){return"reply"},e.prototype.render=function(){var e=this;t.prototype.render.call(this),this.element.classList.add("fv__ui-commentlist-reply",this.operationMode),this.element.innerHTML=u;var n=[".fv__ui-commentlist-reply-message",".fv__ui-commentlist-reply-handler",".fv__ui-commentlist-reply-title",".fv__ui-commentlist-reply-time",".fv__ui-commentlist-reply-menu","[role=reply-menu]",".fv__ui-commantlist-reply-editor .fv__ui-commentlist-editor","[action=edit-reply]",".fv__ui-commentlist-tools"].map((function(t){return e.element.querySelector(t)})),r=o(n,9),i=r[0],a=r[1],s=r[2],c=r[3],l=r[4],f=r[5],p=r[6],d=r[7],h=r[8];this.messageElement=i,this.handlerElement=a,this.titleElement=s,this.timeElement=c,this.replyMessageEditor=p,this.submitReplyBtn=d,this.toolsElement=h;var g=this.pdfUI.parseTemplate(f.content||f.innerHTML);g.localize(),l.appendChild(g.element),g.parent=this,g.resetDataScope(),this.menuComponent=g,this.addDestroyHook((function(){e.menuComponent.destroy()}))},e.prototype.receiveBroadcast=function(t){switch(t){case"scroll":this.menuComponent.isActive&&this.menuComponent.deactive()}},e.prototype.addEventListener=function(t,e){var n=this;this.handlerElement.addEventListener(t,e),this.addDestroyHook((function(){return n.handlerElement.removeEventListener(t,e)}))},e.prototype.addElementEventListener=function(t,e,n){t.addEventListener(e,n),this.addDestroyHook((function(){t.removeEventListener(e,n)}))},e.prototype.switchToEdit=function(){t.prototype.switchToEdit.call(this),this.replyMessageEditor.innerText=this.messageElement.innerText},e.prototype.reqFocus=function(t){t&&!t.matches(":focus")&&t.focus()},e.prototype.applyState=function(){t.prototype.applyState.call(this),"edit"===this.operationMode&&(this.replyMessageEditor.matches(":focus")||this.reqFocus(this.replyMessageEditor))},e.prototype.mounted=function(){var e=this;if(!this.isMounted){t.prototype.mounted.call(this),this.menuComponent.mounted(),["click","contextmenu","dblclick"].map((function(t){e.addEventListener(t,(function(n){e.trigger(t,n),n.stopPropagation()}))})),this.addElementEventListener(this.submitReplyBtn,"click",(function(t){e.updateReplyMessage()})),this.addElementEventListener(this.menuComponent.element,"dblclick",(function(t){t.stopPropagation()}));var n=!1;this.addElementEventListener(this.element,"mousedown",(function(t){n=!0})),this.addElementEventListener(this.replyMessageEditor,"blur",(function(t){n?e.reqFocus(e.replyMessageEditor):e.publishMessage()})),this.addElementEventListener(this.element,"mouseup",(function(t){n=!1})),this.menuComponent.controller.setParentScope(this.controller),this.pdfUI.eventEmitter.emit(a.default.appendCommentListReply,this,this.controller.data.replyItem.annot)}},e.prototype.updateReplyMessage=function(){this.trigger("reply",this.getInputReplyMessageContent())},e.prototype.publishMessage=function(){"edit"===this.operationMode&&this.updateReplyMessage()},e.prototype.getInputReplyMessageContent=function(){return this.replyMessageEditor.innerText},e.prototype.setContent=function(t){this.messageElement.innerText=t||"",this.controller.applyAll(),this.menuComponent.controller.applyAll()},e.prototype.getContent=function(){return this.messageElement.innerText},e.prototype.setTime=function(t){this.currentModifyTime=t,this.currentFormatedModifyTime=this.parent?this.parent.floatingTimeFormatter(t):"",this.displayingModifyTime=this.parent?this.parent.timeFormatter(t):"",this.timeElement.innerText=this.displayingModifyTime,this.element.title=this.currentFormatedModifyTime},e.prototype.setTitle=function(t){this.titleElement.innerText=t||""},e.prototype.rerenderChildren=function(){var t=this.$container.children().map((function(t){return t.removeElement(),t.element}));this.layout.render(t,this.element,0,this.size())},e.prototype.doDestroy=function(){t.prototype.doDestroy.call(this),this.pdfUI.eventEmitter.emit(a.default.destroyCommentListReply,this,this.controller.data.replyItem.annot)},e.prototype.getTitleElement=function(){return this.titleElement},e.prototype.getTimeElement=function(){return this.timeElement},e.prototype.getToolsElement=function(){return this.toolsElement},e}(r.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.commentListFloatingTimeFormatter=function(t){t=Number(t);var e=new Date(t);return[e.getFullYear(),"-",e.getMonth()+1,"-",e.getDate()," ",e.getHours(),":",e.getMinutes(),":",e.getSeconds()].map((function(t){return"number"==typeof t&&t<10?"0"+t:t})).join("")},e.default=function(t){if(t=Number(t),isNaN(t)||"number"!=typeof t)return;var e=new Date,n=e.getFullYear(),o=e.getMonth(),r=e.getDate(),i=(new Date(n,0,1,0,0,0,0).getTime(),new Date(n,o,r,0,0,0,0).getTime()),a=new Date;a.setTime(t);var s=[a.getFullYear(),a.getMonth()+1,a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds()].map((function(t){return t<10?"0"+t:t+""}));return t<i?s.slice(0,3).join("-"):s.slice(3).join(":")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(2)),r=i(n(1));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(){return a(this,e),s(this,t.apply(this,arguments))}return c(e,t),e.prototype.postlink=function(){var e=this;t.prototype.postlink.call(this),this.addDestroyHook(this.getPDFUI().addViewerEventListener(r.default.annotationReviewStateAnnotAdd,(function(t,n){e.getCurrentAnnot().getId()===n.getId()&&e.updateStateList()})),this.getPDFUI().addViewerEventListener(r.default.removeReviewState,(function(t){e.getCurrentAnnot().getId()===t.getId()&&e.updateStateList()})),this.getPDFUI().addViewerEventListener(r.default.annotationStatesCleared,(function(t){var n=e.getCurrentAnnot(),o=t.getGroupElements();(n.getId()===t.getId()||o&&o.find((function(t){return t.getId()===n.getId()})))&&e.updateStateList()})),this.getPDFUI().addViewerEventListener(r.default.stateAnnotNameUpdated,(function(t,n,o,r){e.getCurrentAnnot().getReviewStates().indexOf(t)>-1&&e.getPDFUI().getUserName().then((function(n){stateMap[n].getId()===t.getId()&&(e.component.updateState(o,r),e.component.applyState())}))})))},e.prototype.updateStateList=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.getCurrentAnnot(),n=this.processStateData(e.getReviewStates()),o=Object.keys(n).map((function(t){return n[t]}));this.component.setStates(o),t&&this.component.applyState()},e.prototype.getCurrentAnnot=function(){return this.data.annot},e.prototype.processStateData=function(t){return t.reduce((function(t,e){var n=e.getTitle(),o=t[n];return o?o.getModifiedDateTime()<=e.getModifiedDateTime()&&(t[n]=e):t[n]=e,t}),{})},e}(o.default);e.default=u},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.renderMatchResult=function(t,e,n){if(e){var o=e.length,i=e[0],a=document.createDocumentFragment();i.startIndex>0&&a.appendChild(document.createTextNode(n.slice(0,i.startIndex)));for(var s=0;s<o;s++){var c=r.cloneNode();c.appendChild(document.createTextNode(n.slice(e[s].startIndex,e[s].endIndex))),a.appendChild(c),s<o-1&&a.appendChild(document.createTextNode(n.slice(e[s].endIndex,e[s+1].startIndex)))}var u=e[o-1];for(u.endIndex<n.length&&a.appendChild(document.createTextNode(n.slice(u.endIndex)));t.lastChild;)t.removeChild(t.lastChild);t.appendChild(a)}else 1===t.childNodes.length&&t.firstChild instanceof Text?t.firstChild.textContent!==n&&(t.firstChild.textContent=n):t.innerText=n},e.findMatch=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"|";if("string"!=typeof e||"string"!=typeof t)return!1;e=e.trim(),n||(t=t&&t.toLowerCase(),e=e&&e.toLowerCase());if(0===e.length)return[{index:0,str:e,endIndex:0}];var r=e.replace(/\s+/," ").split(o).reduce((function(t,e){return-1===t.indexOf(e)&&t.push(e),t}),[]).reduce((function(e,n){for(var o=0;;){var r=t.indexOf(n,o);if(!(r>-1))break;e.addSegment(new i(r,r+n.length)),o=r+n.length}return e}),new a),s=r.segments;return s.length>0&&s};var r=document.createElement("span");r.className="fv__ui-commentlist-search-match";var i=function(){function t(e,n){o(this,t),this.startIndex=e,this.endIndex=n}return t.prototype.isSubSegmentOf=function(t){return t.inRange(this.startIndex)&&t.inRange(this.endIndex)},t.prototype.hasIntersection=function(t){return this.inRange(t.startIndex)||this.inRange(t.endIndex)},t.prototype.inRange=function(t){return t>=this.startIndex&&t<=this.endIndex},t.prototype.intersect=function(e){return new t(Math.min(this.startIndex,e.startIndex),Math.max(this.endIndex,e.endIndex))},t}(),a=function(){function t(){o(this,t),this.segments=[]}return t.prototype.addSegment=function(t){var e=this;this.segments.some((function(e){return t.isSubSegmentOf(e)}))||(this.segments.some((function(n,o){return!!n.hasIntersection(t)&&(e.segments[o]=n.intersect(t),!0)}))||this.segments.push(t))},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=u(n(10)),r=u(n(8)),i=n(17),a=n(48),s=n(5),c=n(100);function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var f=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.annotationCount=0,o.matchAnnotationCount=0,o.completedPages=[],o.taskExecutor=new i.DebounceAsyncTaskExecutor(100),o.eventTaskExecutor=new i.DebounceAsyncTaskExecutor(300),o.redrawTaskExecutor=new i.DebounceAsyncTaskExecutor(300),o.display={},o.addDestroyHook((function(){o.eventTaskExecutor.destroy(),o.redrawTaskExecutor.destroy()})),o.loadAllPageCount=0,o}return l(e,t),e.getName=function(){return"search-comment-list"},e.prototype.handleSearch=function(t){var e=void 0;e=this.annotationDisplayingStatus&&!this.annotationDisplayingStatus.display?{}:t.getValue(),this.annotationCount=0,this.matchAnnotationCount=0,this.completedPages=[],t.waiting(),this.broadcast("search",e),this.loadmoreComponent&&(this.controller.isAllPagesLoaded()?this.loadmoreComponent.noMore():this.loadmoreComponent.hasMore())},e.prototype.componentMounted=function(){var t=this;this.loadmoreComponent=this.controller.getComponentByName("fv--commentlist-search-loadmore"),this.loadAllComponent=this.controller.getComponentByName("fv--commentlist-search-load-all");var e=this.searchComponent=this.controller.getComponentByName(this.attrValue),n=this.component.getClosestComponentByClass(a.SidebarPanelComponent),o=this.component.getPDFUI();o.getStore().then((function(e){t.addDestroyHook(e.subscribe(c.DISPATCH_STORE_ANNOTATION_DISPLAYING,(function(e){t.annotationDisplayingStatus=e})))})),this.addDestroyHook(n.on(s.COMPONENT_EVENTS.ACTIVE,(function(){t.handleSearch(e)})),e.on("search",(function(n){t.taskExecutor.exec((function(){return Promise.resolve().then((function(){return t.handleSearch(e,n)}))}))})),o.addUIEventListener([r.default.annotationImported],(function(){n.isActive&&t.handleSearch(e)})),o.addUIEventListener(r.default.commentGroupAnnotationsUpdated,(function(n){if(t.handleSearch(e),t.loadAllComponent){t.loadAllPageCount++;var o=t.loadAllPageCount===t.controller.totalPageCount;t.controller.isAllPagesLoaded()&&o&&t.loadAllComponent.loadComplete(t.matchAnnotationCount)}})),o.addUIEventListener([r.default.annotationUpdated],(function(){n.isActive&&t.eventTaskExecutor.exec((function(){return Promise.resolve().then((function(){return t.handleSearch(e)}))}))})),o.addViewerEventListener([r.default.willCloseDocument,r.default.beforeOpenFile],(function(){e.updateSearchResult({searchAmount:0,totalAmount:0}),t.loadAllPageCount=0}))),e.updateSearchResult({searchAmount:0,totalAmount:0})},e.prototype.receiveEmit=function(t,e,n){if("pageSearchEnd"===e){var o=this.controller;return this.annotationCount+=n.annotationCount,this.matchAnnotationCount+=n.matchCount,this.completedPages.push(n.pageIndex),this.completedPages.length===o.getLoadedPages().length&&(this.searchComponent.updateSearchResult({searchAmount:this.matchAnnotationCount,totalAmount:this.annotationCount}),this.matchAnnotationCount),!1}return!0},e}(o.default);e.default=f},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";t=t||{};var e="",r=o.$each,i=(t.$value,t.$index,t.i,o.$escape),a=function(t){return e+=t};return t.length&&(e+="\n    ",r(t,(function(o,r){e+='\n        <div class="fv__bookmarks_list">\n\n        ';for(var s=0;s<o.deep;s++)e+='\n            <div class="fv__tree-icon fv__line_pc_ui"></div>\n        ';e+="\n\n        ",1==t.length?(e+="\n            ",o.children.length?e+='\n                <a class="fv__tree-fold-btn"><div class="fv__tree-icon fv__plugonly_pc"></div></a>\n            ':e+='\n                <div class="fv__tree-icon fv__joinonly_pc"></div>\n            ',e+="\n        "):0==r?(e+="\n            ",o.children.length?(e+="\n                ",o.deep?e+='\n                    <a class="fv__tree-fold-btn"><div class="fv__tree-icon fv__plug_pc_ui"></div></a>\n                ':e+='\n                    <a class="fv__tree-fold-btn"><div class="fv__tree-icon fv__plugtop_pc"></div></a>\n                ',e+="\n            "):(e+="\n                ",o.deep?e+='\n                <div class="fv__tree-icon fv__join_pc_ui"></div>\n                ':e+='\n                <div class="fv__tree-icon fv__jointop_pc_ui"></div>\n                ',e+="\n            "),e+="\n        "):r==t.length-1?(e+="\n            ",o.children.length?e+='\n            <a class="fv__tree-fold-btn">\n            <div class="fv__tree-icon fv__plugbottom_pc"></div>\n            </a>\n            ':e+='\n            <div class="fv__tree-icon fv__joinbottom_pc_ui"></div>\n            ',e+="\n        "):(e+="\n\n            ",o.children.length?e+='\n            <a class="fv__tree-fold-btn">\n            <div class="fv__tree-icon fv__plug_pc_ui"></div>\n            </a>\n            ':e+='\n            <div class="fv__tree-icon fv__join_pc_ui"></div>\n            ',e+="\n        "),e+='\n\n\n        <a class="fv__bookmark-item" data-page="',e+=i(o.page),e+='" data-top="',e+=i(o.top),e+='" data-left="',e+=i(o.left),e+='">\n        <div class="fv__bookmark_icon"></div>\n        <span style="color:',e+=i(o.color),e+=";",o.isBold&&(e+="font-weight:bold;"),o.isItalic&&(e+="font-style:italic;"),e+='">',e+=i(o.title),e+='</span>\n        </a>\n        </div>\n\n\n        <div class="fv__bookmark-child fv__hide">\n            ',a(n(347)(o.children)),e+="\n        </div>\n    "})),e+="\n"),e}},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(11),i=n(1),a=(o=i)&&o.__esModule?o:{default:o},s=n(123),c=n(13);function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.data=null,o.update=o.update.bind(o),o.zoom=o.zoom.bind(o),o}return u(e,t),e.getStateName=function(){return c.STATE_HANDLER_CHECK_THE_SEARCH},e.prototype.docHandler=function(t){var e=this;this.pdfViewer.eventEmitter.on(a.default.checkTheSearch,(function(t,n){var o=e.data;o&&e.hideSelectMark(e.pdfViewer.getPDFDocRender().getPDFPageRender(o.pageIndex)),e.data=t,e.prevStateHandler=n,e.update()})),this.pdfViewer.eventEmitter.on(a.default.zoomToSuccess,this.zoom),this.pdfViewer.eventEmitter.on(a.default.fitWidthResizeViewport,this.zoom);var n=this.pdfViewer.getPDFDocRender().$ui[0];(this.hammer=new Hammer.Manager(n,{recognizers:[[Hammer.Tap]]})).on("tap",(function(t){e.pdfViewer.getStateHandlerManager().switchTo(e.prevStateHandler)}))},e.prototype.zoom=function(){var t=this,e=this.data,n=this.pageRender;if(e&&n){var o=this.pdfViewer.getPDFDocRender().pagesRender,r=this.pdfViewer.getPDFDocRender().scale;o.getPageScale(e.pageIndex,r).then((function(o){n.scale=o,n.getPDFPage().then((function(o){var r=n.transformRectArray(o,e.rects);t.showSelectMark(r)}))}))}},e.prototype.update=function(t){var e=this;t||(t=this.data);var n=this.pdfViewer.getPDFDocRender().pagesRender,o=this.pageRender=this.pdfViewer.getPDFDocRender().getPDFPageRender(t.pageIndex)||this.pageRender,r=this.pdfViewer.getPDFDocRender().scale;n.getPageScale(t.pageIndex,r).then((function(n){o.scale=n,o.getPDFPage().then((function(n){var r=o.transformRectArray(n,t.rects);e.showSelectMark(r)}))}))},e.prototype.destroyDocHandler=function(){this.hammer&&this.hammer.destroy(),this.hideSelectMark(),this.data=null,this.pageRender=null},e.prototype.out=function(){this.destroyDocHandler()},e.prototype.showSelectMark=function(t){(0,s.appendSelectMark)(this.pageRender.$handler,t)},e.prototype.hideSelectMark=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pageRender;t&&(0,s.removeSelectMark)(t.$handler)},e}(r.IStateHandler);e.default=l},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";t=t||{};var e="",r=o.$each,i=(t.$value,t.$index,t.i,o.$escape),a=function(t){return e+=t};return t.length&&(e+="\n",r(t,(function(o,r){e+='\n<div class="fv__layer_list">\n';for(var s=0;s<o.deep;s++)e+='\n    <div class="fv__tree-icon fv__line_pc_ui"></div>\n';e+="\n\n",1==t.length?(e+="\n    ",o.children.length?e+='\n        <a class="fv__tree-fold-btn"><div class="fv__tree-icon fv__plugonly_pc"></div></a>\n    ':e+='\n        <div class="fv__tree-icon fv__joinonly_pc"></div>\n    ',e+="\n"):0==r?(e+="\n    ",o.children.length?(e+="\n        ",o.deep?e+='\n            <a class="fv__tree-fold-btn"><div class="fv__tree-icon fv__plug_pc_ui"></div></a>\n        ':e+='\n            <a class="fv__tree-fold-btn"><div class="fv__tree-icon fv__plugtop_pc"></div></a>\n        ',e+="\n    "):(e+="\n        ",o.deep?e+='\n        <div class="fv__tree-icon fv__join_pc_ui"></div>\n        ':e+='\n        <div class="fv__tree-icon fv__jointop_pc_ui"></div>\n        ',e+="\n    "),e+="\n"):r==t.length-1?(e+="\n    ",o.children.length?e+='\n    <a class="fv__tree-fold-btn">\n    <div class="fv__tree-icon fv__plugbottom_pc"></div>\n    </a>\n    ':e+='\n    <div class="fv__tree-icon fv__joinbottom_pc_ui"></div>\n    ',e+="\n"):(e+="\n\n    ",o.children.length?e+='\n    <a class="fv__tree-fold-btn">\n    <div class="fv__tree-icon fv__plug_pc_ui"></div>\n    </a>\n    ':e+='\n    <div class="fv__tree-icon fv__join_pc_ui"></div>\n    ',e+="\n"),e+="\n\n",o.hasLayer&&(e+="\n",o.isLocked?e+='\n<i class="fv__layer-item-locked-icon fv__icon-sidebar-layer-locked"></i>\n':(e+='\n<input type="checkbox" class="fv__toggle-checkbox" id="fv__cb',e+=i(o.id),e+='" data-id=',e+=i(o.id),e+=" ",o.visible&&(e+="checked"),e+=" />\n"),e+="\n"),e+='\n<a class="fv__layer-item">\n<label for="fv__cb',e+=i(o.id),e+='">',e+=i(o.name),e+='</label>\n</a>\n</div>\n\n\n<div class="fv__layer-child fv__ly-hide">\n',a(n(350)(o.children)),e+="\n</div>\n"})),e+="\n"),e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(52)),r=n(11);function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(){return a(this,e),s(this,t.apply(this,arguments))}return c(e,t),e.getName=function(){return"ShowAnnotReplyController"},e.prototype.usable=function(t){return!t.replyDisabled()},e.prototype.handle=function(){var t=this.component.parent;if(t instanceof o.default){var e=t.getCurrentTarget();e instanceof r.MarkupAnnotComponent&&e.showReplyDialog("reply")}},e}(i(n(54)).default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(2)),r=a(n(52)),i=n(11);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.getName=function(){return"ShowAnnotPropertiesController"},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this),this.component.element.addEventListener("mousedown",(function(t){e.currentMouseX=t.pageX,e.currentMouseY=t.pageY}))},e.prototype.handle=function(){var t=this.component.parent;if(t instanceof r.default){var e=t.getCurrentTarget();e instanceof i.AnnotComponent&&e.showPropertiesDialog(null,null,{pageX:this.currentMouseX,pageY:this.currentMouseY})}},e}(o.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(52)),r=n(11);function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(){return a(this,e),s(this,t.apply(this,arguments))}return c(e,t),e.getName=function(){return"DeleteAnnotController"},e.prototype.usable=function(t){return!(!t||!t.deleteDisabled||"function"!=typeof t.deleteDisabled)&&!t.deleteDisabled()},e.prototype.handle=function(){var t=this.component.parent;if(t instanceof o.default){var e=t.getCurrentTarget();if(e instanceof r.AnnotComponent)return e.removeAnnot()}},e}(i(n(54)).default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(52)),r=n(11);function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(){return a(this,e),s(this,t.apply(this,arguments))}return c(e,t),e.getName=function(){return"ShowActionsController"},e.prototype.usable=function(t){return!(!t||!t.readOnlyDisabled||"function"!=typeof t.readOnlyDisabled)&&!t.readOnlyDisabled()},e.prototype.handle=function(){var t=this.component.parent;if(t instanceof o.default){var e=t.getCurrentTarget();(e instanceof r.ScreenComponent||e instanceof r.LinkAnnotComponent)&&e.showActionsDialog()}},e}(i(n(54)).default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(54),i=(o=r)&&o.__esModule?o:{default:o},a=n(11),s=n(48);function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var f=function(t){function e(){return c(this,e),u(this,t.apply(this,arguments))}return l(e,t),e.getName=function(){return"MediaDownloadController"},e.prototype.usable=function(t){return!(!t||!t.readOnlyDisabled||"function"!=typeof t.readOnlyDisabled)&&!t.readOnlyDisabled()},e.prototype.handle=function(){var t=this.component.parent;if(t instanceof s.ContextMenuComponent){var e=t.getCurrentTarget();(e instanceof a.ScreenComponent||e instanceof a.SoundComponent||e.download&&"function"==typeof e.download)&&e.download()}},e}(i.default);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(52)),r=n(11);function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(){return a(this,e),s(this,t.apply(this,arguments))}return c(e,t),e.getName=function(){return"CopyAnnotTextController"},e.prototype.visibility=function(t){return!(t.isArea&&t.isArea()&&t.isReplace&&t.isReplace())},e.prototype.handle=function(){var t=this.component.parent;if(t instanceof o.default){var e=t.getCurrentTarget();e instanceof r.TextMarkupAnnotComponent&&e.copyText()}},e}(i(n(54)).default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(2);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"ShowSearchPanelController"},e.prototype.handle=function(){var t=this.root.querySelector("sidebar-search");t&&t.active()},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(54)),r=a(n(115)),i=a(n(52));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.getName=function(){return"ApplyRedactController"},e.prototype.usable=function(t){return!t.assembleDocDisabled()},e.prototype.handle=function(){var t=this.component.parent,e=this.getPDFUI();if(t instanceof i.default){var n=t.getCurrentTarget();n instanceof r.default&&n.apply().catch((function(t){-6===t.error&&e.alert("dialog.error.noRedactionLicense")}))}},e}(o.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(54)),r=a(n(115)),i=a(n(52));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.getName=function(){return"ApplyAllRedactController"},e.prototype.usable=function(t){return!t.assembleDocDisabled()},e.prototype.handle=function(){var t=this.component.parent,e=this.getPDFUI();if(t instanceof i.default){var n=t.getCurrentTarget();if(n instanceof r.default)return n.applyAll().catch((function(t){-6===t.error&&e.alert("dialog.error.noRedactionLicense")}))}},e}(o.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(54)),r=a(n(52)),i=a(n(115));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.getName=function(){return"ShowRedactPlaceDialogController"},e.prototype.usable=function(t){return!t.moveDisabled()},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this),this.component.element.addEventListener("mousedown",(function(t){e.currentMouseX=t.pageX,e.currentMouseY=t.pageY}))},e.prototype.handle=function(){var t=this.component.parent;if(t instanceof r.default){var e=t.getCurrentTarget();e instanceof i.default&&e.showPlaceMarkDialog(null,null,{pageX:this.currentMouseX,pageY:this.currentMouseY})}},e}(o.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(54),i=(o=r)&&o.__esModule?o:{default:o},a=n(48),s=n(11);function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var f=function(t){function e(){return c(this,e),u(this,t.apply(this,arguments))}return l(e,t),e.getName=function(){return"MediaPlayController"},e.prototype.usable=function(t){return!(!t||!t.readOnlyDisabled||"function"!=typeof t.readOnlyDisabled)&&!t.readOnlyDisabled()},e.prototype.handle=function(){var t=this.component.parent;if(t instanceof a.ContextMenuComponent){var e=t.getCurrentTarget();(e instanceof s.SoundComponent||e instanceof s.ScreenComponent)&&e.play()}},e}(i.default);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(54),i=(o=r)&&o.__esModule?o:{default:o},a=n(48),s=n(11);function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var f=function(t){function e(){return c(this,e),u(this,t.apply(this,arguments))}return l(e,t),e.getName=function(){return"MediaPauseController"},e.prototype.handle=function(){var t=this.component.parent;if(t instanceof a.ContextMenuComponent){var e=t.getCurrentTarget();e instanceof s.SoundComponent&&e.pause()}},e}(i.default);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(99)),r=a(n(84)),i=a(n(8));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r.default.getName()))}return s(e,t),e.getName=function(){return"SinglePageModeController"},e.prototype.mounted=function(){var e=this,n=this.pdfUI,o=void 0,a=void 0;n.getPDFViewer().then((function(t){return o=t})),n.getViewModeManager().then((function(t){return a=t}));var s=n.addViewerEventListener(i.default.openFileSuccess,(function(t){if(t.getPageCount()<2){var n=a.get(r.default.getName());o.pdfViewerRender.ViewMode=n,a.currentViewMode=n,o.eventEmitter.emit(i.default.startChangeViewMode,r.default,null)}else e.component.deactive()}));return this.addDestroyHook(s),t.prototype.mounted.call(this)},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(99)),r=a(n(214)),i=(a(n(84)),a(n(8)));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r.default.getName()))}return s(e,t),e.getName=function(){return"FacingPageModeController"},e.prototype.mounted=function(){var e=this,n=this.getPDFUI(),o=n.addViewerEventListener(i.default.renderFileSuccess,(function(t){e.component.deactive();var n=t.getPageCount();e.getPDFUI().getPDFViewerRender().then((function(t){var o=t.getViewMode().getName();n<2?e.component.disable():(e.component.enable(),o===e.viewModeName&&e.component.active())}))}));return this.addDestroyHook(o),this.addDestroyHook(n.addViewerEventListener(i.default.pageAdded,(function(){n.getPDFViewerRender().then((function(t){t.pdfDocRender.getPDFDoc().getPageCount()<2?e.component.disable():e.component.enable()}))}))),this.addDestroyHook(n.addViewerEventListener(i.default.pageRemoved,(function(){n.getPDFViewerRender().then((function(t){t.pdfDocRender.getPDFDoc().getPageCount()<2?e.component.disable():e.component.enable()}))}))),t.prototype.mounted.call(this)},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(73)),r=a(n(3)),i=n(103);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.multipage=2,o.pageSpacing=10,o.isMouseDown=!1,o.isScroll=!1,o.isWheel=!1,o.wheel=o.wheel.bind(o),o.mouseDown=o.mouseDown.bind(o),o.mouseUp=o.mouseUp.bind(o),o.adjust=o.adjust.bind(o),o.keyup=o.keyup.bind(o),o}return s(e,t),e.getName=function(){return"facing-cover-view-mode"},e.getMultipage=function(){return 2},e.getPageSpacing=function(){return 10},e.prototype.getItems=function(){return this.docRender.$container.find(".fv__pdf-view-mode-item")},e.prototype.into=function(){var t=this,e=["<style>",".facing-cover-view-mode{","overflow:hidden;","margin:0 auto;","}",".facing-cover-view-mode .fv__pdf-view-mode-item{","float: left;","display: flex;","justify-content: center;","align-items: center;","width:calc("+100/this.multipage+"% - "+this.pageSpacing*(this.multipage-1)/this.multipage+"px)","}",".facing-cover-view-mode .fv__pdf-view-mode-item{","margin-right: "+this.pageSpacing+"px;","}",".facing-cover-view-mode .fv__pdf-page-layout{","width: 100%;","}",".facing-cover-view-mode .fv__pdf-view-mode-item:nth-child("+this.multipage+"n - 1){","margin-right: 0;","}",".facing-cover-view-mode .fv__pdf-view-mode-item:nth-of-type(odd) .fv__pdf-page-layout{","margin-right: 0;","}",".facing-cover-view-mode .fv__pdf-view-mode-item:nth-of-type(even) .fv__pdf-page-layout{","margin-left: 0;","}","</style>"].join("");this.$style=(0,r.default)(e),this.docRender.pagesRender.$ui.append(this.$style),this.docRender.$container.addClass(this.constructor.getName());var n=this.docRender.viewerRender.scrollWrap;this.scrollHost=n.getScrollHost();var o=this,a=u(150,(function(){o.isMouseDown||!o.isWheel||o.flip||(o.scroll.call(o),o.isWheel=!1)}));this.initPageLayout(),this._unwatchScrollEvent=n.addScrollEventListener((function(){t.isScroll=!0,a(),clearTimeout(t.scrollEventTimer),t.scrollEventTimer=setTimeout((function(){var e=t.docRender.pagesRender;e&&e.renderVisiblePages().then((function(){t.docRender.isGoto?setTimeout((function(){t.docRender.isGoto=!1}),40):t.docRender.setCurrentPageIndex(t.getCurrentPageIndex())}),(function(){}))}),100)})),this.scrollHost.addEventListener("wheel",this.wheel),this.scrollHost.addEventListener("mousedown",this.mouseDown),window.addEventListener("mouseup",this.mouseUp),window.addEventListener("keyup",this.keyup),this.docRender.pdfViewer.eventEmitter.on(i.UIEvents.zoomToSuccess,this.adjust),this.docRender.goToPage(this.docRender.getCurrentPageIndex()),(this.hammer=new Hammer.Manager(this.scrollHost,{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]})).on("panend",(function(e){return t.adjust(),!1}))},e.prototype.initPageLayout=function(){for(var t=this.getItems(),e=this.multipage,n=this.pageSpacing,o=n*(e-1)/e,r=0;r<t.length;r++)t.eq(r).css({width:"calc("+100/e+"% - "+o+"px)"});t.eq(0).css({marginLeft:"calc("+100/e+"% + "+n+"px)"})},e.prototype.keyup=function(t){var e=t.keyCode;if(33===e||34===e){var n=this;setTimeout((function(){n.adjust()}),50)}else 38!==e&&40!==e||this.adjust()},e.prototype.wheel=function(t){this.isWheel=!0;var e=this.docRender.viewerRender.scrollWrap;this.currentScrollTop=e.getScrollTop(),this.currentPageIndex=this.getCurrentPageIndex();var n=e.getHeight();e.getScrollLeft();if(n>this.getItems().eq(this.currentPageIndex).children(".fv__pdf-page-layout").height()){if(this.flip=!0,t.deltaY>0){var o=this.docRender.doc.getPageCount(),r=this.currentPageIndex+2;this.docRender.goToPage(Math.min(r,o-1))}else{var i=this.currentPageIndex-2;i<=0&&(i=0),this.docRender.goToPage(i)}t.preventDefault()}else this.flip=!1},e.prototype.mouseDown=function(){this.isMouseDown=!0},e.prototype.mouseUp=function(){this.isMouseDown&&this.isScroll&&this.adjust(),this.isMouseDown=!1,this.isScroll=!1},e.prototype.adjust=function(){var t=this.docRender.viewerRender.scrollWrap,e=t.getScrollTop(),n=t.getScrollLeft(),o=this.scrollHost.clientHeight,r=e+o,i=this.getCurrentPageIndex(),a=this.getItems(),s=a.eq(i),c=(a.get(i),s.outerHeight(!0)),u=s.position().top,l=u+c;e<u&&l>r?t.scrollTo(n,u):e>u&&l<r&&t.scrollTo(n,l-o)},e.prototype.scroll=function(){var t=this.docRender.doc.getPageCount(),e=this.docRender.viewerRender.scrollWrap,n=this.currentScrollTop,o=e.getScrollTop(),r=o-n,i=e.getScrollLeft(),a=this.scrollHost.clientHeight,s=this.currentPageIndex,c=this.getItems(),u=c.eq(s),l=(c.get(s),u.position().top),f=l+u.outerHeight(!0)-a;if(r>=0)if(n-f<-1){if(o<f)return;e.scrollTo(i,f)}else{var p=s+2;if(!(p<t))return;e.scrollTo(i,c.eq(p).position().top)}else if(n-l>1){if(o>l)return;e.scrollTo(i,l)}else{var d=s-2;if(d<0&&(d=0),!(d>-1))return;e.scrollTo(i,c.eq(d).position().top+c.eq(d).outerHeight(!0)-a)}},e.prototype.out=function(){this.docRender.$container.removeClass(this.constructor.getName()),this.docRender.pagesRender.$ui.removeAttr("style"),this.$style&&this.$style.remove(),this._unwatchScrollEvent&&this._unwatchScrollEvent();var e=this.getItems();e.css({width:"",height:""}),e.eq(0).css({marginLeft:""}),this.scrollHost&&this.scrollHost.removeEventListener("wheel",this.wheel),this.scrollHost&&this.scrollHost.removeEventListener("mousedown",this.mouseDown),window.removeEventListener("mouseup",this.mouseUp),window.removeEventListener("keyup",this.keyup),this.docRender.pdfViewer.eventEmitter.off(i.UIEvents.zoomToSuccess,this.adjust),this.hammer.destroy(),t.prototype.out.call(this)},e.prototype.renderViewMode=function(t,e,n,o,i){var a=t.index,s=this.getMaxPageWidth(),c=this.getItems(),u=this.multipage,l=this.docRender.viewerRender.scrollWrap.getHeight(),f=(u-1)*this.pageSpacing;this.docRender.pagesRender.$ui.css({width:s*u*e+f});for(var p=Math.floor(a/u),d=0,h=this.docRender.doc.getPageCount(),g=[],m=0;m<u;m++){var v=p*u+m;v<h&&g.push(this.docRender.getPDFDoc().getPageByIndex(v).then((function(t){d=Math.max(t.getPxHeight(),d),t.getPxHeight()})))}Promise.all(g).then((function(){var t=d*e;t<l?(0,r.default)(c[a]).css({height:"calc("+l+"px - 1rem)"}):(0,r.default)(c[a]).css({height:t})})).catch((function(){}))},e.prototype.getMaxPageWidth=function(){var t=this.docRender.doc.pageCache,e=0;return t.forEach((function(t){e=Math.max(e,t.getPxWidth())})),e},e.prototype.getFitHeight=function(t){var e=this.docRender.viewerRender.scrollWrap;return e.getHeight()-e.getScrollOffsetTop()},e.prototype.getFitWidth=function(t){var e=this.docRender.doc.pageCache,n=this.getMaxPageWidth(),o=this.docRender.viewerRender.scrollWrap,r=this.multipage;return(o.getWidth()-16-r*this.pageSpacing)/r/n*e[t].getPxWidth()},e.prototype.jumpToPage=function(t,e){var n=e.x,o=void 0===n?0:n,r=e.y,i=void 0===r?0:r,a=this.getItems();t>=a.length?t=a.length-1:t<0&&(t=0);var s=a.eq(t),c=s.position().left+o,u=s.position().top+i;this.docRender.viewerRender.scrollWrap.scrollTo(c,u)},e.prototype.getVisibleIndexes=function(){var t=this.docRender.viewerRender.scrollWrap,e=t.getScrollTop(),n=t.getHeight(),o=e+n,i=[];return this.getItems().each((function(t,n){var a=(0,r.default)(n).outerHeight(!0),s=n.offsetTop;if(s>o)return!1;s<=o&&s+a>=e&&i.push(t)})),i},e.prototype.getCurrentPageIndex=function(){for(var t=this.getItems(),e=this.docRender.viewerRender.scrollWrap,n=e.getScrollTop(),o=n+e.getHeight(),i=e.getScrollLeft(),a=i+e.getWidth(),s=void 0,c=[],u=0;u<t.length;u++){var l=t[u],f=(0,r.default)(l).width(),p=(0,r.default)(l).height(),d=l.offsetTop,h=d+p,g=l.offsetLeft,m=g+f,v=void 0;if(d<=n&&h>n&&h<o?v=h-n:d>=n&&h<o?v=p:d<=n&&h>o?v=o-n:d>=n&&d<o&&h>o&&(v=o-d),v){var y=void 0;g<=i&&m>i&&m<a?(y=m-i,c.push({index:u,area:v*y})):g>=i&&m<a?(y=f,c.push({index:u,area:v*y})):g<=i&&m>a?(y=a-i,c.push({index:u,area:v*y})):g>=i&&g<a&&m>a&&(y=a-g,c.push({index:u,area:v*y}))}}for(var b=0,w=0;w<c.length;w++)c[w].area>b&&(b=c[w].area,s=c[w].index);return s},e.prototype.getNextPageIndex=function(){var t=this.docRender.doc.getPageCount(),e=this.getCurrentPageIndex();if(e<t-1){var n=this.docRender.viewerRender.scrollWrap,o=this.docRender.pagesRender.$ui.width(),r=n.getWidth()-16,i=this.multipage;if(r>=o)e=Math.ceil((e+2)/i)*i;else e++}return e>t-1&&(e=t-1),e},e.prototype.getPrevPageIndex=function(){var t=this.getCurrentPageIndex();if(t>0){var e=this.docRender.viewerRender.scrollWrap,n=this.docRender.pagesRender.$ui.width(),o=e.getWidth()-16,r=this.multipage;if(o>=n)t=(Math.ceil((t+2)/r)-2)*r;else t--}return t<0&&(t=0),t},e}(o.default);e.default=c;var u=function(t,e){var n=void 0;return function(){var o=this,r=arguments;clearTimeout(n),n=setTimeout((function(){e.apply(o,r)}),t)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(73)),r=i(n(3));n(11);function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.multipage=2,o.pageSpacing=10,o}return a(e,t),e.getName=function(){return"facing-cover-continuous-view-mode"},e.getMultipage=function(){return 2},e.getPageSpacing=function(){return 10},e.prototype.getItems=function(){return this.docRender.$container.find(".fv__pdf-view-mode-item")},e.prototype.into=function(){var t=this,e=["<style>",".facing-cover-continuous-view-mode{","overflow:hidden;","margin:0 auto;","}",".facing-cover-continuous-view-mode .fv__pdf-view-mode-item{","float: left;","display: flex;","justify-content: center;","align-items: center;","width:calc("+100/this.multipage+"% - "+this.pageSpacing*(this.multipage-1)/this.multipage+"px)","}",".facing-cover-continuous-view-mode .fv__pdf-view-mode-item{","margin-right: "+this.pageSpacing+"px;","}",".facing-cover-continuous-view-mode .fv__pdf-page-layout{","width: 100%;","}",".facing-cover-continuous-view-mode .fv__pdf-view-mode-item:nth-child("+this.multipage+"n - 1){","margin-right: 0;","}",".facing-cover-continuous-view-mode .fv__pdf-view-mode-item:nth-of-type(odd) .fv__pdf-page-layout{","margin-right: 0;","}",".facing-cover-continuous-view-mode .fv__pdf-view-mode-item:nth-of-type(even) .fv__pdf-page-layout{","margin-left: 0;","}","</style>"].join("");this.$style=(0,r.default)(e),this.docRender.pagesRender.$ui.append(this.$style),this.docRender.$container.addClass(this.constructor.getName());var n=this.docRender.viewerRender.scrollWrap;this.initPageLayout(),this._unwatchScrollEvent=n.addScrollEventListener((function(){clearTimeout(t.scrollEventTimer),t.scrollEventTimer=setTimeout((function(){var e=t.docRender.pagesRender;e&&e.renderVisiblePages().then((function(){t.docRender.isGoto?setTimeout((function(){t.docRender.isGoto=!1}),40):t.docRender.setCurrentPageIndex(t.getCurrentPageIndex())}),(function(){}))}),100)}))},e.prototype.initPageLayout=function(){for(var t=this.getItems(),e=this.multipage,n=this.pageSpacing,o=n*(e-1)/e,r=0;r<t.length;r++)t.eq(r).css({width:"calc("+100/e+"% - "+o+"px)"});t.eq(0).css({marginLeft:"calc("+100/e+"% + "+n+"px)"})},e.prototype.out=function(){this.docRender.$container.removeClass(this.constructor.getName()),this.docRender.pagesRender.$ui.removeAttr("style"),this.$style.remove(),this._unwatchScrollEvent&&this._unwatchScrollEvent();for(var e=this.getItems(),n=0;n<e.length;n++)(0,r.default)(e[n]).css({width:"",height:""});e.eq(0).css({marginLeft:""}),t.prototype.out.call(this)},e.prototype.renderViewMode=function(t,e,n,o,r){var i=t.index,a=this.getMaxPageWidth(),s=this.getItems(),c=this.multipage,u=(c-1)*this.pageSpacing;0===i&&s.eq(0).css({"margin-left":(a*e+u)*(c-1)}),this.docRender.pagesRender.$ui.css({width:a*c*e+u});for(var l=Math.floor(i/c),f=0,p=this.docRender.getRotation(),d=this.docRender.doc.getPageCount(),h=[],g=0;g<c;g++){var m=l*c+g;m<d&&h.push(this.docRender.getPDFDoc().getPageByIndex(m).then((function(t){var e=void 0;e=90===p||270===p?t.getPxWidth():t.getPxHeight(),f=Math.max(e,f),e})))}Promise.all(h).then((function(){s.eq(i).css({height:f*e})})).catch((function(){}))},e.prototype.getMaxPageWidth=function(){var t=this.docRender.doc.pageCache,e=this.docRender.getRotation(),n=0;return 90===e||270===e?t.forEach((function(t){n=Math.max(n,t.getPxHeight())})):t.forEach((function(t){n=Math.max(n,t.getPxWidth())})),n},e.prototype.getFitHeight=function(t){var e=this.docRender.viewerRender.scrollWrap;return e.getHeight()-e.getScrollOffsetTop()},e.prototype.getFitWidth=function(t){var e=this.docRender.doc.pageCache,n=this.docRender.getRotation(),o=void 0;o=90===n||270===n?e[t].getPxHeight():e[t].getPxWidth();var r=this.getMaxPageWidth(),i=this.docRender.viewerRender.scrollWrap,a=this.multipage;return(i.getWidth()-16-a*this.pageSpacing)/a/r*o},e.prototype.jumpToPage=function(t,e){var n=e.x,o=void 0===n?0:n,r=e.y,i=void 0===r?0:r,a=this.getItems();t>=a.length?t=a.length-1:t<0&&(t=0);var s=a.eq(t),c=s.position().left+o,u=s.position().top+i;this.docRender.viewerRender.scrollWrap.scrollTo(c,u)},e.prototype.getVisibleIndexes=function(){var t=this.docRender.viewerRender.scrollWrap,e=t.getScrollTop(),n=t.getHeight(),o=e+n,i=[];return this.getItems().each((function(t,n){var a=(0,r.default)(n).outerHeight(!0),s=n.offsetTop;if(s>o)return!1;s<=o&&s+a>=e&&i.push(t)})),i},e.prototype.getCurrentPageIndex=function(){for(var t=this.getItems(),e=this.docRender.viewerRender.scrollWrap,n=e.getScrollTop(),o=n+e.getHeight(),i=e.getScrollLeft(),a=i+e.getWidth(),s=void 0,c=[],u=0;u<t.length;u++){var l=t[u],f=(0,r.default)(l).width(),p=(0,r.default)(l).height(),d=l.offsetTop,h=d+p,g=l.offsetLeft,m=g+f,v=void 0;if(d<=n&&h>n&&h<o?v=h-n:d>=n&&h<o?v=p:d<=n&&h>o?v=o-n:d>=n&&d<o&&h>o&&(v=o-d),v){var y=void 0;g<=i&&m>i&&m<a?(y=m-i,c.push({index:u,area:v*y})):g>=i&&m<a?(y=f,c.push({index:u,area:v*y})):g<=i&&m>a?(y=a-i,c.push({index:u,area:v*y})):g>=i&&g<a&&m>a&&(y=a-g,c.push({index:u,area:v*y}))}}for(var b=0,w=0;w<c.length;w++)c[w].area>b&&(b=c[w].area,s=c[w].index);return s},e.prototype.getNextPageIndex=function(){var t=this.docRender.doc.getPageCount(),e=this.getCurrentPageIndex();if(e<t-1){var n=this.docRender.viewerRender.scrollWrap,o=this.docRender.pagesRender.$ui.width(),r=n.getWidth()-16,i=this.multipage;if(r>=o)e=Math.ceil((e+2)/i)*i;else e++}return e>t-1&&(e=t-1),e},e.prototype.getPrevPageIndex=function(){var t=this.getCurrentPageIndex();if(t>0){var e=this.docRender.viewerRender.scrollWrap,n=this.docRender.pagesRender.$ui.width(),o=e.getWidth()-16,r=this.multipage;if(o>=n)t=(Math.ceil((t+2)/r)-2)*r;else t--}return t<0&&(t=0),t},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getFromRemote=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",n=(0,i.default)(),o=new XMLHttpRequest;return o.onreadystatechange=function(t){var r=o.status;o.readyState===XMLHttpRequest.DONE&&(r>=200&&r<300||304===r?"json"===e&&"string"==typeof o.response?n.resolve(JSON.parse(o.response)):n.resolve(o.response):n.reject(o.response))},o.onerror=function(t){n.reject(t)},o.open("GET",t,!0),o.responseType=e,o.send(),n.promise};var o,r=n(22),i=(o=r)&&o.__esModule?o:{default:o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(55)),r=(s(n(130)),s(n(369))),i=s(n(88)),a=n(11);function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var f=function(t,e,n){var o=void 0;for(var r in t){var i=t[r];for(var a in i){i[a];n?e==r&&a==n&&(delete i[a],o=!0):e?r==e&&(delete i[a],o=!0):delete i[a]}0==Object.keys(i).length&&delete t[r]}return o};function p(t,e,n){if(void 0!==this.defaultStamps)return this.defaultStamps;if(!t){if(t=(0,r.default)(this.libPath,this.currentLanguage),e){var o=e.category,i=e.name;t[o]=t[o]||{},t[o][i]=e}if(n){var a=n.category,s=n.name;delete t[a][s],0==Object.keys(t[a]).length&&delete t[a]}}return this.customStamps=this.customStamps||{},this.defaultStamps=t}function d(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.getComponentByName("create-stamp-handle-ui").then((function(n){n&&(e&&n.updateListData(t.defaultStamps),t.getComponentByName("custom-stamps-list").then((function(e){e.updateListData(t.customStamps)})))}))}function h(t){var e=t.category,n=t.name;e in this.customStamps||(this.customStamps[e]={}),this.customStamps[e][n]=t,this.updateToolbarStamps(!1)}function g(t){t.type;var e=t.category,n=t.name;!f(this.customStamps,e,n)&&f(this.defaultStamps,e,n),this.updateToolbarStamps()}var m=function(t){function e(){return c(this,e),u(this,t.apply(this,arguments))}return l(e,t),e.depends=function(){return[i.default]},e.prototype.construct=function(t,e,n){var o=n.eventEmitter;o.on(a.Events.iconInited,(function(e){t.customStamps=e.stamp,t.defaultStamps=!1,t.updateToolbarStamps()})),o.on(a.Events.iconAdded,(function(e){t.initDefaultStamps(null,e),t.addAnnotationIcon(e)})),o.on(a.Events.iconRemoved,(function(e){t.initDefaultStamps(null,null,e.category?e:null),t.removeAnnotationIcon(e)})),t.initDefaultStamps=p,t.updateToolbarStamps=d,t.addAnnotationIcon=h,t.removeAnnotationIcon=g},e.prototype.link=function(){this.pdfUI.defaultStamps},e}(o.default);e.default=m},function(t,e,n){"use strict";function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";t.endsWith("/")||(t+="/"),e=e.replace(/(\w*?)-(\w*)/,(function(t,e,n){return e+"-"+n.toUpperCase()}));var n=["Static","SignHere","Dynamic"];return function(n,r,i){var a;return o(a={},n,{Approved:{url:t+"stamps/"+e+"/StandardStamps/Approved.pdf",fileType:"pdf"},Completed:{url:t+"stamps/"+e+"/StandardStamps/Completed.pdf",fileType:"pdf"},Confidential:{url:t+"stamps/"+e+"/StandardStamps/Confidential.pdf",fileType:"pdf"},Draft:{url:t+"stamps/"+e+"/StandardStamps/Draft.pdf",fileType:"pdf"},Revised:{url:t+"stamps/"+e+"/StandardStamps/Revised.pdf",fileType:"pdf"},Emergency:{url:t+"stamps/"+e+"/StandardStamps/Emergency.pdf",fileType:"pdf"},Expired:{url:t+"stamps/"+e+"/StandardStamps/Expired.pdf",fileType:"pdf"},Final:{url:t+"stamps/"+e+"/StandardStamps/Final.pdf",fileType:"pdf"},Received:{url:t+"stamps/"+e+"/StandardStamps/Received.pdf",fileType:"pdf"},Reviewed:{url:t+"stamps/"+e+"/StandardStamps/Reviewed.pdf",fileType:"pdf"}}),o(a,r,{Accepted:{url:t+"stamps/"+e+"/SignHere/Accepted.pdf",fileType:"pdf"},Initial:{url:t+"stamps/"+e+"/SignHere/Initial.pdf",fileType:"pdf"},Rejected:{url:t+"stamps/"+e+"/SignHere/Rejected.pdf",fileType:"pdf"},SignHere:{url:t+"stamps/"+e+"/SignHere/SignHere.pdf",fileType:"pdf"},Witness:{url:t+"stamps/"+e+"/SignHere/Witness.pdf",fileType:"pdf"}}),o(a,i,{Approved:{url:t+"stamps/"+e+"/DynamicStamps/Approved.pdf",fileType:"pdf"},Confidential:{url:t+"stamps/"+e+"/DynamicStamps/Confidential.pdf",fileType:"pdf"},Received:{url:t+"stamps/"+e+"/DynamicStamps/Received.pdf",fileType:"pdf"},Reviewed:{url:t+"stamps/"+e+"/DynamicStamps/Reviewed.pdf",fileType:"pdf"},Revised:{url:t+"stamps/"+e+"/DynamicStamps/Revised.pdf",fileType:"pdf"}}),a}.apply(void 0,n)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fragments=e.template=void 0;var o,r=n(1084),i=(o=r)&&o.__esModule?o:{default:o};e.template=(0,i.default)({}),e.fragments=[]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fontColorConfig=e.applyFillColorConfig=e.fillColorConfig=e.colorConfig=e.startstyleConfig=e.endstyleConfig=e.rotateConfig=e.hilightmodeConfig=e.borderstyleConfig=void 0;var o=n(6),r={iconclass:"fv__ui-property-icon-hilightmode",options:[{value:o.HIGHLIGHTING_MODE.NONE,lable:"propertiesDialog.highlightingMode.none"},{value:o.HIGHLIGHTING_MODE.INVERT,lable:"propertiesDialog.highlightingMode.invert"},{value:o.HIGHLIGHTING_MODE.OUTLINE,lable:"propertiesDialog.highlightingMode.outline"},{value:o.HIGHLIGHTING_MODE.PUSH,lable:"propertiesDialog.highlightingMode.push"}]},i=[{value:0,lable:"propertiesDialog.endingStyle.none",class:"fv__ui-property-icon-end-style-0"},{value:1,lable:"propertiesDialog.endingStyle.square",class:"fv__ui-property-icon-end-style-1"},{value:2,lable:"propertiesDialog.endingStyle.circle",class:"fv__ui-property-icon-end-style-2"},{value:3,lable:"propertiesDialog.endingStyle.diamond",class:"fv__ui-property-icon-end-style-3"},{value:4,lable:"propertiesDialog.endingStyle.openArrow",class:"fv__ui-property-icon-end-style-4"},{value:5,lable:"propertiesDialog.endingStyle.closedArrow",class:"fv__ui-property-icon-end-style-5"},{value:6,lable:"propertiesDialog.endingStyle.butt",class:"fv__ui-property-icon-end-style-6"},{value:7,lable:"propertiesDialog.endingStyle.reverseOpenArrow",class:"fv__ui-property-icon-end-style-7"},{value:8,lable:"propertiesDialog.endingStyle.reverseClosedArrow",class:"fv__ui-property-icon-end-style-8"},{value:9,lable:"propertiesDialog.endingStyle.slash",class:"fv__ui-property-icon-end-style-9"}],a={iconclass:"fv__ui-property-icon-end-style",text:"propertiesDialog.endOfLine",layout:1,noOptionLable:!0,selectorClass:"fv__ui-end-style-selector",options:i},s={iconclass:"fv__ui-property-icon-start-style",text:"propertiesDialog.startOfLine",selectorClass:"fv__ui-start-style-selector",layout:1,noOptionLable:!0,options:i},c={colors:["#ff6633","#ff00ff","#ffcc00","#00ffff","#00ff00","#ffff00","#ff0000","#993399","#cc99ff","#ff99cc","#0000ff","#66cc33","#000000","#333333","#666666","#999999","#cccccc","#ffffff"],transparentclass:"fv__ui-property-icon-nocolor",addclass:"fv__ui-property-icon-add-color",removeclass:"fv__ui-property-icon-remove-color",deleteclass:"fv__ui-property-icon-delete-color-",selectedclass:"fv__ui-property-icon-selected-color-",lightpostname:"light",darkpostname:"dark"},u=Object.assign({transparent:!1},c),l=Object.assign({transparent:!0},c),f=Object.assign({transparent:!1},c),p=Object.assign({transparent:!1},c);e.borderstyleConfig={iconclass:"fv__ui-property-icon-border-style",noOptionLable:!0,selectorClass:"fv__ui-border-style-selector",options:[{value:0,class:"fv__ui-line-style-0"},{value:1,class:"fv__ui-line-style-1"},{value:2,class:"fv__ui-line-style-2"},{value:3,class:"fv__ui-line-style-3"},{value:4,class:"fv__ui-line-style-4"},{value:5,class:"fv__ui-line-style-5"},{value:6,class:"fv__ui-line-style-6"},{value:7,class:"fv__ui-line-style-7"},{value:8,class:"fv__ui-line-style-8"}]},e.hilightmodeConfig=r,e.rotateConfig={iconclass:"fv__ui-property-icon-rotate",options:[{value:0,lable:"propertiesDialog.rotate.degree0"},{value:1,lable:"propertiesDialog.rotate.degree1"},{value:2,lable:"propertiesDialog.rotate.degree2"},{value:3,lable:"propertiesDialog.rotate.degree3"}]},e.endstyleConfig=a,e.startstyleConfig=s,e.colorConfig=u,e.fillColorConfig=l,e.applyFillColorConfig=f,e.fontColorConfig=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=d(n(158)),r=n(13),i=n(38),a=n(6),s=n(11),c=d(n(7)),u=d(n(1099)),l=d(n(1100)),f=d(n(1101)),p=d(n(22));function d(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var g=["line","linearrow","linedimension","polylinedimension","polygondimension","circle","square","polyline","polygon","polygoncloud","fileattachment","freetexttypewriter","typewriter","freetextcallout","callout","freetexttextbox","textbox","freetext","ink","stamp","text","areahighlight","highlight","caret","replace","squiggly","strikeout","redact","underline","media","image","link","sound"].reduce((function(t,e){return t[e]="fv--"+e+"-contextmenu",t}),{}),m=c.default.getLogger("XViewerUI"),v=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return n.rootComponentDefer=(0,p.default)(),n}return h(e,t),e.prototype.setRootComponent=function(t){this.rootComponent=t,this.rootComponentDefer.resolve(t)},e.prototype.getRootComponentPromise=function(){return this.rootComponentDefer.promise},e.prototype.createContextMenu=function(e,n,o){var r=this.getContextMenuNameByOwner(e),i=this.rootComponent.getComponentByName(r);return i||(e instanceof s.MarkupAnnotComponent?i=this.rootComponent.getComponentByName("fv--markup-contextmenu"):e instanceof s.TextMarkupAnnotComponent?i=this.rootComponent.getComponentByName("fv--textmarkup-contextmenu"):e instanceof s.AnnotComponent&&(i=this.rootComponent.getComponentByName("fv--default-annot-contextmenu"))),i?new u.default(this.pdfViewer,e,i,n,o):t.prototype.createContextMenu.call(this,e,n,o)},e.prototype.getContextMenuNameByOwner=function(t){switch(t){case r.STATE_HANDLER_HAND:case r.STATE_HANDLER_SELECT_TEXT_ANNOTATION:return"fv--page-contextmenu";case a.CREATING_MEASUREMENT_CONTEXTMENU:return"fv--creating-measurement-contextmenu";default:if(t instanceof s.AnnotComponent)return this.getAnnotsContextMenuName(t);if("function"==typeof t.getContextMenuComponentName)return t.getContextMenuComponentName()}},e.prototype.getAnnotsContextMenuName=function(t){var e=t.annot;if(e.isGrouped&&e.isGrouped()){var n=e.getGroupHeader(),o=n.getIntent();o&&"replace"===o.toLowerCase()&&(e=n)}var r=e.getType().toLowerCase(),a=e.getIntent&&e.getIntent(),s=e.getSubject&&e.getSubject(),c=void 0;if("highlight"===r&&e.isArea())return"fv--areahighlight-contextmenu";if("widget"===r){if(e.info.fieldType===i.FieldType.Text)return"fv--text-field-contextmenu"}else if("screen"===r){var u=e.info.action,l=u?u.renditions:void 0;if(l&&l[0])l[0].contentType.match(/^(audio|video)\/.+$/)&&(c=g.media);e.info.isAudioVideo&&(c=g.media),c||(c=g.image)}else{if(a&&""!==a&&(c=g[a.toLowerCase().replace(/^freetext/,"")]),!c)switch(r){case"freetext":if(s&&""!==s){var f=s.toLowerCase().replace(/^freetext/,"");c=g[f]}break;default:c=g[r]}c||(m.warn("context menu not found for this annotation: ",e,'now using "fv--default-annot-contextmenu" instead!'),c="fv--default-annot-contextmenu")}return c},e.prototype.alert=function(t,e){return this.getRootComponentPromise().then((function(n){return n.getPDFUI().alert(t,e)}))},e.prototype.confirm=function(t,e){return this.getRootComponentPromise().then((function(n){return n.getPDFUI().confirm(t,e)}))},e.prototype.prompt=function(t,e,n){return this.getRootComponentPromise().then((function(o){return o.getPDFUI().prompt(t,e,n)}))},e.prototype.createTextSelectionTooltip=function(e){var n=this.rootComponent.getComponentByName("fv--text-selection-tooltip");return n?new f.default(this.pdfViewer,e,n):(m.warn('The tooltip component named "fv-text-selection-tooltip" cannot be found in layout-template. \n                You should define a component named after it or use the built-in "<text-sel:text-selection-tooltip>" component directly.'),t.prototype.createTextSelectionTooltip.call(this,e))},e.prototype.createFreeTextTooltip=function(e){var n=this.rootComponent.getComponentByName("fv--freetext-tooltip");return n?new l.default(this.pdfViewer,e,n):(m.warn('The tooltip component named "fv--freetext-tooltip" cannot be found in layout-template.\n            You should define a component named after it or use the built-in "freetext:freetext-tooltip" component directly.'),t.prototype.createFreeTextTooltip.call(this,e))},e}(o.default);e.default=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(374)),r=u(n(78)),i=u(n(7)),a=u(n(8)),s=n(9),c=u(n(18));function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}i.default.getLogger("mobile-appearance");var d=function(t){function e(){return l(this,e),f(this,t.apply(this,arguments))}return p(e,t),e.prototype.beforeMounted=function(e){t.prototype.beforeMounted.call(this,e),document.documentElement.classList.add("fv__ui-mobile")},e.prototype.afterMounted=function(e){var n=this;t.prototype.afterMounted.call(this,e),this.pdfUI.addUIEventListener(a.default.fullscreenchange,(function(t){t?n._handleFullscreen(e):n._handleExitFullscreen(e)}));var o=!1;this.pdfUI.addViewerEventListener(a.default.openFileSuccess,(function(){o=!1})),this.pdfUI.addViewerEventListener(a.default.renderFileSuccess,(function(t){o||(o=!0,n.pdfUI.getPDFViewerRender().then((function(t){return t.getScaleRatio().then((function(e){t.zoomTo(e)}))})).catch((function(){})))})),s.isIOS&&this._preventPageScroll()},e.prototype._preventPageScroll=function(){var t=function(t){(function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.offsetWidth*e.offsetHeight,o=e.parentElement;if(e===document.body||!o)return!1;var r=o.offsetWidth*o.offsetHeight;if(n>r){var i=window.getComputedStyle(o),a=function(t){return"auto"===t||"scroll"===t};if(a(i.overflowX)||a(i.overflowY))return!0}return t(o,r)})(t.target)||t.preventDefault()},e=function(t){0==window.scrollY&&0==document.body.scrollTop||document.body.scrollIntoView({block:"start"})};window.addEventListener("touchmove",t),window.addEventListener("touchend",e,{capture:!0}),this.pdfUI.addUIEventListener(a.default.applicationDestroyed,(function(){window.removeEventListener("touchmove",t),window.removeEventListener("touchend",e)}))},e.prototype._handleFullscreen=function(t){var e=t.getComponentByName("tabs").controller.currentTabName,n=t.querySelector("@toolbar [tab="+e+"]");n&&n.element.classList.remove("active")},e.prototype._handleExitFullscreen=function(t){var e=t.getComponentByName("tabs").controller.currentTabName,n=t.querySelector("@toolbar [tab="+e+"]");n&&n.element.classList.add("active")},e.prototype.getLayoutTemplate=function(){return o.template},e.prototype.getDefaultFragments=function(){return o.fragments},e.prototype.resolveFragments=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t},n=t.fragments();n=e(n),t.fragments=function(){return n}},e.prototype.disableAll=function(){this.root&&(this.$disabledComponents=[],this.disableHeader(),this.disableToolbar(),this.disableSidebar())},e.prototype.enableAll=function(){this.root&&(this.enableHeader(),this.enableToolbar(),this.enableSidebar())},e.prototype.disableHeader=function(){var t=this.root.querySelector("fv--mobile-header-right");t&&t.disable()},e.prototype.enableHeader=function(){var t=this.root.querySelector("fv--mobile-header-right");t&&t.enable()},e.prototype.disableToolbar=function(){var t=this;this.root.querySelectorAll("@toolbar @group-list").forEach((function(e){t.markupComponentRecursive(e),e.disable()}))},e.prototype.enableToolbar=function(){this.root.querySelectorAll("@toolbar @group-list").forEach((function(t){t.enable()}))},e.prototype.disableSidebar=function(){var t=this;this.root.getAllComponentsByType("sidebar-panel").forEach((function(e){e.children().forEach((function(e){t.markupComponentRecursive(e),e.disable()}))}))},e.prototype.enableSidebar=function(){this.root.getAllComponentsByType("sidebar-panel").forEach((function(t){t.children().forEach((function(t){return t.enable()}))}))},e.prototype.markupComponentRecursive=function(t){var e=this;t instanceof c.default?t.children().forEach((function(t){return e.markupComponentRecursive(t)})):t.disabled&&this.$disabledComponents.push(t)},e}(r.default);e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.template=e.fragments=void 0;var o=f(n(1103));n(1104);var r=f(n(12)),i=f(n(1105)),a=f(n(1106)),s=f(n(1107)),c=f(n(1108)),u=f(n(1109)),l=f(n(1110));function f(t){return t&&t.__esModule?t:{default:t}}var p=r.default.module("mobile",[]);p.registerController(a.default),p.registerComponent(s.default),p.registerComponent(u.default),p.registerController(c.default);var d=r.default.root();d.getRegistry().registerDirective(i.default),d.getRegistry().registerDirective(l.default);e.fragments=[],e.template=(0,o.default)({})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(1116);Object.defineProperty(e,"MobileWebPDFComponent",{enumerable:!0,get:function(){return a(o).default}});var r=n(1117);Object.defineProperty(e,"PageNavigationLayerComponent",{enumerable:!0,get:function(){return a(r).default}});var i=n(1120);function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"PageNavigationComponent",{enumerable:!0,get:function(){return a(i).default}})},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<?xml version="1.0" standalone="no"?><svg t="1589451362275" viewBox="-100 -100 1224 1224" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><defs><style type="text/css"></style></defs><path fill="',e+=(0,o.$escape)(t.fillColor),e+='" d="M997.888 70.144C686.592 261.12 460.8 502.272 358.912 623.104l-248.832-195.072-110.08 88.576 429.568 437.248c73.728-189.44 308.224-559.616 594.432-822.784l-26.112-60.928m0 0z"></path></svg>'}},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";var e="",n=(t=t||{}).small,r=o.$escape,i=t.fillColor;return e+='<?xml version="1.0" standalone="no"?><svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">\n',0==n?(e+='\n<path stroke="',e+=r(i),e+='" d="M15 15 L185 185 M15 185 L185 15" style="stroke-width:12"></path></svg>\n'):(e+='\n<path stroke="',e+=r(i),e+='" d="M40 40 L160 160 M40 160 L160 40" style="stroke-width:30"></path></svg>\n'),e}},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<?xml version="1.0" standalone="no"?><svg t="1589451342686" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><defs><style type="text/css"></style></defs><path fill="',e+=(0,o.$escape)(t.fillColor),e+='" d="M512 69.479l442.498 442.498-442.498 442.498-442.498-442.498 442.498-442.498z"></path></svg>'}},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<?xml version="1.0" standalone="no"?><svg class="icon" viewBox="0 0 390 390" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">  <rect height="270" width="270" y="60" x="60" fill="',e+=(0,o.$escape)(t.fillColor),e+='"/></svg>'}},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<svg viewBox="0 0 300 300"  width="300" height="300" xmlns="http://www.w3.org/2000/svg">\n  <circle cx="151" cy="151" r="85" fill="',e+=(0,o.$escape)(t.fillColor),e+='"/>\n</svg>'}},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<svg viewBox="0 0 400 400"  width="400" height="400" xmlns="http://www.w3.org/2000/svg">\n  <path id="svg_4" d="m30.75,155.65323l131.477663,0l40.627609,-124.90323l40.627633,124.90323l131.477639,0l-106.367469,77.193558l40.629712,124.90323l-106.367515,-77.19566l-106.367492,77.19566l40.629723,-124.90323l-106.367503,-77.193558z" fill="',e+=(0,o.$escape)(t.fillColor),e+='"/>\n</svg>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.components=e.SeniorComponentFactory=e.PDFViewCtrl=e.toolkit=e.controllers=e.UIConsts=e.Controller=e.vendors=e.ContainerComponent=e.Component=e.widgets=e.XViewerUI=e.getDevicePagePoint=e.TemplateParser=e.TextMarkupStateHandler=e.Appearance=e.appearances=e.StatefulController=e.UIXAddon=e.Localizer=e.Directive=e.modular=e.UIEvents=e.PDFUI=void 0;var o=n(223);Object.defineProperty(e,"PDFUI",{enumerable:!0,get:function(){return S(o).default}});var r=n(8);Object.defineProperty(e,"UIEvents",{enumerable:!0,get:function(){return S(r).default}});var i=n(12);Object.defineProperty(e,"modular",{enumerable:!0,get:function(){return S(i).default}});var a=n(10);Object.defineProperty(e,"Directive",{enumerable:!0,get:function(){return S(a).default}});var s=n(98);Object.defineProperty(e,"Localizer",{enumerable:!0,get:function(){return S(s).default}});var c=n(87);Object.defineProperty(e,"UIXAddon",{enumerable:!0,get:function(){return S(c).default}});var u=n(14);Object.defineProperty(e,"StatefulController",{enumerable:!0,get:function(){return S(u).default}});var l=n(1102);Object.defineProperty(e,"appearances",{enumerable:!0,get:function(){return S(l).default}});var f=n(78);Object.defineProperty(e,"Appearance",{enumerable:!0,get:function(){return S(f).default}});var p=n(83);Object.defineProperty(e,"TextMarkupStateHandler",{enumerable:!0,get:function(){return S(p).default}});var d=n(305);Object.defineProperty(e,"TemplateParser",{enumerable:!0,get:function(){return S(d).default}});var h=n(35);Object.defineProperty(e,"getDevicePagePoint",{enumerable:!0,get:function(){return S(h).default}});var g=n(372);Object.defineProperty(e,"XViewerUI",{enumerable:!0,get:function(){return S(g).default}});var m=S(n(15)),v=S(n(18)),y=S(n(2)),b=A(n(48)),w=A(n(375));n(1123);var _=A(n(5)),P=A(n(1126)),O=A(n(1127)),E=A(n(11)),x=S(n(53)),C=A(n(1130));function A(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function S(t){return t&&t.__esModule?t:{default:t}}P.Controller=y.default,Object.assign(b,w);var D={Component:m.default,ContainerComponent:v.default,widgets:b};_.Loading_Mode={fromFileObject:0,fromMemory:1},e.widgets=b,e.Component=m.default,e.ContainerComponent=v.default,e.vendors=C,e.Controller=y.default,e.UIConsts=_,e.controllers=P,e.toolkit=O,e.PDFViewCtrl=E,e.SeniorComponentFactory=x.default,e.components=D,window.PDFViewCtrl=E},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=l(n(385)),r=l(n(225)),i=l(n(388)),a=l(n(1)),s=l(n(136)),c=l(n(133)),u=n(64);function l(t){return t&&t.__esModule?t:{default:t}}var f=(0,o.default)(),p=function(){function t(e,n,o){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=t.getDefaultName(),this.pdfViewer=o,this.ViewMode=n,this.$ui=e;var a=this.scrollWrap=new(this.pdfViewer.customs.ScrollWrap||s.default)(this),u=void 0;a.getScrollHost().addEventListener("scroll",this._scrollWrapBind=function(){clearTimeout(u);var t=i.pdfDocRender;t&&(u=setTimeout((function(){t.move()}),100))});var l=void 0;e.on("scroll",".fv__pdf-view-mode-item",this._scrollPageBind=function(t){clearTimeout(l);var e=t.currentTarget,n=void 0;try{if(!(n=i.pdfDocRender.pagesRender).length)return}catch(t){return}l=setTimeout((function(){for(var t=e.previousSibling,o=0;t;)t.classList.contains("fv__pdf-view-mode-item")&&o++,t=t.previousSibling;var r=n[o];if(r)try{r.move()}catch(t){}}),100)}),e.addClass("fv__pdf-viewer").html(f),this.$rendering=e.find(".fv__pdf-viewer-rendering"),this.$container=e.find(".fv__pdf-viewer-container"),this.pdfViewerRendering=new(o.customs.PDFViewerRendering||r.default)(this.$rendering[0],this),(this.handler=new(o.customs.PDFViewerHandler||c.default)(e.find(".fv__pdf-viewer-handler-container"),this)).active(),this.oldPdfDocRenders=[]}return t.getDefaultName=function(){return"pdfViewerRender"},t.prototype.setViewMode=function(t){var e=this;if(t!==this.ViewMode){var n=this.ViewMode;if(this.ViewMode=t,this.pdfViewer.eventEmitter.emit(a.default.startChangeViewMode,t,n),this.pdfDocRender)return this.pdfDocRender.setViewMode(t).then((function(){e.pdfViewer.eventEmitter.emit(a.default.changeViewModeSuccess,t,n)}),(function(){e.pdfViewer.eventEmitter.emit(a.default.changeViewModeFailed,t,n)}))}return Promise.resolve()},t.prototype.getViewMode=function(){return this.ViewMode},t.prototype.rendering=function(){this.$ui.addClass("fv__view-rendering"),this.pdfViewerRendering.rendering()},t.prototype.rendered=function(){this.$ui.removeClass("fv__view-rendering"),this.pdfViewerRendering.rendered()},t.prototype.renderDoc=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.pdfViewer.config.defaultScale,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=new i.default(this.$container,t,this);return this.pdfDocRender=o,this.oldPdfDocRenders.push(o),this.rendered(),o.render(e,n)},t.prototype.rotateTo=function(t){return(0,u.assertThat)((0,u.isValidRotationAngle)(t),"Incorrect rotation degree: "+t),this.pdfDocRender?this.pdfDocRender.rotateTo(t):Promise.reject(new Error("Cannot perform rotation without document opening!"))},t.prototype.getRotation=function(){return this.pdfDocRender?this.pdfDocRender.getRotation():0},t.prototype.closeOldDocRender=function(){for(var t,e=[],n=this.oldPdfDocRenders,o=n.length;o--;)e[o]=((t=n[o]).hidden(),t.destroy()),this.pdfDocRender==n[o]&&(this.pdfDocRender=null),n.splice(o,1);return Promise.all(e)},t.prototype.bindEvent=function(){},t.prototype.zoomTo=function(t,e){try{return this.pdfDocRender.zoomTo(t,e)}catch(t){return Promise.reject(t)}},t.prototype.goToPage=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return this.pdfDocRender.goToPage(t,{x:n,y:e},o)},t.prototype.zoomAt=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0};if(!this.pdfDocRender)throw new Error("No PDF files are currently open");return this.getScaleRatio().then((function(o){return t.zoomTo(e).then((function(){return t.getScaleRatio().then((function(e){var r=e/o,i=n.x*(r-1),a=n.y*(r-1);t.scrollWrap.scrollBy(i,a)}))}))}))},t.prototype.setLayerNodeVisible=function(t,e){return this.pdfDocRender?this.pdfDocRender.setLayerNodeVisible(t,e):Promise.reject(new Error("doc renderer has not been initialized!"))},t.prototype.getScaleRatio=function(){return this.pdfDocRender.getScaleRatio()},t}();e.default=p},function(t,e,n){n(0);t.exports=function(t){"use strict";t=t||{};return'<div class="fv__pdf-viewer-layout">\r\n    <div class="fv__pdf-viewer-rendering"></div>\r\n    <div class="fv__pdf-viewer-container"></div>\r\n    <div class="fv__pdf-viewer-handler-container"></div>\r\n</div>','<div class="fv__pdf-viewer-layout">\r\n    <div class="fv__pdf-viewer-rendering"></div>\r\n    <div class="fv__pdf-viewer-container"></div>\r\n    <div class="fv__pdf-viewer-handler-container"></div>\r\n</div>'}},function(t,e,n){"use strict";(function(e){
/*! art-template@runtime | https://github.com/aui/art-template */
var n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:{},o=Object.create(n),r=/["&'<>]/;o.$escape=function(t){return function(t){var e=""+t,n=r.exec(e);if(!n)return t;var o="",i=void 0,a=void 0,s=void 0;for(i=n.index,a=0;i<e.length;i++){switch(e.charCodeAt(i)){case 34:s="&#34;";break;case 38:s="&#38;";break;case 39:s="&#39;";break;case 60:s="&#60;";break;case 62:s="&#62;";break;default:continue}a!==i&&(o+=e.substring(a,i)),a=i+1,o+=s}return a!==i?o+e.substring(a,i):o}(function t(e){"string"!=typeof e&&(e=null==e?"":"function"==typeof e?t(e.call(e)):JSON.stringify(e));return e}(t))},o.$each=function(t,e){if(Array.isArray(t))for(var n=0,o=t.length;n<o;n++)e(t[n],n);else for(var r in t)e(t[r],r)},t.exports=o}).call(this,n(104))},function(t,e,n){t.exports='<div class="fv__rendering-container">\r\n    <img class="fv__rendering-svg" src="'+n(226)+'">\r\n</div>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=m(n(3)),a=m(n(389)),s=m(n(390)),c=(m(n(22)),m(n(231))),u=m(n(232)),l=n(17),f=m(n(1)),p=(m(n(403)),m(n(60))),d=(m(n(19)),m(n(133)),m(n(233))),h=m(n(404)),g=n(234);function m(t){return t&&t.__esModule?t:{default:t}}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var y=w("hand"),b=(w("annot"),function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));s.name="pdfDocRender",s.$ui=n,s.rotation=0,s.doc=o,s.viewerRender=r;var p=s.pdfViewer=r.pdfViewer,d=(0,i.default)(a.default);d[0].id=o.id,n.append(d),s.$doc=d,s.$rendering=d.find(".fv__pdf-doc-rendering"),s.$container=d.find(".fv__pdf-doc-container"),s.pdfDocRendering=new(p.customs.PDFDocRendering||c.default)(s.$rendering[0],s),s.docCustomRender=new(p.customs.DocCustomRender||u.default)(d.find(".fv__pdf-doc-custom-container")[0],s),s.zoomToTaskExecutor=new l.DebounceAsyncTaskExecutor,s.bindEvent(),s.controlStateClass=y,s.$container.addClass(y),s.handlerInit(d.find(".fv__pdf-doc-handler-container")),s.watermarkConfig=p.config.watermarkConfig;var h=s.customPermission_=p.customs.getDocPermissions||function(){return-1};o.setCustomPermission("standard",h),h=p.customs.getAdditionalPerm||function(){return-1},o.setCustomPermission("additional",h);var g=p.eventEmitter;return g.on(f.default.annotationAppearanceUpdated,s.annotationAppearanceUpdatedBind=function(t,e){if(e.getPDFDoc()===s.doc)try{s.getPDFPageRender(e.getIndex()).redrawAnnotRenders(t)}catch(t){}}),g.on(f.default.annotationMovedPosition,s.annotationMovedPositionBind=function(t,e,n){if(e.getPDFDoc()===s.doc)try{s.getPDFPageRender(e.getIndex()).movedAnnotRenders(t,n)}catch(t){}}),g.on(f.default.annotationRemoved,s.annotationRemovedBind=function(t,e){if(e.getPDFDoc()===s.doc)try{s.getPDFPageRender(e.getIndex()).removeAnnotRenders(t)}catch(t){}}),g.on(f.default.annotationImported,s.updateImportedAnnotsBind=function(t,e){if(t===o)try{s.pagesRender.setRenderFlags(10);var n=e.filter((function(t){return t.newAnnots.length>0})).map((function(t){return t.page.getIndex()}));s.pagesRender.renderPages(n).catch((function(t){0}))}catch(t){}}),g.on(f.default.annotationAdd,s.updateAddAnnotsBind=function(t,e){if(e.getPDFDoc()===s.doc)try{var n=s.getPDFPageRender(e.getIndex());n&&n.addAnnotRenders(t)}catch(t){console.error(t)}}),g.on(f.default.pageRotationChange,s.rotationPageBind=function(t,e,n){if(t.getPDFDoc()===s.doc)try{s.pagesRender.setRenderFlags(7),s.pagesRender.renderVisiblePages()}catch(t){console.error(t)}}),g.on(f.default.customDataAdd,s.customDataAddBind=function(t,e,n){if(s.doc.getId()===n)try{s.getPDFPageRender(e).addCustomRenders(t)}catch(t){}}),g.on(f.default.customDataImported,s.customDataImportedBind=function(t){if(s.doc.getId()===t)try{s.pagesRender.setRenderFlags(32),s.pagesRender.renderVisiblePages().catch((function(t){0}))}catch(t){}}),g.on(f.default.customDataRemoved,s.customDataRemovedBind=function(t,e,n){if(s.doc.getId()===n)try{s.getPDFPageRender(e).removeCustomRenders(t)}catch(t){}}),g.on(f.default.customDataUpdated,s.customDataUpdatedBind=function(t,e,n){if(s.doc.getId()===n)try{s.getPDFPageRender(e).updateCustomRenders(t)}catch(t){}}),s.checkCannotModifyExcludeAssemble_=s.getUserPermission().checkCannotModifyExcludeAssemble(),g.on(f.default.permissionChanged,s.permissionChangedBind=function(){var t=s.getUserPermission().checkCannotModifyExcludeAssemble();s.checkCannotModifyExcludeAssemble_=t;s.getUserPermission();s.loadFormRender().then((function(t){s.pdfViewer.redraw(!0)}))}),s}return v(e,t),e.prototype.getHandlerDOM=function(){return this.$doc.get(0)},e.prototype.getBoundingClientRects=function(){var t=this.$container.find(".fv__pdf-view-mode-item"),e=this.viewerRender.scrollWrap.getScrollHost();e==window&&(e=document.body);for(var n=e.getBoundingClientRect(),o=[],r=0;r<t.length;r++){var a=t[r],s=(0,i.default)(a).find(".fv__pdf-page-layout")[0].getBoundingClientRect();if(s.bottom>n.top&&s.top<n.bottom&&s.left<n.right&&s.right>n.left){var c={index:r,scale:this.getPDFPageRender(r).scale,left:Math.max(n.left,s.left)-s.left,right:Math.min(n.right,s.right)-s.left,top:Math.max(n.top,s.top)-s.top,bottom:Math.min(n.bottom,s.bottom)-s.top};c.x=c.left,c.y=c.top,c.height=c.bottom-c.top,c.width=c.right-c.left,o.push(c)}}return o},e.prototype.handlerInit=function(t){var e=this;t.on("click",(function(){e.unActiveAnnotRender()}))},e.prototype.getFormRender=function(){return this.formRender},e.prototype.setStateHandler=function(t){if(this.stateHandler){if(this.stateHandler.constructor.getStateName()===t.getStateName())return;this.stateHandler.destroyDocHandler()}(this.stateHandler=new t(this.pdfViewer)).docHandler(this)},e.prototype.setViewMode=function(t){return this.pagesRender?this.pagesRender.setViewMode(t):Promise.resolve()},e.prototype.getViewMode=function(){return this.pagesRender.getViewMode()},e.prototype.prevPage=function(){var t=this.getCurrentViewMode().getPrevPageIndex();this.goToPage(t,{x:0,y:0})},e.prototype.nextPage=function(){var t=this.getCurrentViewMode().getNextPageIndex();this.goToPage(t,{x:0,y:0})},e.prototype.goToPage=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.x,i=void 0===o?0:o,a=n.y,s=void 0===a?0:a,c=n.width,u=n.height,l=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.isGoto=!0,t>this.doc.getPageCount()?t=this.doc.getPageCount()-1:t<0&&(t=0);var f=this.pagesRender,p=f.getPDFPageRender(t);if(p)return p.getPDFPage().then((function(n){return f.getPageScale(t,e.scale).then((function(t){if(l){if(void 0!==c){var o=n.getDeviceRect({left:i,right:i+c,top:s+u,bottom:s},t,e.rotation);i=o.left,s=o.top,o.right<i&&(i=o.right),o.bottom<s&&(s=o.bottom)}else{var a=n.getDevicePoint([i,s],t,e.rotation),f=r(a,2),p=f[0],d=f[1],h=n.info.height;(s>h||d<0)&&(d=0),i=p,s=d}return[t,i,s]}return[t,i,s]}))})).then((function(e){var n=r(e,3),o=n[0],i=n[1],a=n[2];return f.goToPage(t,o,i,a)})).catch((function(t){0}));this.isGoto=!1},e.prototype.setCurrentPageIndex=function(t){void 0!==t&&this.pageNumberChange(t)},e.prototype.getCurrentPageIndex=function(){var t=this.getCurrentViewMode();return t&&"function"==typeof t.getCurrentPageIndex?t.getCurrentPageIndex():0},e.prototype.pageNumberChange=function(t){this.pdfViewer.eventEmitter.emit(f.default.pageNumberChange,t+1)},e.prototype.bindEvent=function(){},e.prototype.destroy=function(){this.$doc.addClass("fv__destroying"),this.stateHandler&&this.stateHandler.destroyDocHandler(),this.docCustomRender.destroy(),this.pagesRender&&this.pagesRender.destroy(),this.$doc.remove(),this.zoomToTaskExecutor.destroy(),this.zoomToTaskExecutor=null;var e=this.pdfViewer.eventEmitter;t.prototype.destroy.call(this),e.off(f.default.annotationAppearanceUpdated,this.annotationAppearanceUpdatedBind),e.off(f.default.annotationMovedPosition,this.annotationMovedPositionBind),e.off(f.default.annotationRemoved,this.annotationRemovedBind),e.off(f.default.annotationImported,this.updateImportedAnnotsBind),e.off(f.default.annotationAdd,this.updateAddAnnotsBind),e.off(f.default.pageRotationChange,this.rotationPageBind),e.off(f.default.customDataAdd,this.customDataAddBind),e.off(f.default.customDataImported,this.customDataImportedBind),e.off(f.default.customDataRemoved,this.customDataRemovedBind),e.off(f.default.customDataUpdated,this.customDataUpdatedBind),e.off(f.default.permissionChanged,this.permissionChangedBind),this.formRender&&this.formRender.destroy(),this.formRender=null;var n=this.doc.destroy();return this.doc=null,this.pdfDocRendering.destroy(),this.pdfDocRendering=null,this.pagesRender=this.docCustomRender=this.stateHandler=null,this.annotationAppearanceUpdatedBind=null,this.annotationMovedPositionBind=null,this.annotationRemovedBind=null,this.updateImportedAnnotsBind=null,this.updateAddAnnotsBind=null,this.rotationPageBind=null,this.customDataAddBind=null,this.customDataImportedBind=null,this.customDataRemovedBind=null,this.customDataUpdatedBind=null,this.permissionChangedBind=null,n},e.prototype.rendering=function(){this.$doc.addClass("fv__doc-rendering"),this.pdfDocRendering.rendering()},e.prototype.rendered=function(){this.$doc.removeClass("fv__doc-rendering"),this.pdfDocRendering.rendered(),this.setCurrentPageIndex(0)},e.prototype.render=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"fitWidth",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotation;return this.scale=e,this.rotation=n,this.rendering(),this.doc&&this.doc.setColors((0,g.getLocalUserChoiceColor)()),Promise.resolve(this.docCustomRender.render(e,n)).then((function(o){if(!1!==o)return t.doc.getPageSizes(0,t.pdfViewer.config.sizeCount).then((function(e){return t.doc.getLayerNodesJson()})).then((function(o){if(t.doc){var r=t.pagesRender=t.pagesRender||new s.default(t.$container,t.doc,t),i=t.loadFormRender();return r.render(e,n).then((function(t){return i})).then((function(){if(!t.stateHandler){var e=t.pdfViewer;(t.stateHandler=new(e.stateHandlerManager.getCurrentStates())(e)).docHandler(t)}Object.keys(t.doc.metadata).length<2&&t.doc.getMetadata()}))}}));t.rendered()}))},e.prototype.loadFormRender=function(){var t=this,e=this.getUserPermission();return(e.checkAnnotForm()||e.checkFillForm()?this.doc.loadPDFForm():this.doc.loadEmptyPDFForm()).then((function(e){return(t.formRender=new h.default(t.doc,t)).initJS()}))},e.prototype.hidden=function(){this.$doc.addClass("fv__hidden")},e.prototype.show=function(){this.$doc.removeClass("fv__hidden")},e.prototype.zoomTo=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments[1],o=this.scale;this.scale=e;var r=Promise.resolve(n);return n||(r=this.getViewBoxCenter(!0,"topLeft").then((function(t){return{pageIndex:t[0].getIndex(),x:t[1][0],y:t[1][1]}}))),r.then((function(n){return t.zoomToTaskExecutor.exec((function(e,n,r){return n.eventEmitter.emit(f.default.beforeZoomTo,e,t.scale),t.pagesRender.zoomTo(e,r).then((function(){return t.scale=e,n.eventEmitter.emit(f.default.zoomToSuccess,e,o),e}),(function(o){return n.eventEmitter.emit(f.default.zoomToFailed,e,t.scale),Promise.reject(o)}))}),[e,t.pdfViewer,n],t)}))},e.prototype.getScaleRatio=function(){var t=this,e=function(){switch(o(t.scale)){case"number":return t.scale;case"string":return t.pagesRender?t.pagesRender.getScaleRatio():1;default:return 1}};return this.zoomToTaskExecutor.waitForLastTask().then(e,e)},e.prototype.getScale=function(){return this.scale},e.prototype.getRotation=function(){return this.rotation},e.prototype.rotateTo=function(t){var e=this.rotation;return this.rotation=(t%360+360)%360,this.applyRotation(e,this.rotation)},e.prototype.applyRotation=function(t,e){var n=this,o=this.pdfViewer.eventEmitter;o.emit(f.default.beforeDocumentRotation,e,t);var r=this.getCurrentPageIndex();return this.pagesRender.rotateTo(e).then((function(){return n.goToPage(r)})).then((function(n){return o.emit(f.default.afterDocumentRotation,e,t),n}))},e.prototype.getPDFDoc=function(){return this.doc},e.prototype.getPDFPageRender=function(t){try{return this.pagesRender.getPDFPageRender(t)}catch(t){return null}},e.prototype.getCurrentViewMode=function(){try{return this.pagesRender.viewMode}catch(t){return null}},e.prototype.getAnnotRender=function(t,e){try{return this.getPDFPageRender(t).getAnnotRender(e)}catch(t){return null}},e.prototype.getAllAnnotRender=function(){for(var t=this.doc.getPageCount(),e=[],n=0;n<t;n++)e=e.concat(this.getPDFPageRender(n).getAllAnnotRender());return e},e.prototype.unActiveAnnotRender=function(t){if(t)return t.unActive();try{this.pagesRender.unActiveAnnotRender()}catch(t){}},e.prototype.setWatermarkConfig=function(t){this.watermarkConfig=t},e.prototype.getWatermarkConfig=function(){return this.watermarkConfig},e.prototype.getUserPermission=function(){var t=this.doc,e=this.customPermission_(t),n=t.getPermissionsSync();return new d.default(e&n)},e.prototype.getOffsetInfo=function(){var t=0,e=0,n=0,o=this.pagesRender,i=void 0;if(!o)return(i=o.getPDFPageRender(t)).reverseDevicePoint([e,n]).then((function(e){var n=r(e,2),o=n[0],a=n[1];return{index:t,left:o,top:a,scale:i.getScale(),rotate:i.getRotation()}}));for(var a=this.pdfViewer.$ui,s=a.parent()[0].getBoundingClientRect(),c=o.viewMode.getVisibleIndexes(),u=0,l=c.length;u<l;u++){t=c[u];var f=a.find(".fv__pdf-page-layout").eq(t)[0].getBoundingClientRect();if(!(f.bottom<=s.top)){(e=s.left-f.left)<0&&(e=0),(n=s.top-f.top)<0&&(n=0);break}}return(i=o.getPDFPageRender(t)).reverseDevicePoint([e,n]).then((function(e){var n=r(e,2),o=n[0],a=n[1];return{index:t,left:o,top:a,scale:i.getScale(),rotation:i.getRotation()}}))},e.prototype.getViewBoxCenter=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"center",n=this.getCurrentPageIndex(),o=this.viewerRender.scrollWrap.getScrollHost(),r=void 0,i=(r=o===window?{x:0,y:0,right:window.innerWidth,height:window.innerHeight}:o.getBoundingClientRect()).x+r.width/2,a=r.y+r.height/2,s=function(e){var n=e.$ui.get(0).getBoundingClientRect(),o=n.x,r=n.y,s=r+n.height,c=n.right;if(i>=o&&i<c&&a>=r&&a<s)return e.getPDFPage().then((function(n){if(t){var s=Math.max(0,i-o),c=Math.max(0,a-r);return Promise.all([n,n.reverseDevicePoint([s,c],e.getScale(),e.getRotation())])}return Promise.all([n,[i-o,a-r]])}))};if("topLeft"==e){var c=this.pagesRender.viewMode.getVisibleIndexes(),u=this.getPDFPageRender(c[0]),l=u.page,f=u.$ui.get(0).getBoundingClientRect();i=Math.max(r.x,f.x),a=Math.max(r.y,f.y);var p=Math.max(0,i-f.x),d=Math.max(0,a-f.y);return Promise.all([l,l.reverseDevicePoint([p,d],u.getScale(),u.getRotation())])}for(var h=n;h<this.doc.getPageCount();h++){var g=this.getPDFPageRender(h),m=s(g);if(m)return m}for(var v=n-1;v>-1;v--){var y=this.getPDFPageRender(v),b=s(y);if(b)return b}return this.doc.getPageByIndex(n).then((function(t){return Promise.all([t,[0,0]])}))},e.prototype.renderPages=function(t,e){return this.pagesRender.renderPages(t,e).catch((function(t){0}))},e.prototype.move=function(){var t=this.getContainerVisiblePageIndexes();return this.setCurrentPageIndex(this.getCurrentPageIndex()),this.pagesRender.moveTo(t)},e.prototype.getContainerOffsetLeftTop=function(){var t=this._offsetTop;if("number"==typeof t)return{left:this._offsetLeft,top:t};t=0;for(var e=0,n=this.$container[0],o=this.viewerRender.scrollWrap.getScrollHost();n&&(t+=n.offsetTop,e+=n.offsetLeft,(n=n.offsetParent)!==o););return{left:e,top:t}},e.prototype.getContainerVisibleRect=function(){var t=document.documentElement,e=t.clientWidth,n=t.clientHeight,o=this.viewerRender.scrollWrap.getScrollHost(),r=0,i=e,a=0,s=n;if(o instanceof HTMLElement){var c=o.getBoundingClientRect();r=Math.max(r,c.left),i=Math.min(i,c.right),a=Math.max(a,c.top),s=Math.min(s,c.bottom)}return{left:r,right:i,top:a,bottom:s}},e.prototype.getContainerVisiblePageIndexes=function(){for(var t=this.getCurrentPageIndex(),e=this.$container.find(".fv__pdf-view-mode-item>.fv__pdf-page-layout"),n=e.length,o=t-1,r=t,i=void 0,a=void 0,s=void 0,c=void 0,u=[],l=this.getContainerVisibleRect(),f=l.left,p=l.right,d=l.top,h=l.bottom;;){if(!c&&r<n){var g=e[r].getBoundingClientRect();g.right>f&&g.left<p&&g.bottom>d&&g.top<h?(u.push(r),s=!0):s&&(c=!0),r++}else!c&&r>=n&&(c=!0);if(!a&&o>-1){var m=e[o].getBoundingClientRect();m.right>f&&m.left<p&&m.bottom>d&&m.top<h?(u.unshift(o),i=!0):i&&(a=!0),o--}else!a&&o<=-1&&(a=!0);if(c&&a)break}return u},e.prototype.performAction=function(t){var e=this.doc.getAdditionalAction(t);this.pdfViewer.actionManager.get(e,this).active(!0)},e}(p.default));function w(t){return"state-"+t}e.default=b},function(t,e){t.exports='<div class="fv__pdf-doc-layout">\n    <div class="fv__pdf-doc-rendering"></div>\n    <div class="fv__pdf-doc-custom-container"></div>\n    <div class="fv__pdf-doc-container"></div>\n    <div class="fv__pdf-doc-handler-container"></div>\n</div>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=d(n(3)),a=d(n(391)),s=d(n(227)),c=n(17),u=d(n(60)),l=d(n(1)),f=n(21),p=(d(n(22)),n(64));function d(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var g=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));i.name=e.getDefaultName(),i.$ui=n,i.doc=o,i.docRender=r;var a=r.viewerRender.ViewMode;return i.viewMode=new a(r),i.viewerRender=r.viewerRender,i.pdfViewer=i.viewerRender.pdfViewer,i.pageRenders=[],i.scale=1,i.rotate=0,i.neverRendered=!0,i.minScale=+i.pdfViewer.config.minScale,i.maxScale=+i.pdfViewer.config.maxScale,i.isPageDOMsLoaded=!1,i.pdfViewer.eventEmitter.on(l.default.actionAdd,i.actionAdd=function(t){i.pageRenders[t.getPDFPage().getIndex()].getAnnotRender(t.getId()).component.addAction(t.action)}),i.pdfViewer.eventEmitter.on(l.default.actionRemove,i.actionRemove=function(t){i.pageRenders[t.getPDFPage().getIndex()].getAnnotRender(t.getId()).component.removeAction()}),i.pdfViewer.eventEmitter.on(l.default.actionUpdated,i.actionUpdated=function(t){i.pageRenders[t.getPDFPage().getIndex()].getAnnotRender(t.getId()).component.actionViewer.updateAction(t.action)}),i.pdfViewer.eventEmitter.on(l.default.layerVisibleChange,i.layerVisibleChange=function(t){i.doc===t&&(i.setRenderFlags(2),i.renderVisiblePages().catch((function(t){0})))}),i.pdfViewer.eventEmitter.on(l.default.imageAdded,i.imageAdded=function(t){i.pageRenders[t.getIndex()].redrawContent(!0)}),i.pdfViewer.eventEmitter.on(l.default.watermarkAdded,i.watermarkAdded=i.imageAdded),i.pdfViewer.eventEmitter.on(l.default.graphicsUpdated,i.graphicsUpdated=i.imageAdded),i.pdfViewer.eventEmitter.on(l.default.pageAdded,i.pageAdded=function(t){var e=t.getIndex();i.addNewPageByIndex(e)}),i.pdfViewer.eventEmitter.on(l.default.pageMoved,i.pageMoved=function(t,e){i.movePageRender(t,e)}),i.pdfViewer.eventEmitter.on(l.default.pageRemoved,i.pageRemoved=function(t){i.removePageByIndex(t)}),i.pdfViewer.eventEmitter.on(l.default.importPages,i.importPages=function(t){i.importPagesByArray(t)}),i.pdfViewer.eventEmitter.on(l.default.applyRedaction,i.applyRedaction=function(t){var e=i.pdfViewer;if(!1!==t){var n=e.getPDFDocRender(),o=n.pagesRender;if(!o)return;t.forEach((function(t){var e=t.pageIndex,o=t.removedAnnots,r=n.pagesRender.pageRenders[e];if(r.annotsRender)for(var i=r.annotsRender.annots,a=i.length-1;a>=0;a--){var s=i[a];-1!==o.indexOf(s.id)&&(s.info.isDeleted=!0,i.splice(a,1))}})),o.setRenderFlags(10),o.renderVisiblePages(),e.eventEmitter.emit(l.default.redactAnnotApplyed,i)}}),i.pdfViewer.eventEmitter.on(l.default.flattened,i.flattened=function(t){i.setRenderFlags(10),i.renderVisiblePages()}),i.pdfViewer.eventEmitter.on(l.default.headerFooterUpdated,i.headerFooterUpdated=i.flattened),i.pdfViewer.eventEmitter.on(l.default.headerFooterAdded,i.headerFooterAdded=i.flattened),i}return h(e,t),e.getDefaultName=function(){return"pdfPagesRender"},e.prototype.setViewMode=function(t){var e=this,n=this.viewMode,o=n.getCurrentPageIndex();n.out(),this.viewMode=new t(this.docRender),this.viewMode.into(o),this.setRenderFlags(4),this.docRender.goToPage(o,{x:0,y:0});var r=Object.keys(this.doc.getPageSizesSync());return this.loadPageSize(r,0).then((function(t){return e.renderVisiblePages(e.scale)})).then((function(){"fitWidth"===e.scale&&e.renderVisiblePages()})).catch((function(t){0}))},e.prototype.getViewMode=function(){return this.viewMode},e.prototype.render=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;this.scale=e,this.rotate=n;var o=this.createPagesStructure(),r=this.$ui;return o.forEach((function(o,r){var a=o.firstElementChild;t.pageRenders[r]||(t.pageRenders[r]=new s.default((0,i.default)(a),r,t.doc,t)).rendering(t.getPageScaleSync(r,e,n),n)})),r.html(o),this.isPageDOMsLoaded=!0,this.docRender.rendered(),this.viewMode.into(),Promise.resolve().then((function(e){return t.docRender.move()}))},e.prototype.movePageRender=function(t,e){var n=this.pageRenders[t];if(n){var o=n.$ui.parent(),r=(o.next(".fv__pdf-view-mode-item-split"),this.pageRenders[e]);if(r){var i=r.$ui.parent();i.next(".fv__pdf-view-mode-item-split");t<e?o.insertAfter(i):o.insertBefore(i),this.pageRenders.splice(t,1),this.pageRenders.splice(e,0,n);for(var a=Math.min(t,e),s=Math.max(t,e),c=a;c<=s;c++)this.pageRenders[c].updateIndex(c)}}},e.prototype.addNewPageByIndex=function(t){var e=(0,i.default)(a.default);if(this.pageRenders[t]){var n=this.pageRenders[t].$ui.parent();e.insertBefore(n)}else this.$ui.append(e);var o=e.find(".fv__pdf-page-layout"),r=new s.default(o,t,this.doc,this);this.pageRenders.splice(t,0,r);for(var c=t+1;c<this.pageRenders.length;c++)this.pageRenders[c].updateIndex(c);return r.rendering(this.getPageScaleSync(t,this.scale,this.rotate)),this.renderVisiblePages(this.scale).catch((function(t){0}))},e.prototype.importPagesByArray=function(t){var e=this;return t.forEach((function(t){var n=(0,i.default)(a.default),o=t.getIndex();if(e.pageRenders[o]){var r=e.pageRenders[o].$ui.parent();n.insertBefore(r)}else e.$ui.append(n);var c=n.find(".fv__pdf-page-layout"),u=new s.default(c,o,e.doc,e);e.pageRenders.splice(o,0,u);for(var l=o+1;l<e.pageRenders.length;l++)e.pageRenders[l].updateIndex(l);u.rendering(e.getPageScaleSync(o,e.scale,e.rotate))})),this.renderVisiblePages(this.scale).catch((function(t){0}))},e.prototype.removePageByIndex=function(t){if(this.pageRenders[t]){this.pageRenders.splice(t,1)[0].$ui.parent().remove().next(".fv__pdf-view-mode-item-split").remove();for(var e=t;e<this.pageRenders.length;e++)this.pageRenders[e].updateIndex(e)}this.renderVisiblePages(this.scale).catch((function(t){0}))},e.prototype.setRenderFlags=function(t){for(var e=this.pageRenders,n=0,o=e.length;n<o;n++)e[n].updateRenderFlags(t)},e.prototype.loadPageSize=function(t){for(var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=0;this.doc.getPageSize(t[o]);)o++;var r=void 0;if(o==t.length)r=Promise.resolve();else{var i=t[o];r=this.doc.getPageSizes(i+n,7)}return r.then((function(t){var n=e.doc.getPageSizesSync();for(var o in n){if(o=+o,!e.pageRenders[o])return;e.pageRenders[o].rendering(e.getPageScaleSync(o,e.scale,e.rotate))}}))},e.prototype.renderVisiblePages=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=(arguments.length>1&&void 0!==arguments[1]||this.rotate,function(n){var o=t.viewMode,r=o.getVisibleIndexes();return t.loadPageSize(r,-3).then((function(t){r=o.getVisibleIndexes()})).then((function(){return t.renderPages(r,e,t.rotate)})).then((function(){return t.adjustRenderVisiblePages(r,e,t.rotate)})).then((function(){t.pdfViewer.eventEmitter.emit(l.default.visiblePagesRenderCompleted),t.renderingTask=null}))});return this.renderingTask=n()},e.prototype.adjustRenderVisiblePages=function(t){for(var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rotate,r=this.viewMode,i=r.getVisibleIndexes(),a={},s=t.length;s--;)a[t[s]]=1;t=[];for(var c=i.length;c--;){var u=i[c];t[c]=u,a[u]&&i.splice(c,1)}return i.length?this.renderPages(i,n,o).then((function(){return e.adjustRenderVisiblePages(t,n,o)})):Promise.resolve()},e.prototype.renderPages=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rotate,r=this.renderPagesSerial;r&&r.end().catch((function(t){0})),r=this.renderPagesSerial=new c.SerialPromise;for(var i=0;this.doc.getPageSize(t[i]);)i++;var a=[];i<t.length&&a.push((function(n){return e.doc.getPageSizes(t[i],t.length)}));for(var s=0,u=t.length;s<u;s++){var l=t[s];a.push(function(t,n){return function(){return e.getPageScale(t,n,o).then((function(n){if(e.pageRenders[t])return e.pageRenders[t].render(n,o)}))}}(l,n))}return r.serial(a)},e.prototype.renderPagesLayout=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale,o=this.renderPagesSerial;o&&o.end().catch((function(t){0})),o=this.renderPagesSerial=new c.SerialPromise;for(var r=0;this.doc.getPageSize(e[r++]););for(var i=[function(n){return t.doc.getPageSizes(e[r],e.length-r)}],a=0,s=e.length;a<s;a++){var u=e[a];i.push(function(e,n){return function(){return t.getPageScale(e,n).then((function(n){if(t.pageRenders[e])return t.pageRenders[e].renderLayout(n)}))}}(u,n))}return o.serial(i)},e.prototype.destroy=function(){for(var t=this,e=this.pageRenders.length;e--;)this.pageRenders[e].destroy();this.pageRenders=[],this.renderPagesSerial&&this.renderPagesSerial.end().catch((function(t){0})),this.viewMode.out(),this.viewMode=null,this.$ui.empty();var n=this.pdfViewer.eventEmitter;["actionAdd","actionRemove","actionUpdated","layerVisibleChange","imageAdded","watermarkAdded","graphicsUpdated","pageAdded","pageMoved","pageRemoved","importPages","applyRedaction","flattened","headerFooterUpdated","headerFooterAdded"].forEach((function(e){n.off(l.default[e],t[e]),t[e]=null})),this.renderPagesSerial&&this.renderPagesSerial.end(),this.renderPagesSerial=null},e.prototype.goToPage=function(t,e){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=this.getPDFPageRender(t);if(i)return i.getPDFPage().then((function(a){a.getRotation();return i.renderLayout(e).then((function(){return n.viewMode.jumpToPage(t,{x:o,y:r}),n.renderVisiblePages()})).then((function(){n.viewMode.jumpToPage(t,{x:o,y:r})})).catch((function(t){0}))}))},e.prototype.zoomTo=function(t,e){var n=this;this.scale=t;var o=[];return this.pageRenders.forEach((function(e){o.push(e.renderLayout(t))})),Promise.all(o).then((function(o){var r=e.pageIndex,i=n.pageRenders[r].page.getDevicePoint([e.x,e.y],t,n.rotate);n.viewMode.jumpToPage(r,{x:i[0],y:i[1]})})).then((function(e){return n.renderVisiblePages(t)}))},e.prototype.getScaleRatio=function(){switch(r(this.scale)){case"number":return Promise.resolve(this.scale);case"string":return this.getPageScale(0,this.scale,this.rotate);default:return Promise.resolve(1)}},e.prototype.rotateTo=function(t){var e=this;return(0,p.assertThat)((0,p.isValidRotationAngle)(t),"Illegal rotation angle: "+t+", it should be 0,90,180 or 270"),this.rotate=(t%360+360)%360,Promise.all(this.pageRenders.map((function(t){return t.renderLayout(void 0,e.rotate)}))).then((function(t){return e.setRenderFlags(7),e.renderVisiblePages(e.scale,e.rotate)})).finally((function(t){e.pdfViewer.eventEmitter.emit(l.default.fitWidthResizeViewport)}))},e.prototype.adjustFitPage=function(t){var e=void 0,n=void 0,o=this.doc.getPageSize(t);return o&&(e=o.height,n=o.width),e||(e=(o=this.doc.getPageSize(0)).height,n=o.width),e/n>this.viewMode.getFitHeight(t)/this.viewMode.getFitWidth(t)?"fitHeight":"fitWidth"},e.prototype.getPageScaleSync=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(n=(n%360+360)%360,"fitHeight"===e&&(e=this.adjustFitPage(t)),+e>this.minScale)return Math.min(+e,this.maxScale);if(+e<=this.minScale)return this.minScale;if("fitWidth"===e){var o=this.doc.getPageSize(t);if(o){var r=this.viewMode.getFitWidth(t),i=90===n||270===n?o.height:o.width;return r/(i*(0,f.pt2px)(1))}}else if("fitHeight"===e){var a=this.doc.getPageSize(t);if(a){var s=90===n||270===n?a.width:a.height;return this.viewMode.getFitHeight(t)/(s*(0,f.pt2px)(1))}}return-1},e.prototype.getPageScale=function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rotate;return"fitHeight"===e&&(e=this.adjustFitPage(t)),+e>this.minScale?Promise.resolve(Math.min(+e,this.maxScale)):+e<=this.minScale?Promise.resolve(this.minScale):"fitWidth"===e?this.doc.getPageByIndex(t).then((function(e){return n.viewMode.getFitWidth(t)/(90===r||270===r?e.getPxHeight():e.getPxWidth())})):"fitHeight"===e?Promise.all([this.viewMode.getFitHeight(t),this.pageRenders[t].getPDFPage().then((function(t){return 90===r||270===r?t.getPxWidth():t.getPxHeight()}))]).then((function(t){var e=o(t,2);return e[0]/e[1]})):Promise.resolve(1)},e.prototype.createPagesStructure=function(){var t=this.doc.getPageCount(),e=function(){var t=document.createElement("div");t.innerHTML=a.default;var e=t.firstElementChild;return t.removeChild(e),e}();return Array(t).fill(0).map((function(t){return e.cloneNode(!0)}))},e.prototype.getPDFPageRender=function(t){try{return this.pageRenders[t]}catch(t){return null}},e.prototype.unActiveAnnotRender=function(){for(var t=this.pageRenders||[],e=t.length;e--;){t[e].unActiveAnnotRender()}},e.prototype.moveTo=function(t){return this.pagesEndRender(t),this.renderPages(t)},e.prototype.pagesEndRender=function(t){var e=this.pageRenders||[],n=e.length,o=t[0]||0;if(--o>-1)for(var r=o;r--;){var i=e[r];i&&i.invisibleRender()}var a=t[t.length-1]||0;if(++a<n)for(var s=a;s<n;s++){var c=e[s];c&&c.invisibleRender()}},e}(u.default);e.default=g},function(t,e){t.exports='<div class="fv__pdf-view-mode-item">\n    <div class="fv__pdf-page-layout">\n        <div class="fv__pdf-page-rendering" style="position: absolute;width: 100%;z-index: 1000;"></div>\n        <div class="fv__pdf-custom-page-container"></div>\n        <div class="fv__pdf-page-container">\n        </div>\n        <div class="fv__pdf-page-annots-container"></div>\n        <div class="fv__pdf-page-customs-container"></div>\n        <div class="fv__pdf-page-handler-container"></div>\n    </div>\n</div>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pageMatrix=void 0;var o,r=n(70),i=(o=r)&&o.__esModule?o:{default:o};function a(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}e.pageMatrix=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=void 0;switch(o%360){case 0:r=[n,0,0,n,0,0];break;case 90:r=[0,n,-n,0,n*e,0];break;case 180:r=[-n,0,0,-1,n*t,n*e];break;case 270:r=[0,-n,n,0,0,n*t];break;default:throw new Error("Unsupported rotation value: "+o)}return new(Function.prototype.bind.apply(i.default,[null].concat(a(r))))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=c(n(3)),r=c(n(394)),i=c(n(60)),a=c(n(1));n(89);c(n(102));var s=n(17);function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(){},f=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));i.name="annotsRender",i.$ui=n,i.annots=o,i.pageRender=r,i.annotRenders={};var a=i.pdfViewer.customs||{};return i.activeAnnotBefore=a.activeAnnotBefore||l,i.activeAnnotAfter=a.activeAnnotAfter||l,i.unActiveAnnotBefore=a.unActiveAnnotBefore||l,i.unActiveAnnotAfter=a.unActiveAnnotAfter||l,i}return u(e,t),e.prototype.updateSize=function(t,e){var n=this;this.annots.map((function(o){var r=o.getId(),i=n.annotRenders[r];i&&i.updateSize(t,e)}))},e.prototype.render=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments[2],a=this.renderSerialPromise;a&&a.end().catch(l);t!==this.scale||this.rotate;this.scale=t,this.rotate=n;var c=this.annots,u=c.filter((function(t){return!e.annotRenders[t.getId()]})).map((function(t){return new r.default((0,o.default)("<div>"),(0,o.default)("<div>"),t,e)})),f=this.$ui;f.append(u.reduce((function(t,e){return t.append(e.$ui,e.$handler),t}),(0,o.default)(document.createDocumentFragment())));u.forEach((function(t){return e.annotRenders[t.annot.getId()]=t}));var p=c.map((function(o){var r=o.getId(),a=e.annotRenders[r];return function(){return function(){try{return Promise.resolve(a.render(t,n,i))}catch(t){return Promise.reject(t)}}()}}));return(a=this.renderSerialPromise=new s.SerialPromise(0)).serial(p)},e.prototype.adjustHighlightsRender=function(){return Promise.resolve()},e.prototype.adjustHighlightAnnots=function(){var t=[];for(var e in this.annotRenders){var n=this.annotRenders[e];"highlight"===n.annot.getType()&&t.push(n.redraw())}return Promise.all(t)},e.prototype.destroy=function(){for(var e in t.prototype.destroy.call(this),this.annotRenders){var n=this.annotRenders[e];n&&n.destroy()}this.invisibleRender(),this.annots=[],this.pageRender=null,this.annotRenders=null},e.prototype.clickNoteAt=function(t){var e=this.annotRenders[t];e&&e.focus()},e.prototype.unActiveAnnot=function(){var t=this,e=this.pdfViewer.getAllActiveElements();if(e.length){var n=this.pdfViewer.eventEmitter;Promise.resolve(this.unActiveAnnotBefore()).then((function(o){!1!==o&&null!=t.pageRender&&e.filter((function(t){return t.annot})).forEach((function(e){t._unActiveAnnot(e),n.emit(a.default.unActiveAnnotation,e,e.annot.getId(),t),t.unActiveAnnotAfter(e)}))}))}},e.prototype._unActiveAnnot=function(t){t.unActive()},e.prototype._forEachRenderer=function(t){for(var e in this.annotRenders)t.call(this,this.annotRenders[e],e,this.annotRenders)},e.prototype.activeAnnot=function(t){var e=this,n=this.annotRenders[t];if(!n)return Promise.resolve();var o=this.pdfViewer.eventEmitter,r=this.pdfViewer.customs;return Promise.resolve((r.activeAnnotBefore||l)(n,t,this)).then((function(i){if(o.emit(a.default.activeAnnotationBefore,n,t,e),!1===i)return n;if(n.annot.isGrouped&&n.annot.isGrouped()){var s=[];return n.getRelevanceRenders().map((function(t){"popup"!==t.annot.getType()&&s.push(t.active())})),Promise.all(s).then((function(){return o.emit(a.default.activeAnnotation,n,t,e),Promise.resolve((r.activeAnnotationAfter||l)(n,t,e))})).then((function(){return o.emit(a.default.activeAnnotationAfter,n,t,e),n}))}return n.active().then((function(){return o.emit(a.default.activeAnnotation,n,t,e),Promise.resolve((r.activeAnnotationAfter||l)(n,t,e))})).then((function(){return o.emit(a.default.activeAnnotationAfter,n,t,e),n}))}))},e.prototype._activeAnnot=function(t,e){var n=this.annotRenders[t];return n?n.active():Promise.resolve()},e.prototype.splitAnnotIndexArr=function(t,e,n){for(var o=[],r=[],i=t+1,a=t-1,s=-1,c=0,u=e.length;c<u;c++){var l=e[c],f=l.length;if(1===f&&l[0]===t)return!1;for(var p=0,d=f;p<d;p++){var h=l[p];if(h instanceof Array){var g=h[0],m=h[1];if(t===g){s=c,o=l.slice(0,p),r=(r=m>i?[[i,m]]:[m]).concat(l.slice(p+1));break}if(t===m){s=c,o=l.slice(0,p),g<a?o.push([g,a]):o.push(g),r=l.slice(p+1);break}if(t>g&&t<m){s=c,o=l.slice(0,p),a===g?o.push(g):o.push([g,a]),r=(r=i===m?[m]:[[i,m]]).concat(l.slice(p+1));break}}else if(h===t){s=c,o=l.slice(0,p),r=l.slice(p+1);break}}if(-1!==s)break}if(-1===s)return!1;var v=JSON.stringify(e[s]),y=n[v],b=[s,1];return o.length&&b.push(o),b.push([t]),r.length&&b.push(r),e.splice.apply(e,b),{removeTileCanvas:y,beforeIndexArr:o,splitIndexArr:[t],afterIndexArr:r,tileCanvasMap:n,splitKey:v}},e.prototype.splitTileCanvas=function(t,e,n,r,i,a,s,c,u,l){var f=t.beforeIndexArr,p=t.splitIndexArr,d=t.afterIndexArr,h=t.removeTileCanvas,g=t.tileCanvasMap,m=t.splitKey,v=(0,o.default)(document.createDocumentFragment()),y=[];return f.length&&y.push(this.rangeAnnotTileCanvasRedraw(e,n,f,g,v,r,i,a,s,c,u,l)),y.push(this.renderSplitAnnots(p,e,n,v,r,u,l)),d.length&&y.push(this.rangeAnnotTileCanvasRedraw(e,n,d,g,v,r,i,a,s,c,u,l)),Promise.all(y).then((function(){h.$container.before(v),h.destroy(),delete g[m]}))},e.prototype.getAnnotRender=function(t){return this.annotRenders[t]},e.prototype.getAnnotRenderSafely=function(t){var e=this.annots.find((function(e){return e.getId()===t}));return e?this.getOrCreateAnnotRender(e):null},e.prototype.removeAnnotRender=function(t){var e=t.annot.getId();delete this.annotRenders[e]},e.prototype.showContextMenu=function(t,e,n){return this.activeAnnot(t).then((function(t){return t&&t.showContextMenu(e,n)}))},e.prototype.doubleTapAnnot=function(t){return this.activeAnnot(t).then((function(t){return t&&t.doubleTapAnnot()}))},e.prototype.getOrCreateAnnotRender=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.$ui[0],n=t.getId();if(this.annotRenders[n])return this.annotRenders[n];var i=(0,o.default)("<div></div>"),a=(0,o.default)("<div></div>");return e.appendChild(i[0]),e.appendChild(a[0]),this.annotRenders[n]=new r.default(i,a,t,this)},e.prototype.addAnnots=function(t){var e=this,n=(0,o.default)(document.createDocumentFragment());this.annots.reduce((function(t,o){var r=o.getId();return t[r]||(t[r]=e.getOrCreateAnnotRender(o,n[0])),t}),this.annotRenders),this.$ui.append(n);for(var r=!1,i=0,a=t.length;i<a;i++){if("highlight"===t[i].getType()){r=!0;break}}r&&this.parent("pdfPageRender").redrawContent(!0)},e.prototype.getAnnotRenders=function(){return this.annotRenders},e.prototype.removeAnnotRenders=function(t){for(var e=this.annots,n=this.annotRenders,o=t.length;o--;){var r=t[o].getId(),i=this.getAnnotRender(r);i&&(i.remove(!0),delete n[r]);for(var a=0,s=e.length;a<s;a++){if(e[a].getId()==r){this.annots.splice(a,1);break}}}},e.prototype.redrawAnnotRenders=function(t){for(var e=t.length;e--;){var n=t[e].getId(),o=this.getAnnotRender(n);o&&o.redraw(!1,!0)}},e.prototype.movedAnnotRenders=function(t,e){for(var n=t.length;n--;){var o=t[n].getId(),r=this.getAnnotRender(o);r&&r.moved(e)}},e.prototype.addAnnotRenders=function(t){var e,n=this,i=[];t.filter((function(t){var e=t.getId(),o=n.annots.findIndex((function(t){return t.getId()===e}));o>-1?n.annots[o]=t:i.push(t)})),(e=this.annots).push.apply(e,i);var a=i.map((function(t){var e=new r.default((0,o.default)("<div>"),(0,o.default)("<div>"),t,n);return n.scale=n.pageRender.scale,e.render(n.scale,n.rotate),e}));if(a.length>0){var s=(0,o.default)(document.createDocumentFragment());a.forEach((function(t){s.append(t.$ui,t.$handler),n.annotRenders[t.annot.getId()]=t})),this.$ui.append(s)}},e.prototype.updateAnnotRendersId=function(t,e){t in this.annotRenders&&(this.annotRenders[e]=this.annotRenders[t],delete this.annotRenders[t])},e.prototype.endRender=function(){var t=this.renderSerialPromise;t&&t.end().catch(l)},e.prototype.invisibleRender=function(){this.endRender();var t=this.annotRenders;for(var e in t)t[e].invisibleRender()},e}(i.default);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(60),i=(o=r)&&o.__esModule?o:{default:o};function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(){},c=function(t){function e(n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i));return a.name=e.getDefaultName(),a.$ui=n,a.$handler=o,a.$page=i.$ui,a.annot=r,a.component=new(a.pdfViewer.annotManager.get(r))(r,n[0],o[0],a),a}return a(e,t),e.getDefaultName=function(){return"annotRender"},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.annot=null,this.component.destroy(),this.component=null},e.prototype.updateSize=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return this.component.updateSize(t,e)},e.prototype.render=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=arguments[2],o=this.scale,r=this.rotate;this.scale=t,this.rotate=e;var i=this.component;return i.setVisibleRect(n),i.isHidden()?i._hideUI():i.isUIVisible()&&i._showUI(),i.isUIVisible()?Promise.resolve(i.render(t,e)).then((function(n){var a=o!==t||r!==e;return Promise.resolve(i.afterRender({transformed:a,prescale:o,scale:t,prerotate:r,rotate:e})).then((function(t){return n}))})).catch(s):Promise.resolve()},e.prototype.add=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return this.scale=t,this.rotate=e,Promise.resolve(this.component.add(t,e))},e.prototype.active=function(){return Promise.resolve(this.component.active())},e.prototype.unActive=function(){return Promise.resolve(this.component.unActive())},e.prototype.destroy=function(){this.component.destroy()},e.prototype.focus=function(){return this.component.focus(this.$page)},e.prototype.blur=function(){return this.component.blur(this.$page)},e.prototype.remove=function(t){t&&(this.component.remove(),this.parent().removeAnnotRender(this));for(var e=this.getRelevanceRenders(),n=[],o=e.length;o--;)n[o]=e[o].remove(!0);return Promise.all(n)},e.prototype.showContextMenu=function(t,e){this.component.showContextMenu(t,e)},e.prototype.doubleTapAnnot=function(){this.component.doubleTapAnnot()},e.prototype.redraw=function(t,e){if(t)return Promise.resolve(this.component.redraw(e));for(var n=this.getGroupRenders(),o=[],r=n.length;r--;)o[r]=n[r].redraw(!0,e);return Promise.all(o)},e.prototype.getAnnot=function(){return this.getPDFAnnot()},e.prototype.getPDFAnnot=function(){return this.annot},e.prototype.getGroupRenders=function(){var t=this.annot,e=[t];if(!t.IsGrouped||!t.IsGrouped())return[this];e=[].concat(t.getGroupElements());var n=this.parent().getAnnotRenders(),o=[];for(var r in n){var i=n[r],a=e.indexOf(i.getPDFAnnot());if(a>-1&&(o.push(i),e.splice(a,1)),!e.length)break}return o},e.prototype.getRelevanceRenders=function(){var t,e=[],n=this.annot;(t=(n=n.getGroupHeader&&n.getGroupHeader()||n).getPopup&&n.getPopup())&&e.push(t),function(t,e){u(t,"getReplies",e)}(n,e),function(t,e){u(t,"getMarkedStates",e)}(n,e),function(t,e){u(t,"getReviewStates",e)}(n,e);var o=n.isGrouped&&n.isGrouped()?n.getGroupElements():[n];e=e.concat(o);var r=this.parent().getAnnotRenders(),i=[];try{for(var a in r){var s=r[a],c=e.indexOf(s.getPDFAnnot());if(c>-1&&(i.push(s),e.splice(c,1)),!e.length)break}}catch(t){}return i},e.prototype.moved=function(t){this.component.moved(),t&&t.getId()!==this.annot.getId()&&this.component.movedByOther(t)},e.prototype.getComponent=function(){return this.component},e.prototype.invisibleRender=function(){this.component.invisibleRender()},e.prototype.clearCache=function(){this.component.clearCache()},e}(i.default);function u(t,e,n){if(t[e]){var o=t[e](),r=o.length;if(r){n.push.apply(n,o);for(var i=r;i--;){u(o[i],e,n)}}}}e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DebounceAsyncTaskExecutor=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=a(n(22)),i=a(n(40));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.DebounceAsyncTaskExecutor=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;s(this,t),this.interval=e,this.status=t.STATUS_IDLE,this.defer=(0,r.default)(),this.lastTaskPromise=null,this.cancelLast=i.default}return o(t,null,[{key:"STATUS_IDLE",get:function(){return"idle"}},{key:"STATUS_RUNNING",get:function(){return"running"}},{key:"STATUS_READY",get:function(){return"ready"}},{key:"STATUS_CANCELED",get:function(){return"canceled"}},{key:"STATUS_DESTROYED",get:function(){return"destroyed"}}]),t.prototype.exec=function(e,n,o){var i=this;if(this.status!==t.STATUS_DESTROYED){switch(this.status){case t.STATUS_IDLE:case t.STATUS_READY:this.cancelLast();var a=setTimeout((function(a){if(i.status!==t.STATUS_DESTROYED)if(i.status!==t.STATUS_CANCELED){i.status=t.STATUS_RUNNING;var s=i.defer,c=s.resolve,u=s.reject,l=function(){i.status=t.STATUS_IDLE,i.defer=(0,r.default)()};try{var f=e.apply(o,n||[]);f instanceof Promise?f.finally(l).then(c,u):(c(f),l())}catch(t){u(t)}}else i.status=t.STATUS_IDLE}),this.interval);this.cancelLast=function(){clearTimeout(a)};break;case t.STATUS_RUNNING:var s=function(){switch(i.status){case t.STATUS_IDLE:i.status=t.STATUS_READY;break;case t.STATUS_CANCELED:return void(i.status=t.STATUS_IDLE);case t.STATUS_DESTROYED:return}return i.exec(e,n,o)};return this.lastTaskPromise=this.defer.promise.then(s,s)}return this.lastTaskPromise=this.defer.promise}},t.prototype.waitForLastTask=function(t){return this.lastTaskPromise||Promise.resolve(t)},t.prototype.cancel=function(){this.status=t.STATUS_CANCELED},t.prototype.destroy=function(){this.status=t.STATUS_DESTROYED},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(133)),r=i(n(397));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o));return i.handlers={hand:r.default},i.destroyStateHandlers={},i}return a(e,t),e.prototype.active=function(){this.activated||(this.activated=!0,this.$handler.addClass("fv__active"));this.states.length||this.resetState()},e.prototype.destroy=function(){this.$handler.removeClass("fv__active")},e.prototype.intoState=function(t){var e=this.states;if(-1===e.indexOf(t)){e.push(t);var n=this.handlers[t];n&&(this.destroyStateHandlers[t]=n.bind(this)())}},e.prototype.outState=function(t){var e=void 0;(e=this.destroyStateHandlers[t])&&(e.bind(this)(),delete this.destroyStateHandlers[t]);var n;-1!==(n=this.states.indexOf(t))&&this.states.splice(n,1)},e.prototype.resetState=function(){this.setStates(["hand"])},e.prototype.setStates=function(t){for(var e=this.states,n=0,o=e.length;n<o;n++)this.outState(e[n]);for(var r=0,i=t.length;r<i;r++)this.intoState(t[r])},e.prototype.getStates=function(){return this.states},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=this,e=t.$handler,n=e[0],i=this.render,a=i.pdfViewer,s=a.eventEmitter,c=new o.default.Manager(n,{recognizers:[[o.default.Pan,{direction:o.default.DIRECTION_ALL}]]});c.add(new o.default.Tap({event:"doubletap",taps:2})),c.add(new o.default.Tap({event:"singletap"})),c.get("doubletap").recognizeWith("singletap"),c.get("singletap").requireFailure("doubletap"),c.on("singletap",(function(t){var e=i.annotsRender;e?(e.unActiveAnnot(),i.parent("pdfDocRender").getFormRender().blurControl(),s.emit(r.default.tapPage,t)):s.emit(r.default.tapPage,t)})),c.on("doubletap",(function(t){var e=i.annotsRender;e?(e.unActiveAnnot(),i.parent("pdfDocRender").getFormRender().blurControl(),s.emit(r.default.doubleTapPage,t)):s.emit(r.default.doubleTapPage,t)})),c.on("press",(function(t){var e=i.annotsRender;e?(e.unActiveAnnot(),i.parent("pdfDocRender").getFormRender().blurControl(),s.emit(r.default.pressPage,t)):s.emit(r.default.pressPage,t)})),n.oncontextmenu=function(t){t.preventDefault()};var u=void 0;return e.on("mouseup",u=function(t){if(3===t.which){var e=i.annotsRender;e?(e.unActiveAnnot(),s.emit(r.default.rightClickPage,t)):s.emit(r.default.rightClickPage,t)}}),function(){n.destroy(),e.off("mouseup",u);t=void 0,e=void 0,n=void 0,i=void 0,a=void 0,s=void 0,u=void 0}};var o=i(n(19)),r=i(n(1));n(89);n(37);function i(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(e,n,r){var i=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];o(this,t),this.pageRender=e,this.secondaryScale=a,this.fixedPosition=s;var c=document.createElement("div");c.classList.add("fv__page-area-renderer");var u=document.createElement("canvas");c.appendChild(u),this.canvas=u,this.element=c,this.setDimension(n,r),this.offsetPageX=0,this.offsetPageY=0,e.getPDFPage().then((function(t){i.api=t.api,i.offRender=function(t){i.tasks&&i.api.continueProgress(i.tasks.id).then(i.displayImage.bind(i))},i.api.on("idle",i.offRender)}))}return t.prototype.setDimension=function(t,e){this.width=t,this.height=e,this.canvas.width=t,this.canvas.height=e,this.element.style.cssText+="width: "+t+"px;height:"+e+"px"},t.prototype.setPosition=function(t,e){this.offsetPageX=t,this.offsetPageY=e},t.prototype.setSecondaryScale=function(t){t=Number(t),(!isFinite(t)||t<=0)&&(t=1),this.secondaryScale=t},t.prototype.update=function(){var t=this,e=this.pageRender;return e.getPDFPage().then((function(n){var o=t.api;t.tasks&&(o.cancleProgress(t.tasks.id),t.tasks=null);var r=e.scale,i=t.canvas,a=4*r/3*t.secondaryScale,s=e.getShowWidth()*t.secondaryScale,c=e.getShowHeight()*t.secondaryScale,u=i.width,l=i.height,f=u/2,p=l/2,d=t.offsetPageX*t.secondaryScale,h=t.offsetPageY*t.secondaryScale,g=d-f,m=d+f,v=h-p,y=h+p,b=0,w=0;t.fixedPosition?(g<0&&(m=(g=0)+u),m>s&&(g=(m=s)-u),v<0&&(y=(v=0)+l),y>c&&(v=(y=c)-l)):(g<0?b=Math.min(-g,f):m>s&&(b=Math.max(s-m,-f)),v<0?w=Math.min(-v,p):y>c&&(w=Math.max(c-y,-p)),i.style.cssText+="left: "+b+"px; top: "+w+"px");var _=Math.max(0,g),P=Math.min(m,s),O=Math.max(0,v),E=Math.min(y,c),x=Math.round(P-_),C=Math.round(E-O),A=Math.abs(Math.min(0,b)),S=Math.abs(Math.min(0,w)),D=""+Date.now()+Math.random();return t.tasks={id:D,canvasDrawingLeft:A,canvasDrawingTop:S},n.getPageBitmap(a,t.pageRender.rotate,{x:_,y:O,width:x,height:C},["page","annot"],"view",D).then(t.displayImage.bind(t))}))},t.prototype.displayImage=function(t){var e=t.buffer,n=t.image,o=t.progressiveId,r=(t.x,t.y,t.width),i=t.height,a=t.rate;if(!t.isEmpty&&this.tasks){if(this.tasks.id==o){var s=this.canvas,c=s.getContext("2d");if(n)return new Promise((function(t,e){try{var o=new Image;o.onload=function(){c.drawImage(o,0,0,r,i),URL.revokeObjectURL(o.src),t(s)},o.src=URL.createObjectURL(n)}catch(t){console.log(t)}}));var u=c.createImageData(r,i);return u.data.set(new(Uint8ClampedArray||Uint8Array)(e)),c.putImageData(u,this.tasks.canvasDrawingLeft,this.tasks.canvasDrawingTop),100==a&&(this.tasks=null),s}}else this.tasks=null},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(400)),r=a(n(401)),i=a(n(22));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var c=function(){function t(e,n,i,a){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{position:"Center",offsetX:0,offsetY:0,scaleX:1,scaleY:1,rotation:-45,opacity:100},u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{font:"Microsoft Yahei",fontSize:20,color:"#000000",fontStyle:"normal",lineSpace:10,alignment:"center"};s(this,t),this.showWidth=e,this.showHeight=n,this.tileSize=i,this.smartScale=a;var l=c.position,f=c.offsetX,p=c.offsetY,d=c.scaleX,h=c.scaleY,g=c.rotation,m=c.opacity,v=u.font,y=u.fontSize,b=u.color,w=u.fontStyle,_=u.lineSpace,P=u.alignment;this.watermarkSettings=new o.default(l,f,p,d,h,g,m),this.watermarkTextProperties=new r.default(v,y,b,w,_,P)}return t.prototype.exportDataURL=function(t){var e=t.content,n=t.type;return"text"===n?this.createTextWatermark(e):"image"===n?this.createImageWatermark(e):void 0},t.prototype.createImageWatermark=function(t){var e=this,n=(0,i.default)(),o=document.createElement("canvas");o.width=this.showWidth,o.height=this.showHeight;var r=o.getContext("2d"),a=o.getContext("2d"),s=new Image;s.src=t;var c=this.watermarkSettings,f=c.getOffsetX(),p=c.getOffsetY(),d=c.getScaleX(),h=c.getScaleY(),g=c.getRotation(),m=this.showWidth,v=this.showHeight;return s.onload=function(){s.width=s.width*d*e.smartScale,s.height=s.height*h*e.smartScale,u(r,c.getOpacity()),r.save();var t=l(s.width,s.height,g),i=t.x,y=t.y;switch(c.getPosition()){case"TopLeft":a.translate(i+s.width/2,y+s.height/2);break;case"TopCenter":a.translate(m/2,y+s.height/2);break;case"TopRight":a.translate(m-i-s.width/2,y+s.height/2);break;case"CenterLeft":a.translate(i+s.width/2,v/2);break;case"Center":a.translate(m/2,v/2);break;case"CenterRight":a.translate(m-i-s.width/2,v/2);break;case"BottomLeft":a.translate(i+s.width/2,v-y-s.height/2);break;case"BottomCenter":a.translate(m/2,v-y-s.height/2);break;case"BottomRight":a.translate(m-i-s.width/2,v-y-s.height/2)}a.rotate(g*Math.PI/180),a.drawImage(s,-s.width/2+f,-s.height/2+p,s.width,s.height),r.restore(),n.resolve(o.toDataURL())},s.onerror=function(t){var e=new Error("Failed to load image");e.originEvent=t,n.reject(e)},s.oncancel=function(t){var e=new Error("Load image has been cancelled");e.originEvent=t,n.reject(e)},n.promise},t.prototype.createTextWatermark=function(t){var e=(0,i.default)(),n=document.createElement("canvas");n.width=this.showWidth,n.height=this.showHeight;var o=t.split("\n"),r=n.getContext("2d"),a=n.getContext("2d"),s=this.showWidth,c=this.showHeight,f=this.watermarkTextProperties,p=f.getFontSize()*this.smartScale,d=f.getLineSpace()*this.smartScale,h=f.getFontStyle(),g=f.getColor(),m=f.getAlignment(),v=f.getFont();a.font=p+"px "+v,a.fillStyle=g;var y=this.watermarkSettings,b=y.getOffsetX(),w=y.getOffsetY(),_=(y.getScaleX(),y.getScaleY(),y.getRotation()),P=0,O=o.length,E=O*p+(O-1)*d;o.map((function(t){var e=t.replace(/\s+/g,"");P=Math.max(e.length*p,P)})),a.lineWidth=1,a.strokeStyle=g,r.textBaseline="top",u(r,y.getOpacity());var x=l(P,E,_),C=x.x,A=x.y;switch(y.getPosition()){case"TopLeft":a.translate(C+P/2,A+E/2);break;case"TopCenter":a.translate(s/2,A+E/2);break;case"TopRight":a.translate(s-C-P/2,A+E/2);break;case"CenterLeft":a.translate(C+P/2,c/2);break;case"Center":a.translate(s/2,c/2);break;case"CenterRight":a.translate(s-C-P/2,c/2);break;case"BottomLeft":a.translate(C+P/2,c-A-E/2);break;case"BottomCenter":a.translate(s/2,c-A-E/2);break;case"BottomRight":a.translate(s-C-P/2,c-A-E/2)}return a.rotate(_*Math.PI/180),p<12&&a.scale(p/12,p/12),o.map((function(t,e){var n=t.replace(/(^\s*)|(\s*$)/g,""),o=n.length*p,i=void 0,s=void 0,c=0,u=0;switch(m){case"left":r.textAlign="left",i=-o/2-(P-o)/2,s=o/2-(P-o)/2,c=-P/2,u=-E/2;break;case"right":r.textAlign="right",i=-o/2+(P-o)/2,s=o/2+(P-o)/2,c=P/2,u=-E/2;break;default:r.textAlign="center",i=-o/2,s=o/2,u=-E/2}a.fillText(n,c+b,u+e*(d+p)+w),"underline"===h&&(a.moveTo(i,-E/2+p+e*(p+d)),a.lineTo(s,-E/2+p+e*(p+d)),a.stroke())})),e.resolve(n.toDataURL()),e.promise},t.prototype.getWatermarkSettings=function(){return this.watermarkSettings},t.prototype.getWatermarkTextProperties=function(){return this.watermarkTextProperties},t.prototype.getHeight=function(){return this.showHeight},t.prototype.getWidth=function(){return this.showWidth},t}();function u(t,e){t.globalAlpha=e/100}function l(t,e,n){var o=Math.sqrt(Math.pow(t/2,2)+Math.pow(e/2,2)),r=Math.asin(e/2/o)/(Math.PI/180),i=void 0,a=void 0,s=(n+360)%360;s>=270&&s<360||s>=90&&s<180?(i=n-r,a=r+n):(i=n+r,a=n-r);var c=o*Math.abs(Math.sin(i*Math.PI/180));return{x:o*Math.abs(Math.cos(a*Math.PI/180))-t/2,y:c-e/2}}e.default=c},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Center",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:-45,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:100;o(this,t),this.position=e,this.offsetX=n,this.offsetY=r,this.scaleX=i,this.scaleY=a,this.rotation=s,this.opacity=c}return t.prototype.setPosition=function(t){this.position=t},t.prototype.getPosition=function(){return this.position},t.prototype.setOffsetX=function(t){this.offsetX=t},t.prototype.getOffsetX=function(){return this.offsetX},t.prototype.setOffsetY=function(t){this.offsetY=t},t.prototype.getOffsetY=function(){return this.offsetY},t.prototype.setScaleX=function(t){this.scaleX=t},t.prototype.getScaleX=function(){return this.scaleX},t.prototype.setScaleY=function(t){this.scaleY=t},t.prototype.getScaleY=function(){return this.scaleY},t.prototype.setRotation=function(t){this.rotation=t},t.prototype.getRotation=function(){return this.rotation},t.prototype.setOpacity=function(t){this.opacity=t},t.prototype.getOpacity=function(){return this.opacity},t}();e.default=r},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Microsoft Yahei",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#000000",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"normal",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:10,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"center";o(this,t),this.font=e,this.fontSize=n,this.color=r,this.fontStyle=i,this.lineSpace=a,this.alignment=s}return t.prototype.setFont=function(t){this.font=t},t.prototype.getFont=function(){return this.font},t.prototype.setFontSize=function(t){this.fontSize=t},t.prototype.getFontSize=function(){return this.fontSize},t.prototype.setColor=function(t){this.color=t},t.prototype.getColor=function(){return this.color},t.prototype.setFontStyle=function(t){this.fontStyle=t},t.prototype.getFontStyle=function(){return this.fontStyle},t.prototype.setLineSpace=function(t){this.lineSpace=t},t.prototype.getLineSpace=function(){return this.lineSpace},t.prototype.setAlignment=function(t){this.alignment=t},t.prototype.getAlignment=function(){return this.alignment},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(60);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return i.name="customsRender",i.$ui=n,i.customs=o,i.customRenders={},i}return i(e,t),e.prototype.render=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.scale=t,this.rotate=e;var n=this.customs;this.adjustCustomsRenderInit(n);var o=this.pdfViewer.customRenderManager,r=this.customRenders;return Promise.all(n.map((function(n){return r[o.getCustomDataId(n)].render(t,e)})))},e.prototype.activeCustom=function(t){var e=this.customRenders[this.customManager.getCustomDataId(t)];return e?(this.currentActiveCustomRender=e,e.render(this.scale,this.rotate)):Promise.reject(new Error("Custom render not found!"))},e.prototype.unActiveCustoms=function(){var t=this.currentActiveCustomRender;if(t)return t.unActive()},e.prototype.adjustCustomsRenderInit=function(t){var e=this,n=this.pdfViewer.customRenderManager,o=this.customRenders,r=document.createDocumentFragment();t.filter((function(t){return!o[n.getCustomDataId(t)]})).map((function(t){var i=document.createElement("div"),a=document.createElement("div");r.appendChild(i),r.appendChild(a),o[n.getCustomDataId(t)]=new(n.get(t))(i,a,t,e)})).length&&this.$ui.append(r)},e.prototype.addCustomRenders=function(t){this.adjustCustomsRenderInit(t);var e=this.pdfViewer.customRenderManager,n=this.customRenders,o=this.scale,r=this.rotate;return Promise.all(t.map((function(t){return n[e.getCustomDataId(t)].render(o,r)})))},e.prototype.removeCustomRenders=function(t){var e={},n=this.pdfViewer.customRenderManager,o=this.customRenders;t.map((function(t){var r=n.getCustomDataId(t);e[r]=1,delete o[r]}));for(var r=this.customs,i=r.length;i--;)e[n.getCustomDataId(r[i])]&&r.splice(i,1)},e.prototype.destroy=function(){t.prototype.destroy.call(this);var e=this.customRenders;for(var n in e){var o=e[n];o&&o.destroy()}this.customRenders=null},e.prototype.updateCustomRenders=function(t){for(var e=this,n={},o=this.pdfViewer.customRenderManager,r=this.customRenders,i=t.map((function(t){var e=o.getCustomDataId(t);return n[e]=t,r[e]})),a=this.customs,s=a.length;s--;){var c=o.getCustomDataId(a[s]);n[c]&&(a[s]=n[c])}return Promise.all(i.map((function(t){return t&&t.render(e.scale,e.rotate)})))},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=t.x,o=t.y,r=e.x,i=e.y,a=Math.abs(n-r),s=Math.abs(o-i);return Math.sqrt(Math.pow(a,2)+Math.pow(s,2))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=l(n(60)),r=n(4),i=l(n(3)),a=l(n(1)),s=l(n(39)),c=n(31),u=l(n(20));function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var h=function(t){function e(n,o){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=p(this,t.call(this,o));i.doc=n,i.docRender=o;var s=i.form=n.getPDFForm();if(!s)return p(i);s.setActionHandler((function(t,e,n,o){return i.execAction("Field",t,e,n,o)})),i.offKeyHandle&&i.offKeyHandle(),i.offKeyHandle=i.pdfViewer.getDefaultKeyboardEventBinder().on(c.KEY_MAP_FIELD_TAB_NEXT,(function(t){return i.focusNextWidget(t)}),!0);var u=i.viewerEvents=(f(r={},a.default.tapPage,(function(){i.blurControl()})),f(r,a.default.tapAnnotation,(function(){i.blurControl()})),f(r,a.default.openFileSuccess,(function(){i.control=null})),r);for(var l in u)i.pdfViewer.eventEmitter.on(l,u[l]);return i}return d(e,t),e.prototype.usingHTML=function(t){return t=4==t?"comboBox":"textField","canvas"==this.pdfViewer.config.annotRenderingMode[t]},e.prototype.addTask=function(t){return this.form?this.form.addTask(t):Promise.resolve(t())},e.prototype.initJS=function(){var t=this.form;if(t&&!t.isEmpty()){var e=this.doc.getJsNameTree(),n="";for(var o in e)n+=e[o]+"\n";var r=this.doc.action;r&&r.getScript&&(n+=r.getScript());var i=this.pdfViewer.JSEngine;return i.initEvent(13,null,null,"Init",{doc:this.doc}),i.exec(n,!0),t.addTask().then((function(e){return t.setState("jsInited")}))}t&&t.setState("jsInited")},e.prototype.focusNextWidget=function(t){var e=this.docRender,n=0,o=e.getCurrentPageIndex();if(this.control){var r=this.control.annot;n=r.getObjNum(),o=r.getPage().getIndex()}return t.preventDefault(),t.stopPropagation(),function t(e,n,o,r){for(var i=n.pageCache,a=i[o],s=a.filterAnnot(e,"widget");s;){var c=s.getField();if(!(7===c.getType()||1&c.getFlags()||98&s.getFlags()))return s.updateUI({type:"focus"});s=a.filterAnnot(s.getObjNum(),"widget")}var u=n.getPageCount(),l=o+1;for(l%=u;!(l in i)&&l!=o;)l+=1,l%=u;((l%=u)!=r||e)&&t(null,n,l,r)}(n,e.doc,o,o),!1},e.prototype.destroy=function(){this.offKeyHandle&&this.offKeyHandle(),this.offKeyHandle=u.default,this.form=null;var t=this.viewerEvents;for(var e in t)this.pdfViewer.eventEmitter.off(e,t[e]),t[e]=null;this.viewerEvents=null},e.prototype.setRuntimeHighlight=function(t){var e=".fv__ui-form-foreground:not(.form-field-readonly)";t?(0,i.default)(e).show():(0,i.default)(e).hide()},e.prototype.setRuntimeHighlightColor=function(t,e){[e,2*e].forEach((function(e,n){var o=".fv__ui-form-foreground"+(0==n?":not(.required)":".required");(0,i.default)(o).css("background-color",(0,r.colorConvertor)(t,"HTML",e))}))},e.prototype.isReadOnly=function(){var t=this.docRender.getUserPermission().getValue();return!(32&t||256&t)},e.prototype.isSameTarget=function(t){return this.control==t},e.prototype.focusControl=function(t,e){if(this.control!=t){if(t&&function(t){var e=t.getBoundingClientRect(),n=Math.max(document.documentElement.clientHeight,window.innerHeight);return e.bottom<100||e.top>n}(t.$handler[0])){var n=t.annot,o=n.getPage().getIndex(),r=n.getRect();this.pdfViewer.getPDFDocRender().goToPage(o,{x:r.left,y:r.bottom,width:r.right-r.left,height:r.top-r.bottom},!0)}if(this.control)if(this.blurControl()&&!e)return;this.pdfViewer.activeElement(t),this.control=t,t&&t.focus(e)}},e.prototype.blurControl=function(){var t=this.control;if(this.control=null,t){t.blur();document.activeElement.blur()}},e.prototype.setValue=function(t,e){return t.getField().setValue(e)},e.prototype.calculate=function(t){this.form.calculate(t)},e.prototype.execAction=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=this,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};if(!e)return!0;var s=this.pdfViewer.actionManager.get(e,this);s.setSourceTarget(n,o);var c=e.getType();switch(c){case"TypeJavaScript":return s.setTypeName(t,i),s.setParam(a),s.active();case"TypeURI":s.active((function(t){var e=r.control.$textInput;e&&e.focus()}));break;default:s.active()}},e.prototype.getFormatedData=function(t){var e=this,n={},o=this.form;return o.enumFields([],0,(function(r,i,a){var c=o.getField(i),u=c.getAction(s.default.FieldWillFormat);if(6==r&&u){var l=a;if("display"==t)if(c.getDisplayValue())n[i]=c.getDisplayValue();else{var f=a.length>0&&u&&e.execAction("Field",u,null,c,s.default.FieldWillFormat);!1!==f&&f&&f.rc&&(l=f.value),n[i]=l}else n[i]=l}})),n},e}(o.default);e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(32));function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r.subject=n,r.part=o,r.destinations=[],r.preValue=void 0,r.prepare(),r}return i(e,t),e.prototype.prepare=function(){(0,o.default)()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.disconnectAll()},e.prototype.notify=function(t,e){var n=this;this.isFreezed||(this.preValue=t,this.destinations.forEach((function(o){return o.receive(t,e,n)})))},e.prototype.connect=function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.destinations.push(t),n&&t.receive(this.preValue,this.preValue,this),function(){var n=e.destinations.indexOf(t);n>-1&&(e.destinations.splice(n,1),t.lost(e))}},e.prototype.freeze=function(){var t=this;return this.isFreezed=!0,function(){t.isFreezed=!1}},e.prototype.disconnectAll=function(){var t=this;this.destinations.forEach((function(e){return e.lost(t)})),this.destinations=[]},e}(r(n(30)).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=n(72);var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype.format=function(t,e,n){return[{type:"string",value:"["+this.levelText(e)+"]"},{type:"string",value:"{"+t+"}"}].concat(n.map((function(t){return null==t?{type:void 0===t?"undefined":o(t),value:t+""}:{type:void 0===t?"undefined":o(t),value:t}})))},t.prototype.levelText=function(t){switch(t){case r.LEVEL_DEBUG:return"DEBUG";case r.LEVEL_INFO:return"INFO";case r.LEVEL_WARN:return"WARN";case r.LEVEL_ERROR:return"ERROR"}return"UNKNOWN LEVEL"},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoLogger=void 0;var o=n(72),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(134));function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var c=function(){function t(e,n,o,r){s(this,t),this.appender=e,this.layout=n,this.module=o,this.minLevel=r,this.logOff=!1}return t.prototype.toggle=function(t){this.logOff="boolean"==typeof t?t:!r.logOff},t.prototype.setLevel=function(t){this.minLevel=t},t.prototype.doLog=function(t,e){if(!this.isLoggable(t)){var n=this.layout.format(this.module,t,e);this.appender.print(n,t)}},t.prototype.log=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];this.doLog(t,n)},t.prototype.debug=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.doLog(o.LEVEL_DEBUG,e)},t.prototype.info=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.doLog(o.LEVEL_INFO,e)},t.prototype.warn=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.doLog(o.LEVEL_WARN,e)},t.prototype.error=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.doLog(o.LEVEL_ERROR,e)},t.prototype.isLoggable=function(t){return this.logOff||r.logOff||t<this.minLevel||t<r.logLevel},t}();e.default=c;e.NoLogger=function(t){function e(){return s(this,e),i(this,t.apply(this,arguments))}return a(e,t),e.prototype.doLog=function(){},e}(c)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=n(72);var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype.format=function(t,e,n){var r=this,i=(new Error).stack,a=void 0;i&&(a="\n  "+i.split("\n")[4].trim());return[{type:"string",style:"color: "+this.levelColor(e)+";",value:"["+this.levelText(e)+"]"},{type:"string",style:"color: magenta",value:"{"+t+"}"}].concat(n.map((function(t){return null==t?{type:void 0===t?"undefined":o(t),style:"color: megenta;font-weight: bold",value:t+""}:"string"==typeof t?{type:void 0===t?"undefined":o(t),style:"color: "+r.levelColor(e),value:t}:{type:void 0===t?"undefined":o(t),value:t}}))).concat({type:"string",style:"color: grey;",value:a})},t.prototype.levelColor=function(t){switch(t){case r.LEVEL_DEBUG:return"blue";case r.LEVEL_INFO:return"green";case r.LEVEL_WARN:return"#5C3C00";case r.LEVEL_ERROR:return"red"}return"#000"},t.prototype.levelText=function(t){switch(t){case r.LEVEL_DEBUG:return"DEBUG";case r.LEVEL_INFO:return"INFO";case r.LEVEL_WARN:return"WARN";case r.LEVEL_ERROR:return"ERROR"}return"UNKNOWN LEVEL"},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});o(n(236));function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var i=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return o.appenders=n||[],o}return r(e,t),e.prototype.print=function(t,e){this.appenders.forEach((function(n){return n.print(t,e)}))},e}(o(n(135)).default);e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=c(n(137)),r=c(n(138)),i=c(n(139)),a=c(n(140)),s=c(n(411));function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){var n=l(t);return{loadPath:function(t,o){var r=void 0;try{r=n.versions[t.join(" ")][o.join(" ")]}catch(t){r=n.version}return e+"/{{lng}}/{{ns}}.json?v="+r}}}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({},s.default,t)}e.default=function(t){var e,n=o.default.createInstance();return n.use(r.default).init(Object.assign({},{load:"currentOnly",fallbackLng:"en-US",backend:{backends:[i.default,a.default],backendOptions:t.backendOptions||[(e=t.version,{prefix:"foxit_pdf_sdk_for_web_i18next_",expirationTime:6048e6,versions:l(e).versions}),u(t.version,t.absolutePath)]}},t.initOption)),n}},function(t,e,n){"use strict";n.r(e),e.default={version:"be36a0d44c32ebca01e0f759a120b9f5",versions:{"en-US":{ui_:"958c52164994e21d20774fcf71cfe25e",viewer_:"451e3e1ffb892f77f9bb8ade682bea92"},"ko-KR":{ui_:"c7b506aa657b1d926ead614c57a08423",viewer_:"599637cd595953d11fe2a98aaadc5483"},"zh-CN":{ui_:"ef26af08f4f798007d0523abd796ab44",viewer_:"8cb44008f0e6be9fae55b1096dcd7e57"}},languageVersions:{"en-US":"014b8c49bedd1311200f5684e80e6dde","ko-KR":"83e339aaa694b0724677ebb74d154300","zh-CN":"ab48ae762dad92407ad13fcb58bafc42"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return new Promise((function(e,n){var o=new XMLHttpRequest;o.open("GET",t),o.responseType="arraybuffer",o.onreadystatechange=function(){4===o.readyState&&(o.status>=200&&o.status<300||304===o.status?e(o.response):n(new Error("Could not load image!")))},o.onerror=function(){n(new Error("Could not load image!"))},o.send()}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(238),i=(o=r)&&o.__esModule?o:{default:o};var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ViewModes={},this.pdfViewer=e,this.register(i.default)}return t.prototype.register=function(t){return this.ViewModes[t.getName()]=t},t.prototype.get=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.default.getName();return this.ViewModes[t]||i.default},t.prototype.switchTo=function(t){var e=this.currentViewMode,n=this.get(t);if(e!==n){this.currentViewMode=n;var o=this.pdfViewer,r=o.pdfViewerRender;if(r)return o.activeElement(null),r.setViewMode(n)}},t.prototype.getCurrentViewMode=function(){return this.currentViewMode||i.default},t.prototype.getAll=function(){return this.ViewModes},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=M(n(62)),r=(M(n(41)),M(n(80)),M(n(244))),i=M(n(141)),a=M(n(246)),s=M(n(247)),c=M(n(113)),u=M(n(428)),l=M(n(144)),f=M(n(147)),p=M(n(249)),d=M(n(250)),h=M(n(251)),g=M(n(252)),m=M(n(254)),v=M(n(150)),y=M(n(255)),b=M(n(256)),w=M(n(115)),_=M(n(257)),P=n(6),O=M(n(151)),E=M(n(258)),x=M(n(261)),C=M(n(476)),A=M(n(262)),S=M(n(263)),D=M(n(491)),R=M(n(102)),j=M(n(264)),T=M(n(1));function M(t){return t&&t.__esModule?t:{default:t}}var I=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pdfViewer=e,this.matchRules=[],this.getAnnotFlag_=function(){return 0}}return t.prototype.registerMatchRule=function(t){return this.matchRules.push(t),t},t.prototype.unRegisterMatchRule=function(t){var e=this.matchRules.indexOf(t);-1!==e&&this.matchRules.splice(e,1)},t.prototype.get=function(t){for(var e=this.matchRules,n=this.getDefault(t),o=void 0,r=0,i=e.length;r<i;r++){var a=e[r];if("function"==typeof a){var s=a(t,n);s&&(o=s,n=s)}}return o||n},t.prototype.getDefault=function(t){switch(t.getType()){case"highlight":return r.default;case"squiggly":return s.default;case"strikeout":switch(t.getIntent()){case P.Intents.STRIKEOUT_TEXTEDIT:return S.default}return i.default;case"underline":return a.default;case"line":switch(t.getIntent()){case P.Intents.LINE_DIMENSION:return u.default}return c.default;case"polyline":return l.default;case"fileattachment":return g.default;case"text":return h.default;case"circle":return d.default;case"caret":return m.default;case"freetext":switch(t.getIntent()){case P.Intents.FREETEXT_TYPEWRITER:return O.default;case P.Intents.FREETEXT_CALLOUT:return E.default;default:return x.default}case"ink":return b.default;case"polygon":switch(t.getIntent()){case P.Intents.POLYGON_CLOUD:return _.default;case P.Intents.POLYGON_DIMENSION:default:return f.default}case"square":return v.default;case"sound":return j.default;case"stamp":return y.default;case"link":return p.default;case"widget":return(0,C.default)(t);case"screen":return A.default;case"redact":return w.default;case"watermark":return D.default;default:return o.default}},t.prototype.getAnnotFlag=function(t){var e=new R.default(t.getFlags());return e.or(this.getAnnotFlag_(t)),e},t.prototype.setViewerAnnotFlag=function(t){this.getAnnotFlag_=t,this.pdfViewer.eventEmitter.emit(T.default.globalAnnotFlagChanged)},t}();e.default=I},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={zIndexDown:{name:"zIndexDown",nameI18nKey:"viewer_:contextmenu.annot.zIndexDown",callback:function(){this.data("zIndexContextMenu").zIndexDown()},visible:function(){return this.data("zIndexContextMenu").checkZIndexDown()}},zIndexRecover:{name:"zIndexRecover",nameI18nKey:"viewer_:contextmenu.annot.zIndexRecover",callback:function(){this.data("zIndexContextMenu").zIndexRecover()},visible:function(){return!this.data("zIndexContextMenu").checkZIndexDown()}}};e.getZIndexContextMenu=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-container";return{selector:t,items:o,events:{show:function(){return this.data("zIndexContextMenu").updateDeleteStatus(!0),!0},hide:function(){return this.data("zIndexContextMenu").updateDeleteStatus(!1),!0}}}},e.annotZIndexComponentKey="zIndexContextMenu"},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";var e="",n=(t=t||{}).disabledAttr,r=t.disabled,i=t.i18nRoot,a=t.hlm,s=t.endingStyle,c=t.borderWidth,u=o.$escape,l=t.minBorderWidth,f=t.borderStyle,p=t.cloudy,d=t.highlightingMode,h=t.rotation,g=t.fillColor,m=t.checked,v=t.strFillColor,y=t.color,b=t.lineStartStyle,w=t.startStyle,_=t.lineEndStyle,P=t.endStyle,O=t.hasCap,E=(t.hasCapChecked,t.opacity);e+='<div class="fv__annot-properties-dialog">\n<div>\n    ';n=r?"disabled=disabled":"",a=(i="viewer_:dialog.")+"highlightingMode.",s=i+"endingStyle.";if(e+="\n    ",void 0!==c&&(e+='\n        <div class="fv__property-item">\n            <span class="fv__property-item-name-container">',e+=u(o.i18n(i+"borderWidth")),e+='</span>\n            <div class="fv__property-item-field-container">\n                <input id="thickness-input-tx" type="number"\n                       min="',e+=u(null!=l?l:1),e+='" max="12" step="1" value="',e+=u(c),e+='"\n                       ',e+=u(n),e+='>\n                <input id="thickness-input" type="range"\n                       value="',e+=u(c),e+='" min="1" max="12" step="1"\n                       ',e+=u(n),e+=">\n            </div>\n        </div>\n    "),!1!==f&&(e+='\n        <div class="fv__property-item">\n            <span class="fv__property-item-name-container">',e+=u(o.i18n(i+"borderStyle")),e+='</span>\n            <div class="fv__property-item-field-container">\n                <select id="borderStyle-select" ',e+=u(n),e+='>\n                    <option value="0"></option>\n                    <option value="1">. . . . . . . . . . . . . . . . . . . . .</option>\n                    <option value="2">-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -</option>\n                    <option value="3">                </option>\n                    <option value="4">  -    -    -    -    -    -</option>\n                    <option value="5">  -    -    -    -</option>\n                    <option value="6">-      -      -   </option>\n                    ',!0===p&&(e+='\n                    <option value="7"></option>\n                    <option value="8">~~~~~~~~~~~~~~~~~~~</option>\n                    '),e+="\n                </select>\n            </div>\n        </div>\n    "),void 0!==d&&(e+='\n        <div class="fv__property-item">\n            <span class="fv__property-item-name-container">',e+=u(o.i18n(a+"title")),e+='</span>\n            <div class="fv__property-item-field-container">\n                <select id="highlighting-select" ',e+=u(n),e+='>\n                    <option value="0">',e+=u(o.i18n(a+"none")),e+='</option>\n                    <option value="1">',e+=u(o.i18n(a+"invert")),e+='</option>\n                    <option value="2">',e+=u(o.i18n(a+"outline")),e+='</option>\n                    <option value="3">',e+=u(o.i18n(a+"push")),e+='</option>\n                    <option value="4">',e+=u(o.i18n(a+"toggle")),e+="</option>\n                </select>\n            </div>\n        </div>\n    "),void 0!==h&&(e+='\n            <div class="fv__property-item">\n                <span class="fv__property-item-name-container">',e+=u(o.i18n(i+"rotate")),e+='</span>\n                <div class="fv__property-item-field-container">\n                    <select id="rotation-select" ',e+=u(n),e+='>\n                        <option value="0">0</option>\n                        <option value="1">90</option>\n                        <option value="2">180</option>\n                        <option value="3">270</option>\n                    </select>\n                </div>\n            </div>\n        '),void 0!==g){m="",r="",v=g;if(0==g)r="disabled=1",m="checked=1",v="#FFFFFF";else{for(v=(g&=16777215).toString(16);v.length<6;)v="0"+v;v="#"+v}e+='\n        <div class="fv__property-item">\n            <span class="fv__property-item-name-container">',e+=u(o.i18n(i+"fillColor")),e+='</span>\n\n            <div class="fv__property-item-field-container">\n                <input id="fillcolor-input" type="color" value="',e+=u(v),e+='" ',e+=u(r),e+=" ",e+=u(n),e+='>\n\n                <label>\n                    <input id="fillColor-transparent-input" type="checkbox" ',e+=u(m),e+=" ",e+=u(n),e+=">\n                    ",e+=u(o.i18n(i+"transparent")),e+="\n                </label>\n            </div>\n        </div>\n    "}(void 0!==y&&(0===y&&(y="#ffffff"),e+='\n    <div class="fv__property-item">\n        <label>\n            <span class="fv__property-item-name-container">',e+=u(o.i18n(i+"color")),e+='</span>\n            <div class="fv__property-item-field-container">\n                <input id="color-input" type="color" value="',e+=u(y),e+='" ',e+=u(n),e+=">\n            </div>\n        </label>\n    </div>\n    "),b&&(e+='\n        <div class="fv__property-item">\n            <span class="fv__property-item-name-container">',e+=u(o.i18n(i+"startStyle")),e+='</span>\n            <div class="fv__property-item-field-container">\n                <select id="startstyle-select" value="',e+=u(w),e+='" ',e+=u(n),e+='>\n                    <option value="0">',e+=u(o.i18n(s+"none")),e+='</option>\n                    <option value="1">',e+=u(o.i18n(s+"square")),e+='</option>\n                    <option value="2">',e+=u(o.i18n(s+"circle")),e+='</option>\n                    <option value="3">',e+=u(o.i18n(s+"diamond")),e+='</option>\n                    <option value="4">',e+=u(o.i18n(s+"openArrow")),e+='</option>\n                    <option value="5">',e+=u(o.i18n(s+"closedArrow")),e+='</option>\n                    <option value="6">',e+=u(o.i18n(s+"butt")),e+='</option>\n                    <option value="7">',e+=u(o.i18n(s+"reverseOpenArrow")),e+='</option>\n                    <option value="8">',e+=u(o.i18n(s+"reverseClosedArrow")),e+='</option>\n                    <option value="9">',e+=u(o.i18n(s+"slash")),e+="</option>\n                </select>\n            </div>\n        </div>\n        "),_&&(e+='\n        <div class="fv__property-item">\n            <span class="fv__property-item-name-container">',e+=u(o.i18n(i+"endStyle")),e+='</span>\n            <div class="fv__property-item-field-container">\n                <select id="endstyle-select" value="',e+=u(P),e+='" ',e+=u(n),e+='>\n                    <option value="0" >',e+=u(o.i18n(s+"none")),e+='</option>\n                    <option value="1" >',e+=u(o.i18n(s+"square")),e+='</option>\n                    <option value="2" >',e+=u(o.i18n(s+"circle")),e+='</option>\n                    <option value="3" >',e+=u(o.i18n(s+"diamond")),e+='</option>\n                    <option value="4" >',e+=u(o.i18n(s+"openArrow")),e+='</option>\n                    <option value="5" >',e+=u(o.i18n(s+"closedArrow")),e+='</option>\n                    <option value="6" >',e+=u(o.i18n(s+"butt")),e+='</option>\n                    <option value="7" >',e+=u(o.i18n(s+"reverseOpenArrow")),e+='</option>\n                    <option value="8" >',e+=u(o.i18n(s+"reverseClosedArrow")),e+='</option>\n                    <option value="9" >',e+=u(o.i18n(s+"slash")),e+="</option>\n                </select>\n            </div>\n        </div>\n        "),void 0!==O)&&(e+='\n    <div class="fv__property-item">\n        <label class="fv__property-item-only-field-container">\n            <input id="hasCap-input" type="checkbox" ',e+=u(O?"checked=true":""),e+=" ",e+=u(n),e+=">\n            ",e+=u(o.i18n(i+"hasCap")),e+="\n        </label>\n    </div>\n    ");return!1!==E&&(e+='\n    <div class="fv__property-item">\n        <label class="fv__property-item-name-container">',e+=u(o.i18n(i+"opacity")),e+='</label>\n        <div class="fv__property-item-field-container">\n            <input id="opacity-input" type="range" value="',e+=u(E),e+='" min="0" max="1" step="0.01" ',e+=u(n),e+=">\n        </div>\n    </div>\n    "),e+='\n</div>\n<div class="fv__btn-close-container">\n    <button type="button" class="fv__btn fv__btn-close">',e+=u(o.i18n(i+"close")),e+="</button>\n</div>\n</div>"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={MARKED:"marked",UNMARKED:"unmarked",ACCEPTED:"accepted",REJECTED:"rejected",CANCELLED:"cancelled",COMPLETED:"completed",NONE:"none"}},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";t=t||{};var e="",r=o.$escape,i=t.content,a=function(t){return e+=t},s=t.replies;return e+='<dialog class="fv__dialog fv__annot-reply-dialog">\n    <div class="fv__textarea-container">\n        <label>\n            <span class="fv__label-block-text">',e+=r(o.i18n("viewer_:dialog.content")),e+='</span>\n            <textarea class="fv__block-textarea content-textarea">',e+=r(i),e+='</textarea>\n        </label>\n    </div>\n    <div class="fv__textarea-container">\n        <label>\n            <span class="fv__label-block-text">',e+=r(o.i18n("viewer_:dialog.reply")),e+='</span>\n            <textarea class="fv__block-textarea reply-textarea"></textarea>\n        </label>\n    </div>\n    <div class="fv__btn_reply_container">\n        <button type="button" class="fv__btn fv__btn-reply" disabled>',e+=r(o.i18n("viewer_:dialog.reply")),e+='</button>\n    </div>\n    <div class="fv__dialog-replies-block">\n        ',a(n(240)(s)),e+='\n    </div>\n    <div class="fv__btn-close-container">\n        <button type="button" class="fv__btn fv__btn-close">',e+=r(o.i18n("viewer_:dialog.close")),e+="</button>\n    </div>\n</dialog>"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.getDefaultConfig=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"annotComponent",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".fv__pdf-page-annot-handler-rect";return{selector:e,items:{copy:{name:"copy",nameI18nKey:"viewer_:contextmenu.annot.copy",callback:function(e,n,o){this.data(t).copyText()},visible:function(){var e=this.data(t);if(!e.annot.isArea())return!e.annot.isReplace||!e.annot.isReplace()}},reply:{name:"reply",nameI18nKey:"viewer_:contextmenu.annot.reply",callback:function(){this.data(t).showReplyDialog("reply")},disabled:function(){return this.data(t).replyDisabled()}},properties:{name:"properties",nameI18nKey:"viewer_:contextmenu.annot.properties",callback:function(e,n,o){this.data(t).showPropertiesDialog(e,n,o)}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data(t).removeAnnot()},disabled:function(){return this.data("annotComponent").deleteDisabled()}}},events:{show:function(){return this.data("annotComponent").updateDeleteStatus(!0),!0},hide:function(){return this.data("annotComponent").updateDeleteStatus(!1),!0}}}},e.defaultAnnotComponentKey="annotComponent"},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<div class="fv__text-boundary fv__text-boundary-',e+=(0,o.$escape)(t.direction),e+='">\n    <div class="fv__text-boundary-blank">\n        <div class="fv__text-boundary-cursor"></div>\n        <div class="fv__text-boundary-sign"></div>\n    </div>\n</div>'}},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";t=t||{};var e="",n=o.$escape,r=t.previewer,i=t.moveable,a=t.resizable,s=t.enableFrame,c=t.enableDiagonally,u=t.enableSizeBox,l=t.rotatable;return e+='<div class="fv__shape-control">\n    <canvas class="fv__shape-control-previewer" ',e+=n(r?"":"style=display:none"),e+=" ></canvas>\n    ",i&&(e+='\n    <div class="fv__shape-control-move-area"></div>\n    '),e+="\n    ",a&&(e+="\n    ",s&&(e+='\n    <div class="fv__shape-controller" direction="north"></div>\n    <div class="fv__shape-controller" direction="south"></div>\n    <div class="fv__shape-controller" direction="west"></div>\n    <div class="fv__shape-controller" direction="east"></div>\n    '),e+="\n    ",c&&(e+='\n    <div class="fv__shape-controller" direction="north-west"></div>\n    <div class="fv__shape-controller" direction="north-east"></div>\n    <div class="fv__shape-controller" direction="south-west"></div>\n    <div class="fv__shape-controller" direction="south-east"></div>\n    '),e+="\n    ",u&&(e+='\n    <div class="fv__shape-size"></div>\n    '),e+="\n    "),e+="\n    ",l&&(e+='\n    <div class="fv__shape-rotate">\n        <div class="fv-shape-rotate-handle fv__cursor-rotation"></div>\n        <div class="fv-shape-rotate-degree"></div>\n        <div class="fv-shape-rotate-bound"></div>\n    </div>\n    '),e+="\n</div>"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(94),i=s(n(40)),a=s(n(25));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.left,o=void 0===n?0:n,r=e.right,i=void 0===r?0:r,a=e.bottom,s=void 0===a?0:a,u=e.top,l=void 0===u?0:u,f=e.box,p=e.marginBox,d=void 0===p?{left:0,top:0,right:0,bottom:0}:p,h=e.expansion,g=void 0===h?{left:0,top:0,right:0,bottom:0}:h;c(this,t),this.processing=!1,this.boundary={left:o,right:i,bottom:s,top:l},this.freeBoundary=null,this.marginBox=d,this.shape=this.calculateShape(),this.setBoundaryBox(f),this.tasks=[],this.expansion=g}return o(t,null,[{key:"ADJUST_MODE_FREE",get:function(){return"free"}},{key:"ADJUST_MODE_UNIFORM",get:function(){return"uniform"}},{key:"ADJUST_MODE_SQUARE",get:function(){return"square"}}]),t.prototype.process=function(){this.tasks=[],this.processing=!0,this.freeBoundary=Object.assign({},this.boundary)},t.prototype.end=function(){this.tasks=[],this.processing=!1,this.boundary=this.squareBoundary||this.freeBoundary,this.freeBoundary=null,this.squareBoundary=null,this.shape=this.calculateShape()},t.prototype.cancel=function(){this.tasks=[],this.processing=!1,this.freeBoundary=null,this.squareBoundary=null},t.prototype.setBoundaryBox=function(t){var e=this;this.box=t,this.boxStrict=t?function(n){return e._adjustBoundaryByBox(t,n)}:i.default},t.prototype.undo=function(){var t=this.tasks.pop();"function"==typeof t&&t()},t.prototype.addTask=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];this.tasks.push((function(){return t.apply(void 0,n)}))},t.prototype.recordFreeBoundary=function(){var t=this,e=this.freeBoundary?Object.assign({},this.freeBoundary):null;this.addTask((function(e){t.freeBoundary=e}),e)},t.prototype.recordSquareBoundary=function(){var t=this,e=this.squareBoundary?Object.assign({},this.squareBoundary):null;this.addTask((function(e){t.squareBoundary=e}),e)},t.prototype.adjustWest=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.ADJUST_MODE_FREE;this.recordFreeBoundary();var o=this.freeBoundary,i=this.freeBoundary.left+e,a=this.freeBoundary.right;switch(o.left=Math.min(i,a),o.right=Math.max(i,a),n){case t.ADJUST_MODE_SQUARE:this._adjustToSquareH();break;case t.ADJUST_MODE_UNIFORM:}return this.boxStrict(this.freeBoundary),a<i?r.DIR_EAST:r.DIR_WEST},t.prototype.adjustEast=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.ADJUST_MODE_FREE;this.recordFreeBoundary();var o=this.freeBoundary.right+e,i=this.freeBoundary.left;switch(this.freeBoundary.left=Math.min(i,o),this.freeBoundary.right=Math.max(i,o),n){case t.ADJUST_MODE_SQUARE:this._adjustToSquareH();break;case t.ADJUST_MODE_UNIFORM:}return this.boxStrict(this.freeBoundary),o<i?r.DIR_WEST:r.DIR_EAST},t.prototype._adjustToSquareH=function(){var t=this.freeBoundary,e=t.right-t.left,n=t.bottom-t.top,o=t.top+n/2-e/2,r=o+e;t.top=o,t.bottom=r},t.prototype.adjustNorth=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.ADJUST_MODE_FREE;this.recordFreeBoundary();var o=this.freeBoundary.top+e,i=this.freeBoundary.bottom;switch(this.freeBoundary.top=Math.min(o,i),this.freeBoundary.bottom=Math.max(o,i),n){case t.ADJUST_MODE_SQUARE:this._adjustToSquareV();break;case t.ADJUST_MODE_UNIFORM:}return this.boxStrict(this.freeBoundary),i<o?r.DIR_SOUTH:r.DIR_NORTH},t.prototype.adjustSouth=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.ADJUST_MODE_FREE;this.recordFreeBoundary();var o=this.freeBoundary.bottom+e,i=this.freeBoundary.top;switch(this.freeBoundary.top=Math.min(i,o),this.freeBoundary.bottom=Math.max(i,o),n){case t.ADJUST_MODE_SQUARE:this._adjustToSquareV();break;case t.ADJUST_MODE_UNIFORM:}return this.boxStrict(this.freeBoundary),o<i?r.DIR_NORTH:r.DIR_SOUTH},t.prototype._adjustToSquareV=function(){var t=this.freeBoundary,e=t.right-t.left,n=t.bottom-t.top,o=t.left+e/2-n/2,r=o+n;t.left=o,t.right=r},t.prototype._adjustToSquare=function(t,e){var n=this.freeBoundary.right-this.freeBoundary.left,o=this.freeBoundary.bottom-this.freeBoundary.top,i=Math.min(n,o);this.squareBoundary=Object.assign({},this.freeBoundary),e==r.DIR_WEST?this.squareBoundary.left=this.freeBoundary.right-i:this.squareBoundary.right=this.freeBoundary.left+i,t==r.DIR_SOUTH?this.squareBoundary.bottom=this.freeBoundary.top+i:this.squareBoundary.top=this.freeBoundary.bottom-i},t.prototype.adjustNorthWest=function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.ADJUST_MODE_FREE,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;switch(this.recordFreeBoundary(),this.recordSquareBoundary(),this.squareBoundary=null,o){case t.ADJUST_MODE_UNIFORM:return this._adjustNorthWestUniform(e,n,i),this.boxStrict(this.freeBoundary),r.DIR_NORTH_WEST;case t.ADJUST_MODE_FREE:case t.ADJUST_MODE_SQUARE:var a=this.adjustNorth(n),s=this.adjustWest(e);return o==t.ADJUST_MODE_SQUARE&&(this._adjustToSquare(a,s),this.boxStrict(this.squareBoundary)),a+"-"+s}},t.prototype._adjustNorthWestUniform=function(t,e,n){var o=this.freeBoundary,r=o.right,i=o.bottom,a=o.left,s=o.top,c=r-(a+t),u=i-(s+e),l=r-a,f=i-s,p=Math.min(c,u);p>=n&&(p===c?u=p/l*f:c=p/f*l,this.freeBoundary.left=r-c,this.freeBoundary.top=i-u)},t.prototype.adjustNorthEast=function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.ADJUST_MODE_FREE,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;switch(this.recordFreeBoundary(),this.recordSquareBoundary(),o){case t.ADJUST_MODE_UNIFORM:return this._adjustNorthEastUniform(e,n,i),this.boxStrict(this.freeBoundary),r.DIR_NORTH_EAST;case t.ADJUST_MODE_FREE:case t.ADJUST_MODE_SQUARE:var a=this.adjustNorth(n),s=this.adjustEast(e);return this.squareBoundary=null,o==t.ADJUST_MODE_SQUARE&&(this._adjustToSquare(a,s),this.boxStrict(this.squareBoundary)),a+"-"+s}},t.prototype._adjustNorthEastUniform=function(t,e,n){var o=this.freeBoundary,r=o.right,i=o.bottom,a=o.left,s=o.top,c=r+t-a,u=i-(s+e),l=r-a,f=i-s,p=Math.min(c,u);p>=n&&(p===c?u=p/l*f:c=p/f*l,this.freeBoundary.right=a+c,this.freeBoundary.top=i-u)},t.prototype.adjustSouthWest=function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.ADJUST_MODE_FREE,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;switch(this.recordFreeBoundary(),this.recordSquareBoundary(),o){case t.ADJUST_MODE_UNIFORM:return this._adjustSouthWestUniform(e,n,i),this.boxStrict(this.freeBoundary),r.DIR_SOUTH_WEST;case t.ADJUST_MODE_FREE:case t.ADJUST_MODE_SQUARE:var a=this.adjustSouth(n),s=this.adjustWest(e);return this.squareBoundary=null,o==t.ADJUST_MODE_SQUARE&&(this._adjustToSquare(a,s),this.boxStrict(this.squareBoundary)),a+"-"+s}},t.prototype._adjustSouthWestUniform=function(t,e,n){var o=this.freeBoundary,r=o.right,i=o.bottom,a=o.left,s=o.top,c=r-(a+t),u=i+e-s,l=r-a,f=i-s,p=Math.min(c,u);p>=n&&(p===c?u=p/l*f:c=p/f*l,this.freeBoundary.left=r-c,this.freeBoundary.bottom=s+u)},t.prototype.adjustSouthEast=function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.ADJUST_MODE_FREE,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;switch(this.recordFreeBoundary(),this.recordSquareBoundary(),o){case t.ADJUST_MODE_UNIFORM:return this._adjustSouthEastUniform(e,n,i),this.boxStrict(this.freeBoundary),r.DIR_SOUTH_EAST;case t.ADJUST_MODE_FREE:case t.ADJUST_MODE_SQUARE:var a=this.adjustSouth(n),s=this.adjustEast(e);return this.squareBoundary=null,o==t.ADJUST_MODE_SQUARE&&(this._adjustToSquare(a,s),this.boxStrict(this.squareBoundary)),a+"-"+s}},t.prototype._adjustSouthEastUniform=function(t,e,n){var o=this.freeBoundary,r=o.right,i=o.bottom,a=o.left,s=o.top,c=r+t-a,u=i+e-s,l=r-a,f=i-s,p=Math.min(c,u);p>=n&&(p===c?u=p/l*f:c=p/f*l,this.freeBoundary.right=a+c,this.freeBoundary.bottom=s+u)},t.prototype.adjustPosition=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.recordFreeBoundary(),this.freeBoundary.left+=t,this.freeBoundary.right+=t,this.freeBoundary.top+=e,this.freeBoundary.bottom+=e,this.boxStrict(this.freeBoundary)},t.prototype.adjustPositionTo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.freeBoundary.left,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.freeBoundary.top;this.adjustPosition(t-this.freeBoundary.left,e-this.freeBoundary.top)},t.prototype._adjustMovingBoundaryByBox=function(t,e){var n=e.right-e.left,o=e.bottom-e.top;this.boundary.right>t.right&&(this.boundary.right=t.right,this.boundary.left=t.right-n),this.boundary.bottom>t.bottom&&(this.boundary.bottom=t.bottom,this.boundary.top=t.bottom-o),this.boundary.left<t.left&&(this.boundary.left=t.left,this.boundary.right=t.left+n),this.boundary.top<t.top&&(this.boundary.top=t.top,this.boundary.bottom,t.top)},t.prototype._adjustBoundaryByBox=function(t,e){var n=this.marginBox;n||(n={}),n.left=n.left||0,n.top=n.top||0,n.bottom=n.bottom||0,n.right=n.right||0;var o=a.default.on(e).expand(n.top,n.left,n.bottom,n.right).extract(),r=o.right-o.left,i=o.bottom-o.top;o.right>t.right&&(o.right=t.right,o.left=t.right-r),o.bottom>t.bottom&&(o.bottom=t.bottom,o.top=t.bottom-i),o.left<t.left&&(o.left=t.left,o.right=t.left+r),o.top<t.top&&(o.top=t.top,o.bottom=t.top+i);var s=a.default.on(o).shrink(n.top,n.left,n.bottom,n.right).extract();a.default.copyTo(s,e)},t.prototype.setMargin=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.marginBox,e=t.left,n=void 0===e?0:e,o=t.top,r=void 0===o?0:o,i=t.right,a=void 0===i?0:i,s=t.bottom,c=void 0===s?0:s;this.marginBox={left:n,top:r,right:a,bottom:c}},t.prototype.getAdjustRect=function(){var t=this.squareBoundary||this.freeBoundary;return t?Object.assign({},t):null},t.prototype.getAdjustShape=function(){var t=this.squareBoundary||this.freeBoundary;return t?{left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top}:null},t.prototype.getRect=function(){return Object.assign({},this.boundary)},t.prototype.getShape=function(){return Object.assign({},this.shape)},t.prototype.calculateShape=function(){var t=this.boundary;return{left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top}},t.prototype.applyToDom=function(t){var e=this.getShape(),n=this.expansion;t.style.cssText+="\n                left: "+(e.left-n.left)+"px;\n                top: "+(e.top-n.top)+"px;\n                width: "+(e.width+(n.left+n.right))+"px;\n                height: "+(e.height+(n.top+n.bottom))+"px;\n                "},t.prototype.applyAdjustingToDom=function(t){var e=this.getAdjustShape(),n=this.expansion;t.style.cssText+="\n                left: "+(e.left-n.left)+"px;\n                top: "+(e.top-n.top)+"px;\n                width: "+(e.width+(n.left+n.right))+"px;\n                height: "+(e.height+(n.top+n.bottom))+"px;\n                "},t}();e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=n(21),a=n(50),s=(o=a)&&o.__esModule?o:{default:o};n(28);function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.lastRenderPromise=Promise.resolve(),o.lastX=0,o.lastY=0,o}return c(e,t),e.prototype.resetCanvasSize=function(){},e.prototype.closeTo=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-4;return Math.abs(t-e)<n},e.prototype.render=function(e,n){var o=this;this.prepared||this.prepare();var a=this.component,s=a.getRenderingData(e,n),c=(s.page,this.canvas.getContext("2d")),u=r(s.tileConfig,10),l=(u[0],u[1],u[2],u[3],u[4],u[5]),f=(u[6],u[7],u[8]),p=u[9],d=(s.rect,s.engineRenderingRect),h=s.outerDeviceRect,g=h.right-h.left,m=h.bottom-h.top,v=d.right-d.left,y=d.bottom-d.top;if((!this.closeTo(d.left,this.lastX)||!this.closeTo(d.top,this.lastY))&&this.canvas.width){var b=d.left-this.lastX,w=d.top-this.lastY,_=c.getImageData(0,0,this.canvas.width,this.canvas.height);t.prototype.resetCanvasSize.call(this,v,y),this.canvas.style.cssText+="width: "+g+"px;height: "+m+"px;",this.container.style.cssText+="\n                left: "+h.left+"px;\n                top: "+h.top+"px;\n            ",c.putImageData(_,-b,-w)}return this.lastX=d.left,this.lastY=d.top,a.getPDFPage().getPageAndHighlightBitmap((0,i.pt2px)(l),n,{x:Math.ceil(f*l),y:Math.ceil(p*l),width:v,height:y}).then((function(e){var n=e.buffer,r=e.width,i=e.height,a=e.image;if(a){var s=new Image;s.onload=function(){c.drawImage(s,0,0,r,i),URL.revokeObjectURL(s.src)},s.src=URL.createObjectURL(a)}else{var u=new(Uint8ClampedArray||Uint8Array)(n),l=c.createImageData(r,i);l.data.set(u),t.prototype.resetCanvasSize.call(o,r,i),o.container.style.cssText+="\n                    left: "+h.left+"px;\n                    top: "+h.top+"px;\n                ",o.canvas.style.cssText+="width: "+g+"px;height: "+m+"px;",c.putImageData(l,0,0)}}))},e}(s.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(112);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return s(e,t),e.prototype.doRender=function(e){t.prototype.doRender.call(this,e);var n=e.renderingData,o=n.annotInfo,r=n.rotate,i=e.quadRects,a=this.canvas.getContext("2d");a.clearRect(0,0,this.canvas.width,this.canvas.height),a.save(),a.globalAlpha=o.opacity,a.strokeStyle=this.numberToRGBAString(o.borderColor),i.forEach((function(t){a.beginPath();var e=90==r||270==r?.12568*t.width:.12568*t.height;a.lineWidth=Math.max(1,e);var n=t.left,o=t.right,i=t.top+t.textBlockHeight/2;switch(r){case 90:a.moveTo(o-t.width/2,0),a.lineTo(o-t.width/2,t.textBlockHeight);break;case 180:a.moveTo(t.right,t.top+t.height/2),a.lineTo(t.left,t.top+t.height/2);break;case 270:a.moveTo(o-t.width/2,t.bottom),a.lineTo(o-t.width/2,t.bottom-t.textBlockHeight);break;default:a.moveTo(n,i),a.lineTo(o,i)}a.stroke()})),a.restore()},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(112);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return s(e,t),e.prototype.doRender=function(e){t.prototype.doRender.call(this,e);var n=e.renderingData,o=n.annotInfo,r=n.rotate,i=e.quadRects,a=this.canvas.getContext("2d");a.clearRect(0,0,this.canvas.width,this.canvas.height),a.save(),a.globalAlpha=o.opacity,a.strokeStyle=this.numberToRGBAString(o.borderColor);Math.max(1,.12568*i[0].height);i.forEach((function(t){a.beginPath();var e=t.left,n=t.right,o=90==r||270==r?.22568*i[0].width:.12568*i[0].height,s=t.top+t.textBlockHeight-o/2;switch(r){case 90:a.moveTo(e+o/2,t.bottom),a.lineTo(e+o/2,t.top);break;case 180:a.moveTo(t.right,t.top+o/2),a.lineTo(t.left,t.top+o/2);break;case 270:a.moveTo(n,t.bottom),a.lineTo(n,t.bottom-t.textBlockHeight);break;default:a.moveTo(e,s),a.lineTo(n,s)}a.lineWidth=o,a.stroke()})),a.restore()},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(112);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return s(e,t),e.prototype.doRender=function(e){t.prototype.doRender.call(this,e);var n=this.component.annot.info,o=e.renderingData.rotate,r=e.quadRects,i=this.canvas.getContext("2d");i.clearRect(0,0,this.canvas.width,this.canvas.height),i.save(),i.globalAlpha=n.opacity,i.strokeStyle=this.numberToRGBAString(n.borderColor);var a=90==o||270==o?r[0].width:r[0].height;i.lineWidth=Math.max(1,.12568*a),r.forEach((function(t){i.beginPath();var e=0,n=0,r=0,a=0;switch(o){case 90:e=.2504*t.width,n=Math.ceil(t.height/e),r=t.right-e,a=t.right,i.moveTo(t.left,t.bottom);for(var s=1;s<=n;s++){var c=s%2==0?0:e;i.lineTo(t.left+c,t.bottom-s*e)}break;case 180:e=.2504*t.height,n=Math.ceil(t.width/e),r=t.bottom-e,a=t.bottom,i.moveTo(t.left,t.top);for(var u=1;u<=n;u++){var l=u%2==0?0:e;i.lineTo(t.left+u*e,t.top+l)}break;case 270:e=.2504*t.width,n=Math.ceil(t.height/e),r=t.right-e,a=t.right,i.moveTo(t.right,t.bottom);for(var f=1;f<=n;f++){var p=f%2==0?0:e,d=t.bottom-f*e;d=d<=0?0:d,i.lineTo(t.right-p,d)}break;default:e=.2504*t.height,n=Math.ceil(t.width/e),r=t.bottom-e,a=t.bottom,i.moveTo(t.left,r);for(var h=1;h<=n;h++)i.lineTo(t.left+h*e,h%2==0?r:a)}i.stroke()})),i.restore()},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=c},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";var e="",n=(t=t||{}).i,r=(t.pointIndex,o.$escape);for(n=0;n<t.anchorCount;n++){e+="\n";e+='\n<div class="fv__pdf-annot-line-point" data-index="',e+=r(n),e+='"><div class="fv__pdf-annot-line-point-item"></div></div>\n'}return e+="\n\n"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(113),i=(o=r)&&o.__esModule?o:{default:o},a=n(44);function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i));return a.name="lineMeasurement",a}return s(e,t),e.prototype.getLengthInInchUnit=function(){var t=this.getDimension(),e=t.width,n=t.height;return this._getLengthInInchUnit(e,n)},e.prototype._getLengthInInchUnit=function(t,e){var n=a.PIXEL_HORIZONTAL.convertTo(t,a.INCH),o=a.PIXEL_VERTICAL.convertTo(e,a.INCH);return Math.round(100*Math.sqrt(n*n+o*o))/100},e}(i.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={properties:{name:"properties",nameI18nKey:"viewer_:contextmenu.annot.properties",callback:function(t,e,n){this.data("annotComponent").showPropertiesDialog(t,e,n)}},actions:{name:"actions",nameI18nKey:"viewer_:contextmenu.annot.actions",callback:function(){this.data("annotComponent").showActionsDialog()},disabled:function(){return this.data("annotComponent").actionsDisabled()}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data("annotComponent").removeAnnot()},disabled:function(){return this.data("annotComponent").deleteDisabled()}}};e.getLinkContextMenu=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect";return{selector:t,items:o,events:{show:function(){return this.data("annotComponent").updateDeleteStatus(!0),!0},hide:function(){return this.data("annotComponent").updateDeleteStatus(!1),!0}}}},e.defaultAnnotComponentKey="annotComponent"},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";t=t||{};var e="",n=o.$escape;return e+='<dialog class="fv__ui-layer fv__action-dialog" >\n   <div class="fv__action-dialog-header">\n      <div class="fv__action-dialog-title">',e+=n(o.i18n("viewer_:dialog.actionDialog.title")),e+='</div>\n      <div class="fv__action-dialog-close"><i class="fv__action-dialog-close-icon">x</i></div>\n   </div>\n   <div class="fv__action-dialog-body">\n      <div class="fv__action-dialog-select">\n         <span class="fv__action-dialog-select-title">',e+=n(o.i18n("viewer_:dialog.actionDialog.selectKey")),e+=':</span>\n         <select id="select-action">\n            <option value="TypeGoto">',e+=n(o.i18n("viewer_:dialog.actionDialog.selectAction.goto")),e+='</option>\n            <option value="TypeURI">',e+=n(o.i18n("viewer_:dialog.actionDialog.selectAction.webLink")),e+='</option>\n         </select>\n      </div>\n      <div class="fv__action-dialog-url fv__action-dialog-box" data-type="TypeURI">\n         <div class="fv__action-dialog-url-title fv__action-box-title">',e+=n(o.i18n("viewer_:dialog.actionDialog.URLAction.title")),e+='</div>\n         <div class="fv__action-dialog-url-input">\n            <input class="fv__action-dialog-input" id="url-input"/>\n         </div>\n      </div>\n      <div class="fv__action-dialog-goto fv__action-dialog-box" style="display:block;"  data-type="TypeGoto">\n         <div class="fv__action-dialog-goto-title fv__action-box-title">',e+=n(o.i18n("viewer_:dialog.actionDialog.GotoAction.title")),e+='</div>\n         <div class="fv__action-dialog-goto-container">\n            <div class="fv__action-dialog-goto-center">\n               <div class="fv__action-dialog-goto-left">\n                  <div class="fv__action-dialog-goto-target">',e+=n(o.i18n("viewer_:dialog.actionDialog.GotoAction.target")),e+=':</div>\n               </div>\n               <div class="fv__action-dialog-goto-right">\n                  <div class="fv__action-dialog-goto-input">\n                     <input type="number" min="1" class="fv__action-dialog-input" id="goto-input"/>\n                  </div>\n                  <div class="fv__action-dialog-goto-position">\n                     <span class="fv__action-dialog-goto-position-left">',e+=n(o.i18n("viewer_:dialog.actionDialog.GotoAction.left")),e+=':</span><span class="fv__action-dialog-goto-left-value">0</span>\n                     <span class="fv__action-dialog-goto-position-top">',e+=n(o.i18n("viewer_:dialog.actionDialog.GotoAction.top")),e+=':</span><span class="fv__action-dialog-goto-top-value">0</span>\n                  </div>\n               </div>\n            </div>\n         </div>\n      </div>\n   </div>\n   <div class="fv__action-dialog-footer">\n      <div class="fv__action-dialog-btns">\n          <button type="button" class="fv__action-btn fv__action-btn-cancel ">',e+=n(o.i18n("viewer_:dialog.actionDialog.Cancel")),e+='</button>\n          <button type="button" class="fv__action-btn fv__action-btn-ok">',e+=n(o.i18n("viewer_:dialog.actionDialog.OK")),e+="</button>\n      </div>\n   </div>\n</dialog>"}},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(79)),r=n(6);i(n(25));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(){return a(this,e),s(this,t.apply(this,arguments))}return c(e,t),e.prototype.doPrepare=function(){t.prototype.doPrepare.call(this),this.canvas.style.cssText+="box-sizing: content-box;"},e.prototype.doRender=function(t){var e=t.renderingData;return e.highlightModeIsActive?this.doRenderHighlightMode(t):(e.highlightingMode===r.HIGHLIGHTING_MODE.PUSH&&(this.canvas.style.cssText+="border: none; border-color: none;"),this.doRenderNormal(t))},e.prototype.doRenderHighlightMode=function(t){switch(t.renderingData.highlightingMode){case r.HIGHLIGHTING_MODE.NONE:return this.doRenderNormal(t);case r.HIGHLIGHTING_MODE.OUTLINE:return this.renderOutline(t);case r.HIGHLIGHTING_MODE.INVERT:return this.renderInvert(t);case r.HIGHLIGHTING_MODE.PUSH:return this.renderPush(t);case r.HIGHLIGHTING_MODE.TOGGLE:return this.renderToggle(t)}},e.prototype.doRenderNormal=function(t){this.renderSquare(t)},e.prototype.getLineWidth=function(t,e){return this.convertPointToPixel(t,e)/2},e.prototype.renderSquare=function(t){var e=t.renderingData.annotInfo,n=e.borderInfo,o=this.getLineWidth(n.width,t.scale);if(0!=o||-1!=e.borderColor||e.fillColor){var i=this.canvas.getContext("2d");switch(i.clearRect(0,0,this.canvas.width,this.canvas.height),i.save(),t.lineWidth=o,i.globalAlpha=e.opacity,i.strokeStyle=0===o?"transparent":this.numberToRGBAString(e.borderColor),i.lineWidth=o,n.style){case r.BORDER_STYLE.DASHED:this.renderDashed(i,e,t);break;default:this.renderSolid(i,e,t)}i.stroke()}},e.prototype.renderInvert=function(t){var e=this,n=this.canvas.getContext("2d"),o=t.renderingData,r=o.page,i=o.annotInfo.borderInfo||{},a=(this.getLineWidth(i.width||0,t.scale),t.outerRect),s={x:a.left,y:a.top,width:a.width,height:a.height};r.getPageBitmap(4*t.scale/3,t.rotate,s,["page","annot"]).then((function(t){var o=t.width,r=t.height,i=t.buffer;n.clearRect(0,0,e.canvas.width,e.canvas.height);var a=new(Uint8ClampedArray||Uint8Array)(i),s=n.createImageData(o,r);s.data.set(a),n.save();for(var c=s.data,u=0;u<c.length;u+=4)c[u]^=255,c[u+1]^=255,c[u+2]^=0;n.putImageData(s,0,0),n.restore()}))},e.prototype.renderToggle=function(t){},e.prototype.renderPush=function(t){var e=this,n=this.canvas.getContext("2d");n.clearRect(0,0,this.canvas.width,this.canvas.height),this.canvas.style.cssText+="\n            border: 1px solid;\n            border-color: black #aaa #aaa black;\n        ";var o=t.renderingData.page,r=t.outerRect,i={x:r.left,y:r.top,width:r.width,height:r.height};o.getPageBitmap(4*t.scale/3,t.rotate,i,["page","annot"]).then((function(o){var r=o.width,i=o.height,a=o.buffer;n.clearRect(0,0,e.canvas.width,e.canvas.height);var s=new(Uint8ClampedArray||Uint8Array)(a),c=n.createImageData(r,i);c.data.set(s),n.putImageData(c,0,0),e.renderSquare(t)}))},e.prototype.renderOutline=function(t){var e=this.canvas.getContext("2d");e.clearRect(0,0,this.canvas.width,this.canvas.height);var n=t.renderingData.annotInfo.borderInfo||{};this.renderSquare(t);var o=5*this.getLineWidth(n.width||0,t.scale)/6,r=.5*o,i=t.outerRect;e.save(),e.lineWidth=o,e.strokeStyle="black",e.strokeRect(r,r,i.width-o,i.height-o),e.restore()},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,r,i){var a=Math.max(r,i),s=r/a,c=i/a;t.save(),t.scale(s,c),t.beginPath(),t.arc(e/s,n/c,a,0,o.TOWPI,!1),t.closePath(),t.restore()};var o=n(434)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.TOWPI=2*Math.PI},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCircleContextMenu=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect";return(0,o.getCommonContextMenu)(t)};var o=n(108)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSvgIcon=function(t,e,n){if(!t||!e)return"";var a=t+e+n;if(a in s)return s[a];var c=void 0;"text"===t?c=o.default:"fileattachment"===t?c=r.default:"sound"===t&&(c=i.default);if(!c)return"";var u=c[e]({fillColor:n});return s[a]=u};n(4);var o=a(n(437)),r=a(n(453)),i=a(n(458));function a(t){return t&&t.__esModule?t:{default:t}}var s={}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=y(n(438)),r=y(n(439)),i=y(n(440)),a=y(n(441)),s=y(n(442)),c=y(n(443)),u=y(n(444)),l=y(n(445)),f=y(n(446)),p=y(n(447)),d=y(n(448)),h=y(n(449)),g=y(n(450)),m=y(n(451)),v=y(n(452));function y(t){return t&&t.__esModule?t:{default:t}}e.default={Check:o.default,Circle:r.default,Comment:i.default,Cross:a.default,Help:s.default,Insert:c.default,Key:u.default,NewParagraph:l.default,Note:f.default,Paragraph:p.default,RightArrow:d.default,RightPointer:h.default,Star:g.default,UpArrow:m.default,UpLeftArrow:v.default}},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n    <path fill="',e+=(0,o.$escape)(t.fillColor),e+='" stroke="#3f3f3f" stroke-miterlimit="10"\n          d="M2.56,16.77a1,1,0,0,1,0-1.41L6.5,11.42a1,1,0,0,1,1.41,0l5.75,5.75a1,1,0,0,0,1.41,0h0l9.43-9.43a1,1,0,0,1,1.41,0l3.94,3.94a1,1,0,0,1,0,1.41L15.08,27.88a1,1,0,0,1-1.41,0Z"/>\n</svg>'}},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n    <path fill="',e+=(0,o.$escape)(t.fillColor),e+='" stroke="#3f3f3f" stroke-miterlimit="10"\n          d="M16,2A14.13,14.13,0,0,0,1.77,16,14.12,14.12,0,0,0,16,29.94,14.13,14.13,0,0,0,30.32,16h0A14.13,14.13,0,0,0,16.06,2Zm0,26a12,12,0,1,1,.09,0Z"/>\n</svg>'}},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n    <path fill="',e+=(0,o.$escape)(t.fillColor),e+='" stroke="#3f3f3f" stroke-miterlimit="10"\n          d="M27.6,2H4.75a3,3,0,0,0-3,3V21.63a3,3,0,0,0,3,3H6.2l1.22,6.24V31l6.37-6.37H27.6a3,3,0,0,0,3-3V5A3,3,0,0,0,27.6,2Z"/>\n    <path fill="#3f3f3f" isolation="isolate"\n          d="M27.24,6.92a.52.52,0,0,1-.52.52H6.22a.52.52,0,0,1-.52-.52h0a.52.52,0,0,1,.52-.52h20.5a.52.52,0,0,1,.52.52Z"/>\n    <path fill="#3f3f3f" isolation="isolate"\n          d="M27.35,12.07a.51.51,0,0,1-.5.52H6.33a.51.51,0,0,1-.51-.51h0a.51.51,0,0,1,.51-.51H26.84a.51.51,0,0,1,.51.51Z"/>\n    <path fill="#3f3f3f" isolation="isolate"\n          d="M22,17.19c0,.29-.18.52-.39.52H6.2c-.22,0-.39-.23-.39-.52h0c0-.28.17-.52.39-.52H21.63c.21,0,.39.24.39.52Z"/>\n</svg>'}},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n    <path fill="',e+=(0,o.$escape)(t.fillColor),e+='" stroke="#3f3f3f" stroke-miterlimit="10"\n          d="M24,1.4a1.55,1.55,0,0,0-2.18,0L17.17,6A1.55,1.55,0,0,1,15,6L10.35,1.4a1.55,1.55,0,0,0-2.18,0L1.59,8a1.55,1.55,0,0,0,0,2.18L6.22,14.8a1.56,1.56,0,0,1,0,2.19l-4.63,4.6a1.56,1.56,0,0,0,0,2.19l6.58,6.58a1.56,1.56,0,0,0,2.19,0L15,25.73a1.56,1.56,0,0,1,2.19,0l4.62,4.63a1.55,1.55,0,0,0,2.18,0l6.58-6.58a1.56,1.56,0,0,0,0-2.19L25.93,17a1.55,1.55,0,0,1,0-2.18h0l4.62-4.62a1.55,1.55,0,0,0,0-2.18Z"/>\n</svg>'}},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n    <path fill="',e+=(0,o.$escape)(t.fillColor),e+='" stroke="#3f3f3f" stroke-miterlimit="10"\n          d="M30.68,16.17A14.48,14.48,0,1,1,16.19,1.7h0A14.47,14.47,0,0,1,30.68,16.17Z"/>\n    <path fill="#fff" stroke="#3f3f3f" stroke-miterlimit="10"\n          d="M11.23,13.28c0-2.28.95-5.29,5-5.29,3.2,0,5,2,5,4a4.9,4.9,0,0,1-1.35,3.6c-1.59,1.58-1.8,2.38-1.8,3.84h0c0,.19-.5.35-1.12.35H15.51c-.61,0-1.11-.32-1.11-.71a7.58,7.58,0,0,1,.33-1.77,11.61,11.61,0,0,1,1.21-2.63c.32-.41,1.56-.95,1.56-2.33,0-.88-.37-1.37-1.35-1.37C15.33,11,15,12.2,15,12.2a1.51,1.51,0,0,1-1.38,1.08Zm3.17,9a1.13,1.13,0,0,1,1.11-1.12h1.43a1.12,1.12,0,0,1,1.12,1.12h0V24a1.12,1.12,0,0,1-1.12,1.12H15.51A1.13,1.13,0,0,1,14.4,24Z"/>\n</svg>'}},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n    <path fill="',e+=(0,o.$escape)(t.fillColor),e+='" stroke="#3f3f3f" stroke-miterlimit="10"\n          d="M30.16,24.36,17.49,6.08a2,2,0,0,0-1.64-.92,2,2,0,0,0-1.63.92L1.55,24.36a2.06,2.06,0,0,0-.41,1.19,1.56,1.56,0,0,0,1.29,1.54H29.28a1.56,1.56,0,0,0,1.29-1.54A2.06,2.06,0,0,0,30.16,24.36Z"/>\n</svg>'}},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n    <path fill="',e+=(0,o.$escape)(t.fillColor),e+='" stroke="#3f3f3f" stroke-miterlimit="10"\n          d="M27.65,5.25A9.26,9.26,0,0,0,12.4,15L3,24.32a4.53,4.53,0,0,0-1.15,2.8v1.67a2,2,0,0,0,2,2h1.7a4.3,4.3,0,0,0,2.74-1.1,3.53,3.53,0,0,0,1-2.29.89.89,0,0,0,0-.23v-.05a.23.23,0,0,1,.07-.19.4.4,0,0,1,.28-.08,1.86,1.86,0,0,0,2-1.48.63.63,0,0,1,.46-.53,1.57,1.57,0,0,0,1.44-1.66v-.09a.38.38,0,0,1,0-.15h.18a2,2,0,0,0,2.15-.59,12.55,12.55,0,0,1,1.31-1.51l.46-.47a9.23,9.23,0,0,0,10-15.09Zm-2.1,4.86a1.92,1.92,0,1,1,0-2.72h0A1.93,1.93,0,0,1,25.55,10.11Z"/>\n</svg>'}},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";t=t||{};var e="",n=o.$escape,r=t.fillColor;return e+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n    <polygon fill="',e+=n(r),e+='" stroke="#3f3f3f" stroke-miterlimit="10"\n             points="5.88 28.59 4.82 24.23 5.06 5.18 6 2.71 9.65 2.59 19.29 3.06 21.65 4.47 25.41 7.76 25.65 9.53 26.1 21.8 25.52 28.58 23.53 29.29 9.41 28.94 5.88 28.59"/>\n    <path fill="#3f3f3f"\n          d="M22.26,18.19a.35.35,0,0,1-.35.35H8.73a.35.35,0,0,1-.35-.35h0a.34.34,0,0,1,.33-.35h13.2a.35.35,0,0,1,.35.35Z"/>\n    <path fill="#3f3f3f"\n          d="M22.26,21.8a.35.35,0,0,1-.35.35H8.73a.34.34,0,0,1-.35-.33v0h0a.35.35,0,0,1,.35-.35H21.91a.35.35,0,0,1,.35.35Z"/>\n    <path fill="#3f3f3f"\n          d="M22.14,25.18a.35.35,0,0,1-.35.35H8.61a.35.35,0,0,1-.35-.35h0a.35.35,0,0,1,.35-.35H21.79a.35.35,0,0,1,.35.35Z"/>\n    <path fill="#3f3f3f"\n          d="M22.26,14.69a.35.35,0,0,1-.35.35H8.73a.35.35,0,0,1-.35-.35h0a.35.35,0,0,1,.35-.35H21.91a.35.35,0,0,1,.35.35Z"/>\n    <path fill="#3f3f3f"\n          d="M24.48,30.13H6.3A2.28,2.28,0,0,1,4,27.87V4.07A2.28,2.28,0,0,1,6.29,1.8H20.41l.14.13.13.14,5.8,5.69.14.13.14.14V27.85a2.28,2.28,0,0,1-2.28,2.28ZM6.73,3.83a.82.82,0,0,0-.81.81V27.29a.82.82,0,0,0,.81.8H24a.81.81,0,0,0,.82-.8h0V9.69H18.29V3.83ZM20.29,7.69h3.25L20.29,4.5Z"/>\n    <path fill="',e+=n(r),e+='" stroke="#3f3f3f" stroke-miterlimit="10"\n          d="M23.28,28.58A.58.58,0,0,1,22.7,28V26.36a.58.58,0,0,0-.58-.58H20.48a.58.58,0,0,1-.58-.58V23a.58.58,0,0,1,.58-.58h1.64a.58.58,0,0,0,.58-.58V20.17a.6.6,0,0,1,.58-.59h2.24a.6.6,0,0,1,.58.59V21.8a.58.58,0,0,0,.58.58h1.63a.58.58,0,0,1,.58.58V25.2a.58.58,0,0,1-.58.58H26.68a.58.58,0,0,0-.58.58V28a.58.58,0,0,1-.58.58Z"/>\n</svg>'}},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n    <polygon fill="',e+=(0,o.$escape)(t.fillColor),e+='"\n             points="6.35 4 5.88 28.59 7.53 29.77 19.88 29.41 22 28.82 26.23 24.47 27.06 10.94 26.71 3.41 24.94 2.47 6.71 3.06 6.35 4"/>\n    <path fill="#3f3f3f"\n          d="M23.17,16.73a.37.37,0,0,0-.36-.35H9.33a.37.37,0,0,0-.36.35H9a.36.36,0,0,0,.36.36H22.81a.36.36,0,0,0,.36-.36Z"/>\n    <path fill="#3f3f3f"\n          d="M23.17,13a.36.36,0,0,0-.36-.36H9.33A.36.36,0,0,0,9,13H9a.37.37,0,0,0,.36.35H22.81A.37.37,0,0,0,23.17,13Z"/>\n    <path fill="#3f3f3f"\n          d="M23.17,9.35A.37.37,0,0,0,22.81,9H9.33A.37.37,0,0,0,9,9.35H9a.36.36,0,0,0,.36.36H22.81a.36.36,0,0,0,.36-.36Z"/>\n    <path fill="#3f3f3f"\n          d="M23.17,20.31a.37.37,0,0,0-.36-.35H9.33a.37.37,0,0,0-.36.35H9a.36.36,0,0,0,.36.36H22.81a.36.36,0,0,0,.36-.36Z"/>\n    <path fill="#3f3f3f"\n          d="M25.62,2a2.32,2.32,0,0,1,2.32,2.32V24.63l-.14.14-.14.13-5.93,5.82-.14.14-.14.14H7a2.32,2.32,0,0,1-2.32-2.32h0V4.34A2.32,2.32,0,0,1,7,2H25.62ZM7.46,28.92H19.28v-6H26v-18a.83.83,0,0,0-.83-.83H7.46a.83.83,0,0,0-.83.83V28.09A.83.83,0,0,0,7.46,28.92Zm13.87-4v3.27L24.65,25Z"/>\n</svg>'}},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n    <path fill="',e+=(0,o.$escape)(t.fillColor),e+='" stroke="#3f3f3f" stroke-miterlimit="10"\n          d="M10.36,2.52A7.93,7.93,0,0,0,9,2.77H9A6.45,6.45,0,0,0,4.51,9.1a6.52,6.52,0,0,0,6.23,6.77H11V29.19l1.49.69v.95h2.1L14.54,6h3.54V29.19l1.5.69v.95h2.09L21.59,6h3.7V2.52Z"/>\n</svg>'}},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n    <path fill="',e+=(0,o.$escape)(t.fillColor),e+='" stroke="#3f3f3f" stroke-miterlimit="10"\n          d="M28.87,16.67a.82.82,0,0,0,.3-1.12.86.86,0,0,0-.3-.3L13.94,4.65c-.54-.39-1-.16-1,.52V9.78A1.22,1.22,0,0,1,11.73,11H4.32a1.22,1.22,0,0,0-1.21,1.22v7.49a1.22,1.22,0,0,0,1.21,1.22h7.41a1.21,1.21,0,0,1,1.21,1.21h0v4.61c0,.67.46.9,1,.52Z"/>\n</svg>'}},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n    <path fill="',e+=(0,o.$escape)(t.fillColor),e+='" stroke="#3f3f3f" stroke-miterlimit="10"\n          d="M29,16h0a1.3,1.3,0,0,0-.07-.33c0-.42-.84-1.16-1.28-1.43L7.17,2a1.76,1.76,0,0,0-1.32-.26h0A1.16,1.16,0,0,0,5.33,2h0l7.25,14L5.33,30h0a1.09,1.09,0,0,0,.52.27h0A1.76,1.76,0,0,0,7.17,30L27.63,17.83c.44-.27,1.28-1,1.28-1.43a1.3,1.3,0,0,0,.07-.33h0Z"/>\n</svg>'}},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n    <path fill="',e+=(0,o.$escape)(t.fillColor),e+='" stroke="#3f3f3f" stroke-miterlimit="10"\n          d="M24.28,29.33A2.58,2.58,0,0,1,23.1,29l-4.89-2.64A3.73,3.73,0,0,0,16.47,26a3.7,3.7,0,0,0-1.73.37L9.85,29a2.56,2.56,0,0,1-1.18.34,1.43,1.43,0,0,1-1.14-.52,2,2,0,0,1-.33-1.75l1-5.47a4.17,4.17,0,0,0-1.08-3.3l-4-3.84a1.88,1.88,0,0,1-.7-2,1.84,1.84,0,0,1,1.72-1.17l5.5-.74a4.22,4.22,0,0,0,2.81-2l2.4-5a1.87,1.87,0,0,1,1.64-1.26,1.87,1.87,0,0,1,1.64,1.26l2.41,5a4.15,4.15,0,0,0,2.8,2l5.51.74a1.85,1.85,0,0,1,1.71,1.17,1.83,1.83,0,0,1-.7,2l-4,3.84a4.14,4.14,0,0,0-1.07,3.29l1,5.47a2,2,0,0,1-.33,1.75,1.43,1.43,0,0,1-1.14.52Z"/>\n</svg>'}},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n    <path fill="',e+=(0,o.$escape)(t.fillColor),e+='" stroke="#3f3f3f" stroke-miterlimit="10"\n          d="M16.49,3.74a.78.78,0,0,0-1.07-.28.75.75,0,0,0-.28.28L5,18.08c-.37.52-.15,1,.49,1H9.91a1.17,1.17,0,0,1,1.17,1.17h0v7.1a1.18,1.18,0,0,0,1.17,1.16h7.18a1.17,1.17,0,0,0,1.17-1.17h0v-7.1A1.17,1.17,0,0,1,21.7,19h4.51c.64,0,.86-.43.48-.95Z"/>\n</svg>'}},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n    <path fill="',e+=(0,o.$escape)(t.fillColor),e+='" stroke="#3f3f3f" stroke-miterlimit="10" \n          d="M7.4,5C7,4.8,6.6,5,6.4,5.4c-0.1,0.1-0.1,0.3,0,0.4l1.3,17.5c0,0.6,0.5,0.8,1,0.4l3.4-2.8\n\tc0.5-0.4,1.2-0.3,1.6,0.2c0,0,0,0,0,0l4.5,5.5c0.4,0.5,1.1,0.6,1.6,0.2c0,0,0,0,0,0l5.5-4.6c0.5-0.4,0.6-1.1,0.2-1.6c0,0,0,0,0,0\n\tL21,15.1c-0.4-0.5-0.3-1.2,0.1-1.6l3.4-2.8c0.5-0.4,0.4-0.9-0.2-1.1L7.4,5z"/>\n</svg>\n'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(454)),r=s(n(455)),i=s(n(456)),a=s(n(457));function s(t){return t&&t.__esModule?t:{default:t}}e.default={Graph:o.default,Paperclip:r.default,PushPin:i.default,Tag:a.default}},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";t=t||{};var e="",n=o.$escape,r=t.fillColor;return e+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n    <path fill="',e+=n(r),e+='" stroke="#3f3f3f" stroke-miterlimit="10"\n          d="M7.2,14.9H3.7c-.4,0-.7.3-.8.8V28.5c0,.4.3.7.8.8H7.2c.4,0,.7-.3.8-.8V15.7C7.9,15.2,7.6,14.9,7.2,14.9Z"/>\n    <path fill="',e+=n(r),e+='" stroke="#3f3f3f" stroke-miterlimit="10"\n          d="M10.8,7.9h3.5a.79.79,0,0,1,.8.8V28.5a.79.79,0,0,1-.8.8H10.8a.79.79,0,0,1-.8-.8V8.7C10.1,8.3,10.4,7.9,10.8,7.9Z"/>\n    <path fill="',e+=n(r),e+='" stroke="#3f3f3f" stroke-miterlimit="10"\n          d="M25.1,8h3.5a.79.79,0,0,1,.8.8V28.6a.79.79,0,0,1-.8.8H25.1a.79.79,0,0,1-.8-.8V8.8A.86.86,0,0,1,25.1,8Z"/>\n    <path fill="',e+=n(r),e+='" stroke="#3f3f3f" stroke-miterlimit="10"\n          d="M17.9,19.9h3.5a.79.79,0,0,1,.8.8v7.8a.79.79,0,0,1-.8.8H17.9a.79.79,0,0,1-.8-.8V20.7C17.2,20.2,17.5,19.9,17.9,19.9Z"/>\n</svg>'}},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 56">\n  <path stroke="#3f3f3f" transform="rotate(-44 14.147195816040043,29.311956405639645) " d="m22.48496,6.139239a10.573254,11.136632 0 0 1 3.338127,0.652288a9.244045,9.736598 0 0 1 5.769976,9.259314a9.4253,9.927512 0 0 1 -2.733941,7.127445l-18.503194,19.727748a6.585627,6.936531 0 0 1 -1.827662,1.272758a4.380348,4.613748 0 0 1 -2.129755,0.572741a5.603824,5.902415 0 0 1 -2.114651,-0.572741a5.55851,5.854687 0 0 1 -1.510465,-1.272758a6.177801,6.506975 0 0 1 -1.208372,-1.925046a4.531394,4.772842 0 0 1 -0.302093,-2.227326a8.307556,8.750211 0 0 1 1.510465,-4.168282l16.977624,-18.534538a2.326116,2.450059 0 0 1 1.223476,-0.636379a2.311011,2.43415 0 0 1 1.510465,0.636379a1.706825,1.797771 0 0 1 0.619291,1.288667a2.054232,2.163689 0 0 1 -0.619291,1.590947l-17.294822,18.216348a2.311011,2.43415 0 0 0 -0.604186,1.590947a1.9485,2.052322 0 0 0 1.782348,1.940956a1.510465,1.590947 0 0 0 1.223476,-0.636379l18.533403,-19.823205a5.060057,5.329674 0 0 0 1.510465,-4.168282a6.404371,6.745617 0 0 0 -1.510465,-4.152373a4.531394,4.772842 0 0 0 -3.64022,-1.909137a4.863697,5.122851 0 0 0 -3.957418,1.909137l-18.503194,19.807296a11.14723,11.741192 0 0 0 -2.114651,3.181895a9.334672,9.832055 0 0 0 0,7.381996a11.14723,11.741192 0 0 0 2.114651,3.181895a8.790905,9.259314 0 0 0 6.343952,2.879615a8.594545,9.052491 0 0 0 6.404371,-2.879615l18.820391,-19.489106a1.510465,1.590947 0 0 1 1.208372,-0.636379a1.842767,1.940956 0 0 1 1.208372,0.636379a1.616197,1.702314 0 0 1 0.619291,1.288667a1.510465,1.590947 0 0 1 -0.619291,1.272758l-18.503194,19.807296a14.878078,15.670832 0 0 1 -4.244406,3.181895a12.400916,13.061679 0 0 1 -4.863697,0.970478a12.325393,12.982131 0 0 1 -4.848592,-0.970478a9.87844,10.404796 0 0 1 -4.244406,-3.181895a12.400916,13.061679 0 0 1 -2.733941,-4.470562a13.760334,14.493531 0 0 1 -0.906279,-5.106941a15.512474,16.33903 0 0 1 0.906279,-5.44104a12.627486,13.300321 0 0 1 2.733941,-4.470562l18.503194,-19.807296a9.379986,9.879784 0 0 1 6.676254,-2.895524z" stroke-miterlimit="10" fill="',e+=(0,o.$escape)(t.fillColor),e+='"/>\n</svg>\n'}},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n    <path fill="',e+=(0,o.$escape)(t.fillColor),e+='" stroke="#3f3f3f" stroke-miterlimit="10"\n          d="M26.9,20.3h0l-.1-.1-.1-.1-4.9-5.2h0V4.1H23a.94.94,0,0,0,1-1V2.5a.94.94,0,0,0-1-1H8.4a.94.94,0,0,0-1,1v.6a.94.94,0,0,0,1,1H9.7V14.9h0l-5,5.2-.1.1-.1.1h0c-.1.1-.1.2-.1.4a.79.79,0,0,0,.8.8H15v8.6a1,1,0,0,0,.8.9h0a1.22,1.22,0,0,0,.8-.9V21.5h9.7a.77.77,0,0,0,.8-.7v-.1A.76.76,0,0,1,26.9,20.3Z"/>\n</svg>'}},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n    <path fill="',e+=(0,o.$escape)(t.fillColor),e+='" stroke="#3f3f3f" stroke-miterlimit="10"\n          d="M30.2,20.4,13.6,2.4H3L2.4,3v9.4L19.5,31l1.1-.2L30,21.5ZM6.2,7.5A1.75,1.75,0,0,1,4.5,5.8,1.75,1.75,0,0,1,6.2,4.1,1.75,1.75,0,0,1,7.9,5.8,1.69,1.69,0,0,1,6.2,7.5Z"/>\n</svg>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(459)),r=a(n(460)),i=a(n(461));function a(t){return t&&t.__esModule?t:{default:t}}e.default={Ear:o.default,Mic:r.default,Speaker:i.default}},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";t=t||{};var e="",n=o.$escape,r=t.fillColor;return e+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n    <circle fill="',e+=n(r),e+='" stroke="#3f3f3f" stroke-miterlimit="10" cx="7.53" cy="27.68" r="1"/>\n    <circle fill="',e+=n(r),e+='" stroke="#3f3f3f" stroke-miterlimit="10" cx="25.53" cy="27.68" r="1"/>\n    <path fill="',e+=n(r),e+='" stroke="#3f3f3f" stroke-miterlimit="10"\n          d="M26.53,15.76V14.61A10,10,0,0,0,16.6,4.68h-.14a10,10,0,0,0-9.93,9.93v1.15a6.5,6.5,0,0,0,1,12.92l.68-.3.32-.7v-13a8,8,0,0,1,16,0v13l.35.61.65.39a6.5,6.5,0,0,0,1-12.92Z"/>\n    <rect fill="',e+=n(r),e+='" stroke="#3f3f3f" stroke-miterlimit="10" x="10.53" y="18.68" width="2" height="8" rx="0.99"/>\n    <rect fill="',e+=n(r),e+='" stroke="#3f3f3f" stroke-miterlimit="10" x="20.53" y="18.68" width="2" height="8" rx="0.99"/>\n    <rect fill="',e+=n(r),e+='" stroke="#3f3f3f" stroke-miterlimit="10" x="15.53" y="19.68" width="2" height="6" rx="0.99"/>\n</svg>'}},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";t=t||{};var e="",n=o.$escape,r=t.fillColor;return e+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n    <path fill="',e+=n(r),e+='" stroke="#3f3f3f" stroke-miterlimit="10"\n          d="M9,12v2c0,4.4,2.6,8,7,8s7-3.6,7-8V12h2v2.07C25,19.53,21.53,24,16.07,24h-.14C10.47,24,7,19.53,7,14.07V12Z"/>\n    <circle fill="',e+=n(r),e+='" stroke="#3f3f3f" stroke-miterlimit="10" cx="8" cy="12" r="1"/>\n    <circle fill="',e+=n(r),e+='" stroke="#3f3f3f" stroke-miterlimit="10" cx="24" cy="12" r="1"/>\n    <rect fill="',e+=n(r),e+='" stroke="#3f3f3f" stroke-miterlimit="10" x="15" y="23" width="2" height="5" rx="0.99"/>\n    <rect fill="',e+=n(r),e+='" stroke="#3f3f3f" stroke-miterlimit="10" x="8" y="27" width="16" height="2" rx="0.99"/>\n    <rect fill="',e+=n(r),e+='" stroke="#3f3f3f" stroke-miterlimit="10" x="12" y="4" width="8" height="16" rx="3.95"/>\n</svg>'}},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";t=t||{};var e="",n=o.$escape,r=t.fillColor;return e+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n    <path fill="',e+=n(r),e+='" stroke="#3f3f3f" stroke-miterlimit="10"\n          d="M18.7,4.62a5.88,5.88,0,0,0-3,1.79l-5.12,4.74H4.91a2,2,0,0,0-2,2v6.38a2,2,0,0,0,2,2h5.66l5.12,4.73a6,6,0,0,0,3,1.8.48.48,0,0,0,.51-.45V5.13C19.14,4.75,19,4.62,18.7,4.62Z"/>\n    <rect fill="',e+=n(r),e+='" stroke="#3f3f3f" stroke-miterlimit="10" x="24" y="20.12" width="2" height="8" rx="0.99" transform="translate(-9.73 24.74) rotate(-45)"/>\n    <rect fill="',e+=n(r),e+='" stroke="#3f3f3f" stroke-miterlimit="10" x="20.95" y="6.88" width="8" height="2" rx="0.99"\n          transform="translate(1.74 19.95) rotate(-45)"/>\n    <rect fill="',e+=n(r),e+='" stroke="#3f3f3f" stroke-miterlimit="10" x="22" y="15" width="6" height="2" rx="0.99"/>\n</svg>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(93);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return s(e,t),e.prototype.doRender=function(e,n,o){var r=this;return t.prototype.doRender.call(this,e,n,o).then((function(){r.tileCanvas.$container.get(0).style.cssText+="\n                transform-origin: center;\n                transform: rotate(-"+n+"deg);\n            "}))},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(50)),r=a(n(145)),i=a(n(45));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.prototype.doRender=function(t){var e=this.component.annot.info,n=t.outerRect,o=(t.rotate%360+360)%360;if(-1!=e.borderColor){var a=this.canvas.getContext("2d");a.clearRect(0,0,this.canvas.width,this.canvas.height),a.save(),a.globalAlpha=e.opacity,a.strokeStyle=this.numberToRGBAString(e.borderColor);var s=.2*n.width,c=.5*s,u=c,l=n.width-c,f=n.height-2*c/3,p=Math.atan2(f,n.width/2),d=s/Math.sin(p)+.3*c,h=new r.default([new i.default(u,f),new i.default(n.width/2,d),new i.default(l,f)],!1);a.lineWidth=s;var g=o/180*Math.PI,m=0,v=0;switch(o){case 90:m=-u,v=-(f+d);break;case 270:m=-l;break;case 180:m=-(u+l),v=-f}a.rotate(g),a.translate(m,v),h.render(a),a.stroke(),a.restore()}},e}(o.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments[3],r=arguments[4];t.save(),t.beginPath(),t.rect(e,n,o,r),t.closePath(),t.restore()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=n(50),a=(o=i)&&o.__esModule?o:{default:o},s=n(17);function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.executor=new s.DebounceAsyncTaskExecutor(260),o}return c(e,t),e.prototype.resetCanvasSize=function(t,e){this.canvas.style.cssText+="\n            width: "+Math.floor(t)+"px;\n            height: "+Math.floor(e)+"px;\n        "},e.prototype.doRender=function(t){var e=this;t.renderingData.inkList.length>1e3?this.executor.exec((function(){e.component.isDestroyed||e.executeRender(t)})):this.executeRender(t)},e.prototype.getMinDistance=function(){return 1.13136},e.prototype.executeRender=function(e){var n=e.renderingData,o=n.page,i=n.annotInfo,a=i.borderInfo||{},s=e.scale,c=e.rotate,u=this.convertPointToPixel(a.width,s);if(0!=u||-1!=i.borderColor||i.fillColor){var l=e.outerRect;t.prototype.resetCanvasSize.call(this,l.width,l.height);var f=this.canvas.getContext("2d");f.clearRect(0,0,this.canvas.width,this.canvas.height),f.beginPath(),f.save(),e.lineWidth=u,f.lineCap="round",f.lineJoin="round",f.imageSmoothingEnabled=!0,f.imageSmoothingQuality="high",f.globalAlpha=i.opacity,f.strokeStyle=this.numberToRGBAString(i.borderColor),f.lineWidth=u;var p=this.getMinDistance();n.inkList.map((function(t){var e=t.x,n=t.y,i=t.type,a=o.getDevicePoint([e,n],s,c),u=r(a,2),f=u[0],p=u[1];return{x:f-l.left,y:p-l.top,type:i}})).reduce((function(t,e,n){if(0===n||1===e.type)t.push(e);else{var o=t[t.length-1];Math.abs(e.x-o.x)+Math.abs(e.y-o.y)>=p&&t.push(e)}return t}),[]).forEach((function(t,e,n){var o=t.x,r=t.y;1===t.type?(f.stroke(),f.beginPath(),f.moveTo(o,r)):f.lineTo(o,r)})),f.stroke(),f.restore()}},e}(a.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(467)),r=a(n(91)),i=a(n(3));function a(t){return t&&t.__esModule?t:{default:t}}n(468);var s=function(){function t(e,n,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.viewerComponent=e,this.docPageCount=a;var s="max page: "+a,c=(0,o.default)(s);n||(c='<dialog class="fv__dialog fv__annot-properties-dialog">'+c+"</dialog>");var u=this.$dialog=(0,i.default)(c);this.bindChangeEvent();var l=n||document.body;if(u.appendTo(l),!n){var f=u[0];r.default.registerDialog(f),f.showModal()}}return t.prototype.bindChangeEvent=function(){var t=this;this.$dialog.on("click",".fv__redaction-cancel",(function(){t.close()})).on("click",".fv__place-redaction-dialog-close-icon",(function(){t.close()})).on("click",".fv__redaction-btn",(function(e){t.submit()})).on("change",".redaction-page-radio",(function(e){e.target.checked&&(t.hideError(),"1"==e.target.value?(0,i.default)(".fv__redaction-page-range").attr("disabled",""):(0,i.default)(".fv__redaction-page-range").removeAttr("disabled"))})).on("keydown",".fv__redaction-page-range",(function(e){t.hideError()}))},t.prototype.submit=function(){var t=this,e=this.docPageCount,n=[];if("1"==(0,i.default)(".redaction-page-radio:checked").val())for(var o=0;o<e;o++)n.push(o);else{var r=(0,i.default)(".fv__redaction-page-range").val();if(new RegExp(/[^\d\-,]/).test(r))return void this.showError();for(var a=r.split(","),s=0;s<a.length;s++){var c=a[s];if(c.indexOf("-")>-1){var u=c.split("-");if(u.length>2)return void this.showError();if(u[0]<1||u[0]>e||u[1]<1||u[1]>e)return void this.showError();for(var l=Math.min(u[0],u[1]),f=Math.max(u[0],u[1]),p=l;p<=f;p++)-1===n.indexOf(p)&&n.push(p-1)}else{if(c<1||c>e)return void this.showError();-1===n.indexOf(n)&&n.push(c-1)}}}this.viewerComponent.placeRedact(n).then((function(e){t.close()}))},t.prototype.reset=function(){this.hideError(),this.element.querySelector(".redaction-page-radio").checked=!0,this.element.querySelector(".fv__redaction-page-range").value=""},t.prototype.showError=function(){this.$dialog[0].querySelector(".fv__redaction-page-range").classList.add("fv__redaction-error")},t.prototype.hideError=function(){this.$dialog[0].querySelector(".fv__redaction-page-range").classList.remove("fv__redaction-error")},t.prototype.close=function(){var t=this.$dialog;t&&(t[0].close(),t.remove(),this.$dialog=null)},t}();e.default=s},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";t=t||{};var e="",n=o.$escape;return e+='<dialog class="fv__ui-layer fv__place-redaction-dialog" >\n   <div class="fv__place-redaction-dialog-header">\n      <div class="fv__place-redaction-dialog-title">',e+=n(o.i18n("viewer_:dialog.placeRedactionDialog.title")),e+='</div>\n      <div class="fv__place-redaction-dialog-close"><i class="fv__place-redaction-dialog-close-icon">x</i></div>\n   </div>\n   <div class="fv__place-redaction-dialog-body">\n        <div class="fv__redaction-container">\n        <label>\n            <input name="redaction-page-type" class="redaction-page-radio" type="radio" checked value="1" /><span>',e+=n(o.i18n("viewer_:dialog.placeRedactionDialog.allPage")),e+='</span>\n        </label>\n        </div>\n        <div class="fv__redaction-container">\n            <label>\n                <input name="redaction-page-type" class="redaction-page-radio" type="radio" value="2" /><span>',e+=n(o.i18n("viewer_:dialog.placeRedactionDialog.specificPage")),e+='</span>\n                <div class="fv__redaction-range">',e+=n(o.i18n("viewer_:dialog.placeRedactionDialog.pageRange")),e+=': <input type="text" class="fv__redaction-page-range" disabled placeholder="',e+=n(t),e+='"/></div>\n                </label>\n        </div> \n   </div>\n   <div class="fv__place-redaction-dialog-footer">\n        <div class="fv__redaction-container" style="text-align:right">\n            <button type="button" class="fv__redaction-btn fv__ui-dialog-ok-button">',e+=n(o.i18n("viewer_:dialog.placeRedactionDialog.OK")),e+='</button>\n            <button type="button" class="fv__redaction-cancel fv__ui-dialog-cancel-button">',e+=n(o.i18n("viewer_:dialog.placeRedactionDialog.Cancel")),e+="</button>\n        </div>\n   </div>\n</dialog>"}},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={reply:{name:"reply",nameI18nKey:"viewer_:contextmenu.annot.reply",callback:function(){this.data("annotComponent").showReplyDialog("reply")},disabled:function(){return this.data("annotComponent").replyDisabled()}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data("annotComponent").removeAnnot()},disabled:function(){return this.data("annotComponent").deleteDisabled()}},apply:{name:"apply",nameI18nKey:"viewer_:contextmenu.annot.apply",callback:function(){return this.data("annotComponent").apply()},disabled:function(){return this.data("annotComponent").assembleDocDisabled()}},applyAll:{name:"applyAll",nameI18nKey:"viewer_:contextmenu.annot.applyAll",callback:function(){return this.data("annotComponent").applyAll()},disabled:function(){return this.data("annotComponent").assembleDocDisabled()}},place:{name:"place",nameI18nKey:"viewer_:contextmenu.annot.place",callback:function(t,e,n){this.data("annotComponent").showPlaceMarkDialog(t,e,n)},disabled:function(){return this.data("annotComponent").moveDisabled()}},properties:{name:"properties",nameI18nKey:"viewer_:contextmenu.annot.properties",callback:function(t,e,n){this.data("annotComponent").showPropertiesDialog(t,e,n)}}};e.getCommonContextMenu=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect";return{selector:t,items:o,events:{show:function(){return this.data("annotComponent").updateDeleteStatus(!0),!0},hide:function(){return this.data("annotComponent").updateDeleteStatus(!1),!0}}}},e.defaultAnnotComponentKey="annotComponent"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=void 0,r=void 0,i={};"function"==typeof FontFace?(e.addFont=o=function(t,e){return i[t]?i[t]:i[t]=new Promise((function(n,o){e().then((function(e){if(!e)return o(),void i[t];var r=new FontFace(t,e.buffer||e.url);r.load().then((function(){document.fonts.add(r),n(r)}))}),(function(){o(),delete i[t]}))}))},e.removeFont=r=function(t){i[t]&&i[t].then((function(e){delete i[t],document.fonts.delete(e)}))}):(e.addFont=o=function(t,e){return i[t]?i[t]:i[t]=new Promise((function(n,o){e().then((function(e){return e?e.buffer?URL.createObjectURL(new Blob([e.buffer],"application/x-font-woff")):e.url:(o("woff is invalid"),void delete i[t])})).then((function(e){if(!e)return o();var r=document.createElement("style");r.innerHTML='@font-face{font-family:"'+t+'"; src:url("'+e+'");}',document.head.appendChild(r),n(r)}))}))},e.removeFont=r=function(t){i[t]&&i[t].then((function(e){delete i[t],e.parentNode.removeChild(e)}))}),e.addFont=o,e.removeFont=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={properties:{name:"properties",nameI18nKey:"viewer_:contextmenu.annot.properties",callback:function(t,e,n){this.data("annotComponent").showPropertiesDialog(t,e,n)}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data("annotComponent").removeAnnot()},disabled:function(){return this.data("annotComponent").deleteDisabled()}}};e.getDefaultConfig=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect";return{selector:t,items:o,events:{show:function(){return this.data("annotComponent").updateDeleteStatus(!0),!0},hide:function(){return this.data("annotComponent").updateDeleteStatus(!1),!0}}}},e.defaultAnnotComponentKey="annotComponent"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getShapeController=e.ACTION_TEXT=e.ACTION_AREA=e.ACTION_POINT=void 0;var o=l(n(473)),r=l(n(40)),i=n(243),a=l(n(259)),s=n(19),c=l(n(3)),u=n(107);function l(t){return t&&t.__esModule?t:{default:t}}var f=(0,i.identity)(!0),p=e.ACTION_POINT="resize",d=e.ACTION_AREA="area",h=e.ACTION_TEXT="text",g=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var e=new DOMParser;this.whole=e.parseFromString((0,o.default)({}),"text/html").body.firstChild,this.calloutController=this.ui=this.whole.querySelector(".fv__shape-control"),this.bindMovingEvent(),this.calloutShape=new a.default}return t.prototype.init=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.start,n=void 0===e?r.default:e,o=t.update,i=void 0===o?r.default:o,a=t.interceptor,s=void 0===a?f:a,c=t.moving,u=void 0===c?r.default:c,l=t.end,p=void 0===l?r.default:l,d=arguments[1];this.start=n,this.update=i,this.move=u,this.interceptor=s,this.end=p,this.annot=d,this.calloutShape.init(d,this.calloutController.querySelector(".fv__shape-control-previewer"))},t.prototype.active=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.annot.getBoundary(),n=arguments[2];t.append(this.calloutController),(0,c.default)(this.calloutController).css(e),this.box=n,this.adjustPointControl(),this.calloutController.style.display="block"},t.prototype.disable=function(){this.isDisabled=!0},t.prototype.enable=function(){this.isDisabled=!1},t.prototype.deactive=function(){this.calloutController.style.display="none"},t.prototype.destroy=function(){this.calloutController.parentNode&&this.calloutController.parentNode.removeChild(this.calloutController)},t.prototype.bindMovingEvent=function(){var t=this;this._bindMoveAreaEvents(d),this._bindMoveAreaEvents(h);var e=this.ui.querySelectorAll(".fv__shape-controller");Array.prototype.slice.call(e).forEach((function(e){return t._bindMovePointEvents(e)})),(0,u.attachContextMenuEvent)(this.calloutController,(function(e){t.annot.showContextMenu(e.clientX,e.clientY),e.stopPropagation(),e.preventDefault()}));var n=this.ui,o=new s.Manager(n);o.add(new Hammer.Tap({event:"doubletap",taps:2})),o.on("doubletap",(function(e){t.annot.showReplyDialog(e)&&t.deactive()}))},t.prototype._bindMoveAreaEvents=function(t){var e=this,n=this.ui,o=".fv__shape-control-move-area";t==h&&(o=".fv__shape-control-text-area");var r=new s.Manager(n.querySelector(o));r.add(new s.Pan({direction:s.DIRECTION_ALL}));var i=void 0,a=void 0;r.on("panstart",(function(n){var o=n.deltaX,r=n.deltaY;e.isDisabled||(i=o,a=r,e.showShape(),e.start(t))})),r.on("panend",(function(n){e.isDisabled||(e.calloutShape.hide(),e.end(t))})),r.on("pancancel",(function(n){e.isDisabled||e.cancel(t)})),r.on("panmove",(function(n){var o=n.deltaX,r=n.deltaY;n.center,n.direction;if(!e.isDisabled){var s=o-i,u=r-a;e.move(t,-1,s,u).then((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(n){(0,c.default)(e.calloutController).css(e.annot.getBoundary());var o=n.rect,r=n.innerRect,i=n.points;t==h&&e.adjustPointControl(i,o,r),e.showShape(i,o,r)}}))}}))},t.prototype._bindMovePointEvents=function(t){var e=this,n=new s.Manager(t),o=void 0,r=void 0;n.add(new s.Pan({direction:s.DIRECTION_ALL})),n.on("panmove",(function(n){var i=n.deltaX,a=n.deltaY;n.center,n.direction,n.target;if(!e.isDisabled){var s=i-o,u=a-r;return e.move(p,t.classList[2],s,u).then((function(t){if(t){(0,c.default)(e.calloutController).css(e.annot.getBoundary());var n=t.rect,o=t.innerRect,r=t.points;e.adjustPointControl(r,n,o),e.showShape(r,n,o)}})),!1}})),n.on("panstart",(function(t){var n=t.deltaX,i=t.deltaY;if(!e.isDisabled)return o=n,r=i,e.showShape(),e.start(p),!1})),n.on("pancancel",(function(t){if(!e.isDisabled)return e.cancel(p),!1})),n.on("panend",(function(t){if(!e.isDisabled)return e.calloutShape.hide(),e.end(p),!1}))},t.prototype.showShape=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot.getCalloutPointers(),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.annot.getRect(),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.annot.getInnerBoundary();this.calloutShape.show(t,e,n)},t.prototype.adjustPointControl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot.getCalloutPointers(),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.annot.getRect(),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.annot.getInnerBoundary(),o=this.ui,r={left:n.left-e.left,top:n.top-e.top,width:n.width,height:n.height},i=o.querySelector(".fv__shape-control-text-area");(0,c.default)(i).css(r);var a=o.querySelector(".fv__shape-control-inner-area");if((0,c.default)(a).css(r),t.length>1){var s=o.querySelector(".fv__shape-controller.calloutStart");(0,c.default)(s).css({display:"block",left:t[0][0]-e.left-4,top:t[0][1]-e.top-4}),s=o.querySelector(".fv__shape-controller.calloutKnee"),(0,c.default)(s).css({display:"block",left:t[1][0]-e.left-4,top:t[1][1]-e.top-4})}else{var u=o.querySelector(".fv__shape-controller.calloutStart");(0,c.default)(u).css({display:"none"}),u=o.querySelector(".fv__shape-controller.calloutKnee"),(0,c.default)(u).css({display:"none"})}},t}(),m=void 0;e.getShapeController=function(){return m||(m=new g)}},function(t,e,n){n(0);t.exports=function(t){"use strict";t=t||{};return'<div class="fv-callout">\n    <div class="fv__shape-control callout">\n        <canvas class="fv__shape-control-previewer"></canvas>\n        <div class="fv__shape-control-move-area"></div>\n        <div class="fv__shape-control-inner-area">\n            <div class="fv__shape-controller callout left text"></div>\n            <div class="fv__shape-controller callout top text"></div>\n            <div class="fv__shape-controller callout right text"></div>\n            <div class="fv__shape-controller callout bottom text"></div>\n        </div>\n        <div class="fv__shape-control-text-area"></div>\n        <div class="fv__shape-controller callout calloutStart"></div>\n        <div class="fv__shape-controller callout calloutKnee"></div>\n    </div>\n</div>','<div class="fv-callout">\n    <div class="fv__shape-control callout">\n        <canvas class="fv__shape-control-previewer"></canvas>\n        <div class="fv__shape-control-move-area"></div>\n        <div class="fv__shape-control-inner-area">\n            <div class="fv__shape-controller callout left text"></div>\n            <div class="fv__shape-controller callout top text"></div>\n            <div class="fv__shape-controller callout right text"></div>\n            <div class="fv__shape-controller callout bottom text"></div>\n        </div>\n        <div class="fv__shape-control-text-area"></div>\n        <div class="fv__shape-controller callout calloutStart"></div>\n        <div class="fv__shape-controller callout calloutKnee"></div>\n    </div>\n</div>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=l(n(50)),i=n(6),a=l(n(45)),s=n(114),c=l(n(25)),u=l(n(143));function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var p=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.helper=new u.default(n),o}return f(e,t),e.prototype.doPrepare=function(){t.prototype.doPrepare.call(this),this.canvas.classList.add("fv__viewer-render-square-canvas")},e.prototype.doRender=function(t){t.renderingData;var e=this.component.annot,n=e.info,o=n.borderInfo||{},r=t.scale,a=t.rotate,s=this.convertPointToPixel(o.width||1,r),c=e.page,u=t.outerRect,l=e.getCalloutLinePoints().map((function(t){var e=c.getDevicePoint([t.x,t.y],r,a);return[e[0]-u.left,e[1]-u.top]})),f=this.canvas.getContext("2d");f.clearRect(0,0,this.canvas.width,this.canvas.height),f.save(),t.lineWidth=s,f.strokeStyle=0===s?"transparent":this.numberToRGBAString(n.borderColor),f.lineWidth=s;try{switch(o.style){case i.BORDER_STYLE.BEVELED:case i.BORDER_STYLE.UNDERLINE:case i.BORDER_STYLE.SOLID:this.renderSolid(f,n,t);break;case i.BORDER_STYLE.DASHED:this.renderDashed(f,n,t);break;case i.BORDER_STYLE.CLOUDY:this.renderCloud(f,n,t)}var p=n.fillColor;p?(p=this.numberToRGBAString(p),f.fillStyle=p,f.fill()):p="transparent",t.renderingData.fillColor=p,this.renderCallout(f,t,n.borderColor,e.getCalloutLineEndingStyle(),l,s),this.component.$pre.css({height:t.innerRect.height,overflow:"hidden"}),f.stroke()}finally{f.restore()}this.afterRender(t)},e.prototype.convertToPathPoint=function(t,e,n,r){var i=r.getDevicePoint([t.x,t.y],e),s=o(i,2),c=s[0],u=s[1];return new a.default(c-n.left,u-n.top)},e.prototype.shrinkRect=function(t,e){var n=c.default.on(t).shrink(e).extract();return Object.assign(n,{width:n.right-n.left,height:n.bottom-n.top})},e.prototype.renderCloud=function(t,e,n){e.fillColor;var o=e.borderInfo.cloudIntensity,r=this.shrinkRect(n.innerRect,0),i=this.shrinkRect(n.outerRect,0),c=r.width,u=r.height;new s.CloudyPathGenerator([new a.default(0,u),new a.default(c,u),new a.default(c,0),new a.default(0,0)],r,i).generate(32/3/o).render(t)},e.prototype.renderDashed=function(t,e,n){var o=this,r=e.borderInfo,i=r.dashes||[],a=r.dashPhase||0,s=n.scale;t.save(),t.setLineDash(i.map((function(t){return o.convertPointToPixel(t,s)}))),t.lineDashOffset=this.convertPointToPixel(a,s),this.renderSolid(t,e,n)},e.prototype.renderSolid=function(t,e,n){var o=n.outerRect,r=n.innerRect,i=n.lineWidth,a=r.width,s=r.height,c=r.left-o.left,u=r.top-o.top,l=.5*i;t.beginPath(),t.rect(c+l,u+l,a-i,s-i),t.closePath()},e.prototype.renderCallout=function(t,e,n,o,r,i){t.save();t.lineWidth=i,t.strokeStyle=this.numberToRGBAString(n),t.moveTo(r[0][0],r[0][1]),r.map((function(e){t.lineTo(e[0],e[1])})),t.stroke();var a={x:r[1][0],y:r[1][1]},s={x:r[0][0],y:r[0][1]};this.helper.renderLineEnd(t,i,e,o,a,s),t.restore()},e.prototype.afterRender=function(e){var n=e.outerRect,o=e.innerRect;t.prototype.afterRender.call(this);var r=this.component,i=r.annot,a=r.$pre;a.html(i.getContent());var s=r.getStyle(!1);delete s.background;var c=4*i.getBorderWidth()/3*r.scale;5===i.getBorderInfo().style&&(c=0);var u=r.fontSizeScale;s.margin=[(o.top-n.top+c)/u,(n.right-o.right+c)/u,(n.bottom-o.bottom+c)/u,(o.left-n.left+c)/u].join("px ")+"px",r.$ui.find(".fv__ftui-container").css({transform:"scale("+u+")",width:100/u+"%"}),a.css(s),r.$ui.css("opacity",i.getOpacity())},e}(r.default);e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(79);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return s(e,t),e.prototype.doRender=function(e){isNaN(e.innerRect.left)||(t.prototype.doRender.call(this,e,!1),this.afterRender())},e.prototype.afterRender=function(){t.prototype.afterRender.call(this);var e=this.component,n=e.annot,o=e.$pre;o.html(n.getContent());var r=e.getStyle(!0);delete r.background,delete r.left,delete r.top,r.padding=4*e.getPadding()/3*e.scale,o.css(r);var i=e.$ui.find(".fv__ftui-container"),a=e.fontSizeScale;i.css({transform:"scale("+a+")",width:100/a+"%"}),e.$ui.css("opacity",n.getOpacity())},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=f(n(49)),r=f(n(477)),i=f(n(482)),a=f(n(484)),s=f(n(487)),c=f(n(488)),u=f(n(489)),l=n(38);function f(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){var e=void 0,n=t.page.doc.getPDFForm();if(!n||n.isEmpty()||!(e=t.getField())||e.isDAFontEmbedded()&&1&e.getFlags())return o.default;switch(e.getType()){case l.FieldType.Text:case l.FieldType.File:return r.default;case l.FieldType.ListBox:return i.default;case l.FieldType.ComboBox:return a.default;case l.FieldType.Sign:return s.default;case l.FieldType.PushButton:return c.default;case l.FieldType.CheckBox:case l.FieldType.RadioButton:return u.default;default:return o.default}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(49),r=g(o),i=g(n(478)),a=n(38),s=g(n(3)),c=g(n(39)),u=n(4),l=(g(n(479)),g(n(480)),n(31)),f=n(26),p=g(n(1)),d=n(13),h=n(481);function g(t){return t&&t.__esModule?t:{default:t}}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var v=void 0,y=(0,h.getTextFieldContextMenu)(".fv__pdf-page-annot-handler-rect"),b={Jan:1,Feb:2,Mar:3,Apr:4,May:5,Jun:6,Jul:7,Aug:8,Sep:9,Oct:10,Nov:11,Dec:12},w=function(t){function e(n,r,i,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,i,s));u.engineForm=u.parent("pdfDocRender").doc.getPDFForm(),u.$ui.addClass("form_text_field"),n.setRenderNotifier((function(t){return u.updateUI(t)})),u.defaultEvnet=!1;var l=u.annot.getAdditionalAction(c.default.FieldWillFormat);return l&&l.getScript&&-1!=l.getScript().indexOf("AFDate_Format")&&(u.isDate=!0),u.generateHandler(1)&&u.bindInputEvent(),u.pdfViewer.eventEmitter.on(p.default.switchStateHandler,u.switchStateHandler=function(t){t.getStateName()===d.STATE_HANDLER_SELECT_TEXT_ANNOTATION||t.getStateName()===d.STATE_HANDLER_CREATE_TEXT_FIELD?u.activeSelected():(u.unActiveEditing(),u.unActiveSelected())}),u.$ui.on("click",(function(t){u.$ui.hasClass("editing")||(0,o.unActiveEditingAllByFieldType)(u.pdfViewer,a.FieldType.Text).then((function(){u.activeEditing()}))})),u}return m(e,t),e.getDefaultContextMenuConfig=function(){return y},e.setContextMenuConfig=function(t){v=t},e.prototype.destroy=function(){this.$textInput.off("change keydown keyup"),this.$ui.off("click"),this.$input.remove(),this.$input=null,this.$textInput=null,this.pdfViewer.eventEmitter.off(p.default.switchStateHandler,this.switchStateHandler),t.prototype.destroy.call(this),this.engineForm=null},e.prototype.generateHandler=function(t){var e=this.annot,n=e.getField();if(!n)return!1;var o=90*(4-this.annot.getRotation()+e.getPage().getRotation()),r="0",l="0";switch(o){case 90:r="100%";break;case 180:r="100%",l="100%";break;case 270:l="100%"}var p=this.checkReadOnly(),d=4*e.getBorderWidth()/3*t,h=(0,u.getTransparentOrColor)(e.getMKProperty("borderColor")),g=(0,u.getTransparentOrColor)(e.getMKProperty("fillColor"));this.$handler.css("background-color",g);var m=e.getAlignment(),v=a.FieldFlag.isMultiline(n.getFlags()),y=a.FieldFlag.isPassword(n.getFlags()),b=a.FieldFlag.isComb(n.getFlags())&&n.getMaxLength()>0,w=!this.checkInvisible(),_=(0,u.colorConvertor)(16777215&e.getDAFontColor(),"#"),P=this.getFontSize(n,e);P?P+="px":P=v?"16px":"xx-large";var O=n.getValue(),E=(0,i.default)({borderWidth:d,borderColor:h,background:"transparent",isSafari:f.isSafari,isMultiline:v,isPassword:y,comb:b,readonly:p,align:m,value:O,maxLength:n.getMaxLength(),visible:w,color:_,fontSize:P,rotation:o+this.rotate,left:r,top:l,width:"100%",height:"100%"}),x=this.$input=(0,s.default)(E),C=this.$textInput=x.find("input");if(0==C.length&&(C=this.$textInput=x.find("textarea")),this.$foreground.before(x),b&&C.hide(),O&&this.formRender.execAction("Field",e.getAdditionalAction(c.default.FieldWillFormat),null,n,c.default.FieldWillFormat),this.formRender.usingHTML(6)){this.$input.hide();var A=this.annotsRender.pageRender;this.render(A.getScale(),A.getRotation())}else this.$input.css("visibility","hidden");return!0},e.prototype.getFontSize=function(t,e){var n=e.getDefaultAppearance(),o=t.getDAFontSize();return n.textSize&&(o=n.textSize),4*o/3},e.prototype.updateSize=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;this.render(t,e)},e.prototype.render=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!o&&e==this.scale&&n==this.rotate)return Promise.resolve();var r=this.annot,i=r.getField();this.scale=e,this.rotate=n;this.getTileConfig(e,n);var s=this.updateForgroundAndHandler(e,n);r.getRotation(),r.getPage().getRotation();if(i){var c=this.getFontSize(i,r)*e;if(c)c+="px";else if(a.FieldFlag.isMultiline(i.getFlags()))c=16*e+"px";else{clearTimeout(this.autoFontSizeTimeout);var u=this;this.autoFontSizeTimeout=setTimeout((function(){u.annot&&u.formRender&&(u.autoFontSize(),u.formRender.usingHTML(6)&&u.$input.show())}),20)}var l=((this.getPDFPage().getRotationAngle()+n-90*r.getRotation())%360+360)%360,f="center",p=void 0,d=void 0;switch(l){case 90:case 270:p=s.height,d=s.width,f=270===l?p/2+"px "+p/2+"px":d/2+"px";break;default:p=s.width,d=s.height}a.FieldFlag.isComb(i.getFlags())&&i.getMaxLength()>0&&this.$input.find(".textComb").css({width:s.width/i.getMaxLength(),height:s.height,"line-height":s.height+"px",fontSize:c});var h=4*r.getBorderWidth()/3*e,g={"font-size":c,"border-width":h+"px",transform:"rotate("+l+"deg)","transform-origin":f,width:p+"px",height:d+"px"};this.$input.show(),this.$textInput.css(g)}return this.formRender.usingHTML(6)?Promise.resolve():t.prototype.render.call(this,e,n)},e.prototype.focus=function(t){var e=this;this.$handler.find(".fv__tiles-row").hide(),this.$input.css("visibility","visible");var n=this.annot.getField(),o=this.$textInput;t||(this.lastAvailableValue=n.getValue()),setTimeout((function(){document.activeElement!=o[0]&&o.focus(),e.$foreground.hide()}),50),this.$input.find(".textCombContainer").hide(),o.show();var r=this.annot.getAdditionalAction(c.default.FieldWillFormat);if(this.isDate){var i=o.val(),a=r.getScript().match(/AFDate_FormatEx\("([\s\S]*?)"\)/),s="";a&&2==a.length&&-1!==(s=a[1].replace("HH:MM","").trim()).indexOf("mmm")&&(o.val(function(t,e){e=e.toLowerCase();var n=new Date,o={};o.y=n.getFullYear(),o.m=n.getMonth()+1,o.d=n.getDate();for(var r=0,i="/",a=0;a<e.length&&r<t.length;){switch(e[a]){case"y":for(var s="";"0"<=t[r]&&t[r]<="9";)s+=t[r],r++;for(;"y"==e[a];)a++;switch(s.length){case 2:s="20"+s}o.y=parseInt(s);break;case"m":var c="";if("A"<=t[r]&&t[r]<="Z")for(;c.length<3;)c+=t[r],r++;else for(;"0"<=t[r]&&t[r]<="9";)c+=t[r],r++;for(;"m"==e[a];)a++;switch(c.length){case 1:case 2:o.m=parseInt(c);break;case 3:o.m=b[c]}break;case"d":for(var u="";"0"<=t[r]&&t[r]<="9";)u+=t[r],r++;for(;"d"==e[a];)a++;o.d=parseInt(u);break;default:r++,i=e[a],a++}}return""+o.m+i+o.d+i+o.y}(i,s)),s="m-d-yyyy"),0==s.length&&(s="m-d-yyyy"),o.datepicker({autoclose:1,keyboardNavigation:!1,forceParse:!1,format:s})}n&&o.val(n.getValue()||""),(r=this.annot.getAdditionalAction(c.default.AnnotReceiveInputFocus))&&this.formRender.execAction("Field",r,null,n),this.isActive=!0},e.prototype.handleEvnet=function(t,e){if(!this.$ui.hasClass("selected")&&!this.$ui.hasClass("editing")){var n=this.formRender;if(this.checkReadOnly())t!=c.default.AnnotMouseButtonReleased&&t!=c.default.AnnotReceiveInputFocus||n.blurControl();else{switch(c.default.AnnotMouseButtonReleased,t){case c.default.AnnotMouseButtonPressed:n.focusControl(this);break;case c.default.AnnotMouseButtonReleased:if(!n.isSameTarget(this))return;var o=this.annot.action;o&&n.execAction("Field",o,null,this.annot.getField());var r=this.$textInput;setTimeout((function(){document.activeElement!=r[0]&&r.focus()}),50),this.$input.find(".textCombContainer").hide(),r.show()}this.performAction(t)}}},e.prototype.bindInputEvent=function(){var e=this;this.isDate&&this.$textInput.on("change",(function(n){e.annot.getField().syncValue(n.target.value),e.formRender.usingHTML(6)||t.prototype.render.call(e,e.scale,e.rotate)})),this.__off__esc__event__&&this.__off__esc__event__(),this.__off__esc__event__=this.pdfViewer.getKeyboardEventBinder(l.ACTIVATION_ANNOTATION_BINDER).on(l.KEY_MAP_UNACTIVE_ANNOTATION,(function(t){e.unActive()})),this.$textInput.on("keydown",(function(t){27==t.keyCode&&t.preventDefault()})).on("keyup",(function(t){27==t.keyCode&&t.preventDefault(),e.checkReadOnly()||(e.valueChanged=!0,setTimeout((function(){e.autoFontSize(e.$textInput.val())}),0))}))},e.prototype.updateUIMore=function(e){var n=this,o=e.type,r=e.value,i=this.annot,s=this.$input,l=this.$textInput,f=i.getField();if(f){var p=Promise.resolve();switch(o){case"value":var d=i.getAdditionalAction(c.default.FieldWillFormat);if(0!=f.getValue().length&&d){this.formRender.execAction("Field",d,null,f,c.default.FieldWillFormat).rc||(f.setValue(this.lastAvailableValue,this),this.valueChange(!1,f));break}case"displayValue":if(a.FieldFlag.isComb(f.getFlags())&&f.getMaxLength()>0){var h=f.getMaxLength();switch(f.getAlignment()){default:for(var g=0;g<r.length;g++)s.find(".textComb[data-index="+g+"]").html(r[g]);for(var m=r.length;m<h;m++)s.find(".textComb[data-index="+m+"]").html("");break;case 2:var v=s.find(".textComb").length,y=r.length,b=v-r.length-1,w=0;b<-1&&(b=-1),r.length>v&&(w=r.length-v);for(var _=v-1;_>b;_--)s.find(".textComb[data-index="+_+"]").html(r[_-v+y-w]);for(var P=b;P>-1;P--)s.find(".textComb[data-index="+P+"]").html("")}}p=f.setDisplayValue(r),l.val(r);break;case"align":l.css("text-align",r);break;case"borderStyle":l.css("border-style",r);break;case"borderColor":r=(0,u.getTransparentOrColor)(r),s.find(".textComb").css("border-color",r),l.css("border-color",r);break;case"maxLength":case"comb":case"multiline":s.remove(),this.generateHandler(this.scale),this.bindInputEvent(),this.render(this.scale,this.rotate,!0);break;case"fillColor":this.$handler.css("background-color",(0,u.getTransparentOrColor)(r));break;case"password":l.attr("type",r?"password":"text");break;case"readonly":r?(this.$foreground.addClass("form-field-readonly").css("visibility","hidden"),l.attr("readonly",!0)):(this.checkReadOnly()||this.checkInvisible()||this.$foreground.removeClass("form-field-readonly").css("visibility","visible"),l.removeAttr("readonly"));var O=(0,u.getTransparentOrColor)(i.getMKProperty("fillColor"));r&&(O="transparent"),l.css("background-color",O);break;case"hidden":var E=this.$handler;r?E.hide():E.show();break;case"textColor":l.css("color",r)}this.formRender.usingHTML(6)||p.then((function(e){return t.prototype.render.call(n,n.scale,n.rotate,!0)}))}},e.prototype.blur=function(){var t=this.$textInput,e=t.data("datepicker");return e&&setTimeout((function(){e.destroy(),t.data("datepicker",null)}),0),this.isActive=!1,this.formRender.usingHTML(6)||this.$input.css("visibility","hidden"),this.$handler.find(".fv__tiles-row").show(),this.setValue(t.val())},e.prototype.setValue=function(t){var e=this.annot,n=e.getField();n.setValueWithoutAction(t);var o=void 0;t===this.lastAvailableValue&&(this.valueChanged=!1);var r=!1,i=e.getAdditionalAction(c.default.FieldKeyStroke);return this.valueChanged&&i&&-1!==(o=this.formRender.execAction("Field",i,null,n,c.default.FieldKeyStroke,{change:t,willCommit:!0}))&&(o.rc?(void 0===o.change&&(o.change=t),n.setValueWithoutAction(o.change)):(r=!0,t=this.lastAvailableValue)),r?(n.setValue(this.lastAvailableValue,this),this.valueChange(r,n)):(i=e.getAdditionalAction(c.default.FieldValueChanged),this.valueChanged&&i&&-1!==(o=this.formRender.execAction("Field",i,null,n,c.default.FieldValueChanged))&&(o.rc?(void 0===o.value&&(o.value=t),n.setValueWithoutAction(o.value)):r=!0),r?n.setValue(this.lastAvailableValue,this):this.valueChanged?n.syncValue(n.getValue(),this):(i=e.getAdditionalAction(c.default.FieldWillFormat),(o=n.getValue()&&i&&this.formRender.execAction("Field",i,null,n,c.default.FieldWillFormat))&&!o.rc&&(n.setValue(this.lastAvailableValue,this),this.valueChange(!1,n))),this.valueChange(r,n))},e.prototype.valueChange=function(e,n){return this.valueChanged&&!e&&this.formRender.calculate(n),this.valueChanged=!1,n&&a.FieldFlag.isComb(n.getFlags())&&n.getMaxLength()>0&&(this.$textInput.hide(),this.$input.find(".textCombContainer").show()),t.prototype.blur.call(this),e},e.prototype.activeSelected=function(){t.prototype.activeSelected.call(this),this.contextMenu||(this.contextMenu=this.pdfViewer.viewerUI.createContextMenu(this,this.$ui.get(0),this.getContextMenuConfig()),this.$rect.data(h.defaultAnnotComponentKey,this))},e.prototype.getContextMenuConfig=function(){if(v)return v;var t=this.constructor.getDefaultContextMenuConfig();for(var e in t)switch(e){case"items":var n=t[e],o=this.pdfViewer.i18n;for(var r in n){var i=n[r];i.nameI18nKey&&(i.name=o.t(i.nameI18nKey))}}return this.constructor.setContextMenuConfig(t),t},e.prototype.showContextMenu=function(t,e){this.contextMenu&&(this.contextMenu.setCurrentTarget(this),this.contextMenu.showAt(t,e))},e}(r.default);e.default=w},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";var e="",n=(t=t||{}).border,r=t.borderWidth,i=t.borderColor,a=t.position,s=t.left,c=t.top,u=t.height,l=t.width,f=t.background,p=t.transform,d=t.rotation,h=t.alignStyle,g=t.align,m=(t.fs,t.fontSize),v=(t.fcolor,t.color),y=t.transformStyle,b=t.style,w=t.ml,_=t.maxLength,P=t.isMultiline,O=o.$escape,E=t.ro,x=t.value,C=t.comb,A=t.diffLen,S=t.i,D=t.v,R=t.type,j=t.isPassword,T=t.readonly,M=t.isSafari;n="border:"+r+"px solid "+i+";",a="left:"+s+";top:"+c+";height:"+u+";width:"+l+";",f="background-color:"+f+";",p="";switch(0!==d&&(p="transform:rotate("+d+"deg)"),g){case 0:h="text-align:left;";break;case 1:h="text-align:center;";break;case 2:h="text-align:right;"}y=p,b=n+a+f+h+("font-size:"+m+";")+("color:"+v+";"),w=_?"maxlength="+_:"";if(P)b+="resize: none;",e+='\n        <div class="textCombInput"><textarea ',e+=O(E),e+=' style="',e+=O(b),e+='overflow: hidden;">',e+=O(x),e+="</textarea></div>\n";else if(C){e+='\n        <div class="textCombInput" >\n            <div class="textCombContainer">\n';for(A=_-x.length,S=0;S<_;S++){D=x[S];2==g&&_>x.length&&S<A&&(D=""),2==g&&S>=A&&(D=x[S-A]),e+='\n                <div class="textComb" style="',e+=O(n),e+='" data-index="',e+=O(S),e+='">',e+=O(D),e+="</div>\n"}e+='\n            </div>\n\n            <input type="',e+=O(R),e+='" ',e+=O(E),e+=' style="',e+=O(b),e+='" ',e+=O(w),e+=" value=",e+=O(x),e+=" ",e+=O(w),e+=">\n        </div>\n    "}else{E=T?"readonly":"";e+='\n        <div class="textCombInput">\n        <input type="',e+=O(R=j?"password":"text"),e+='" ',e+=O(E),e+=" ",e+=O(w),e+=' style="',e+=O(b+y),e+=O(M&&"box-sizing: content-box; padding: 0;"),e+='" value="',e+=O(x),e+='"></div>\n        '}return e}},function(t,e,n){var o,r,i;
/*!
 * Datepicker for Bootstrap v1.9.0 (https://github.com/uxsolutions/bootstrap-datepicker)
 *
 * Licensed under the Apache License v2.0 (http://www.apache.org/licenses/LICENSE-2.0)
 */r=[n(3)],void 0===(i="function"==typeof(o=function(t,e){function n(){return new Date(Date.UTC.apply(Date,arguments))}function o(){var t=new Date;return n(t.getFullYear(),t.getMonth(),t.getDate())}function r(t,e){return t.getUTCFullYear()===e.getUTCFullYear()&&t.getUTCMonth()===e.getUTCMonth()&&t.getUTCDate()===e.getUTCDate()}function i(n,o){return function(){return o!==e&&t.fn.datepicker.deprecated(o),this[n].apply(this,arguments)}}var a,s=(a={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),n=0,o=this.length;n<o;n++)if(0<=this[n].valueOf()-e&&this[n].valueOf()-e<864e5)return n;return-1},remove:function(t){this.splice(t,1)},replace:function(e){e&&(t.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.length=0},copy:function(){var t=new s;return t.replace(this),t}},function(){var e=[];return e.push.apply(e,arguments),t.extend(e,a),e}),c=function(e,n){t.data(e,"datepicker",this),this._events=[],this._secondaryEvents=[],this._process_options(n),this.dates=new s,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=t(e),this.isInput=this.element.is("input"),this.inputField=this.isInput?this.element:this.element.find("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .input-group-append, .input-group-prepend, .btn"),this.component&&0===this.component.length&&(this.component=!1),this.isInline=!this.component&&this.element.is("div"),this.picker=t(v.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.o.calendarWeeks&&this.picker.find(".datepicker-days .datepicker-switch, thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",(function(t,e){return Number(e)+1})),this._process_options({startDate:this._o.startDate,endDate:this._o.endDate,daysOfWeekDisabled:this.o.daysOfWeekDisabled,daysOfWeekHighlighted:this.o.daysOfWeekHighlighted,datesDisabled:this.o.datesDisabled}),this._allow_update=!1,this.setViewMode(this.o.startView),this._allow_update=!0,this.fillDow(),this.fillMonths(),this.update(),this.isInline&&this.show()};c.prototype={constructor:c,_resolveViewName:function(e){return t.each(v.viewModes,(function(n,o){if(e===n||-1!==t.inArray(e,o.names))return e=n,!1})),e},_resolveDaysOfWeek:function(e){return t.isArray(e)||(e=e.split(/[,\s]*/)),t.map(e,Number)},_check_template:function(n){try{return n!==e&&""!==n&&((n.match(/[<>]/g)||[]).length<=0||t(n).length>0)}catch(t){return!1}},_process_options:function(e){this._o=t.extend({},this._o,e);var r=this.o=t.extend({},this._o),i=r.language;m[i]||(i=i.split("-")[0],m[i]||(i=h.language)),r.language=i,r.startView=this._resolveViewName(r.startView),r.minViewMode=this._resolveViewName(r.minViewMode),r.maxViewMode=this._resolveViewName(r.maxViewMode),r.startView=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,r.startView)),!0!==r.multidate&&(r.multidate=Number(r.multidate)||!1,!1!==r.multidate&&(r.multidate=Math.max(0,r.multidate))),r.multidateSeparator=String(r.multidateSeparator),r.weekStart%=7,r.weekEnd=(r.weekStart+6)%7;var a=v.parseFormat(r.format);r.startDate!==-1/0&&(r.startDate?r.startDate instanceof Date?r.startDate=this._local_to_utc(this._zero_time(r.startDate)):r.startDate=v.parseDate(r.startDate,a,r.language,r.assumeNearbyYear):r.startDate=-1/0),r.endDate!==1/0&&(r.endDate?r.endDate instanceof Date?r.endDate=this._local_to_utc(this._zero_time(r.endDate)):r.endDate=v.parseDate(r.endDate,a,r.language,r.assumeNearbyYear):r.endDate=1/0),r.daysOfWeekDisabled=this._resolveDaysOfWeek(r.daysOfWeekDisabled||[]),r.daysOfWeekHighlighted=this._resolveDaysOfWeek(r.daysOfWeekHighlighted||[]),r.datesDisabled=r.datesDisabled||[],t.isArray(r.datesDisabled)||(r.datesDisabled=r.datesDisabled.split(",")),r.datesDisabled=t.map(r.datesDisabled,(function(t){return v.parseDate(t,a,r.language,r.assumeNearbyYear)}));var s=String(r.orientation).toLowerCase().split(/\s+/g),c=r.orientation.toLowerCase();if(s=t.grep(s,(function(t){return/^auto|left|right|top|bottom$/.test(t)})),r.orientation={x:"auto",y:"auto"},c&&"auto"!==c)if(1===s.length)switch(s[0]){case"top":case"bottom":r.orientation.y=s[0];break;case"left":case"right":r.orientation.x=s[0]}else c=t.grep(s,(function(t){return/^left|right$/.test(t)})),r.orientation.x=c[0]||"auto",c=t.grep(s,(function(t){return/^top|bottom$/.test(t)})),r.orientation.y=c[0]||"auto";if(r.defaultViewDate instanceof Date||"string"==typeof r.defaultViewDate)r.defaultViewDate=v.parseDate(r.defaultViewDate,a,r.language,r.assumeNearbyYear);else if(r.defaultViewDate){var u=r.defaultViewDate.year||(new Date).getFullYear(),l=r.defaultViewDate.month||0,f=r.defaultViewDate.day||1;r.defaultViewDate=n(u,l,f)}else r.defaultViewDate=o()},_applyEvents:function(t){for(var n,o,r,i=0;i<t.length;i++)n=t[i][0],2===t[i].length?(o=e,r=t[i][1]):3===t[i].length&&(o=t[i][1],r=t[i][2]),n.on(r,o)},_unapplyEvents:function(t){for(var n,o,r,i=0;i<t.length;i++)n=t[i][0],2===t[i].length?(r=e,o=t[i][1]):3===t[i].length&&(r=t[i][1],o=t[i][2]),n.off(o,r)},_buildEvents:function(){var e={keyup:t.proxy((function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()}),this),keydown:t.proxy(this.keydown,this),paste:t.proxy(this.paste,this)};!0===this.o.showOnFocus&&(e.focus=t.proxy(this.show,this)),this.isInput?this._events=[[this.element,e]]:this.component&&this.inputField.length?this._events=[[this.inputField,e],[this.component,{click:t.proxy(this.show,this)}]]:this._events=[[this.element,{click:t.proxy(this.show,this),keydown:t.proxy(this.keydown,this)}]],this._events.push([this.element,"*",{blur:t.proxy((function(t){this._focused_from=t.target}),this)}],[this.element,{blur:t.proxy((function(t){this._focused_from=t.target}),this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":t.proxy((function(t){this.update(t.date)}),this)}]),this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[this.picker,".prev, .next",{click:t.proxy(this.navArrowsClick,this)}],[this.picker,".day:not(.disabled)",{click:t.proxy(this.dayCellClick,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{"mousedown touchstart":t.proxy((function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.isInline||this.hide()}),this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,n){var o=n||this.dates.get(-1),r=this._utc_to_local(o);this.element.trigger({type:e,date:r,viewMode:this.viewMode,dates:t.map(this.dates,this._utc_to_local),format:t.proxy((function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var n=this.dates.get(t);return v.formatDate(n,e,this.o.language)}),this)})},show:function(){if(!(this.inputField.is(":disabled")||this.inputField.prop("readonly")&&!1===this.o.enableOnReadonly))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&t(this.element).blur(),this},hide:function(){return this.isInline||!this.picker.is(":visible")||(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.setViewMode(this.o.startView),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide")),this},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(e){var n;if(e.originalEvent.clipboardData&&e.originalEvent.clipboardData.types&&-1!==t.inArray("text/plain",e.originalEvent.clipboardData.types))n=e.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;n=window.clipboardData.getData("Text")}this.setDate(n),this.update(),e.preventDefault()},_utc_to_local:function(t){if(!t)return t;var e=new Date(t.getTime()+6e4*t.getTimezoneOffset());return e.getTimezoneOffset()!==t.getTimezoneOffset()&&(e=new Date(t.getTime()+6e4*e.getTimezoneOffset())),e},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&n(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())},getDates:function(){return t.map(this.dates,this._utc_to_local)},getUTCDates:function(){return t.map(this.dates,(function(t){return new Date(t)}))},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var t=this.dates.get(-1);return t!==e?new Date(t):null},clearDates:function(){this.inputField.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,e),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.setDates.apply(this,t.map(e,this._utc_to_local)),this},setDate:i("setDates"),setUTCDate:i("setUTCDates"),remove:i("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead"),setValue:function(){var t=this.getFormattedDate();return this.inputField.val(t),this},getFormattedDate:function(n){n===e&&(n=this.o.format);var o=this.o.language;return t.map(this.dates,(function(t){return v.formatDate(t,n,o)})).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(t){return this._process_options({startDate:t}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(t){return this._process_options({endDate:t}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(t){return this._process_options({daysOfWeekDisabled:t}),this.update(),this},setDaysOfWeekHighlighted:function(t){return this._process_options({daysOfWeekHighlighted:t}),this.update(),this},setDatesDisabled:function(t){return this._process_options({datesDisabled:t}),this.update(),this},place:function(){if(this.isInline)return this;var e=this.picker.outerWidth(),n=this.picker.outerHeight(),o=t(this.o.container),r=o.width(),i="body"===this.o.container?t(document).scrollTop():o.scrollTop(),a=o.offset(),s=[0];this.element.parents().each((function(){var e=t(this).css("z-index");"auto"!==e&&0!==Number(e)&&s.push(Number(e))}));var c=Math.max.apply(Math,s)+this.o.zIndexOffset,u=this.component?this.component.parent().offset():this.element.offset(),l=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),f=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),p=u.left-a.left,d=u.top-a.top;"body"!==this.o.container&&(d+=i),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(p-=e-f)):u.left<0?(this.picker.addClass("datepicker-orient-left"),p-=u.left-10):p+e>r?(this.picker.addClass("datepicker-orient-right"),p+=f-e):this.o.rtl?this.picker.addClass("datepicker-orient-right"):this.picker.addClass("datepicker-orient-left");var h=this.o.orientation.y;if("auto"===h&&(h=-i+d-n<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+h),"top"===h?d-=n+parseInt(this.picker.css("padding-top")):d+=l,this.o.rtl){var g=r-(p+f);this.picker.css({top:d,right:g,zIndex:c})}else this.picker.css({top:d,left:p,zIndex:c});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var e=this.dates.copy(),n=[],o=!1;return arguments.length?(t.each(arguments,t.proxy((function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),n.push(e)}),this)),o=!0):(n=(n=this.isInput?this.element.val():this.element.data("date")||this.inputField.val())&&this.o.multidate?n.split(this.o.multidateSeparator):[n],delete this.element.data().date),n=t.map(n,t.proxy((function(t){return v.parseDate(t,this.o.format,this.o.language,this.o.assumeNearbyYear)}),this)),n=t.grep(n,t.proxy((function(t){return!this.dateWithinRange(t)||!t}),this),!0),this.dates.replace(n),this.o.updateViewDate&&(this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate),o?(this.setValue(),this.element.change()):this.dates.length&&String(e)!==String(this.dates)&&o&&(this._trigger("changeDate"),this.element.change()),!this.dates.length&&e.length&&(this._trigger("clearDate"),this.element.change()),this.fill(),this},fillDow:function(){if(this.o.showWeekDays){var e=this.o.weekStart,n="<tr>";for(this.o.calendarWeeks&&(n+='<th class="cw">&#160;</th>');e<this.o.weekStart+7;)n+='<th class="dow',-1!==t.inArray(e,this.o.daysOfWeekDisabled)&&(n+=" disabled"),n+='">'+m[this.o.language].daysMin[e++%7]+"</th>";n+="</tr>",this.picker.find(".datepicker-days thead").append(n)}},fillMonths:function(){for(var t=this._utc_to_local(this.viewDate),e="",n=0;n<12;n++)e+='<span class="month'+(t&&t.getMonth()===n?" focused":"")+'">'+m[this.o.language].monthsShort[n]+"</span>";this.picker.find(".datepicker-months td").html(e)},setRange:function(e){e&&e.length?this.range=t.map(e,(function(t){return t.valueOf()})):delete this.range,this.fill()},getClassNames:function(e){var n=[],i=this.viewDate.getUTCFullYear(),a=this.viewDate.getUTCMonth(),s=o();return e.getUTCFullYear()<i||e.getUTCFullYear()===i&&e.getUTCMonth()<a?n.push("old"):(e.getUTCFullYear()>i||e.getUTCFullYear()===i&&e.getUTCMonth()>a)&&n.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&n.push("focused"),this.o.todayHighlight&&r(e,s)&&n.push("today"),-1!==this.dates.contains(e)&&n.push("active"),this.dateWithinRange(e)||n.push("disabled"),this.dateIsDisabled(e)&&n.push("disabled","disabled-date"),-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekHighlighted)&&n.push("highlighted"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&n.push("range"),-1!==t.inArray(e.valueOf(),this.range)&&n.push("selected"),e.valueOf()===this.range[0]&&n.push("range-start"),e.valueOf()===this.range[this.range.length-1]&&n.push("range-end")),n},_fill_yearsView:function(n,o,r,i,a,s,c){for(var u,l,f,p="",d=r/10,h=this.picker.find(n),g=Math.floor(i/r)*r,m=g+9*d,v=Math.floor(this.viewDate.getFullYear()/d)*d,y=t.map(this.dates,(function(t){return Math.floor(t.getUTCFullYear()/d)*d})),b=g-d;b<=m+d;b+=d)u=[o],l=null,b===g-d?u.push("old"):b===m+d&&u.push("new"),-1!==t.inArray(b,y)&&u.push("active"),(b<a||b>s)&&u.push("disabled"),b===v&&u.push("focused"),c!==t.noop&&((f=c(new Date(b,0,1)))===e?f={}:"boolean"==typeof f?f={enabled:f}:"string"==typeof f&&(f={classes:f}),!1===f.enabled&&u.push("disabled"),f.classes&&(u=u.concat(f.classes.split(/\s+/))),f.tooltip&&(l=f.tooltip)),p+='<span class="'+u.join(" ")+'"'+(l?' title="'+l+'"':"")+">"+b+"</span>";h.find(".datepicker-switch").text(g+"-"+m),h.find("td").html(p)},fill:function(){var r,i,a=new Date(this.viewDate),s=a.getUTCFullYear(),c=a.getUTCMonth(),u=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,l=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,f=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,p=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,d=m[this.o.language].today||m.en.today||"",h=m[this.o.language].clear||m.en.clear||"",g=m[this.o.language].titleFormat||m.en.titleFormat,y=o(),b=(!0===this.o.todayBtn||"linked"===this.o.todayBtn)&&y>=this.o.startDate&&y<=this.o.endDate&&!this.weekOfDateIsDisabled(y);if(!isNaN(s)&&!isNaN(c)){this.picker.find(".datepicker-days .datepicker-switch").text(v.formatDate(a,g,this.o.language)),this.picker.find("tfoot .today").text(d).css("display",b?"table-cell":"none"),this.picker.find("tfoot .clear").text(h).css("display",!0===this.o.clearBtn?"table-cell":"none"),this.picker.find("thead .datepicker-title").text(this.o.title).css("display","string"==typeof this.o.title&&""!==this.o.title?"table-cell":"none"),this.updateNavArrows(),this.fillMonths();var w=n(s,c,0),_=w.getUTCDate();w.setUTCDate(_-(w.getUTCDay()-this.o.weekStart+7)%7);var P=new Date(w);w.getUTCFullYear()<100&&P.setUTCFullYear(w.getUTCFullYear()),P.setUTCDate(P.getUTCDate()+42),P=P.valueOf();for(var O,E,x=[];w.valueOf()<P;){if((O=w.getUTCDay())===this.o.weekStart&&(x.push("<tr>"),this.o.calendarWeeks)){var C=new Date(+w+(this.o.weekStart-O-7)%7*864e5),A=new Date(Number(C)+(11-C.getUTCDay())%7*864e5),S=new Date(Number(S=n(A.getUTCFullYear(),0,1))+(11-S.getUTCDay())%7*864e5),D=(A-S)/864e5/7+1;x.push('<td class="cw">'+D+"</td>")}(E=this.getClassNames(w)).push("day");var R=w.getUTCDate();this.o.beforeShowDay!==t.noop&&((i=this.o.beforeShowDay(this._utc_to_local(w)))===e?i={}:"boolean"==typeof i?i={enabled:i}:"string"==typeof i&&(i={classes:i}),!1===i.enabled&&E.push("disabled"),i.classes&&(E=E.concat(i.classes.split(/\s+/))),i.tooltip&&(r=i.tooltip),i.content&&(R=i.content)),E=t.isFunction(t.uniqueSort)?t.uniqueSort(E):t.unique(E),x.push('<td class="'+E.join(" ")+'"'+(r?' title="'+r+'"':"")+' data-date="'+w.getTime().toString()+'">'+R+"</td>"),r=null,O===this.o.weekEnd&&x.push("</tr>"),w.setUTCDate(w.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").html(x.join(""));var j=m[this.o.language].monthsTitle||m.en.monthsTitle||"Months",T=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?j:s).end().find("tbody span").removeClass("active");if(t.each(this.dates,(function(t,e){e.getUTCFullYear()===s&&T.eq(e.getUTCMonth()).addClass("active")})),(s<u||s>f)&&T.addClass("disabled"),s===u&&T.slice(0,l).addClass("disabled"),s===f&&T.slice(p+1).addClass("disabled"),this.o.beforeShowMonth!==t.noop){var M=this;t.each(T,(function(n,o){var r=new Date(s,n,1),i=M.o.beforeShowMonth(r);i===e?i={}:"boolean"==typeof i?i={enabled:i}:"string"==typeof i&&(i={classes:i}),!1!==i.enabled||t(o).hasClass("disabled")||t(o).addClass("disabled"),i.classes&&t(o).addClass(i.classes),i.tooltip&&t(o).prop("title",i.tooltip)}))}this._fill_yearsView(".datepicker-years","year",10,s,u,f,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,s,u,f,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,s,u,f,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var t,e,n=new Date(this.viewDate),o=n.getUTCFullYear(),r=n.getUTCMonth(),i=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,a=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,s=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,c=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,u=1;switch(this.viewMode){case 4:u*=10;case 3:u*=10;case 2:u*=10;case 1:t=Math.floor(o/u)*u<=i,e=Math.floor(o/u)*u+u>s;break;case 0:t=o<=i&&r<=a,e=o>=s&&r>=c}this.picker.find(".prev").toggleClass("disabled",t),this.picker.find(".next").toggleClass("disabled",e)}},click:function(e){var r,i,a;e.preventDefault(),e.stopPropagation(),(r=t(e.target)).hasClass("datepicker-switch")&&this.viewMode!==this.o.maxViewMode&&this.setViewMode(this.viewMode+1),r.hasClass("today")&&!r.hasClass("day")&&(this.setViewMode(0),this._setDate(o(),"linked"===this.o.todayBtn?null:"view")),r.hasClass("clear")&&this.clearDates(),r.hasClass("disabled")||(r.hasClass("month")||r.hasClass("year")||r.hasClass("decade")||r.hasClass("century"))&&(this.viewDate.setUTCDate(1),1===this.viewMode?(a=r.parent().find("span").index(r),i=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(a)):(a=0,i=Number(r.text()),this.viewDate.setUTCFullYear(i)),this._trigger(v.viewModes[this.viewMode-1].e,this.viewDate),this.viewMode===this.o.minViewMode?this._setDate(n(i,a,1)):(this.setViewMode(this.viewMode-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&this._focused_from.focus(),delete this._focused_from},dayCellClick:function(e){var n=t(e.currentTarget).data("date"),o=new Date(n);this.o.updateViewDate&&(o.getUTCFullYear()!==this.viewDate.getUTCFullYear()&&this._trigger("changeYear",this.viewDate),o.getUTCMonth()!==this.viewDate.getUTCMonth()&&this._trigger("changeMonth",this.viewDate)),this._setDate(o)},navArrowsClick:function(e){var n=t(e.currentTarget).hasClass("prev")?-1:1;0!==this.viewMode&&(n*=12*v.viewModes[this.viewMode].navStep),this.viewDate=this.moveMonth(this.viewDate,n),this._trigger(v.viewModes[this.viewMode].e,this.viewDate),this.fill()},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t||this.dates.clear(),-1!==e?(!0===this.o.multidate||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(e):!1===this.o.multidate?(this.dates.clear(),this.dates.push(t)):this.dates.push(t),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),(!e&&this.o.updateViewDate||"view"===e)&&(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),e&&"view"===e||this._trigger("changeDate"),this.inputField.trigger("change"),!this.o.autoclose||e&&"date"!==e||this.hide()},moveDay:function(t,e){var n=new Date(t);return n.setUTCDate(t.getUTCDate()+e),n},moveWeek:function(t,e){return this.moveDay(t,7*e)},moveMonth:function(t,e){if(!(n=t)||isNaN(n.getTime()))return this.o.defaultViewDate;var n;if(!e)return t;var o,r,i=new Date(t.valueOf()),a=i.getUTCDate(),s=i.getUTCMonth(),c=Math.abs(e);if(e=e>0?1:-1,1===c)r=-1===e?function(){return i.getUTCMonth()===s}:function(){return i.getUTCMonth()!==o},o=s+e,i.setUTCMonth(o),o=(o+12)%12;else{for(var u=0;u<c;u++)i=this.moveMonth(i,e);o=i.getUTCMonth(),i.setUTCDate(a),r=function(){return o!==i.getUTCMonth()}}for(;r();)i.setUTCDate(--a),i.setUTCMonth(o);return i},moveYear:function(t,e){return this.moveMonth(t,12*e)},moveAvailableDate:function(t,e,n){do{if(t=this[n](t,e),!this.dateWithinRange(t))return!1;n="moveDay"}while(this.dateIsDisabled(t));return t},weekOfDateIsDisabled:function(e){return-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(e){return this.weekOfDateIsDisabled(e)||t.grep(this.o.datesDisabled,(function(t){return r(e,t)})).length>0},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":visible")){var e,n,o=!1,r=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault(),t.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;e=37===t.keyCode||38===t.keyCode?-1:1,0===this.viewMode?t.ctrlKey?(n=this.moveAvailableDate(r,e,"moveYear"))&&this._trigger("changeYear",this.viewDate):t.shiftKey?(n=this.moveAvailableDate(r,e,"moveMonth"))&&this._trigger("changeMonth",this.viewDate):37===t.keyCode||39===t.keyCode?n=this.moveAvailableDate(r,e,"moveDay"):this.weekOfDateIsDisabled(r)||(n=this.moveAvailableDate(r,e,"moveWeek")):1===this.viewMode?(38!==t.keyCode&&40!==t.keyCode||(e*=4),n=this.moveAvailableDate(r,e,"moveMonth")):2===this.viewMode&&(38!==t.keyCode&&40!==t.keyCode||(e*=4),n=this.moveAvailableDate(r,e,"moveYear")),n&&(this.focusDate=this.viewDate=n,this.setValue(),this.fill(),t.preventDefault());break;case 13:if(!this.o.forceParse)break;r=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(r),o=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),t.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}o&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField.trigger("change"))}else 40!==t.keyCode&&27!==t.keyCode||(this.show(),t.stopPropagation())},setViewMode:function(t){this.viewMode=t,this.picker.children("div").hide().filter(".datepicker-"+v.viewModes[this.viewMode].clsName).show(),this.updateNavArrows(),this._trigger("changeViewMode",new Date(this.viewDate))}};var u=function(e,n){t.data(e,"datepicker",this),this.element=t(e),this.inputs=t.map(n.inputs,(function(t){return t.jquery?t[0]:t})),delete n.inputs,this.keepEmptyValues=n.keepEmptyValues,delete n.keepEmptyValues,d.call(t(this.inputs),n).on("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,(function(e){return t.data(e,"datepicker")})),this.updateDates()};function l(e,n){var o=t(e).data(),r={},i=new RegExp("^"+n.toLowerCase()+"([A-Z])");function a(t,e){return e.toLowerCase()}for(var s in n=new RegExp("^"+n.toLowerCase()),o)n.test(s)&&(r[s.replace(i,a)]=o[s]);return r}function f(e){var n={};if(m[e]||(e=e.split("-")[0],m[e])){var o=m[e];return t.each(g,(function(t,e){e in o&&(n[e]=o[e])})),n}}u.prototype={updateDates:function(){this.dates=t.map(this.pickers,(function(t){return t.getUTCDate()})),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,(function(t){return t.valueOf()}));t.each(this.pickers,(function(t,n){n.setRange(e)}))},clearDates:function(){t.each(this.pickers,(function(t,e){e.clearDates()}))},dateUpdated:function(n){if(!this.updating){this.updating=!0;var o=t.data(n.target,"datepicker");if(o!==e){var r=o.getUTCDate(),i=this.keepEmptyValues,a=t.inArray(n.target,this.inputs),s=a-1,c=a+1,u=this.inputs.length;if(-1!==a){if(t.each(this.pickers,(function(t,e){e.getUTCDate()||e!==o&&i||e.setUTCDate(r)})),r<this.dates[s])for(;s>=0&&r<this.dates[s];)this.pickers[s--].setUTCDate(r);else if(r>this.dates[c])for(;c<u&&r>this.dates[c];)this.pickers[c++].setUTCDate(r);this.updateDates(),delete this.updating}}}},destroy:function(){t.map(this.pickers,(function(t){t.destroy()})),t(this.inputs).off("changeDate",this.dateUpdated),delete this.element.data().datepicker},remove:i("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead")};var p=t.fn.datepicker,d=function(n){var o,r=Array.apply(null,arguments);if(r.shift(),this.each((function(){var e=t(this),i=e.data("datepicker"),a="object"==typeof n&&n;if(!i){var s=l(this,"date"),p=f(t.extend({},h,s,a).language),d=t.extend({},h,p,s,a);e.hasClass("input-daterange")||d.inputs?(t.extend(d,{inputs:d.inputs||e.find("input").toArray()}),i=new u(this,d)):i=new c(this,d),e.data("datepicker",i)}"string"==typeof n&&"function"==typeof i[n]&&(o=i[n].apply(i,r))})),o===e||o instanceof c||o instanceof u)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+n+" function)");return o};t.fn.datepicker=d;var h=t.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:t.noop,beforeShowMonth:t.noop,beforeShowYear:t.noop,beforeShowDecade:t.noop,beforeShowCentury:t.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keepEmptyValues:!1,keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,updateViewDate:!0,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&#x00AB;",rightArrow:"&#x00BB;"},showWeekDays:!0},g=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=c;var m=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},v={viewModes:[{names:["days","month"],clsName:"days",e:"changeMonth"},{names:["months","year"],clsName:"months",e:"changeYear",navStep:1},{names:["years","decade"],clsName:"years",e:"changeDecade",navStep:10},{names:["decades","century"],clsName:"decades",e:"changeCentury",navStep:100},{names:["centuries","millennium"],clsName:"centuries",e:"changeMillennium",navStep:1e3}],validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(t){if("function"==typeof t.toValue&&"function"==typeof t.toDisplay)return t;var e=t.replace(this.validParts,"\0").split("\0"),n=t.match(this.validParts);if(!e||!e.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:e,parts:n}},parseDate:function(n,r,i,a){if(!n)return e;if(n instanceof Date)return n;if("string"==typeof r&&(r=v.parseFormat(r)),r.toValue)return r.toValue(n,r,i);var s,u,l,f,p,d={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},h={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(n in h&&(n=h[n]),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/i.test(n)){for(s=n.match(/([\-+]\d+)([dmwy])/gi),n=new Date,f=0;f<s.length;f++)u=s[f].match(/([\-+]\d+)([dmwy])/i),l=Number(u[1]),p=d[u[2].toLowerCase()],n=c.prototype[p](n,l);return c.prototype._zero_utc_time(n)}s=n&&n.match(this.nonpunctuation)||[];var g,y,b={},w=["yyyy","yy","M","MM","m","mm","d","dd"],_={yyyy:function(t,e){return t.setUTCFullYear(a?(!0===(o=a)&&(o=10),(n=e)<100&&(n+=2e3)>(new Date).getFullYear()+o&&(n-=100),n):e);var n,o},m:function(t,e){if(isNaN(t))return t;for(e-=1;e<0;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};_.yy=_.yyyy,_.M=_.MM=_.mm=_.m,_.dd=_.d,n=o();var P=r.parts.slice();function O(){var t=this.slice(0,s[f].length),e=s[f].slice(0,t.length);return t.toLowerCase()===e.toLowerCase()}if(s.length!==P.length&&(P=t(P).filter((function(e,n){return-1!==t.inArray(n,w)})).toArray()),s.length===P.length){var E,x,C;for(f=0,E=P.length;f<E;f++){if(g=parseInt(s[f],10),u=P[f],isNaN(g))switch(u){case"MM":y=t(m[i].months).filter(O),g=t.inArray(y[0],m[i].months)+1;break;case"M":y=t(m[i].monthsShort).filter(O),g=t.inArray(y[0],m[i].monthsShort)+1}b[u]=g}for(f=0;f<w.length;f++)(C=w[f])in b&&!isNaN(b[C])&&(x=new Date(n),_[C](x,b[C]),isNaN(x)||(n=x))}return n},formatDate:function(e,n,o){if(!e)return"";if("string"==typeof n&&(n=v.parseFormat(n)),n.toDisplay)return n.toDisplay(e,n,o);var r={d:e.getUTCDate(),D:m[o].daysShort[e.getUTCDay()],DD:m[o].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:m[o].monthsShort[e.getUTCMonth()],MM:m[o].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};r.dd=(r.d<10?"0":"")+r.d,r.mm=(r.m<10?"0":"")+r.m,e=[];for(var i=t.extend([],n.separators),a=0,s=n.parts.length;a<=s;a++)i.length&&e.push(i.shift()),e.push(r[n.parts[a]]);return e.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">'+h.templates.leftArrow+'</th><th colspan="5" class="datepicker-switch"></th><th class="next">'+h.templates.rightArrow+"</th></tr></thead>",contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};v.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+v.headTemplate+"<tbody></tbody>"+v.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=v,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=p,this},t.fn.datepicker.version="1.9.0",t.fn.datepicker.deprecated=function(t){var e=window.console;e&&e.warn&&e.warn("DEPRECATED: "+t)},t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',(function(e){var n=t(this);n.data("datepicker")||(e.preventDefault(),d.call(n,"show"))})),t((function(){d.call(t('[data-provide="datepicker-inline"]'))}))})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=(0,r.default)("font");return t?(a||((a=document.createElement("style")).type="text/css",document.getElementsByTagName("HEAD").item(0).appendChild(a)),(0,o.default)(a).append("@font-face{ font-family: "+e+';src: url("'+t+'") }'),e):e};var o=i(n(3)),r=i(n(71));function i(t){return t&&t.__esModule?t:{default:t}}var a=void 0},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={properties:{name:"properties",nameI18nKey:"viewer_:contextmenu.annot.properties",callback:function(t,e,n,o){this.data("annotComponent").showPropertiesDialog(t,e,n,o)}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data("annotComponent").removeAnnot()},disabled:function(){return this.data("annotComponent").deleteDisabled()}}};e.getTextFieldContextMenu=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect";return{selector:t,items:o,events:{show:function(){return this.data("annotComponent").updateDeleteStatus(!0),!0},hide:function(){return this.data("annotComponent").updateDeleteStatus(!1),!0}}}},e.defaultAnnotComponentKey="annotComponent"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=u(n(49)),i=u(n(483)),a=(n(38),u(n(3))),s=u(n(39)),c=n(4);function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var f=function(t){function e(n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i));return a.engineForm=a.parent("pdfDocRender").doc.getPDFForm(),a.$ui.addClass("form_listbox_field"),n.setRenderNotifier((function(t){return a.updateUI(t)})),a.generateHandler(1),a}return l(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.$input.remove(),this.engineForm=null},e.prototype.render=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;this.scale=t,this.rotate=e;var n=this.getTileConfig(t,e);this.updateForgroundAndHandler(t,e);var o=this.annot.getField(),r=o.getDAFontSize()*t*4/3;r||(r=16*t),r+="px";var i=4*this.annot.getBorderWidth()/3*t;this.$input.css({"font-size":r,"border-width":i+"px"});var a=this.getRect(t,e),s=a.right-a.left,c=a.bottom-a.top,u=((this.getPDFPage().getRotationAngle()+e-90*this.annot.getRotation())%360+360)%360,l="center",f=void 0,p=void 0;switch(u){case 90:case 270:f=c,p=s,l=270===u?f/2+"px "+f/2+"px":p/2+"px";break;default:f=s,p=c}this.$ui.css({left:n[8]*n[6],top:n[9]*n[6],width:n[2],height:n[3],transform:"scale("+1/n[6]+") rotate("+u+"deg)","transform-origin":l}),this.$input.css({width:f,height:p,transform:"rotate("+u+"deg)","transform-origin":l});var d=this.$input.find(".selected");d.length>0&&(this.$input[0].scrollTop=d[0].offsetTop)},e.prototype.generateHandler=function(t){var e=this.annot.getField();if(e){var n=this.checkReadOnly(),r=4*this.annot.getBorderWidth()/3*t,s=this.annot.getMKProperty("borderColor"),u=(0,c.getTransparentOrColor)(s),l=this.annot.getMKProperty("fillColor"),f=(0,c.getTransparentOrColor)(l),p=e.getAlignment(),d=e.getOptions(),h=e.getOptions(),g=e.getValue();h.map((function(t){"object"==(void 0===t?"undefined":o(t))&&g===t.value&&(g=t.lable)}));var m=(0,c.colorConvertor)(16777215&e.getDAFontColor(),"#"),v=4*e.getDAFontSize()/3;v?v+="px":v="12px";var y=(0,i.default)({borderWidth:r,borderColor:u,background:f,options:d,align:p,readonly:n,value:g,color:m,fontSize:v});this.checkInvisible()&&this.$handler.hide();var b=this.$input=(0,a.default)(y);this.$handler.append(b)}},e.prototype.handleEvnet=function(t,e){var n=this.formRender,o=this.annot;if(this.checkReadOnly())t!=s.default.AnnotMouseButtonReleased&&t!=s.default.AnnotReceiveInputFocus||n.blurControl();else{if(e.isTrigger)return!1;switch(t){case s.default.AnnotMouseButtonPressed:n.focusControl(this);break;case s.default.AnnotMouseButtonReleased:if((0,a.default)(e.target).hasClass("form-field-option")){var r=(0,a.default)(e.target).data("val")+"";n.setValue(o,r),n.calculate(o.getField()),this.performAction(s.default.FieldValueChanged)}setTimeout((function(){var t=o.action;n.execAction("Field",t,null,o.getField())}),0)}this.performAction(t)}},e.prototype.updateUIMore=function(t){var e=t.type,n=t.value,o=this.$input,r=this.annot.getField();switch(e){case"value":o.find(".form-field-option.selected").removeClass("selected"),o.find('[data-val="'+n+'"]').addClass("selected");break;case"align":return o.css("text-align",n);case"borderStyle":return o.css("border-style",n);case"clearItems":return this.updateUIMore({type:"value",value:r.getValue()}),o.find(".form-field-option").remove();case"deleteItems":this.updateUIMore({type:"value",value:r.getValue()}),o.find(".form-field-option:nth-child("+(n+1)+")").remove(),this.updateUIMore({type:"value",value:r.getValue()});break;case"insertItemAt":var i=this.annot.getField().getOptions()[n],a='<div class="form-field-option" data-val="'+i.value+'" data-index="'+n+'">'+i.lable+"</div>";o.children().length<=n?o.append(a):o.find(".form-field-option:nth-child("+(n+1)+")").before(a),this.updateUIMore({type:"value",value:r.getValue()});break;case"borderColor":o.css("border-color",(0,c.getTransparentOrColor)(n));break;case"fillColor":o.css("background-color",(0,c.getTransparentOrColor)(n));break;case"setItems":var s=this.annot.getField().getOptions().map((function(t){return'<div class="form-field-option" data-val="'+t.value+'" data-index="'+n+'">'+t.lable+"</div>"}));o.find(".form-field-option").remove(),o.append(s.join(""))}},e}(r.default);e.default=f},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";var e="",n=(t=t||{}).border,r=t.borderWidth,i=t.borderColor,a=(t.position,t.background),s=t.align,c=(t.fs,t.fontSize),u=(t.fcolor,t.color),l=(t.style,t.optsClass,o.$escape),f=t.i,p=t.options,d=t.optClass,h=t.value,g=t.readonly;n="border-width:"+r+"px;border-style:solid;border-color:"+i+";box-sizing:border-box;",a="background-color:"+a+";outline:none;";switch(s){case 0:s="text-align:left;";break;case 1:s="text-align:center;";break;case 2:s="text-align:right;"}e+='\n<div class="form-field-options" style="',e+=l(n+"left:0px;top:0px;height:100%;width:100%;"+a+s+"overflow-y:auto;"+("font-size:"+c+";")+("color:"+u+";")),e+='">\n';for(f=0;f<p.length;f++){d="form-field-option";p[f].value==h&&(d+=" selected"),g&&(d+=" readonly"),e+='\n<div class="',e+=l(d),e+='" data-val="',e+=l(p[f].value),e+='" data-index="',e+=l(f),e+='">',e+=l(p[f].lable),e+="</div>\n"}return e+="\n</div>"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=f(n(49)),i=f(n(485)),a=f(n(486)),s=n(38),c=f(n(3)),u=f(n(39)),l=n(4);function f(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var d=function(t){function e(n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i));return a.engineForm=a.parent("pdfDocRender").doc.getPDFForm(),a.$handler.addClass("fv_combobox_field"),a.available=!0,a.genDropDownUI(1),a.genLabelUI(),a.bindDropDownUIEvent(),a}return p(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.$optionsList.off("click"),this.$optionsList.remove(),this.engineForm=null,this.$optionsList=null},e.prototype.render=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,r=arguments[2];if(!r&&e==this.scale&&o==this.rotate)return Promise.resolve();if(this.scale=e,this.rotate=o,this.available){var i=this.updateForgroundAndHandler(e,o),a=i.width,s=i.height;switch(o){case 90:case 270:var c=s;s=a,a=c}i.left<1&&(i.left=1);var u=this.annotsRender.pageRender.getShowHeight(),l=this.annotsRender.pageRender.getShowWidth();this.$optionsList.css({"font-size":"1em","overflow-y":"auto"});var f=4*this.annot.getBorderWidth()/3*e,p=this.annot.getField();if(!p)return!1;var d=4*p.getDAFontSize()/3,h={"font-size":d,"border-width":f+"px",padding:f+"px"},g=.3*s>20?20:.3*s;i.width<g+10?h.opacity=0:h.opacity=1,this.$textInput.css(h);var m=this.getRect(e,o),v=m.right-m.left,y=m.bottom-m.top,b=void 0,w=void 0,_=void 0,P=void 0,O=void 0,E=void 0,x=200,C=((this.getPDFPage().getRotationAngle()+o-90*this.annot.getRotation())%360+360)%360;switch(C){case 270:b=v,P=_=(w=y)/2+"px "+w/2+"px",E=m.left+b,O=m.top,x+E>=l&&(x=l-E-1);break;case 90:w=y,_=(b=v)/2+"px",P=b/2+"px -"+b/2+"px",E=m.left,O=m.top+b,E-x<=0&&(x=E-1);break;case 180:w=v,b=y,_="center",P="center top",E=m.left,(O=m.top)-x<=0&&(x=O-1);break;default:w=v,b=y,_="center",P="center",O=m.top+b,E=m.left,x+O>=u&&(x=u-O)}this.formRender.usingHTML(4)&&this.$handler.css({left:m.left,top:m.top,width:w,height:b,transform:"rotate("+C+"deg)","transform-origin":_}),this.$optionsList.css({top:O,left:E,width:w,maxHeight:x,transform:"rotate("+C+"deg)","transform-origin":P}),this.$handler.find(".fwr__ui-combo-dropdown").css({"border-width":g+"px "+.6*g+"px 0",top:(b-g)/2+"px"}),!d&&this.formRender.usingHTML(4)?(clearTimeout(this.autoFontSizeTimeout),this.autoFontSizeTimeout=setTimeout((function(){n.autoFontSize(n.$textInput.val(),2*g)}),200)):d+="px",this.formRender.usingHTML(4)||t.prototype.render.call(this,e,o)}},e.prototype.handleEvnet=function(e,n){var o=this,r=t.prototype.handleEvnet.call(this,e,n);if(1==r)return r;switch(e){case u.default.AnnotMouseButtonPressed:this.optionsMounted=this.optionsMounted||this.$handler.after(this.$optionsList),this.$optionsList.show();break;case u.default.AnnotMouseButtonReleased:if((0,c.default)(n.target).hasClass("form-field-option")){(0,c.default)(n.target).data("val");n.stopPropagation(),this.$optionsList.hide()}setTimeout((function(){var t=o.annot.action;o.formRender.execAction("Field",t,null,o.annot.getField())}),150)}this.performAction(e)},e.prototype.genDropDownUI=function(t){var e=this.annot,n=this.annot.getField();if(n){var o=4*e.getBorderWidth()/3*t,r=e.getMKProperty("borderColor"),a=(0,l.colorConvertor)(r,"#");0===r&&(a="gray");var s=e.getMKProperty("fillColor"),u=(0,l.colorConvertor)(s,"#");0===s&&(u="white");var f=n.getOptions(),p=n.getValue(),d=(0,i.default)({borderWidth:o,borderColorHex:a,fillColorHex:u,background:"white",options:f,value:p});this.$optionsList=(0,c.default)(d),this.$optionsList.hide()}else this.available=!1},e.prototype.bindDropDownUIEvent=function(){var t=this;if(this.available){var e=this.formRender,n=this.annot;this.$optionsList.on("click",(function(o){if((0,c.default)(o.target).hasClass("form-field-option")){var r=(0,c.default)(o.target).data("val");o.stopPropagation(),t.$optionsList.hide(),t.$optionsList.find(".selected").removeClass("selected"),(0,c.default)(o.target).addClass("selected");var i=n.getField();if(!i)return;if(i.getValue()===r)return;e.setValue(n,r),e.calculate(n.getField()),t.performAction(u.default.FieldValueChanged),t.performAction(u.default.FieldKeyStroke,{change:(0,c.default)(o.target).html()})}setTimeout((function(){var t=n.action;e.execAction("Field",t,null,n.getField())}),150)}))}},e.prototype.blur=function(){var e=this;this.formRender.usingHTML(4)||this.$input.css("visibility","hidden"),this.$handler.find(".fv__tiles-row").show();var n=this.formRender,o=this.annot;if(this.$optionsList.hide(),this.$textInput.length>0){var r=this.$textInput.val();setTimeout((function(){var t=o.getField();if(t){var i=r;t.getOptions().forEach((function(t){r==t.lable+""&&(i=t.value)})),i!==t.getValue()&&(n.setValue(o,i),n.calculate(o.getField()),e.performAction(u.default.FieldValueChanged))}}),0)}t.prototype.blur.call(this)},e.prototype.focus=function(){var e=this;t.prototype.focus.call(this);var n=this.annot.getField();if(n){var o=n.getValue(),r=o;n.getOptions().forEach((function(t){o==t.value+""&&(r=t.lable)})),this.$textInput.val(r),setTimeout((function(){e.$textInput.focus()}),10)}},e.prototype.genLabelUI=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=this.annot,o=n.getField();if(!o)return!1;var r=(0,a.default)(this.getStyle(t,e)),i=this.$input=(0,c.default)(r);return this.$foreground.after(i),this.$textInput=this.$handler.find("input"),this.formRender.usingHTML(4)||this.$input.css("visibility","hidden"),!0},e.prototype.updateUIMore=function(e){var n=this,o=e.type,r=e.value,i=this.$textInput,a=this.$optionsList,s=this.annot.getField();if(s){var c=Promise.resolve();switch(o){case"value":var u=s.getOptions(),f=u[s.valueIndex];if(s.valueIndex)r=f.lable;else for(var p=0;p<u.length;p++){var d=u[p];if(r==d.value+""){r=d.lable;break}r==d.value+""&&(r=d.lable)}c=s.setDisplayValue(r),i.val(r);break;case"displayValue":i.val(r);break;case"align":i.css("text-align",r);break;case"borderStyle":i.css("border-style",r);break;case"borderColor":i.css("border-color",(0,l.getTransparentOrColor)(r));break;case"fillColor":this.$input.find(".textCombContainer").css("background-color",(0,l.getTransparentOrColor)(r)),i.css("background-color",(0,l.getTransparentOrColor)(r));break;case"readonly":r?(this.$foreground.hide().addClass("form-field-readonly").css("visibility","hidden"),i.attr("readonly",!0)):(this.$foreground.show().removeClass("form-field-readonly").css("visibility","visible"),i.removeAttr("readonly"));break;case"clearItems":a.find(".form-field-option").remove(),this.updateUIMore({type:"value",value:s.getValue()});break;case"deleteItems":a.find(".form-field-option:nth-child("+(r+1)+")").remove(),this.updateUIMore({type:"value",value:s.getValue()});break;case"insertItemAt":var h=this.annot.getField().getOptions(),g="";h.forEach((function(t,e){g+='<div class="form-field-option" data-val="'+t.value+'" data-index="'+e+'">'+t.lable+"</div>"})),a.empty().append(g),this.updateUIMore({type:"value",value:s.getValue()});break;case"setItems":var m=this.annot.getField().getOptions().map((function(t){return'<div class="form-field-option" data-val="'+t.value+'" data-index="'+r+'">'+t.lable+"</div>"}));a.find(".form-field-option").remove(),a.append(m.join("")),this.updateUIMore({type:"value",value:s.getValue()});break;case"rect":this.render(this.scale,this.rotate,!0)}this.formRender.usingHTML(4)||c.then((function(e){return t.prototype.render.call(n,n.scale,n.rotate,!0)}))}},e.prototype.getStyle=function(t,e){var n=this.annot,r=n.getField();if(!r)return!1;var i=this.checkReadOnly(),a=4*n.getBorderWidth()/3*t,c=n.getMKProperty("borderColor"),u=(0,l.getTransparentOrColor)(c),f=n.getMKProperty("fillColor"),p=(0,l.getTransparentOrColor)(f),d=r.getAlignment(),h=!this.checkInvisible(),g=(0,l.colorConvertor)(16777215&r.getDAFontColor(),"#"),m=4*r.getDAFontSize()/3;m?m+="px":m="16px";var v=s.FieldFlag.isComboEdit(r.getFlags()),y=r.getOptions(),b=r.getValue();return y.map((function(t){"object"==(void 0===t?"undefined":o(t))&&b===t.value&&(b=t.lable)})),{comboEditable:v,borderWidth:a,borderColor:u,background:p,readonly:i,align:d,value:b,maxLength:r.getMaxLength(),visible:h,color:g,fontSize:m}},e.prototype.updateSize=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return this.render(t,e)},e}(r.default);e.default=d},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";var e="",n=(t=t||{}).border,r=t.borderWidth,i=t.borderColorHex,a=(t.position,t.background),s=t.align,c=(t.style,o.$escape),u=t.i,l=t.options,f=t.optClass,p=t.value;n="border:"+r+"px solid "+i+";box-sizing:border-box;",a="background-color:"+a+";outline:none;";switch(s){case 0:s="text-align:left;";break;case 1:s="text-align:center;";break;case 2:s="text-align:right;"}e+='\n<div class="checkbox form-field-options" style="',e+=c(n+"left:0px;top:100%;max-height:200px;width:100%;position:absolute;"+a+s+"overflow-y:auto"),e+='">\n    ';for(u=0;u<l.length;u++){f="form-field-option";l[u].value==p&&(f+=" selected"),e+='\n    <div class="',e+=c(f),e+='" data-val="',e+=c(l[u].value),e+='" data-index="',e+=c(u),e+='">',e+=c(l[u].lable),e+="</div>\n    "}return e+="\n</div>"}},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";var e="",n=(t=t||{}).border,r=t.borderWidth,i=t.borderColor,a=(t.position,t.background),s=t.align,c=(t.readonlyAttr,t.readonly),u=t.comboEditable,l=(t.cursor,t.fs,t.fontSize),f=(t.fcolor,t.color),p=t.style,d=t.dropButtonDisplay,h=o.$escape,g=t.value;n="border:"+r+"px solid "+i+";box-sizing:border-box;",a="background-color:"+a+";outline:none;";switch(s){case 0:s="text-align:left;";break;case 1:s="text-align:center;";break;case 2:s="text-align:right;"}p=n+"left:0px;top:0px;height:100%;width:100%;position:absolute;"+a+s+("font-size:"+l+";")+("color:"+f+";")+(u?"":"cursor:pointer;"),d=c?"display:none":"display:block";return e+='\n<input class="fwr__ui-combo-input" ',e+=h(c||!u?"readonly":""),e+=' style="',e+=h(p),e+='" value="',e+=h(g),e+='"></input>\n<div class="fwr__ui-combo-dropdown" style="',e+=h(d),e+='"></div>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(49)),r=a(n(39)),i=a(n(1));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.prototype.handleEvnet=function(e,n){var o=t.prototype.handleEvnet.call(this,e,n);if(o)return o;switch(e){case r.default.AnnotMouseButtonPressed:this.pdfViewer.eventEmitter.emit(i.default.signatureFieldMouseLButtonDown,this.annot);break;case r.default.AnnotMouseButtonReleased:this.pdfViewer.eventEmitter.emit(i.default.signatureFieldMouseLButtonUp,this.annot);break;case r.default.AnnotCursorEnter:this.pdfViewer.eventEmitter.emit(i.default.signatureFieldMouseEnter,this.annot);break;case r.default.AnnotCursorExit:this.pdfViewer.eventEmitter.emit(i.default.signatureFieldMouseExit,this.annot)}},e.prototype.render=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.pdfViewer.config.enableSignature)return t.prototype.render.call(this,e,n,o)},e}(o.default);e.default=l},function(t,e,n){"use strict";n.r(e);var o,r=n(49),i=n.n(r),a=n(4),s=n(39),c=n.n(s),u=n(3),l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),f="normalCaption",p=function(t){function e(e,n,o,r){var a=this;return"canvas"!=r.pdfViewer.config.annotRenderingMode.pushButton?new i.a(e,n,o,r):((a=t.call(this,e,n,o,r)||this).generateUI(),a)}return l(e,t),e.prototype.generateUI=function(){var t=this.$input=u("<div></div>"),e=this.annot,n=e.getDefaultAppearance(),o=Object(a.colorConvertor)(n.textColor||4278190080,"#"),r=e.getMKProperty(f),i=Object(a.getTransparentOrColor)(e.getMKProperty("fillColor")),s=Object(a.getTransparentOrColor)(this.annot.getMKProperty("borderColor")),c=0===this.annot.getBorderStyle()?"solid":"dashed";t.css({color:o,fontSize:5,background:i,borderWidth:1,borderColor:s,textAlign:"center",borderStyle:c}).html(r),this.$foreground.before(t),t.hide(),this.render(this.annotsRender.pageRender.scale,0)},e.prototype.updateSize=function(t,e){void 0===t&&(t=this.scale),void 0===e&&(e=this.rotate),this.render(t,e)},e.prototype.updateUIMore=function(t){var e=t.type,n=t.value,o=this.$input;switch(e){case"borderStyle":o.css("border-style",n);break;case"borderColor":n=Object(a.getTransparentOrColor)(n),o.css("border-color",n);break;case"fillColor":o.css("background-color",Object(a.getTransparentOrColor)(n));break;case f:o.html(n);break;case"rect":var r=this.updateForgroundAndHandler(this.scale||this.parent("annotsRender").scale,this.rotate);o.css(r)}},e.prototype.render=function(t,e,n){var o=this;if(void 0===t&&(t=this.scale),void 0===e&&(e=this.rotate),void 0===n&&(n=!1),t==this.scale&&e==this.rotate)return Promise.resolve();var r=this.annot,i=this.updateForgroundAndHandler(t,e);i.borderWidth=4*r.getBorderWidth()/3*t,i.lineHeight=i.height+"px",this.scale=t;var a=r.getDefaultAppearance();return a.textSize?(i.fontSize=4*a.textSize/3*t,this.$input.css(i).show()):setTimeout((function(){o.autoFontSize(o.annot.getMKProperty(f)+"pend"),o.$input.css(i).show()}),0),Promise.resolve()},e.prototype.handleEvnet=function(e,n){if(!this.checkReadOnly()){var o=void 0;switch(e){case c.a.AnnotCursorEnter:0==(o=this.annot.getMKProperty("rolloverCaption")).length&&(o=this.annot.getMKProperty(f));break;case c.a.AnnotMouseButtonPressed:0==(o=this.annot.getMKProperty("downCaption")).length&&(o=this.annot.getMKProperty("rolloverCaption")),0==o.length&&(o=this.annot.getMKProperty(f));break;case c.a.AnnotMouseButtonReleased:0==(o=this.pdfViewer.getCurrentActivatable()==this?this.annot.getMKProperty("rolloverCaption"):this.annot.getMKProperty(f)).length&&(o=this.annot.getMKProperty(f));break;case c.a.AnnotCursorExit:o=this.annot.getMKProperty(f)}this.$input.html(o)}return t.prototype.handleEvnet.call(this,e,n)},e}(i.a);e.default=p},function(t,e,n){"use strict";n.r(e);var o,r=n(49),i=n.n(r),a=n(376),s=n.n(a),c=n(377),u=n.n(c),l=n(378),f=n.n(l),p=n(379),d=n.n(p),h=n(380),g=n.n(h),m=n(381),v=n.n(m),y=n(4),b=n(3),w=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function _(t,e,n){var o=O("8",e,n);t.attr("src",o)}var P={};function O(t,e,n){void 0===n&&(n=0);var o,r=t+e+n;if(r in P)return P[r];switch(t){default:case"4":o=s()({fillColor:e});break;case"8":o=u()({fillColor:e,small:n});break;case"u":o=f()({fillColor:e});break;case"n":o=d()({fillColor:e});break;case"l":o=g()({fillColor:e});break;case"H":o=v()({fillColor:e})}return o=URL.createObjectURL(new Blob([o],{type:"image/svg+xml"})),P[r]=o}var E=function(t){function e(e,n,o,r){var a=this;return"canvas"!=r.pdfViewer.config.annotRenderingMode.choiceButton?new i.a(e,n,o,r):((a=t.call(this,e,n,o,r)||this).generateUI(),a)}return w(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.$input.attr("src",""),this.$input.remove()},e.prototype.generateUI=function(){var t,e=this.$handler;this.$input?t=this.$input:(t=b("<div class='fv_choice_border'></div><img  class='fv_choice_icon'/>"),this.$foreground.before(t),this.$border=e.find(".fv_choice_border"),this.$input=e.find("img"),(t=this.$input).hide());var n=this.annot.getDefaultAppearance(),o=Object(y.colorConvertor)(n.textColor||4278190080),r=this.annot.getMKProperty("normalCaption");r&&""!=r||(2==this.annot.getField().getType()?(this.annot.setMKProperty("normalCaption","4"),r="4"):(this.annot.setMKProperty("normalCaption","l"),r="l"));var i=O(r,o,0);t.attr("src",i);var a,s=this.annot.getMKProperty("fillColor"),c=this.annot.getMKProperty("borderColor");switch(c=0===c?"transparent":Object(y.colorConvertor)(16777215&c,"#"),this.annot.getBorderInfo().style){default:case 0:a="solid";break;case 1:a="dashed"}this.$border.css({"border-color":c,"border-style":a,background:0==s?"transparent":Object(y.colorConvertor)(s,"#")}),this.render(this.annotsRender.pageRender.scale,0)},e.prototype.updateUIMore=function(t){var e=t.type,n=t.value,o=this.$border,r=this.$input;switch(e){case"value":"Off"==this.annot.getAS()?r.hide():r.show();break;case"borderStyle":o.css("border-style",n);break;case"borderColor":n=0===n?"transparent":Object(y.colorConvertor)(16777215&n,"#"),o.css("border-color",n);break;case"fillColor":o.css("background-color",0===n?"transparent":Object(y.colorConvertor)(16777215&n,"#"));break;case"display":this.render(this.scale,this.rotate,!0);break;case"hidden":n?this.$input.hide():this.$input.show()}},e.prototype.updateSize=function(t,e){void 0===t&&(t=this.scale),void 0===e&&(e=this.rotate),this.render(t,e)},e.prototype.render=function(t,e,n){void 0===t&&(t=this.scale),void 0===e&&(e=this.rotate),void 0===n&&(n=!1),this.scale=t,this.rotate=e;var o=this.annot;if(this.checkInvisible()||o.isEmpty()||o.isDeleted()||o.rectIsEmpty())return this.$handler.hide(),this.$input.hide(),Promise.resolve();var r=this.$input,i=this.updateForgroundAndHandler(t,e);"8"==o.getMKProperty("normalCaption")&&(i.width<20?_(this.$input,Object(y.colorConvertor)(this.annot.info.DA.textColor||4278190080),1):_(this.$input,Object(y.colorConvertor)(this.annot.info.DA.textColor||4278190080),0));var a=i.width-i.height;3==o.getField().getType()&&"l"==this.annot.info.normalCaption?(i["border-radius"]="50%",a<0?(i.top+=a/-2,i.height=i.width,i["margin-top"]=a/-2,i["margin-left"]=0):(i.left+=a/2,i.width=i.height,i["margin-top"]=0,i["margin-left"]=a/2),a=0):(i["border-radius"]=0,i["margin-top"]=0,i["margin-left"]=0),i.borderWidth=4*this.annot.getBorderWidth()/3*t,this.$border.css(i),"Off"==this.annot.getAS()?r.hide():r.show();var s=((this.getPDFPage().getRotationAngle()+e-90*this.annot.getRotation())%360+360)%360;return r.css({transform:"rotate("+s+"deg)"}),Promise.resolve()},e}(i.a);e.default=E},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={properties:{name:"properties",nameI18nKey:"viewer_:contextmenu.annot.properties",callback:function(t,e,n){this.data("annotComponent").showPropertiesDialog(t,e,n)}},actions:{name:"actions",nameI18nKey:"viewer_:contextmenu.annot.actions",callback:function(){this.data("annotComponent").showActionsDialog()},disabled:function(){return this.data("annotComponent").readOnlyDisabled()}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data("annotComponent").removeAnnot()},disabled:function(){return this.data("annotComponent").deleteDisabled()}}},r={properties:o.properties,download:{name:"download",nameI18nKey:"viewer_:contextmenu.annot.download",callback:function(){this.data("annotComponent").download()},disabled:function(){return this.data("annotComponent").readOnlyDisabled()}},remove:o.remove};e.getImageContextMenu=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect";return{selector:t,items:o,events:{show:function(){return this.data("annotComponent").updateDeleteStatus(!0),!0},hide:function(){return this.data("annotComponent").updateDeleteStatus(!1),!0}}}},e.getMultiMediaContextMenu=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect";return{selector:t,items:r,events:{show:function(){return this.data("annotComponent").updateDeleteStatus(!0),!0},hide:function(){return this.data("annotComponent").updateDeleteStatus(!1),!0}}}},e.defaultAnnotComponentKey="annotComponent"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(62)),r=n(21),i=a(n(61));function a(t){return t&&t.__esModule?t:{default:t}}function s(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i));return a.$ui.addClass("fv__pdf-page-watermark-annot-container"),a}return c(e,t),e.prototype.getTileConfig=function(t,e){var n=this.pdfViewer,o=n.getSmartScale(t),r=n.config.tileSize,i=this.annot,a=i.getDeviceRect(1,e),s=i.getDeviceRect(o,e),c=s.right-s.left,u=s.bottom-s.top;return[Math.ceil(u/r),Math.ceil(c/r),c,u,r,o,t,e,a.left,a.top]},e.prototype.render=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,a=arguments[2],c=this.annot;if(this.scale=e,this.rotate=o,c.isEmpty()||c.isDeleted()||c.rectIsEmpty())return this.renderDestroy(),Promise.resolve();var u=this.tileCanvas,l=c.getBorderWidth();if(!l)return u&&u.hideContainer(),Promise.resolve();var f=this.getTileConfig(e,o);return u||(u=this.tileCanvas=new i.default((function(t,e,o,i,a,s,u,l){return n.getPDFPage().getAnnotBitmap(c.getId(),(0,r.pt2px)(s),n.rotate,{x:u*s+e*a,y:l*s+t*a,width:o,height:i})}),this.$ui)),u.setVisibleRect(a),u.showContainer(),(t=u).redraw.apply(t,s(f))},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={play:{name:"play",nameI18nKey:"viewer_:contextmenu.annot.play",callback:function(){this.data("annotComponent")},disabled:function(){return this.data("annotComponent").readOnlyDisabled()}},pause:{name:"pause",nameI18nKey:"viewer_:contextmenu.annot.pause",callback:function(){this.data("annotComponent")},disabled:function(){return this.data("annotComponent").readOnlyDisabled()}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data("annotComponent").removeAnnot()},disabled:function(){return this.data("annotComponent").deleteDisabled()}}};e.getSoundContextMenu=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect";return{selector:t,items:o,events:{show:function(){return this.data("annotComponent").updateDeleteStatus(!0),!0},hide:function(){return this.data("annotComponent").updateDeleteStatus(!1),!0}}}},e.defaultAnnotComponentKey="annotComponent"},function(t,e,n){"use strict";function o(t,e,n){for(var o=0;o<n.length;o++,e++){var r=n[o];t.setInt8(e,r)}}function r(t,e,n){for(var o=0;o<n.length;o++)t.setUint8(e+o,n.charCodeAt(o))}Object.defineProperty(e,"__esModule",{value:!0}),e.encodeWAV=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments[2],i=arguments[3],a=new ArrayBuffer(44+t.length),s=new DataView(a);return r(s,0,"RIFF"),s.setUint32(4,36+t.length,!0),r(s,8,"WAVE"),r(s,12,"fmt "),s.setUint32(16,16,!0),s.setUint16(20,1,!0),s.setUint16(22,e,!0),s.setUint32(24,n,!0),s.setUint32(28,n*e,!0),s.setUint16(32,e,!0),s.setUint16(34,i,!0),r(s,36,"data"),s.setUint32(40,t.length,!0),o(s,44,t),s}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=h(n(51)),r=h(n(495)),i=h(n(497)),a=h(n(499)),s=h(n(500)),c=h(n(501)),u=h(n(502)),l=h(n(503)),f=h(n(504)),p=h(n(505)),d=h(n(506));function h(t){return t&&t.__esModule?t:{default:t}}var g=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pdfViewer=e,this.actionOptions=e.actionOptions;var n=this.actionOptions.remoteGotoActionInit;n&&n()}return t.prototype.get=function(t,e){switch(t&&t.getType()||null){case"TypeURI":return new r.default(t,e);case"TypeLaunch":return new i.default(t,e);case"TypeNamed":return new a.default(t,e);case"TypeJavaScript":return new s.default(t,e);case"TypeSubmitForm":return new c.default(t,e);case"TypeResetForm":return new u.default(t,e);case"TypeImportData":return new l.default(t,e);case"TypeHide":return new p.default(t,e);case"TypeGoto":return new f.default(t,e);case"TypeGoToR":return new d.default(t,e);default:return new o.default(t,e)}},t}();e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(51)),r=a(n(20)),i=a(n(265));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return s(e,t),e.prototype.active=function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.default,o=this.annot.pdfViewer,a=o.customs;Promise.resolve((a.URIActionCallback||r.default)(this.getURI())).then((function(t){if(!1!==t){var r=e.getURI();if(/\w*:\/\/[\s\S]*/.test(r)){if("file"===r.match(/(\w*):\/+[\s\S]*/)[0])return}else r="http://"+r;if(o.getSafeReadingMode()){var a=o.i18n.t("viewer_:pdfjs.launchURLHint");return o.viewerUI.confirm(a+"\n"+i.default.toASCII(r)).then((function(){window.open(r),n(!0)}),(function(){return n(!1)}))}window.open(r)}})),t.prototype.active.call(this)},e.prototype.getURI=function(){return this.action.getURI()},e.prototype.setURI=function(t){return this.action.setURI(t)},e}(o.default);e.default=c},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(51)),r=a(n(498)),i=a(n(20));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o));return i.fileSpec=i.getFileSpec()&&new r.default(i.getFileSpec())||null,i}return s(e,t),e.prototype.active=function(){var e=this.annot.pdfViewer.customs;Promise.resolve((e.launchActionCallback||i.default)(this.getFileSpec())).then((function(t){})),t.prototype.active.call(this)},e.prototype.getFileSpec=function(){return this.action.getFileSpec()},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.fileSpec=e}return t.prototype.getChecksum=function(){return this.fileSpec.getChecksum()},t.prototype.getCreationDateTime=function(){return this.fileSpec.getCreationDateTime()},t.prototype.getDescription=function(){return this.fileSpec.getDescription()},t.prototype.getDict=function(){return this.fileSpec.dict},t.prototype.getFileData=function(){return this.fileSpec.fileData},t.prototype.getFileName=function(){return this.fileSpec.getFileName()},t.prototype.getFileSize=function(){return this.fileSpec.fileSize},t.prototype.getModifiedDateTime=function(){return this.fileSpec.modifiedDateTime},t.prototype.getSubtype=function(){return this.fileSpec.subtype},t.prototype.isEmbedded=function(){return this.fileSpec.isEmbedded},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(51)),r=i(n(20));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return a(e,t),e.prototype.active=function(){var e=this,n=this.annot.pdfViewer.customs;Promise.resolve((n.namedActionCallback||r.default)(this.getName())).then((function(t){if(!1!==t){var n=e.pdfViewer.getPDFDocRender();switch(e.getName()){case"NextPage":n.nextPage();break;case"PrevPage":n.prevPage();break;case"FirstPage":n.goToPage(0,{x:0,y:0});break;case"LastPage":var o=n.doc.getPageCount();n.goToPage(o-1,{x:0,y:0})}}})),t.prototype.active.call(this)},e.prototype.setActionData=function(t){return this.action.setActionData(t)},e.prototype.getName=function(){return this.action.getName()},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(51)),r=i(n(20));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return a(e,t),e.prototype.active=function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=this.annot.pdfViewer.JSEngine,i=void 0,a=this.annot.pdfViewer.customs;return o.getEnableJS()?n?Promise.resolve((a.javascriptActionCallback||r.default)(this.getScript())).then((function(t){!1!==t&&(o.initEvent(e.getType(),e.source,e.target,e.name),o.exec(e.getScript()))})):!1!==(i=(a.javascriptActionCallback||r.default)(this.getScript()))&&(o.initEvent(this.getType(),this.source,this.target,this.name,this.param),i=o.exec(this.getScript())):((a.javascriptDisabledActionCallback||r.default)(),i={rc:!0}),t.prototype.active.call(this),i},e.prototype.setTypeName=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.type=t,this.name=e},e.prototype.getType=function(){return this.type},e.prototype.getScript=function(){return this.action.getScript()},e.prototype.setScript=function(t){return this.action.setScript(t)},e.prototype.setParam=function(t){this.param=t},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(51)),r=i(n(20));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return a(e,t),e.prototype.active=function(){var e=this,n=this.annot.pdfViewer.customs;Promise.resolve((n.submitFormActionCallback||r.default)({flags:this.getFlags(),url:this.getURL(),fieldNames:this.getFieldNames()})).then((function(t){if(!1!==t)if(e.annot.pdfViewer.getSafeReadingMode()){if(!n.submitFormActionCallback){var o=e.annot.pdfViewer.i18n.t("viewer_:pdfjs.safeModeSubmit",{URL:e.getURL(),interpolation:{escapeValue:!1}});if(!confirm(o))return}e.annot.pdfViewer.pdfViewerRender.pdfDocRender.doc.getPDFForm().submitForm(e.getURL(),e.getFieldNames(),e.getFlags())}else e.annot.pdfViewer.pdfViewerRender.pdfDocRender.doc.getPDFForm().submitForm(e.getURL(),e.getFieldNames(),e.getFlags())})),t.prototype.active.call(this)},e.prototype.setActionData=function(t){return this.action.setActionData(t)},e.prototype.getFlags=function(){return this.action.getFlags()},e.prototype.getURL=function(){return this.action.getURL()},e.prototype.getFieldNames=function(){return this.action.getFieldNames()},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(51)),r=i(n(20));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return a(e,t),e.prototype.active=function(){var e=this,n=this.annot.pdfViewer.customs;Promise.resolve((n.resetFormActionCallback||r.default)(this.getFlags(),this.getFieldNames())).then((function(t){!1!==t&&e.annot.pdfViewer.pdfViewerRender.pdfDocRender.doc.getPDFForm().resetForm(e.getFieldNames(),e.getFlags(),e.source)})),t.prototype.active.call(this)},e.prototype.setActionData=function(t){return this.action.setActionData(t)},e.prototype.getFlags=function(){return this.action.getFlags()},e.prototype.getFieldNames=function(){return this.action.getFieldNames()},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(51)),r=i(n(20));i(n(3));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return a(e,t),e.prototype.active=function(){var e=this.annot.pdfViewer.customs;Promise.resolve((e.importDataActionCallback||r.default)(this.getFDFFileSpec())).then((function(t){})),t.prototype.active.call(this)},e.prototype.getFDFFileSpec=function(){return this.action.getFDFFileSpec()},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(51)),r=i(n(20));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return a(e,t),e.prototype.active=function(){var e=this,n=this.annot.pdfViewer.customs;Promise.resolve((n.gotoActionCallback||r.default)(this.getDestination())).then((function(t){!1!==t&&function(t,e){var n=e.getPDFDocRender();if(!t)return;n.getPDFDoc().getPageByIndex(t.pageIndex).then((function(n){switch(t.zoomMode){case"ZoomXYZ":var o=t.zoomFactor;0===o?e.getPDFDocRender().goToPage(t.pageIndex,{x:t.left,y:t.top},0!==t.top):e.zoomTo(o).then((function(){e.getPDFDocRender().goToPage(t.pageIndex,{x:t.left,y:t.top},0!==t.top)}));break;case"ZoomFitHorz":e.zoomTo("fitWidth").then((function(){e.getPDFDocRender().goToPage(t.pageIndex,{x:t.left,y:t.top},0!==t.top)}));break;case"ZoomFitPage":e.zoomTo("fitHeight").then((function(){e.getPDFDocRender().goToPage(t.pageIndex,{x:t.left,y:t.top},0!==t.top)}));break;case"ZoomFitRect":var r=e.getPDFViewerRender().scrollWrap.getScrollHost(),i=r.clientWidth,a=r.clientHeight,s=e.getPDFPageRender(t.pageIndex);s.getPDFPage().then((function(n){var r=n.getDeviceRect({left:t.left,top:t.top,bottom:t.bottom,right:t.right},1,s.getRotation()),c=r.right-r.left,u=r.bottom-r.top;o=Math.min(i/c,a/u),e.zoomTo(o).then((function(){e.getPDFDocRender().goToPage(t.pageIndex,{x:t.left,y:t.top},0!==t.top)}))}));break;default:e.zoomTo("fitWidth").then((function(){e.getPDFDocRender().goToPage(t.pageIndex,{x:t.left,y:t.top},0!==t.top)}))}}))}(e.getDestination(),e.pdfViewer)})),t.prototype.active.call(this)},e.prototype.getDestination=function(){return this.action.getDestination()},e.prototype.setActionData=function(t){return this.action.setActionData(t)},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(51));r(n(20));function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return i(e,t),e.prototype.active=function(){var e=this,n=this.annot.pdfViewer.getPDFDocRender().getPDFDoc();this.getFieldNames().forEach((function(t){var o=n.getPDFForm().getField(t);o&&o.setHidden(e.getHideState())})),t.prototype.active.call(this)},e.prototype.getFieldNames=function(){return this.action.getFieldNames()},e.prototype.getHideState=function(){return this.action.getHideState()},e.prototype.setActionData=function(t){return this.action.setActionData(t)},e}(o.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(51)),r=s(n(20)),i=s(n(65)),a=s(n(95));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return c(e,t),e.prototype.active=function(){var e=this,n=this.annot.pdfViewer,o=n.resourceGenerator(i.default.PDF_DOCUMENT_CLOSING,a.default.OBJECT_URL).expose().URL,s=this.annot.pdfViewer.customs,c=this;Promise.resolve((s.remoteGotoActionCallback||r.default)(this.getDestination())).then((function(t){if(!1!==t){var r=e.action.getFileSpec();if(r.isEmbedded()){var i=e.getDestination();e.action.getFileSpecStream().then((function(t){var e=new Blob(t,{type:"application/pdf"}),n=o.createObjectURL(e);window.open(location.href+"#FOXITPDFREMOTE");window.addEventListener("message",(function(t){t.source!==window&&t.data.isReady&&t.source.postMessage(Object.assign({foxitSdkActionType:c.action.getType(),foxitSdkActionUrl:n,foxitSdkActionFileName:c.action.getFileSpec().getFileName()},i),window.location.origin)}),!1)}))}else{var a=n.i18n.t("viewer_:dialog.action.remoteGoto.message");n.viewerUI.alert(a+"("+r.getFileName()+")")}}})),t.prototype.active.call(this)},e.prototype.getDestination=function(){return this.action.getDestination()},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(508),r=n(515),i=c(n(536)),a=c(n(39)),s=c(n(541));function c(t){return t&&t.__esModule?t:{default:t}}function u(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function l(t){return t+"yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))}var f=[],p=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.events={},this.curEvent=null,this.PDFViewer=e,this.hasInitAnnots=!1;var a=e.config.enableJS;this.enableJS=null==a||a;var s=new o.jsApp(this,e),c=new r.JSDoc(this),u=e.config.noJSFrame;setTimeout((function(){i.default.initJSEnv(n,s,c,u)}),0),this.cacheJSDoc=c,this.PDFViewer.eventEmitter.on("open-file-success",(function(t){n.cacheJSDoc.dirty=!1,(0,r.cleanFieldMap)()})),this.PDFViewer.eventEmitter.on("will-close-document",(function(t){n.cacheJSDoc.dirty=!1,n.events={},n.curEvent=null,(0,r.cleanFieldMap)()})),this.PDFViewer.eventEmitter.on("doc-modified",(function(){n.cacheJSDoc.dirty=!0}))}return t.prototype.setStatus=function(t,e){this.status=t,this.eventSource=e},t.prototype.getEvent=function(t){return t?this.events[t]:this.events[this.cacheJSDoc.timeStamp||this.curEvent]||{}},t.prototype.getEnableJS=function(){return this.enableJS},t.prototype.setEnableJS=function(t,e){var n=this.enableJS;if(this.enableJS=t,!n&&t&&e){var o=e.getJsNameTree(),r="";for(var i in o)r+=o[i]+"\n";var a=e.action;a&&a.getScript&&(r+=a.getScript()),this.initEvent(13,null,null,"Init"),this.exec(r,!0)}},t.prototype.getPDFDoc=function(){return this.PDFViewer.currentPDFDoc},t.prototype.getFieldValue=function(t){return this.getPDFForm().getField(t).getValue()},t.prototype.getPDFForm=function(){return this.getPDFDoc().getPDFForm()},t.prototype.destroyEvent=function(t){t.target=null,t.engineTarget=null,t.source=null,t.doc=null},t.prototype.initEvent=function(t,e,n,o){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};"Init"==o&&(this.events={},this.cacheJSDoc.cleanFields());var i=new s.default;i.engineTarget=n,i.target=this.cacheJSDoc.getField(n&&n.getName()),i.name=o,i.source=this.cacheJSDoc.getField(e&&e.getName()),i.type=t,i.rc=!0,i.v="";var c=l((new Date).valueOf()+""+o);for(e&&(c+=e.getName()+"_"),n&&(c+=n.getName());this.events[c];)c+="p";for(var u in i.timeStamp=this.curEvent=c,this.events[c]=i,i.change="",r)i[u]=r[u];switch(o){case a.default.FieldKeyStroke:i.v=n.getValue(),i.changeEx=n.getValue();break;case a.default.FieldRecalculateValue:case a.default.FieldValueChanged:i.v=n.getValue();break;case"WillPrint":break;case"Focus":case a.default.AnnotReceiveInputFocus:i.v=n.getValue();break;case"DidPrint":break;case"Blur":case a.default.AnnotLoseInputFocus:i.v=n.getValue();break;case"WillSave":break;case"Format":case a.default.FieldWillFormat:i.rc=!0,i.v=n.getValue()}return c},t.prototype.closeDoc=function(){this.PDFViewer.pdfViewerRender.pdfDocRender.destroy()},t.prototype.postRunScripts=function(t){var e="";switch(t.name){case a.default.FieldRecalculateValue:e=t.rc,void 0!==t.value&&t.valueSetted&&t.engineTarget.setValue(t.value);break;case a.default.FieldWillFormat:t.rc&&t.engineTarget.showDisplayValue(t.value),e={rc:t.rc,format:t.format,value:t.value};break;case a.default.FieldKeyStroke:e=t.change,e={rc:t.rc,format:t.format,change:e};break;case a.default.FieldValueChanged:e={rc:t.rc,format:t.format,value:t.value}}return"calculate"==this.status&&(this.getPDFForm().calculate(this.eventSource),this.status=""),this.destroyEvent(t),delete this.events[t.timeStamp],t=null,e},t.prototype.handleJavaScripts=function(t,e,n){var o=void 0,r=this.events[n.event]||{};try{if(this.isBusy=!0,o=i.default.exec(t,!!e,n),this.isBusy=!1,"boolean"==typeof o)return this.postRunScripts(r)}catch(t){0,this.isBusy=!1,r.rc=!0,this.postRunScripts(r),o=-1}return o},t.prototype.delayHandle=function(){var t=this;setTimeout((function(){if(t.isBusy)t.delayHandle();else for(var e=f.pop();e;)t.exec.apply(t,u(e)),e=f.pop()}),10)},t.prototype.exec=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.enableJS?(n.event=n.event||this.curEvent,this.handleJavaScripts(t,e,n)):{rc:!0}},t}();e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.jsApp=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=l(n(509)),i=l(n(510)),a=l(n(512)),s=l(n(514)),c=n(9),u=l(n(265));function l(t){return t&&t.__esModule?t:{default:t}}var f=function(){return Object.assign({},{type:"static_text",whiteSpace:"pre-wrap",name:"",item_id:"msg",char_width:60,font:"dialog",border:"none"})},p=function(t){return{callback:function(t){},initialize:function(){},description:{name:"alert",first_tab:"cncl",elements:[t]}}},d=new s.default,h=function(){function t(e,n){for(var o in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.jsEngine=e,this.viewerApp=n,this._calculate=!0,this._fullscreen=!0,this._fs=d,this.dialogQueue=Promise.resolve(),this)"function"==typeof this[o]&&(this[o].toString=function(){return"function(){[native code]}"})}return t.prototype.popUpMenu=function(){for(var t=this.viewerApp.i18n.t("viewer_:pdfjs.popupMenu"),e={},n=function n(o){var r=1;return function(i){var a=Object.prototype.toString.call(i);if(a.indexOf("String")>-1&&"-"!==i){var s=void 0;s=void 0!==o?o+"-"+r:String(r),t+=s+". "+i+" \n",e[s.trim()]=i,r++}else if(a.indexOf("Array")>-1){var c=void 0;c=o?o+"-"+r:String(r),t+=c+". "+i[0]+" \n",e[c.trim()]=i[0],void 0!==o?i.slice(1).forEach(n("  "+o+"-"+r)):i.slice(1).forEach(n("  "+r)),r++}}},o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];r.forEach(n());var a=prompt(t,"");if(null===a)return null;for(var s in e)if(e.hasOwnProperty(s)&&a.trim()===s)return e[s]},t.prototype.response=function(t){var e=t.cQuestion,n=(t.cTitle,t.cDefault);t.bPassword,t.cLabel;return window.prompt(e,n||"")},t.prototype.beep=function(t){var e=void 0;switch(t){case 0:e="error";break;case 1:e="warning";break;default:e="error"}var n=new Audio(r.default[e]);n.addEventListener("load",(function(){n.play()}),!0),n.autoplay=!0},t.prototype.alert=function(t){function e(e,n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t,e){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!this.jsEngine.getEvent().isSensitiveCheck&&!this.jsEngine.getEvent().isLoading){var r=this.jsEngine.getEvent();if(!r.isSensitiveCheck&&!r.isLoading){var i,a;t&&t.nType&&t.nType;switch(i=o,t&&void 0!==t.nType&&(i=t.nType),(a=t&&t.cMsg?t.cMsg:"")||(a=null==t?"undefined":"string"==typeof t?t:t.toString()),i){default:case 0:if(c.isMobile)alert(a);else{var s=f();s.name=a,this.dialogQueue=this.dialogQueue.then((function(t){return n._execDialog(p(s))}))}return 0;case 1:return confirm(a)?1:2;case 2:case 3:return confirm(a)?4:3}}}})),t.prototype.clearInterval=function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){clearInterval(t)})),t.prototype.clearTimerOut=function(t){clearTimeout(t)},t.prototype.launchURL=function(t){if(this.jsEngine.getEvent().isSensitiveCheck||this.jsEngine.getEvent().isLoading)this.jsEngine.sensitiveOp=!0;else{if(/\w*:\/\/[\s\S]*/.test(t)){if("file"===t.match(/(\w*):\/+[\s\S]*/)[0])return}else t="http://"+t;var e=this.viewerApp.i18n.t("viewer_:pdfjs.launchURLHint");confirm(e+"\n"+u.default.toASCII(t))&&window.open(t)}},t.prototype._execDialog=function(t){return new Promise((function(e,n){var o=new i.default(t,(function(t){e(t)}));o.initialize(),o.doModal()}))},t.prototype.execDialog=function(t,e,n){return this._execDialog(t,e,n)},t.prototype.execMenuItem=function(){console.warn("app.execMenuItem is not completed now.")},t.prototype.setInterval=function(t){function e(e,n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t,e){return setInterval(window.eval(t),e)})),t.prototype.setTimeOut=function(t,e){var n=this;return setTimeout((function(e){return n.jsEngine.exec(t)}),e)},o(t,[{key:"activeDocs",get:function(){return[this.jsEngine.cacheJSDoc]}},{key:"calculate",get:function(){return this._calculate},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck)return this._calculate=t}},{key:"constants",get:function(){return{algin:{left:0,center:1,right:2,top:3,bottom:4}}}},{key:"focusRect",get:function(){return this._focusRect},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck)return this._focusRect=t}},{key:"formsVersion",get:function(){return 7}},{key:"fullscreen",get:function(){return this._fullscreen},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck)return this._fullscreen=t}},{key:"fs",get:function(){return this._fs}},{key:"runtimeHighlight",get:function(){return this.viewerApp.highlightControls()},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck)return this.viewerApp.setRuntimeHighlight(t)}},{key:"runtimeHighlightColor",get:function(){return this.viewerApp.getDisplayHighlightColor(.2,"RGB")},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck)return this.viewerApp.setRuntimeHighlightColor(t)}},{key:"viewerVersion",get:function(){return 7}},{key:"viewerType",get:function(){return"Exchange-Pro"}},{key:"viewerVariation",get:function(){return"Business Tools"}},{key:"printerNames",get:function(){return["Web Printer"]}},{key:"platform",get:function(){var t=window.navigator.platform,e=null;return-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(t)?e="MAC":-1!==["Win32","Win64","Windows","WinCE"].indexOf(t)?e="WIN":!e&&/Linux/.test(t)&&(e="UNIX"),e}},{key:"language",get:function(){var t=void 0,e=navigator.language||navigator.userLanguage;return[{language:"zh-CN",code:"CHS"},{language:"zh-HK",code:"CHT"},{language:"zh-TW",code:"CHT"},{language:"da",code:"DAN"},{language:"de",code:"DEU"},{language:"en",code:"ENU"},{language:"es",code:"ESP"},{language:"fr",code:"FRA"},{language:"it",code:"ITA"},{language:"ko",code:"KOR"},{language:"ja",code:"JPN"},{language:"nl",code:"NLD"},{language:"nb",code:"NOR"},{language:"pt-BR",code:"PTB"},{language:"fi",code:"SUO"},{language:"sv",code:"SVE"}].some((function(n){e.indexOf(n.language)>-1&&(t=n.code)})),t}},{key:"numPlugIns",get:function(){return 2}},{key:"plugIns",get:function(){return[{name:"Annots",certified:!0,loaded:!0,path:"",version:7},{name:"Forms",certified:!0,loaded:!0,path:"",version:7}]}},{key:"media",get:function(){return new a.default(this.jsEngine)}}]),t}();e.jsApp=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={error:"data:audio/mp3;base64,SUQzBAAAAAAAJ1RTU0UAAAATAAADVVBZVU4gVHJhbnNjb2RpbmcAAAAAAAAAAAAAAP/zwMAAAAAAAAAAAABJbmZvAAAADwAAAA4AABh8ACIiIiIiIiIzMzMzMzMzRERERERERFVVVVVVVVVmZmZmZmZmd3d3d3d3d4iIiIiIiIiZmZmZmZmZmaqqqqqqqqq7u7u7u7u7zMzMzMzMzN3d3d3d3d3u7u7u7u7u/////////wAAAABMYXZjNTguMzUAAAAAAAAAAAAAAAAkAuAAAAAAAAAYfNJCphkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/zwMQAUHwOTAdawAEmXGgLFAkxKU3Mk6dc6s04bESZmMQHJlnHdmnKhwOmpVby2ZccsgYQUY4kZIcAiDNS3ZhQoGDlrEAiRDEIpdfdh6p0AhdwtgWULIFmEADTKFYQv4WUMAAEBAAwSldtdiwipExEVEVFNISw8tgAAGARkIZiGQRdhkJjWfvH7RyUGAfUuuWTL5w0X/RTdeu6aX6Adf6NhrWaRo5y5yHcsV7fPwqRh2HcnJW1hYRQBIRIhYjXJ1212MQZZLOZ/hSRu/KIxYm3bh+1Dcbt/Xlcbn5Q1tr8Py/uGGG6TD+6lEYsStyHIhyWYfnTxt/IcpOf/1425DuP5GJZSWMMKent9lD+OQ7ksl+eqljn1H8Ym1+H6enjb/w/L+aqUlJYwqRhy4fn9UljCpSP+/7tuW5blv/fiDO2vw/flEMP5GLHf/CpSUgGAAZMWhiMZldMDSOMgUPABaGRbgnPqSmaoJnuYgms5DHh4SmrooGFwTFAImIADAYPDBQCRgIjRRg1g+OGRjM2gyxCOUKzJVA2lEMrQwgqMuAjAf/zwsRSbOQWeUGd2AAJMnIjSA8AAQUCBKCCqMa+YhcUHkwyMHNJBzBSk18QNKLTdAAwwtMDCACTmCghpQwr8UFCZEMoFTgx0FHAgLx0QMTHTC0ImUzDyUILSJOAwgYIJmjppiZ6JHQ8RG6EgWK14GzFxhDUY+BGKiBoIqAAEyozNFWzA1My0oLhg0XBIYBTQORC38lfZZbpmCCxjpwAScwYmIids6uyANMRATCyMwUqNcBjBykmBn+0MgVKYSEtqt1PRCgSD42iorG7bwS6XiqKWAuDUxwYAhAEGCcsZXSohN1xAgAJETkFUJJQkaDC4sPKTa2ls6z/xuKNYguWSGXxFnb9vxJZfAk9Xv0jxvbFlJS+H3NiEXjtDHIy9Lk3HYbu3yg8XiTuO5F4xBU3XiNSV2oHr34foJZar5Z4apO7vd4zClmH2fqSN1f2TWX8lcPPz8/R5Uk9pxJC9blTVO772xjCVReVU7y0NmtnScoAAFxgMgBGya0Gigx3CwsODHM9AoiMj105eUjQYmNvloyuEjVLUMagIBCIwGOjJoLMNir/88LEM2YsEpInnNAAHjOEBdACGejmgjKAzRgTfiDDHzBIQwalCRbkAaJpEVEC8LAQN4QACxwUCApqAhw9WCo4aJGQJBi8RhQ41NAUkZoOq0CA1jAwQRapoLiSySUpnBSUapGsGYKBQO4xpgxiCwcCLyGBGpymEFmZImFLgkE0kEjAQPSjNYGMsGCBwcER9hgwAxMF0tQwwpIhS5R0cIl9luRWlZ6+wwDAgcDBC4aZsmqrAl4xESWVVWysHIV5yuN33SpfMCIKAicW2dpcW1Y3vkawVPIgShUNlyTiSzNVaI/FI0vqG5uQOsxZyUe2JOomIw1O1AIwaGmJyqJNHymyUA3N2H0pWVtfo4+1l53YZRFXmVNJ5svDKm4sqZk48teliGLxXVKEPUQGGK2Kna8y1kTIl8yBEZ/WCzrKJe2lxrLLVZUTGPtYYm4sQhl9ZI56jL3uPm5fJmRI9tbeFdD2syVlhDYIMa4xZerFnOgqMSal7QAACYAQoNjKPfMFhwzHyTCQUMu6MwqvAULDVDOM2B85YrjKRDEiWYBBaCcYE5hQ//PCxC9fZA6J45zQAUxiQkmOMnWCgvgASR0kAS5MmcMEYMOdQBEQkcRGJJGjGoEysMBmQqbHugANgqiaUyEVBQQgBAx0InCM4a8EPIUhzaGxYaWYNWWEA8jbu8YUgGETAnTHEkmwoUDgRjEI4JL6mdbmPXmDELtK35gAoQPN0kM8WByIWWGYFiMCp8GnRCVRAV6FxRgDJpQ4AFPzCm5NUXGIxIIEiEaAiTK4feZVYKAhEISFMyiMABVroIBeNiKkUWlwNiT0QvWM2N1IKeJj8vCiRJaDVg21X8n9FHYmo889pAcPAFnLJUPgGCWgPZHJc06/Q15tu1IzidoZulppRUqTcTuT0alz8P7Vzk0hlGolK5uU3ex+OUUO0fY5QcmZu3SV6CmoKstksrr1LHfp4VP3Mr9/+xDKPR37duP1KWclMpl9/f2//T+ZvVdkEKkteWU0rwi9TDOtYtCFIABMP0Bs1BIVQCAghGTAngoBE4Dl4zD5HCXgzIwKQETA7AlMMkRUxuh90Uk3QcAmycxxT45FxY8/yJgLZlzL8TnXuYlEGf/zwsRGaTwOLAue6ACTSBmwTstKi9gFA2KAAHAAZbKmaFDeY2HaZ2tBVrQDSgYGBUAQ4AwcDYKkYx+Hsw6IUw2HQzPMatAMM0kdBgGBAKGEQGJSojmW6pAqCzS50wuKpnknZn0MJiUOcZj0fiMCuk4S/03wgCxIE2gJhhgBmEwtGeq3GSRwmGhDGPoRGFgkmFALmDgSiAN5e9UNV4Khq3U0lohQHAI7dSpVi+jJ40zLAgTAkDiULzJ5BzDUZjE0MDD8WjAUHjB0BBgAzA4NzDgI6aIwzSR2U83vn75Vl7lw04i1I/P09axIL4KBlHlghgiFw6BhheHBhaDBf0Kg4YZhoDQKDAeMFBFBIDGAoBA4AssvrZd//xx+rjzdJLP/+/3WFjPD8PMAwYDgaUWAAKmCgJmCgImAANmEgOlmFSp7MHLmkABAoEkvnmWBUyk8R/mv+tl3LXf/8cf3jz8cqSc7hf5nP8zv7zn+W7agYDSZHEcDgcDgZGJNsx9TDzafmvkAXAvhoKgUn8a7ybFSKBgBAEIWmA4AAJAEmGwMGYt4OKL/88LENmiD9sJfnvIDISAMmAsACAADzO8UMNxqCY3JDmC8RgCABAYBlKpRZSRlIh3mB6F+Yyoms2py3OlgaCTtUi6Nzpxo28kEDVzKXj8SvuQ0+G3zrGWWsebmaQ5kQBEmBkR0ZwhIUmcaeppDWW58M0Zx6ugmm+TOYYguBoelUmSiPaYLIVhlYiOQRk7TawmVW3Vhqdaky65TGWcTUYGAe5wVJRGEcL2YcoCphyA3GCuG+YWIGJmGmiy+OwXHL36uZy2GYpP4/3KoZAo9Zi0hEmHsGYYKAKZhnhJmDQEWYfYdphAgEmEaB+BQGzBVA3MNAHIwHABU5XfhEAO5D/ZHbr7orDMLm78k7LMedrY+WvSgScBwCBgXgShwD8ohpxIm5Lvv2AgBFLIEuY6r5y/9bu4freOf7s8ztawyyt/97vFTuO/6VjKGmLvZfU44cjQBsvtILqb0c01h+Kmdi3e7T5/jVynrNT9/v+0GpqJ53ebzv5Y2ZgUCAVAgMFIICEzHBkwUC0xYXU+0NYCBKYiGqa0D2AidIhBMbASSMRSL0uyF//PCxClfZAZ0Ad3YAUEDA4RDAkJK5lGBQXApHkyJJIZCgaA0EkLDBwBNMCwcTFBqm6kKloBogWgzJQIqh5ADgZQMMVyJjYgBDwWOjBilYUISjExswlsN6BwYCiEACCxlYhDBUPMaIzAREBBBWCMVOFCRgqfAwgMAJoHBhmomQlCIZyg474OCwdumFlCV5c4VIC8gVDWdP8ASYaDBI4QSI2jVkYmQAJhS4BAuEIwGL3ZkTSqaRuQz2wpg2NLgGiq2FmrjCpIMDrXYaDhtPSHqezChoRgJewJE2fKEOIm8lgrVDjQWmwLBzPMYQ0iflRICVZVAeFqkuyqgotTMYd7ll08FP3HhZ1I4FsbpatiWP9DMVci3Aj1XbV2HMoo/sc3Zcegn6fuo1K4s9N2vM5Uz72rzgcn8e7huTTkQqwfGY3KsJbDFyjrzNHepqSVRmMVKK9KaSWT2r1i7Lbuu16aeuLwKC04vkIzkPMk4zQrA9KDUw6CUwVNE/d8w5YGKDRDRwFKkY2xKbmkOtyFhJ/hyRDBD+ZyEcVggoMUyKBxn4BewiP/zwsRAVgQWfALfdCBLutIbiBeiQIQ0UsTSMUHMMCJpTzkMBq5mQyihEnGDxYmDYiGCoAIiDYGfFDMdYLQIogULFg+BUSYyCgyDTiBxUwBYVIA4Md9Wl8W+OqGLBomDJujo4eOFrIsx8KoU9FeqLCAYMDBlaVgk5S4AsbLUSi0/M18bbHJnHdNQguwvpoa5VZg7u97+rmaVGMnglQ0LhqbJAz9LMkaqTQFiw1ZVWi3wuWXoalmC0mhyaW26LVSilWNDjZgG/jCZVLqePt49N/PVNT09iEx/GV5RWVx2mrflM7k03N0tNS7lMbhOdqGt0VnOXw5U+L3a9PO5yimkUNcwuXZVvVDLsKty3G6T3hlb8VJe/Ev5Ny2SZVqSXzOfK+Wt473aEKGy6IVGEHHEYBgmYaPMcCEaYPBYBBLNVwDAwFkIIGKYBsHcVRZsEMiw9ICxIADF8P13IkmPYsCoKIklm3WRLJBRUcka+l9JrGEYRiQcA4ISAApgmnlSQGDlxjLQiGGeArAEQ4VUlioRXXbIAmTU1tjxoxYkGAhABR/V0Jz/88LEfVS0FnwE7pk8ERD2IlrguZKBphjr4Bhc4EJGwoRHAIkAgmVFUIsooirDR1iwYJTOFk7/vYHbQY7L5oREBoMBEgWHLzTrkHwxBsIhL4MdLPPwRC0piUSYMM3bSoXfbNSvRTlvIAlw6HgBTiGWMSFZUGU605VC2w9nobnLDlreder2XZUVNcpal6BXQlVd0oAZpGYahl2YftuZuD8XamESATLuLdcbgdctF3IulfVGVZn25V4uJOuHh9x080kdOVx0zqq3I4nF7+GpNJw2KZahYMC02nNzo8SMtNTmJJYhfkxBTUUzLjEwMKqqqqqqqqqqqqoluQ+g0VSaDiUIguK3g0KXwwRGDCkaHEymoJAYGIS27a3YAZAYUACSqqphIYS1iBlISjAEU8gpDaURkQL6Tji77xoAdrOFk22UxQSCsiAyqKiDyhNOsExccIJOChSUJtNCrqJusBCXaJmxUEgOC4qHF30gBxFfYOmWuXiM+dRJk4HWR2KClzthKyFVXjnB0x6UsnrHQQgNERC9khKc+SSUu3AtS1L5uQxZ8J1J//PCxKxQTBaIBuZe/NaPA0DNHIsJNBj/tju7Yj8E/SS+Fqbi0choMQ73i0arWtJy7tEy0Db1JSNT6cYGobVEV+HJPw0DiRBpBycFfN4bsrC62UauWEG1vXF+4zrhpcG5mT7ZGXTCulQpynZ/M3zk1gxUwwYzd+0vpCrQyO3Ipl20oTBc19/cuS8eJxHswahubA/mMNDmGDRzrHcJIMNitBs5VUxP0qAIiIQEwHQHDAaADMIUpw01Q3zAnBVBgnx2pUGJAEAR+Z6EA8DBYDAYDwGMg0CEskFIXAhiRaumGBw4OaiEbCwNBR2QgYcDGwm40GkS+pik6nSZ1MA5fMtBhCOs4NGCRYXNaAlLwSFkVAaINCAkKCsgVQDQDTioyKhQ0pgICEAmBkQKMyCcBKwAEkmSl2EYkEERCJgQZBy+bAECAtHisA1hgQ8Y6BnDDoVEg6LBAQSCossig5HB4MMFNQAImNAy2IbNtCjAXQqAgEBQKECzIRJj6Tia8NV2sQCjCX9TKfEGES2y7AwEpLGoCKtsNiw0pqrXcj7aGBhS8H5MIP/zwsT+ZMwWbAD3NlBVrhEIMRHQJHMcBKRbxe5ddAzp8oYaJF6dHkaAGCwFSx+7UkUAXIhEoFa4/cLchrb1y+IqxMyfiK9tRa9p22ZwtwNPZUm5yPbkER058pxh61C4egLNyYap3Esyycymm+g+jbDTbiee3RgqzEX7jkPWKO7WrNvWiE3Nv5ledl9oGf6kzq2KDCNQ7AM1I5RbnrNzeFnt/qoOkozAdDZAQXCoTAvA7NMcEwwhQKTBlAcMfAF9cZgZAMGDMBOOgGF8wCAIxwDAMGCqBkKANmBOBKYPITRgGALGBsBAYdAPIGA2L1gIpMJDUGjUkcx8dAwUOACPCKhm8cBlg0QEAQaTA5pIeYyugaQMIAjDzcDRhjYeABoSLzBkwwaUMrGRYDTLIlJAGyAygLCDoSPTOAQwIuBpGa4kGHFzQzBRAIABJvNHIQCVgYCC1KlWZWImxsgCGCh6Gh4VFzGQkiIwwAeUwYrQqMWCUcmeGsBAwpDRADgZSZEykREyCCVq1nOfOGEmVFFsCwUYCDBgIHDq7U+ha/c9h40AOIr/88LE/2b0FnADXtgATf+LKaAAR62UQjjxI0vtkRDaA5tY0hPaFArptpFWiW6j8kQK154L8Qnp2I/AvYYkbCs5Io5WV12KJmwO3sxSdkv5vw7cQpIAlboU83TxyRy/CET8teSYkV6YlbKs67XpZYq3Y6tnKYeGG6PdHYlL2UEhe+NRhtb0RiNufo7MnpXifqD5x06CbiF2LT85fnr0a07NeNz+Nmlpbcut6gEYQ43poHJHggGIw9wwIarm/+UcZKgPZhVDPiEFRmStxh4g5mCoHsYNoFhgRgsPfSGNxunCipAtMzCIKTCkbgwj8u6MLSiNWwMMfSWBIIDQJmAwF5d4aFI+YsDSaIDgabFGYDgwkOYChgYSid/47NHR8NgSeMXSiMNT1MQhdMLwDMQhRfwdAUwyF/lbK1VMZjnEkEMHBHMm26MymJMWTJBIlmBYVGF4XGHIjAUMDGMYDA8O3dx5r/35g2exlOLZiQbpkYboYUgYI4FA4wCGoIGwGgQCgKQZMFAlMKApZinyYAgwMgR+v////DjkMsQ9MOQUMBBaMWSH//PCxPhnw7ZQA57oATDMGy8piQGZgYFYVBwLBkTDKUAuYShQBgPUxSOFARQZMBgFSRoXVCoEJpL+///f////+FwCYACgTJAEGQIAIKlyQCBRVB0Kgk5ZYAQtegssoLgfDMNSuHXShTAX2kTAd7fWU0r6//////////+IQBL8l0QcDrzFQCCYEEvkx1yhQAVFIuRACs9SoCAWtjj+RtwXlYE0plymS8kimXTVO7OMqnppypFFTEFNRTMuMTAwqqqqqqqqqqqqqqqqAlZVvVpAgyZUZmWDoYCGKlBmZgZKJItAQdNXgjnaQ5lyMhAzQGc3h1NcMxAPGhrxoyaaEcmXD4QCGUohqKcZ6OEoqZcgmbMGPDA4E1sCBTEBwgC3AGggAFMIFBQFtC3RgwRfJ4y6pd5AMmFC1yoqrpljSlMUxVNYwgmLTIpOMxkCijJljJiE6zCEzMFzHA1WAUsZxmb6GbpSEFDOtDgvjYmC65lFpqWxu3Rs0QYPMwxN05NURHAxnVRnD5mCJiga6DBjjJkAUSSdMMNAQJ+qbcZf2W3I1GaWl//zwsTZW6P9CZXb0AEfyy3jVjMtwlT/S67GY1TU1reONa1NO0/1uGXJh25DUZjMts1qamy3Ko1Ls5S/strRqzrLL8asMxVuKQqYMUUyQeWtBqmK7nejVeGXdis0/0t53//VNaiTWmvUcMuTDtA/0trU3caWlpb0Ray12ifZyn6vxF2mdONTuCzl+Zp2pbzLv/ulszLku7YdpyoeoXZjVr4ooKpMQU1FMy4xMDCqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqo=",warning:"data:audio/mp3;base64,SUQzBAAAAAADBVRDT04AAAAHAAADT3RoZXIAVElUMgAAACEAAAPDlcK+wrPCpMOLw5jCssOEKHNjLmNoaW5hei5jb20pAFRYWFgAAAApAAADY29tbWVudADDlcK+wrPCpMOLw5jCssOEKHNjLmNoaW5hei5jb20pAFRBTEIAAAAhAAADw5XCvsKzwqTDi8OYwrLDhChzYy5jaGluYXouY29tKQBUWFhYAAAAJgAAA1RZRVIAw5XCvsKzwqTDi8OYwrLDhChzYy5jaGluYXouY29tKQBUWFhYAAAALAAAA2x5cmljcy1jaGkAw5XCvsKzwqTDi8OYwrLDhChzYy5jaGluYXouY29tKQBUUEUxAAAAIQAAA8OVwr7Cs8Kkw4vDmMKyw4Qoc2MuY2hpbmF6LmNvbSkAUFJJVgAAABEAAEF2ZXJhZ2VMZXZlbAB7DAAAUFJJVgAAAA4AAFBlYWtWYWx1ZQAhewAAVFNTRQAAABMAAANVUFlVTiBUcmFuc2NvZGluZwAAAAAAAAAAAAAA//uQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAARAAAdYgAcHBwcHCoqKioqKjg4ODg4OEdHR0dHR1VVVVVVVWNjY2NjY3FxcXFxcX9/f39/f46Ojo6OnJycnJycqqqqqqqquLi4uLi4x8fHx8fH1dXV1dXV4+Pj4+Pj8fHx8fHx//////8AAAAATGF2YzU4LjM1AAAAAAAAAAAAAAAAJAJAAAAAAAAAHWJUiMoVAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//uQZAAI81BSOKmGTTAAAA0gAAABD/09FhTGAAAAADSCgAAEAJAVbVtVpKZFAPBHOIWq2r/9/TOMqjc8XwGpRbVm9nOIhwsIPKmlLVlTqk4uIts2C6zjCOE6TWIRcTihGldXJzE6/9Xu5ue5Re2xf91F72NzYLpMubYnC/8zc3JRacSI1Llm5v+5ubjbcKr218Dh21VYSCYlBMD5PfzU4Cw/o2wXxLBoTIvqSxHecmxIdX/S7B+dk+BkzXnZPilOZiWjcbucKDs/YZEMRyeeVX4weOQ2P70c6862s67FJ9juO4zisY4Fi9X0kV5zfXktX0ziwwP2N9gSCYeV5iI7fmWKHZPfYcxYspkJmSy2/Hz3Do0EgdDgjCIRAQTrYEsCm0aRgGMVvUeViS3EjDGkRylySjhmxgdxXG/fuMiSRxdNidBmjkuuwE9DCzgACh524Etu/qKQKGCGWCgu/cTj0zSTkIrLFQBQplk465sKGgVI5TIeySkfyWUsDwmlS4MgQxBERJGtCvGsqtyilD8zEtp6LO+rhOtx77bvBFKSekMd//uSZEmABw1hTG5nIAAAAA0gwAAAGIVhVfmcAAAAADSDAAAA7XlGrFB9i3Us8zl0sYApoXbfNphjil83vpu6jd7tLe7Uln2Kt3VJR7uWtloyy6a7E0v2TwI4brq4pf//////////5+HP//////tssjF2wzkyiYAQAQBRngYBAUAwGkHUoYnESIx7LX2ulnAECj5bFhUPhACWAlaFlstL1KXQU6SkQcdGWRRZdkAR9lTeO+XrcJbwQJgEu3FJFYpZ5dKpUJKwxfHH+x+KQPKKK/J00XwjrVWYSScfnt6iksUpLkowuyuT3KatfiMQy53/ktNUm7+GqXCT09qNWsKaNSXnLef4Ycp62X0EooOXr04+1FJqCdlupmzbsW6etup+dr62W7n4b+r/43c8f//////+1ij6yyI8AAAAAJmuneg/VEzFQEeKTqBQDEqDqVrgJqhUMARsYFhmLYpnAWLGKKRhIUQhxiIgYaNmhG5sAjByWEPJjRJ+nKW2NBa73HpZTP7lqMwoBF7GGN2et/KRhqsIkOlz0vlFmLwxDDwoBQEGlv/7kmQ1hvYzStNPb2ACAAANIOAAARVdOU3OYZVAAAA0gAAABO1xrBLPgiPRNMVlLS4Bp2TTWD/OnA09RQLbtcvRvLnMr9itTUkZkeql7dqpL4blj+UWGu00WlU5Kae5LK9PKrmFPT50dWlraxzq4U9vDD8+6u5Uk0iMZdj/2/+E8qAAGnjg/chdiKQM8RZcw2jU4pDbiDnQ4lWIBmYJpAVA5MAJibUeYe3JgJgkhGbxXF37ncu4y1hICCLbyv7q1pdOonAprrWIdoLMaXkhKOPAlFPHtyO+zqRMoCNyu/Fo3yasOCiByW52t8vRJVNpEm/9bxxjMFQdK8Zl2+uror6tqfPFMRN33LLmoDYDiy9v8xQiUHcc1eZd7vZv/w12uTMp2gVO4C4AFgaqLJMAYAACAAADkWKMvaXbdpCe8CW4YABk5It4snXkYGALxqoDwuJIsAj3G2mt9SQ+2r8rHMQBRZ8st6q1Y02BNQOB1atjr/rtLMGgJ87tacwyyX2ikWta64N+9N+9aEtUi3Gfuo1qn+MJykxGnjYVhoCGrN9Rb1//+5JkO4D1UFfTe49HEgAADSAAAAEVIT9HjeF1QAAANIAAAAQrutoSjEIkUB0TFXLFi4hiFbMtiyi4YepW4MQQgUqan1KE+pMTc39CCIj/enAs73/qMfMfIAAAAAASrePMwSwuxw0bBYXOSQR4MgeO3mxMDUgZaVmVnQEGEV1gViMoeGqmOF00MYYMjbu35XjNI7AqTfYT2Vj5XEW4SudrWq9FA0uR9UFdWb+3WjyYggKzVtbvZzGcgtB8WTKZjG/nT226M/X7Oa1lW+5N1LPP2fYeBIMS2nq1uG8fScfW10RvTDEhTJLcXSwxLzptZxhyp1WVzLUuPuuO1En4qc4lSmQAEAAAAAAmIwa6Cy3jhuUPiSESbmmbOQNdjLxRsyR03Ng0ClSxY0jguUL2MIXMKeMEDmrTdS/+zmbYFY2cVkg2lit0kHTKvryy5awsq0fQ4jNgB/FubTQuLpNQySrrgSsVvn831ONlVVn6wrcn+7++K8JIg02W6GCsYNTis+LnSDvhMlikI33fwWMvR9gbE87DK10pXL9l8Nvw+7I0njDi//uSZFED9FRD0nNPTTIAAA0gAAABEUEvPgykdcgAADSAAAAEPKkUAVdLk62bufGkvmDLmgaGRfzJVW2rmclNrREBRdk1iA6kWsmPxFCwhD6ECASPoCoqZVILApphps+nLEBV9IVftNybfGJk2qik2cVDyN0KqPGJB/Wj5nZTUeirQ99kilXPilC1JvX1MkFgW9M9uS9WijVIAAAoTqNmBhM+noBoC7lwS9A2kfNpCfDqtqDvjzYS0lhTTr6bRZJ4MBDWpfKSRW+tNZ0JdR9FoESoS5ZNBUoEEItQojmGniTQQ+UEl2jbC0q0rXXh3y3h6ddciVZ2TBckcziirgehSNAZ//BC9VFvbbD+cdzXwGIUtXJkggAJRl0QUGadflbKnPS9fCGpVFokuZp8OkA4nWgEGTxCKh4gEIZMo3QPQuQZSclrRBOhIVkwfNVbmVlRMyqowXWXZRY487H3C4MAjCh934SVB4MMiU7pzLTUxkJIdkTZZNuLmDTXU1EBKdsxfyYRNaZebMNoNoF76p5CoAAAADFBRYyxmsMXkErZDFXWev/7kmSFg/PjStBDDDSQAAANIAAAAQ81GT0MJNFAAAA0gAAABKHn1dKYo6WMhkGwZlZh+IjEkaFIhx1RImTWSm5pemaqa0tganV45rygnCp5BOcqu2JrRqSubsN6cJM0rOC87KpQIunHIKrtIUqe+ElJtKu9xtIi9MqHIehJgdJn8l/+1v/oACwIIGAAC0nnp44a4wsCsLQO5BxkypGIg9lMw3htzpmzrSXtgSuahaJc2lQ1AdiWU4OOHFZgRtBD7SNht6kx0CmgsKMsGLlujJo1SXYYoZ+kj4ACGCAmbBlqBADoNWqt2My+extwucHgQXCIapaFvhkDAFBGozLIaq137qX5flgnokmY0KhISPHi4OERN5WdSK7EpZA8Ay3CM0taWO5PwwkwOAlWp4GAKFwRZi3QLgZa+jty1wW4QVA7k8yfi3J5Rbmrkss0/QSJac6NE0FDdnSqq11Nl0TP1qb///////7n////////8YZP2mdWhoiFhWdkRrvNrbI2gADIQYqAaiJaD0cpgMDy+YABJhMIigBQFGAwUYQF5UIZlSP/+5JkyYADtUFP5WEgAgAADSCgAAEdXYEbGa0AAAAANIMAAADhAiMHDsws9M7Ozt3A0sHkb1Gok5sRwBA00x3MxRjVR5f0NNeBwuRAjS1vNCYe87oz8qcJQZWUu3GlrwwmVRgQAFgkvbEZxpTYlBntSbhxpj0PA6q5SIMWQ+S5XK1T9Xkps7DQ4Ga5AjXWT4NxdiBlV5BFrUq07NyNP85MBuBDTbvi6kMZwbDM1DbrZulp6u1ZTr62NWq4rfNbcedrUMzF5dduXcKWcs6q1Q0HcjKf3EhxONwOCQ2GMJAkAgAE8beG31SsmvGwQ+6YODjQhowECDB2nZaYkZCILMeNzBAd+XVP9kxb1FIPf9y6wFINAgAXKxLveliiYEArHAB5csYlMUovzDCwyLwGPJQAYAZASaaeZisGQWuUHSq4gRTGLNPVqRTZgrSLAMLRmR4KBkeR0FWiXtJjluWw1Rw/DExFJu+4S2H6aarbDK3oddqEtu0d/KK3UwvZ9tZVXCtQdBeDrvhH5ZFm3jzWmCv+0yIOhz//n7//905JG4KpalLT//uSZNeABwdJUP5zYAAAAA0gwAAAHFU/M7m8gBAAADSDAAAAZ0e4W/dE883Uikows2v6hifgqH76IEAAAD8FUBYq/bwTjiukyyMx19JK6anbhOyygIye4gBRn4QQuJLlWaQ9Tef5TWgn6n3BVPXZxqZXKlgWHiPY1avFwWE8ag9nZQHyfrCXJDDMsb4sK2rH1mKp2TotdFGfbaquiJ1sqjnmkcZsMZ0p85k64rCAqfieZXNYcF0ha4MhUSsU1G1WlmkzGaCamUYch9phFLgv6BPYvk6TRxmKM+TXSa4VzabsiPUDcwttUQ8guLdElhv82vSPOS0CQ5oiAIAGFjEQKjURYEqbyJjN6jkUDS3wF2sOiUs2Ss0SwIIChzo5Dxql4JQp2qT9qMmoq+mZoGGkNtrh31CCKDCVP1aMTRUlOYZL7EMgdtLhR0tVvWnmYx6xlBrLMkyxsDF0laVDE00KNMUg9G5M71O8LjkL5XTVO6ABEQAAAAMEoxh4VBpHvglBugQB4LtD0PUQtitHcL8I4Ogv51nGJIdI/znW106HyDiAg//7kmS0gvXhVEzHZeACAAANIOAAAQ8BNUXHpM/AAAA0gAAABBBml4QPYmd4wHOZpTjUBRbgOosqTjBpkqeYy3aT3p3aO0Z3b/2zd2aHxHTKxHi3cvEgM9OxTkSzdc2bgwhDpvSRQQKg9bFSKuhe4pUAQRhlVdUkCp7GKB8YWahkQLpyiQNMCAFW4woNBATQ1vnpngbnOJqsJJoATUcPDoi5A6RtPjpiGoUKTHWeZhg6GpgklOgYNAO/bXHbgB3l6M0bG762mku0tEuuGDsPa2/S4Ef33X0vFW9myPaDSChbB7V0WH7ijW1lo5y+XOxSx5+AKGMY5vQCeW1pYb1vVk5+Oo1hMQlNqLFjeMPOwXfbYpNkKpy5SzeWZWa26savjyd5O4kGhOFAA0IW8tYqS0NAAgAAAAMWBFdRF9YKWWMk43AHTEgQBQAZPAbpF7jHdJNumUw8CJIw9iA0DzCxWBIRBAEQrljV0nkGjLQDX40F7qGVU6TJEfZnN8lCuhaRm8Yk0GRmXHMchgny5D6v4tkEVKqK4Ze9LyVwagPoF2Ii7z7/+5Jk2QHz6EnS8e8xcAAADSAAAAEYBSVJbmWPwAAANIAAAATx9eZuJLkb1rcdc7QXPT4axL5hucuYCkHDcgo79PVXvhf8/XHIMwaOEMte0ZlQsOYsfgtE2v/IBWJaljkbR6fq2FTLDJ2vpt61bX5T8v1/cnOlgd1gxLvyZSwCAAAA2bjLHDrrLU6MYgYmCjcHApq60jAhNONlEDCNqDtMfiAJDBlUxGVAdDMjwtvgZZHeqsfzOMrfYudBtbnMZ2XIIlLKLd+kT2QvCKOvTaxbkXeJDtkhNNOwIpkqMoAweXY4u0xJEFRxmlm/H2VOu0Fl8j+/DMJay+j8WMasM2FnwkShUMiA+QPihyElG/7gzKEHLkTXlresUDToQRfMdybFBZF/u/8OVWtQAgAAAAAAAUiGr5l2UCDAVDFZwslw4Bw/m6k67AUGJ0iSDwEg2o3idKd4MARq4VsOma16bwFCR66rvleZgoQmSmz3CUWoALhzmtyuFXhGEaQF3tqzUgsxEziKX9DsxlecICiNfyqRu9thooO396pjQYTitzyZ1rkz//uSZPkD9mNRU3OZZVAAAA0gAAABFVkPVc5hM4gAADSAAAAE9M7tH+vdQfSUdiFnF4ZFnCh5hUIMde5K3DcLSOfTt1Gwe7uXUpZqt9bbufq3rt/+WO//LjtPv4TPAhP85rPyVoABEwExWNuxI3ySvMTBHAyBhcDUGV9w6pUYCAecXreYBAKqZT5cYwPARyTAQQhKFmfQ6+rrUccHGwMQ7saxg+346lM0/34rTVAo2wfHN+J+y+4umyyVXH/qx0YMNjuFwzBjrzUpTQH04HlDpy3T/Er6/71aG7tLOA1VUMeudnpVgX+tYfn8xcIgYpGtXu8iVz692lxwjbQs6ZmJgOgQRSPixW0rAyqtt4Nx2xFOerBdEV7SFu/b0Qv/+frV8tTyykxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqfQCAAAAAABqtFdpCy482NFwwspgMLodYa1SDWqAwIHdFQBgvzBeiCrgA0IhE4NBbnc76h4s2z2zf7ivKtf+bsbmE9IVV3J9Q+/gsmM45xq7BQP/7kmT8BvXLWlR7mVzgAAANIAAAARgBW0ku5XPAAAA0gAAABMUA9RWTxCesLAGIiFWeUZ+gUoKEyfH6mUslBMHP8bXx932S0VrDsCGDbeJthQPjronGBwEo8fEPCALB8qQ9JDVC2/VVd1Uul89s8/+9f/lSjNvsABKA5FGIsndVq6QoCwYsYE0BUGK7Y0IQeYaoxoOKmBhAWrVjKAIRApXZVtBzsE24lKaebMRNXuNPTWvxQpnO/qVVET0odVbExWQbMlBpuqSVZx4wlD3CXteh6H50ZBA2yENarf3gXsLttpFn9fa88K3jMDajZlGdRrAiBdWU/PcwCgVY3Fl0ZSZ+p2qcCcK6TUXAGNarvZUK5BOLmZpTuWfHbaCCYVI1I49MQU1FMy4xMDCqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqpJUAEAAB9AABeJgJp1kTHLWAUPMiFsOCbponvxAzeGGSQc1Co0H2WQA+r4x8QJX5znb9WmRyT5VUcOCIrI3oTNo6O/y22J2a/f/83ZREn/+5Jk6Ab1HVbT65hEcAAADSAAAAEVbSdHbmUxwAAANIAAAAR/MKnI4FWUmdSU7vLAjxb28a3aiqzN93M7X0KQsD/ju9uAmn26mvz0b3iKg7KjTbZWDwkMV1qKmJqMHmQ2FAXDxBTJcBNl0fmjAAAwAAAAQJTsGQHHl9jgaMA4oRgZrhEGYkIwCKAoxnNzoswMPhEIAiJi8xYMlzTApvDAu5Fi7SZ3DEPSraRk28ZfFsUX+M25VYm2GK+7fxkdVsZwqtChiT1JywIIkI2hxrOHo2wsCjMSpppypVEY2GLX4znuUQY+Is1LLFJH6FYAaEfOGKs5RXc8refb05XaPB0/rCtnYvfvLHCRABnF4K05G76zZG/ba2/nXjuuSKuFT+pFTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUpAAAAACoAAF4oEZWsKxqZboxkzdtVDEljSiKppGDKZ8AghC/z9xpyHZBQaRBdNnzW5tPpjzeTL301Z//uSZOYA9LREVHuYLHAAAA0gAAABFoUtQ05lM8AAADSAAAAEmE9/3tVppxtfz8tI7qmleGGV2UEgNEI/3uGZ+I11WucZPdLdqxukMkUe2fhyMBH7gw83oBV/1fd/rtUXMyx8XEzViqX7w+381u81qg64FJqx3D47AGAAEgSnHKLk32YpvGdRUIxvGBgBc9pjxGCgkHDwYlACOs/LJk0k7iAUAwFovPSm1SEqR4ER1MyibvNSpfvXLOmqKEUm5dWjESMUWAyuxPyGNjhBg7THehcXkbcQaRmt14cJiVpppDN/HZdTzDZQLMiDKc4ei/IZYNIreNDK62IAETmxRhITMecU9KFVG2Wji0C7PwgQio8VG8BEkM6qnEy1vOfuM3/mVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVSmAYAAACAAABUoAKqun9yWLLzjUtoalKg0plLuGGhx+wG51SihxmEKQ/j2OO98IQurKIjWmZDUg7HX//twluVnerLxojSfCYxp6q//7kmTchPRvTVR7b0cQAAANIAAAARUtNUWO4ROAAAA0gAAABAT3WMqeesugLNnJmkqZ6T13c7dsyhfbmZa7q/K1g7W7V7LUTfliZsgYlHJCwqkaXpFeHPIjjCxKLh4+ULDDt7nDq/UmAAJCGITwoAmsAgAFgcm9nYnDAwOFqhphkTmPzSbR8Z7QdGSBcDAOYLHZAMEakgb7KoOjedE4RgWX7n8bnv+1hrNq5Z3Mu2kE887B0tvsHKhSizsx5riuIRNDhWDSqal7GmWp1DeKCRPtDkpec8mgx9Yu69I6gp+OuBIofuwtP8u9Tuo5HJmWihZqKagy9MZ/fr27FSxFf1fy1OUE/nf/l3Kkzsdyps7NvOraxoLdb7/eVdVcbrERthVMQU1FMy4xMDBVVVWUgAAABJpLQABGcoWEIyBAUMB0BmDgYYmJRmNamJggZOXBicFiqzGjYYNsoZNQriTGgBMJV0wgFHBB5nDRDOM1Q5iRIAPLPuMEIEwc2ALBQCG1vP0i++jsXFO3sTTXfmsR0wEo8bNGoRItzWLADNJQjUx9rzv/+5Jk5IT0cUPTe3gccAAADSAAAAEXJS9AlcwACAAANIKAAARYltbRATG41Cih6eXKx9tW6oAHMZ8s9nCimlH2KS9kTWhYGq4Fm21FgduULyc6NR9472U7ParU3c9WcblWvLKsYgSYf+V08CTFLQV5+H6TWM3b7qtZqS+vSYz93H3HgvF5HUkz/wHNu5GP/////////+5c7///////4S+X25ZSWJfT26SksU9P////4EDGraAAABARclN0elZN4txOjSUTeT4gw9RClUiRbQcoGUAIRj5cuXLjIyWrQUFBQYKCgoKN/wUG/+BQKCisjgoKfF+KCgov//IFFfFBv/4X//Tf/gUK//v/+FX/+kv/8gUV0FBgr4QUCiugoMFPCgoFTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//uSZPmACBVmUmZzIAAAAA0gwAAADew7Vbz2AAgAADSDgAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ=="}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(3),i=(o=r)&&o.__esModule?o:{default:o};n(511);var a=n(9);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var c=function(){function t(){s(this,t),this.storeMap={},this.itemMap={}}return t.prototype.setStore=function(t,e){this.storeMap=t,this.itemMap=e},t.prototype.updateStoreByElements=function(t,e){var n=this;t.map((function(t){if(t.type&&"gap"!==t.type&&"ok"!==t.type&&"ok_cancel"!==t.type&&"ok_cancel_other"!==t.type)if("cluster"!==t.type&&"view"!==t.type){if(t.item_id)switch(t.type){case"check_box":case"radio":var o=(0,i.default)("#"+e+" #"+t.item_id).is(":checked");n.storeMap[t.item_id].value=o;break;case"static_text":case"button":var r=(0,i.default)("#"+e+" #"+t.item_id).text();n.storeMap[t.item_id].value=r;break;case"edit_text":var a=(0,i.default)("#"+e+" #"+t.item_id).val();n.storeMap[t.item_id].value=a}}else n.updateStoreByElements(t.elements,e)}))},t.prototype.getAlignStyle=function(t){var e="";switch(t){case"align_left":e+="text-align:left;";break;case"align_center":e+="text-align:center;";break;case"align_right":e+="text-align:right;"}return e},t.prototype.getElementStyle=function(t){var e="";if(t.width&&!a.isMobile&&(e+="width:"+t.width+"px;"),t.height&&(a.isMobile?e+="min-height:200px;":e+="height:"+t.height+"px;"),t.char_width&&!a.isMobile&&(e+="width:"+10*t.char_width+"px;"),t.char_height&&(e+="height:"+10*t.char_height+"px;"),"edit_text"===t.type){var n="resize:none;";t.width||t.char_width||(n+="width:100%;"),e+=n}else"check_box"===t.type||t.type;t.align_children&&(e+=this.getAlignStyle(t.align_children)),t.alignment&&(e+=this.getAlignStyle(t.alignment)),t.multiline||"static_text"!==t.type&&"edit_text"!==t.type||(e+="white-space: nowrap;");var o;return(o=t.whiteSpace)&&(e+="white-space: "+o+";"),t.bold&&(e+="font-weight:600;"),t.italic&&(e+="font-style:italic;"),t.border&&(e+="border:"+t.border),e},t.prototype.buildWithWrapper=function(t,e){var n="js-item-wrapper";return e&&"button"===e.type&&(n+=" btn-wrapper"),'<div class="'+n+'">'+t+"</div>"},t.prototype.buildCheckBox=function(t,e){var n=t.name,o=this.storeMap[t.item_id],r="";o&&!0===o.value&&(r='checked="'+o.value+'"');var i='<input type="checkbox" '+r+' name="'+n+'" id="'+t.item_id+'" style="'+e+'"/><span>'+n+"</span>";return i=this.buildWithWrapper(i)},t.prototype.buildRadio=function(t,e){var n=t.name,o=t.group_id,r=this.storeMap[t.item_id],i="";r&&!0===r.value&&(i='checked="'+r.value+'"');var a='<input type="radio" '+i+' name="'+o+'" id="'+t.item_id+'" style="'+e+'"/><span>'+n+"</span>";return a=this.buildWithWrapper(a)},t.prototype.buildStaticText=function(t,e){if(name=t.name?t.name:"",name=unescape(name.replace(/\\/g,"%")),t.item_id){var n=this.storeMap[t.item_id];n&&n.value&&(name=n.value+"")}var o="";t.item_id&&(o='id="'+t.item_id+'"');var r="<div "+o+' style="'+e+'">'+name+"</div>";return r=this.buildWithWrapper(r)},t.prototype.buildButton=function(t,e,n){if(!n){n=t.name?t.name:"",n=unescape(n.replace(/\\/g,"%"));var o=this.storeMap[t.item_id];o&&o.value&&(n=o.value+"")}n||(n='<span style="color: transparent;">A</span>');var r='<button style="'+e+'" type="submit" id="'+t.item_id+'" class="pdf_js_btn btn btn-outline btn-xs btn-circle ">'+n+"</button>";return r=this.buildWithWrapper(r,t)},t.prototype.buildEditText=function(t,e){var n=t.readonly?'readOnly="true"':"",o=this.storeMap[t.item_id],r="";o&&o.value&&(r=o.value),0==r.length&&(r=t.value);var i="";return i=t.multiline?t.readonly?'<div style="'+e+';height:unset" name="" id="'+t.item_id+'" '+n+'><pre style="white-space:pre-line">'+r+"</pre></div>":'<textarea style="'+e+'" name="" id="'+t.item_id+'" '+n+'">'+r+"</textarea>":t.password?'<input style="'+e+'" type="password" value="'+r+'" name="" id="'+t.item_id+'" '+n+"/>":t.SpinEdit?'<input style="'+e+'" type="number" value="'+r+'" name="" id="'+t.item_id+'" '+n+"/>":'<input  style="'+e+'" type="text" value="'+r+'" id="'+t.item_id+'" '+n+"/>",i=this.buildWithWrapper(i)},t.prototype.buildListBox=function(t,e){},t.prototype.buildView=function(t,e){var n="";for(var o in t.elements)n+=this.JSWindowToHTML(t.elements[o]);var r="js-view-component";return"align_row"===t.align_children&&(r+=" children-in-row"),'<div class="'+r+'" style="'+e+'">'+n+"</div>"},t.prototype.buildCluster=function(t,e){var n="";for(var o in t.elements)n+=this.JSWindowToHTML(t.elements[o]);var r="js-cluster-component";"align_row"===t.align_children&&(r+=" children-in-row");var i=t.name?t.name:"";return'<div class="'+r+'" style="'+e+'position:relative;"><fieldset style="text-align: left; border-color: gray; border-style: solid; border-width: 1px;"><legend style="background:white"><span>'+(i=unescape(i.replace(/\\/g,"%")))+"</span></legend><div>"+n+"</div></fieldset></div>"},t.prototype.buildOkCancelOther=function(t,e){var n="",o=this.buildButton({item_id:"jscancle",type:"button"},"",t.cancel_name?t.cancel_name:"Cancel"),r=this.buildButton({item_id:"jsok",type:"button"},"",t.ok_name?t.ok_name:"Ok"),i=this.buildButton({item_id:"jsother",type:"button"},"",t.other_name?t.other_name:"Other");return"ok"===t.type?n=r:"ok_cancel"===t.type?n=r+o:"ok_cancel_other"===t.type&&(n=r+i+o),n?'<div class="js-buttons " style="'+e+'">'+n+"</div>":""},t.prototype.JSWindowToHTML=function(t){t&&t.item_id&&t.type&&(this.itemMap[t.item_id]||(this.itemMap[t.item_id]={}),this.storeMap[t.item_id]||(this.storeMap[t.item_id]={}),this.storeMap[t.item_id].type=t.type,this.itemMap[t.item_id].type=t.type);var e=this.getElementStyle(t),n="";switch(t.type){case"button":n=this.buildButton(t,e);break;case"check_box":n=this.buildCheckBox(t,e);break;case"radio":n=this.buildRadio(t,e);break;case"list_box":case"hier_list_box":break;case"static_text":n=this.buildStaticText(t,e);break;case"edit_text":n=this.buildEditText(t,e);break;case"popup":break;case"ok":case"ok_cancel":case"ok_cancel_other":n=this.buildOkCancelOther(t,e);break;case"view":n=this.buildView(t,e);break;case"cluster":n=this.buildCluster(t,e)}return n},t.prototype.buildDialogWrapper=function(t,e){return'<div id="'+t+'" class="js-window-modal modal fade bs" ><div class="js-modal-dialog modal-dialog " style="'+e+'" ><div class="modal-content "><div class="modal-header" ><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><div class="modal-title">JavaScript Window</div></div><div class="modal-body" >{body}</div><div class="js-warning-footer" ><div class="js-warning" ><span >Warning: JavaScript Window</span></div></div></div></div></div>'},t}(),u=function(){function t(e,n){s(this,t),this.componentUtils=new c,this.callback=n,this.dialogId="jsWindow",this.monitor=e,this.width=void 0,this.height=void 0,this.storeMap={},this.itemMap={},this.componentUtils.setStore(this.storeMap,this.itemMap)}return t.prototype.updateComponents=function(){if((0,i.default)("#"+this.dialogId).length>0)for(var t in this.itemMap){this.itemMap[t].disabled?(0,i.default)("#"+this.dialogId+" #"+t).addClass("disabled"):(0,i.default)("#"+this.dialogId+" #"+t).removeClass("disabled")}},t.prototype.enable=function(t){for(var e in t){var n=t[e];this.itemMap[e]||(this.itemMap[e]={}),this.itemMap[e].disabled=!n}this.updateComponents()},t.prototype.end=function(t){this.callback&&this.callback(t),(0,i.default)("#"+this.dialogId).hide()},t.prototype.load=function(t){for(var e in t){var n=t[e];this.updateStoreItem(e,n)}},t.prototype.store=function(){if(0===(0,i.default)("#"+this.dialogId).length)return{};this.componentUtils.updateStoreByElements(this.monitor.description.elements,this.dialogId);var t={};for(var e in this.storeMap){var n=this.storeMap[e];t[e]=n.value}return t},t.prototype.updateStoreItem=function(t,e){this.storeMap[t]={value:e}},t.prototype.getStore=function(){return this.storeMap},t.prototype.getCallbacks=function(t){var e="";for(var n in t)if("description"!==n&&"initialize"!==n&&"validate"!==n&&"commit"!==n&&"destroy"!==n){var o=t[n];"function"==typeof o&&(this.itemMap[n]||(this.itemMap[n]={}),""!==e&&(e+=","),e+="#"+n,this.itemMap[n].callback=o)}return e},t.prototype.initialize=function(){var t=this,e="";void 0!==this.monitor.description.width&&(this.width=this.monitor.description.width,e+="width:"+this.width+"px;"),void 0!==this.monitor.description.height&&(this.height=this.monitor.description.height,e+="min-height:"+this.height+"px;"),this.monitor.initialize(this);var n="";for(var o in this.monitor.description.elements)n+=this.componentUtils.JSWindowToHTML(this.monitor.description.elements[o]);var r=this.dialogId,a=this.componentUtils.buildDialogWrapper(r,e),s=this.getCallbacks(this.monitor);(0,i.default)("#"+r).length>0&&(0,i.default)("#"+r).remove();var c=a.replace("{body}",n);return(0,i.default)("body").append(c),this.updateComponents(),(0,i.default)("#"+r+" #jsok").off("click").on("click",(function(e){t.monitor.validate&&t.monitor.validate(t),t.monitor.commit&&t.monitor.commit(t),t.monitor.ok&&t.monitor.ok(t),t.monitor.destroy&&t.monitor.destroy(t),t.end("ok")})),(0,i.default)("#"+r+" #jscancle, #"+r+" .close").off("click").on("click",(function(e){t.monitor.cancel&&t.monitor.cancel(t),t.monitor.destroy&&t.monitor.destroy(t),t.end("cancel")})),(0,i.default)("#"+r+" #jsother").off("click").on("click",(function(e){t.monitor.other&&t.monitor.other(t),t.monitor.destroy&&t.monitor.destroy(t),t.end("other")})),(0,i.default)("#"+r+" .modal-dialog").off("click",s).on("click",s,(function(e){var n=e.target.id;t.itemMap[n].callback&&t.itemMap[n].callback(t)})),!0},t.prototype.doModal=function(){(0,i.default)("#"+this.dialogId).show()},t}();e.default=u},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=n(513),a=(o=i)&&o.__esModule?o:{default:o};var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype.addStockEvent=function(){},t.prototype.alertFileNotFount=function(){},t.prototype.alertSelectFailed=function(){},t.prototype.argsDWIM=function(){},t.prototype.canPlayOrAlert=function(){},t.prototype.computerFloatWinRect=function(){},t.prototype.constrainRectToScreen=function(){},t.prototype.createPlayer=function(){},t.prototype.Events=function(t){return new a.default(t)},t.prototype.getAltTextData=function(){},t.prototype.getAltTextSettings=function(){},t.prototype.getAnnotStockEvents=function(){},t.prototype.getAnnotTraceEvents=function(){},t.prototype.getPlayers=function(){},t.prototype.getPlayerStockEvents=function(){},t.prototype.getPlayerTraceEvents=function(){},t.prototype.getURLData=function(){},t.prototype.getURLSettings=function(){},t.prototype.getWindowBorderSize=function(){},t.prototype.openPlayer=function(){},t.prototype.removeStockEvents=function(){},t.prototype.startPlayer=function(){},r(t,[{key:"align",get:function(){}},{key:"canResize",get:function(){}},{key:"closeReason",get:function(){}},{key:"ifOffScreen",get:function(){}},{key:"layout",get:function(){}},{key:"monitorType",get:function(){}},{key:"openCode",get:function(){}},{key:"over",get:function(){}},{key:"pageEventNames",get:function(){}},{key:"raiseCode",get:function(){}},{key:"raiseSystem",get:function(){}},{key:"renditionType",get:function(){}},{key:"stauts",get:function(){}},{key:"trace",get:function(){}},{key:"version",get:function(){}},{key:"windowType",get:function(){}}]),t}();e.default=s},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){o(this,t);var e=arguments[0];this.change="",this.changeEx="",this.events=[],this.init(e)}return t.prototype.init=function(t){for(var e in t){var n={};n[e]=t[e],this.add(n)}},t.prototype.add=function(t){for(var e in t)this.events[e]||(this.events[e]=[]),this.events[e]=t[e]},t.prototype.dispatch=function(){},t.prototype.remove=function(t){},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=n(266),a=(o=i)&&o.__esModule?o:{default:o};var s=2,c=function(){function t(e,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._backgroudColor=a.default.yellow,this._clickAdvances=!1,this._isFullScreen=!0,this._cursor=s,this._defaultTransition="",this._escapeExits=!1,this._loop=!1,this._timedelay=3,this._transitions="",this._usePageTiming=!1,this._useTimer=!1}return r(t,[{key:"backgroudColor",get:function(){return this._backgroudColor},set:function(t){}},{key:"clickAdvances",get:function(){return this._clickAdvances},set:function(t){}},{key:"cursor",get:function(){return this._cursor},set:function(t){}},{key:"defaultTransition",get:function(){return this._defaultTransition},set:function(t){}},{key:"escapeExits",get:function(){return this._escapeExits},set:function(t){}},{key:"isFullScreen",get:function(){return this._isFullScreen},set:function(t){this._isFullScreen=t}},{key:"loop",get:function(){return this._loop},set:function(t){}},{key:"timedelay",get:function(){return this._timedelay},set:function(t){}},{key:"transitions",get:function(){return this._transitions},set:function(t){}},{key:"usePageTiming",get:function(){return this._usePageTiming},set:function(t){}},{key:"useTimer",get:function(){return this._useTimer},set:function(t){}}]),t}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cleanFieldMap=e.JSDoc=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=p(n(516)),a=p(n(517)),s=n(38),c=p(n(518)),u=p(n(63)),l=n(116),f=p(n(535));function p(t){return t&&t.__esModule?t:{default:t}}var d=function(t){return t.jsEngine.getPDFDoc()},h=function(t){return t.jsEngine.getPDFForm()},g={},m=function(){function t(e){for(var n in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.jsEngine=e,this._dirty=!1,this._layout="",this._arrTemplate=new Array,this.printParams=new a.default(this.jsEngine,this),this.annotManage=u.default,this)"function"==typeof this[n]&&(this[n].toString=function(){return"function(){[native code]}"})}return t.prototype.addField=function(t,e,n,o){switch(e){case"text":e=6;break;case"button":e=1;break;case"combobox":e=4;break;case"listbox":e=5;break;case"checkbox":e=2;break;case"radiobutton":e=3;break;case"signature":return null}return h(this).addControlSync({fieldName:t,fieldType:e,pageIndex:n,rect:{left:o[0],top:o[1],right:o[2],bottom:o[3]}}),this.getField(t)},t.prototype.getOCGs=function(){var t=[],e=d(this).ocgs;for(var n in e.children)v(e.children[n],t,d(this));return t},t.prototype.getPrintParams=function(){return this.printParams},t.prototype.getTemplate=function(t){if(!t||""===t)return null;if(this._arrTemplate.length<=0){var e=d(this).visibleTemplates;if(e&&e.length>0)for(var n=0;n<e.length;n++){if(t===e[n].name)return new c.default(e[n],!1,d(this))}if((e=d(this).invisibleTemplates)&&e.length>0)for(var o=0;o<e.length;o++){if(t===e[o].name)return new c.default(e[o],!0,d(this))}return null}for(var r=0;r<this._arrTemplate.length;r++){var i=this._arrTemplate[r];if(i.name===t)return i}return null},t.prototype.removeTemplate=function(t){if(!t||""===t)return!1;if(d(this)){var e=this;d(this).removeTemplate(t).then((function(n){for(var o=0;o<e._arrTemplate.length;o++){if(e._arrTemplate[o].name===t){e._arrTemplate.splice(o,1);break}}}))}},t.prototype.print=function(t,e,n,r,i,a,s,c,u){var l=this;if(!this.jsEngine.PDFViewer.webPDFSRPromise&&!this.jsEngine.getEvent().isSensitiveCheck){var f=void 0;f="object"==(void 0===t?"undefined":o(t))?{startIndex:t.firstPage,endIndex:t.lastPage,silent:t.interactive,printType:["page","annot"]}:u?{startIndex:u.firstPage,endIndex:u.lastPage+1,silent:u.interactive,printType:["page","annot"]}:{ui:t,startIndex:e,endIndex:n,silent:r,shrinkToFit:i,asImage:a,reverse:s,printType:c?["page","annot"]:["page"]},h(this).addTask((function(t){return l.jsEngine.PDFViewer.printPDFDocument(f)}))}},t.prototype.addAnnot=function(t){return"FileAttachment"!==t.type&&"Sound"!==t.type?this.annotManage.addAnnot(t,this.jsEngine.PDFViewer):this.annotManage.showFileDialog(t)},t.prototype.syncAnnotScan=function(){return d(this).getAnnots()},t.prototype.getAnnots=function(t){var e=this,n=-1,o=l.ANFB_ShouldNone,r=l.ANSB_None,i=!1;t&&(t.nPage>=0&&(n=t.nPage),t.nSortBy>=0&&(r=t.nSortBy),t.nFilterBy>=0&&(o=t.nFilterBy),t.bReverse&&(i=t.bReverse));var a=this.numPages,s=d(this).pageCache,c=0,u=[];if(-1!==n&&(c=n),c>=a)return null;var f=function(){var t=s[c];if(!t)return c++,"continue";var e=Object.keys(t.annotIdMap);if(!e.length)return c++,"continue";var o=e.map((function(e){return{pageIndex:c,annot:t.annotIdMap[e]}}));if(u.push.apply(u,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(o)),-1!==n)return"break";c++};t:do{switch(f()){case"continue":continue;case"break":break t}}while(c<a);var p=[];return u.map((function(t){var n=t.pageIndex,o=t.annot,r=e.annotManage.getAnnot(o,n);r&&p.push(r)})),this.annotManage.getAnnots(p,o,r,i)},t.prototype.getAnnot=function(t,e){var n,o=d(this).pageCache;if(!(n=o[t]))return null;var r=Object.keys(n.annotIdMap);if(!r.length)return null;var i=r.map((function(t){return n.annotIdMap[t]})).find((function(t){return t.getId()==e}));return this.annotManage.getAnnot(i,t)},t.prototype.calculateNow=function(){},t.prototype.closeDoc=function(){this.jsEngine.getEvent().isSensitiveCheck||this.jsEngine.closeDoc()},t.prototype.getField=function(t){if(!t)return null;var e=d(this).getPDFForm().getField(t),n=void 0;return e||(n=d(this).getPDFForm().getField(t,!0))?g[t]?g[t]:g[t]=new i.default(this.jsEngine,e,n):null},t.prototype.getNthFieldName=function(t){if("number"!=typeof t&&(t=parseInt(t),isNaN(t)))throw new Error("Invalid index number: "+t);return d(this).getPDFForm().getFieldByIndex(t).getName()},t.prototype.getPageBox=function(t,e){return[0,0,612,792]},t.prototype.getPageRotation=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return 90*d(this).pageCache[t].getRotation()},t.prototype.getURL=function(){},t.prototype.removeField=function(t){delete g[t],h(this).removeField(t)},t.prototype.resetForm=function(t){if(!this.jsEngine.getEvent().isSensitiveCheck){var e=void 0,n=this.jsEngine.PDFViewer.getCurrentActivatable();n&&n.annot&&(e=n.annot.getField()),h(this).resetForm(t,0,e)}},t.prototype.submitForm=function(t,e,n,r,i,a,c,u,l,f,p,d,g,m,v,y,b,w,_,P,O,E,x,C){var A=this.jsEngine.PDFViewer;if(!this.jsEngine.getEvent().isSensitiveCheck){var S=0;1===arguments.length&&"object"===o(arguments[0])&&(t=arguments[0].cURL,e=arguments[0].bFDF,n=arguments[0].bEmpty,r=arguments[0].aFields,i=arguments[0].bGet,a=arguments[0].bAnnotations,c=arguments[0].bXML,u=arguments[0].bIncrChanges,l=arguments[0].bPDF,f=arguments[0].bCanonical,p=arguments[0].bExclNonUserAnnots,d=arguments[0].bExclFKey,g=arguments[0].cPassword,m=arguments[0].bEmbedForm,v=arguments[0].oJavaScript,y=arguments[0].cSubmitAs,b=arguments[0].bInclNMKey,w=arguments[0].aPackets,_=arguments[0].cCharset,P=arguments[0].oXML,O=arguments[0].cPermID,E=arguments[0].cInstID,x=arguments[0].cUsageRights,C=arguments[0].bHTMLForm),i&&(S|=s.FormActionFlags.FlagGetMethod),l&&(S|=s.FormActionFlags.FlagSubmitAsPDF),d&&(S|=s.FormActionFlags.FlagExclFKey),C&&(S|=s.FormActionFlags.FlagExportFormat);var D=A.i18n.t("viewer_:pdfjs.safeModeSubmit",{URL:t,interpolation:{escapeValue:!1}});confirm(D)&&h(this).submitForm(t,r,S)}},t.prototype.cleanFields=function(){g={}},t.prototype.createIcon=function(t,e,n){return{name:"",stream:t,width:e,height:n}},r(t,[{key:"author",get:function(){return d(this).getMetadataValue("Author")},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck)return d(this).setMetadataValue("Author",t)}},{key:"calculate",get:function(){return h(this).calculationEnabled},set:function(t){return h(this).calculationEnabled=t}},{key:"creationDate",get:function(){return d(this).getMetadataValue("CreationDate")},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck)return d(this).setMetadataValue("CreationDate",t)}},{key:"dirty",get:function(){return this._dirty},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck)return this._dirty=t}},{key:"docID",get:function(){return d(this).info.fileID.slice(0,2)}},{key:"creator",get:function(){return d(this).getMetadataValue("Creator")},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck)return d(this).setMetadataValue("Creator",t)}},{key:"documentFileName",get:function(){return d(this).info.fileName}},{key:"external",get:function(){return!1}},{key:"filesize",get:function(){return d(this).info.filesize}},{key:"info",get:function(){return d(this).metadata}},{key:"icons",get:function(){return d(this).getNameTreeIcons()}},{key:"keywords",get:function(){return d(this).getMetadataValue("Keywords")}},{key:"layout",get:function(){switch(this.jsEngine.PDFViewer.getPDFDocRender().getViewMode().constructor.getName()){case"continuous-view-mode":return"OneColumn";case"single-page-view-mode":return"SinglePage";case"'multipage-view-mode'":return"TwoColumnLeft";case"facing-page-view-mode":return"TwoPageLeft"}}},{key:"modDate",get:function(){return d(this).getMetadataValue("ModDate")}},{key:"numFields",get:function(){return d(this).getPDFForm().getFieldCount()}},{key:"numPages",get:function(){return d(this).getPageCount()}},{key:"path",get:function(){return"c:/fakepath/"+d(this).info.fileName}},{key:"pageNum",get:function(){var t=this.jsEngine.PDFViewer,e=t.getCurrentActivatable();return e&&e.annot?e.annot.getPage().getIndex():t.getPDFDocRender().getCurrentViewMode().getCurrentPageIndex()},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck)return t>=this.numPages&&(t=this.numPages-1),this.jsEngine.PDFViewer.goToPage(t,0,0,!1),t}},{key:"templates",get:function(){}}]),t}(),v=function t(e,n,o){for(var r in e.hasLayer&&n.push(new f.default(e.id,e,o)),e.children)t(e.children[r],n,o)};e.JSDoc=m,e.cleanFieldMap=function(){for(var t in g){g[t].destroy(),delete g[t]}g={}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(38);function i(t,e){var n=t.getPDFForm(),o=n.fieldWidgets[e&&e.getName()];return!o||o.length<1?null:n.fieldWidgets[e.getName()][0]}function a(t,e,n,o){t&&t[n].apply(t,o),e&&e.forEach((function(t){t[n].apply(t,o)}))}var s=function(){function t(e,n,o){for(var r in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.jsEngine=e,this.field=n,this.fields=o,this.targetField=this.field||this.fields[0],this._readonly="",this._required="",this._value="",this)"function"==typeof this[r]&&(this[r].toString=function(){return"function(){[native code]}"})}return t.prototype.destroy=function(){this.fields=null,this.field=null,this.targetField=null,this.jsEngine=null},t.prototype.setItems=function(t){return a(this.field,this.fields,"setItems",[t]),t},t.prototype.buttonGetIcon=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=i(this.jsEngine,this.targetField).getIconObjNum(t);return"number"==typeof e?{_objNum:e}:e},t.prototype.buttonSetIcon=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;a(this.field,this.fields,"setIconObj",[t,e])},t.prototype.browseForFileToSubmit=function(){},t.prototype.buttonGetCaption=function(t){switch(t||(t=0),t){case 0:t="normalCaption";break;case 1:t="downCaption";break;case 2:t="rolloverCaption"}return i(this.jsEngine,this.targetField).getMKProperty(t)},t.prototype.buttonImportIcon=function(t,e){var n=this;return new Promise((function(t){$("#jsBrowserFile").length>0&&$("#jsBrowserFile").remove(),$("body").append('<input id="jsBrowserFile" type="file" style="display: block;" accept="image/*"/>'),$("#jsBrowserFile").off("change").on("change",(function(e){var o=e.target.files[0];if(!o)return-2;var r=new FileReader;r.readAsArrayBuffer(o),r.onload=function(){var e=new Uint8Array(r.result);n.buttonSetIcon(e,0),t(0)}})),$("#jsBrowserFile").click()}))},t.prototype.buttonSetCaption=function(t,e){if(!this.jsEngine.getEvent().isSensitiveCheck){switch(e||(e=0),Array.isArray(t)&&1===t.length&&(t=t[0]),"string"!=typeof t&&(t+=""),e){case 0:e="normalCaption";break;case 1:e="downCaption";break;case 2:e="rolloverCaption"}a(this.field,this.fields,"setMKProperty",[e,t])}},t.prototype.checkThisBox=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.jsEngine.getEvent().isSensitiveCheck){var n=this.field;if(n.getType()===r.FieldType.RadioButton||n.getType()===r.FieldType.CheckBox){var o=n.getWidget(t);if(!o)return;e?n.setValue(o.getOnAS()):n.getValue()===o.getOnAS()&&n.setValue("Off",null,!0)}}},t.prototype.clearItems=function(){this.jsEngine.getEvent().isSensitiveCheck||a(this.field,this.fields,"clearItems",[])},t.prototype.defaultIsChecked=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.jsEngine.getEvent().isSensitiveCheck&&this.targetField&&(this.targetField.getType()===r.FieldType.RadioButton||this.targetField.getType()===r.FieldType.CheckBox)){var n=i(this.jsEngine,this.targetField),o="Off";e&&(o=n?n.getOnAS():"Yes"),a(this.field,this.fields,"setDefaultValue",[o])}},t.prototype.deleteItemAt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.field.getValueIndex();if(!this.jsEngine.getEvent().isSensitiveCheck){if("number"!=typeof t&&(t=parseInt(t)),void 0===t)throw new Error("invalid parameter, expected integer.");a(this.field,this.fields,"deleteItems",[t])}},t.prototype.getArray=function(){},t.prototype.getItemAt=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("number"!=typeof t&&(t=parseInt(t)),void 0===t)throw new Error("invalid parameter, expected integer.");var n=this.targetField;if(n.getType()===r.FieldType.ListBox||n.getType()===r.FieldType.ComboBox){var o=n.getOptions();-1===t&&(t=o.length-1);var i=o[t];return e?i.value:i.lable}return""},t.prototype.insertItemAt=function(t,e,n){if(!this.jsEngine.getEvent().isSensitiveCheck&&this.targetField){var o=this.targetField;o.getType()!==r.FieldType.ListBox&&o.getType()!==r.FieldType.ComboBox||a(this.field,this.fields,"insertItemAt",[t,e,n])}},t.prototype.isBoxChecked=function(t){var e=this.targetField;if(!this.targetField)return!1;if(e.getType()===r.FieldType.RadioButton||e.getType()===r.FieldType.CheckBox){var n=e.getWidget(t);if(n)return"Off"!=n.getAS()}return!1},t.prototype.isDefaultChecked=function(t){if(!this.targetField)return!1;var e=this.targetField;if(e.getType()===r.FieldType.RadioButton||e.getType()===r.FieldType.CheckBox){var n=e.getWidget(t);if(n)return e.getDefaultValue()===n.getOnAS()}return!1},t.prototype.setAction=function(t,e){a(this.field,this.fields,"setAction",[-1,e])},t.prototype.setFocus=function(){this.targetField&&this.targetField.focus()},o(t,[{key:"alignment",get:function(){if(this.targetField)return"";switch(this.targetField.getAlignment()){case 0:return"left";case 1:return"center";case 2:return"right"}},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck){var e=0;switch(t){case"left":e=0;break;case"center":e=1;break;case"right":e=2}return a(this.field,this.fields,"setAlignmentWithString",[e,t]),t}}},{key:"borderStyle",get:function(){return this.targetField.getBorderStyle()},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck)return a(this.field,this.fields,"setBorderStyle",[t]),t}},{key:"charLimit",get:function(){return this.targetField&&this.targetField.getMaxLength()},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck)return a(this.field,this.fields,"setMaxLength",[t]),t}},{key:"comb",get:function(){return!!r.FieldFlag.isComb(this.targetField&&this.targetField.getFlags())},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck)return a(this.field,this.fields,"setComb",[t]),t}},{key:"currentValueIndices",get:function(){return this.targetField&&this.targetField.getValueIndex()},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck)return a(this.field,this.fields,"setValueByIndex",[t]),t}},{key:"defaultValue",get:function(){return this.targetField&&this.targetField.getDefaultValue()},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck)return a(this.field,this.fields,"setDefaultValue",[t]),t}},{key:"display",get:function(){var t=i(this.jsEngine,this.targetField).getFlags();return 2&t?1:4&t?32&t?3:0:2},set:function(t){return a(this.field,this.fields,"setWidgetDisplay",[t,!0]),t}},{key:"exportValues",get:function(){return this.targetField&&this.targetField.getExportValues()}},{key:"fillColor",get:function(){var t=i(this.jsEngine,this.targetField).getMKProperty("fillColor");return["RGB",t>>16&1,t>>8&1,1&t]},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck)return a(this.field,this.fields,"setFillColor",[t]),t}},{key:"hidden",get:function(){var t=i(this.jsEngine,this.targetField).getFlags();return!!(2&t||1&t)},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck)return a(this.field,this.fields,"setHidden",[t]),t}},{key:"highlight",get:function(){},set:function(t){this.jsEngine.getEvent().isSensitiveCheck}},{key:"lineWidth",get:function(){},set:function(t){this.jsEngine.getEvent().isSensitiveCheck}},{key:"multiline",get:function(){return!!r.FieldFlag.isMultiline(this.targetField&&this.targetField.getFlags())},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck)return a(this.field,this.fields,"setMultiline",[t]),t}},{key:"name",get:function(){return this.targetField&&this.targetField.getName()}},{key:"numItems",get:function(){if(!this.targetField)return 0;if(this.targetField.getType()===r.FieldType.ListBox||this.targetField.getType()===r.FieldType.ComboBox)return this.targetField.getOptions().length;throw new Error("invalid field type: only list box and combo box available.")}},{key:"password",get:function(){return!!r.FieldFlag.isPassword(this.targetField&&this.targetField.getFlags())},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck)return a(this.field,this.fields,"setPassword",[t]),t}},{key:"print",get:function(){},set:function(t){this.jsEngine.getEvent().isSensitiveCheck}},{key:"radiosInUnison",get:function(){},set:function(t){this.jsEngine.getEvent().isSensitiveCheck}},{key:"readonly",get:function(){return!!r.FieldFlag.isReadOnly(this.targetField&&this.targetField.getFlags())},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck)return a(this.field,this.fields,"setReadonly",[t]),t}},{key:"required",get:function(){return!!r.FieldFlag.isRequired(this.targetField&&this.targetField.getFlags())},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck)return a(this.field,this.fields,"setRequired",[t]),t}},{key:"type",get:function(){if(!this.targetField)return"unknown";switch(this.targetField.getType()){default:case 0:return"unknown";case 1:return"button";case 2:return"checkbox";case 4:return"combobox";case 5:return"listbox";case 3:return"radiobutton";case 7:return"signature";case 6:return"text"}}},{key:"value",get:function(){if(this.targetField)return this.targetField.getValue()},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck&&this.targetField){var e=this.jsEngine.PDFViewer.getPDFDocRender().formRender.control,n=void 0;return e&&(n=e.annot.getField())&&this.field.getName()===n.getName()||a(this.field,this.fields,"setValue",[t]),this.targetField.getType()!==r.FieldType.RadioButton&&this.targetField.getType()!==r.FieldType.CheckBox||this.jsEngine.setStatus("calculate",this.targetField),t}}},{key:"valueAsString",get:function(){return this.targetField&&this.targetField.getValue().toString()}},{key:"strokeColor",get:function(){var t=this.targetField.getBorderColor();return["RGB",t>>16&1,t>>8&1,1&t]},set:function(t){if(!this.jsEngine.getEvent().isSensitiveCheck)return a(this.field,this.fields,"setBorderColor",[t]),t}},{key:"textColor",get:function(){var t=this.targetField&&this.targetField.getDAFontColor();return["RGB",t>>16&1,t>>8&1,1&t]},set:function(t){return a(this.field,this.fields,"setDAFontColor",[t]),t}},{key:"userName",get:function(){return this.PDFFieldgetAlternateName()},set:function(t){if(this.field)return this.field.update("alternateName",t);this.fields.forEach((function(e){e.update("alternateName",t)}))}},{key:"rect",get:function(){var t=i(this.jsEngine,this.targetField),e=void 0;return[(e=t?t.getRect():this.targetField.rect).left,e.top,e.right,e.bottom]},set:function(t){if(Array.isArray(t)&&!(t.length<4)){if(t[0]>t[2]){var e=t[0];t[0]=t[2],t[2]=e}if(t[3]>t[1]){var n=t[3];t[3]=t[1],t[1]=n}a(this.field,this.fields,"setRect",[{left:t[0],top:t[1],right:t[2],bottom:t[3]}])}}},{key:"style",get:function(){return i(this.jsEngine,this.targetField).getMKProperty("normalCaption")},set:function(t){switch(t){case"check":t="4";break;case"cross":t="8";break;case"diamond":t="u";break;case"circle":t="l";break;case"star":t="H";break;case"square":t="n"}return a(this.field,this.fields,"setMKProperty",["normalCaption",t])}}]),t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();var r=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.jsEngine=e,this.doc=n,this.params={}}return o(t,[{key:"printerName",get:function(){return"Web Printer"},set:function(t){}},{key:"firstPage",get:function(){return void 0!==this.params.firstPage?this.params.firstPage:0},set:function(t){this.params.firstPage=t}},{key:"lastPage",get:function(){return void 0!==this.params.lastPage?this.params.lastPage:this.doc.numPages},set:function(t){this.params.lastPage=t}},{key:"pageHandling",get:function(){return void 0!==this.params.pageHandling?this.params.pageHandling:3},set:function(t){this.params.pageHandling=t}},{key:"constants",get:function(){return{interactionLevel:{automatic:1,full:0,silent:2},handling:{none:1,fit:2,shrink:3,tileAll:4,tileLarge:5,nUp:6,booklet:7},flagValues:{applyOverPrint:131072,applySoftProofSettings:2097152,applyWorkingColorSpaces:262144,emitHalftones:1,emitPostScriptXObjects:524288,emitFormsAsPSForms:4194304,maxJP2KRes:8388608,setPageSize:1024,suppressBG:16,suppressCenter:256,suppressCJKFontSubst:64,suppressCropClip:4,suppressRotate:128,suppressTransfer:8,suppressUCR:32,useTrapAnnots:16777216,usePrintersMarks:33554432},bookletBindings:{Left:0,Right:1,LeftTall:2,RightTall:3},bookletDuplexMode:{BothSides:0,FrontSideOnly:1,BackSideOnly:2},colorOverrides:{auto:0,gray:1,mono:2},fontPolicies:{everyPage:2,jobStart:0,pageRange:1},nUpPageOrders:{Horizontal:0,HorizontalReversed:1,Vertical:2},printContents:{doc:0,docAndComments:1,formFieldsOnly:3},rasterFlagValues:{textToOutline:1,strokesToOutline:2,allowComplexClip:4,preserveOverprint:8},subsets:{all:-3,even:-5,odd:-4},tileMarks:{none:0,west:1,east:2},usages:{auto:0,use:1,noUse:2}}}},{key:"flags",get:function(){return void 0!==this.params.flags?this.params.flags:0},set:function(t){this.params.flags=t}},{key:"interactive",get:function(){return void 0!==this.params.interactive?this.params.interactive:0},set:function(t){this.params.interactive=t}},{key:"fileName",get:function(){return void 0!==this.params.fileName?this.params.fileName:""},set:function(t){this.params.fileName=t}}]),t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();var r=function(){function t(e,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.templateObject=e,this.templateHidden=n,this.pdfDoc=o}return t.prototype.spawn=function(t,e,n,o){if(this.pdfDoc)return this.pdfDoc.spawnPage(this.templateObject,t,e,n)},o(t,[{key:"hidden",get:function(){return this.templateHidden},set:function(t){if(t!==this.templateHidden)return this.pdfDoc?this.pdfDoc.hideTemplate(this.templateObject,t):void 0}},{key:"name",get:function(){return this.templateObject.name}}]),t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=n(36);function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return a(e,t),r(e,[{key:"type",get:function(){return"Caret"}},{key:"caretSymbol",get:function(){},set:function(t){}}]),e}(((o=i)&&o.__esModule?o:{default:o}).default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=n(36),a=(o=i)&&o.__esModule?o:{default:o},s=n(4);function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return c(e,t),r(e,[{key:"type",get:function(){return"Circle"}},{key:"dash",get:function(){return this.annot.getBorderInfo().dashes},set:function(e){var n=this;t.prototype._delayOrExec.call(this,(function(){Array.isArray(e)&&n.annot.setBorderStyle(1,e)}))}},{key:"fillColor",get:function(){var t=this.annot.getFillColor();return(0,s.convertFromNumberToJSColor)(t)},set:function(e){var n=this;t.prototype._delayOrExec.call(this,(function(){var t=(0,s.colorConvertor)(e,"int",0);n.annot.setFillColor(t)}))}},{key:"width",get:function(){return this.annot.getBorderWidth()},set:function(e){var n=this;t.prototype._delayOrExec.call(this,(function(){n.annot.setBorderWidth(e)}))}}]),e}(a.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=n(36),a=(o=i)&&o.__esModule?o:{default:o};function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c={Paperclip:"Paperclip",PushPin:"PushPin",Graph:"Graph",Tag:"Tag"},u=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return s(e,t),r(e,[{key:"type",get:function(){return"FileAttachment"}},{key:"attachIcon",get:function(){return this.annot.getIconName()},set:function(e){var n=this;c[e]&&t.prototype._delayOrExec.call(this,(function(){n.annot.setIconName(e)}))}},{key:"point",get:function(){var t=this.annot.getRect();return[t.left,t.top]},set:function(e){var n=this;t.prototype._delayOrExec.call(this,(function(){!e||!Array.isArray(e)||e.length<2||n.annot.moveTo({left:e[0],top:e[1]})}))}}]),e}(a.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=n(36),a=(o=i)&&o.__esModule?o:{default:o},s=n(4),c=n(6),u=n(63);function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var f=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return l(e,t),r(e,[{key:"type",get:function(){return"FreeText"}},{key:"alignment",get:function(){return this.annot.getInfo().justification},set:function(e){var n=this;t.prototype._delayOrExec.call(this,(function(){n.annot.setAlignment(e)}))}},{key:"callout",get:function(){var t=this.annot.getCalloutLinePoints(),e=[];return t.map((function(t){e.push(t.x,t.y)})),e},set:function(e){var n=this;t.prototype._delayOrExec.call(this,(function(){var t=(0,u.buildVertexesByPoints)(e);n.annot.setCalloutLinePoints(t)}))}},{key:"dash",get:function(){return this.annot.getBorderInfo().dashes},set:function(e){var n=this;t.prototype._delayOrExec.call(this,(function(){Array.isArray(e)&&n.annot.setBorderStyle(1,e)}))}},{key:"fillColor",get:function(){var t=this.annot.getFillColor();return(0,s.convertFromNumberToJSColor)(t)},set:function(e){var n=this;t.prototype._delayOrExec.call(this,(function(){var t=(0,s.colorConvertor)(e,"int",0);n.annot.setFillColor(t)}))}},{key:"lineEnding",get:function(){var t=this.annot.getCalloutLineEndingStyle();return c.LineEndingName[t]},set:function(e){var n=this;e||(e="None"),t.prototype._delayOrExec.call(this,(function(){var t=c.LineEndingStyle[e];n.annot.setCalloutLineEndingStyle(!0,t)}))}},{key:"richDefaults",get:function(){},set:function(t){}},{key:"rotate",get:function(){var t=360-this.annot.getRotation();return 360===t&&(t=0),t},set:function(e){var n=this;t.prototype._delayOrExec.call(this,(function(){var t=0;0!==e&&(t=360-e),n.annot.setRotation(t)}))}},{key:"textFont",get:function(){},set:function(t){}},{key:"textSize",get:function(){return this.annot.getDefaultAppearance().textSize},set:function(e){var n=this;t.prototype._delayOrExec.call(this,(function(){var t=n.annot.getDefaultAppearance();t.textSize=e,n.annot.setDefaultAppearance(t).then((function(t){}))}))}},{key:"width",get:function(){return this.annot.getBorderWidth()},set:function(e){var n=this;t.prototype._delayOrExec.call(this,(function(){n.annot.setBorderWidth(e)}))}}]),e}(a.default);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=n(36),a=(o=i)&&o.__esModule?o:{default:o},s=n(63);function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return c(e,t),r(e,[{key:"type",get:function(){return"Highlight"}},{key:"quads",get:function(){var t=this.annot.getQuadPoints(),e=[];return t.map((function(t){t.map((function(t){e.push(t.x,t.y)}))})),e},set:function(e){var n=this;t.prototype._delayOrExec.call(this,(function(){var t=(0,s.buildRectByPoints)(e);n.annot.setRect(t)}))}}]),e}(a.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=n(36),a=(o=i)&&o.__esModule?o:{default:o},s=n(63);function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return c(e,t),r(e,[{key:"type",get:function(){return"Ink"}},{key:"dash",get:function(){return this.annot.getBorderInfo().dashes},set:function(e){var n=this;t.prototype._delayOrExec.call(this,(function(){Array.isArray(e)&&n.annot.setBorderStyle(1,e)}))}},{key:"gestures",get:function(){var t=this.annot.getInkList(),e=[],n=void 0;return t.map((function(t){1===t.type&&(n=[],e.push(n)),n.push([t.x,t.y])})),e},set:function(e){var n=this;t.prototype._delayOrExec.call(this,(function(){var t=(0,s.buildGesturesByArrays)(e);n.annot.setInkList(t)}))}},{key:"width",get:function(){return this.annot.getBorderWidth()},set:function(e){var n=this;t.prototype._delayOrExec.call(this,(function(){n.annot.setBorderWidth(e)}))}}]),e}(a.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=n(36),a=(o=i)&&o.__esModule?o:{default:o},s=n(6),c=n(4);function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return u(e,t),r(e,[{key:"type",get:function(){return"Line"}},{key:"arrowBegin",get:function(){var t=this.annot.getStartStyle();return s.LineEndingName[t]},set:function(e){var n=this;e||(e="None"),t.prototype._delayOrExec.call(this,(function(){var t=s.LineEndingStyle[e];n.annot.setEndingStyle(!0,t)}))}},{key:"arrowEnd",get:function(){var t=this.annot.getEndingStyle();return s.LineEndingName[t]},set:function(e){var n=this;e||(e="None"),t.prototype._delayOrExec.call(this,(function(){var t=s.LineEndingStyle[e];n.annot.setEndingStyle(!1,t)}))}},{key:"dash",get:function(){return this.annot.getBorderInfo().dashes},set:function(e){var n=this;t.prototype._delayOrExec.call(this,(function(){Array.isArray(e)&&n.annot.setBorderStyle(1,e)}))}},{key:"doCaption",get:function(){return this.annot.hasCaption()},set:function(t){this.annot.enableCaption(t)}},{key:"fillColor",get:function(){var t=this.annot.getStyleFillColor();return(0,c.convertFromNumberToJSColor)(t)},set:function(t){var e=this;this._delayOrExec((function(){var n=(0,c.colorConvertor)(t,"int",0);e.annot.setStyleFillColor(n)}))}},{key:"leaderExtend",get:function(){return this.annot.getLeaderLineExtend()},set:function(t){}},{key:"leaderLength",get:function(){return this.annot.getLeaderLineLength()},set:function(e){var n=this;t.prototype._delayOrExec.call(this,(function(){n.annot.setLeaderLineLength(e)}))}},{key:"width",get:function(){return this.annot.getBorderWidth()},set:function(e){var n=this;t.prototype._delayOrExec.call(this,(function(){n.annot.setBorderWidth(e)}))}}]),e}(a.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=n(36),a=(o=i)&&o.__esModule?o:{default:o},s=n(6),c=n(63),u=n(4);function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var f=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return l(e,t),r(e,[{key:"type",get:function(){return"PolyLine"}},{key:"arrowBegin",get:function(){var t=this.annot.getStartStyle();return s.LineEndingName[t]},set:function(e){var n=this;e||(e="None"),t.prototype._delayOrExec.call(this,(function(){var t=s.LineEndingStyle[e];n.annot.setEndingStyle(!0,t)}))}},{key:"arrowEnd",get:function(){var t=this.annot.getEndingStyle();return s.LineEndingName[t]},set:function(e){var n=this;e||(e="None"),t.prototype._delayOrExec.call(this,(function(t){var o=s.LineEndingStyle[e];n.annot.setEndingStyle(!1,o)}))}},{key:"dash",get:function(){return this.annot.getBorderInfo().dashes},set:function(e){var n=this;t.prototype._delayOrExec.call(this,(function(){Array.isArray(e)&&n.annot.setBorderStyle(1,e)}))}},{key:"fillColor",get:function(){var t=this.annot.getFillColor();return(0,u.convertFromNumberToJSColor)(t)},set:function(e){var n=this;t.prototype._delayOrExec.call(this,(function(){var t=(0,u.colorConvertor)(e,"int",0);n.annot.setFillColor(t)}))}},{key:"vertices",get:function(){var t=this.annot.getVertexes(),e=[];return t.map((function(t){e.push(t.x,t.y)})),e},set:function(e){var n=this;t.prototype._delayOrExec.call(this,(function(){var t=(0,c.buildVertexesByPoints)(e);n.annot.setVertexes(t)}))}}]),e}(a.default);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=n(36),a=(o=i)&&o.__esModule?o:{default:o},s=n(63),c=n(4);function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return u(e,t),r(e,[{key:"type",get:function(){return"Polygon"}},{key:"dash",get:function(){return this.annot.getBorderInfo().dashes},set:function(e){var n=this;t.prototype._delayOrExec.call(this,(function(){Array.isArray(e)&&n.annot.setBorderStyle(1,e)}))}},{key:"fillColor",get:function(){var t=this.annot.getFillColor();return(0,c.convertFromNumberToJSColor)(t)},set:function(e){var n=this;t.prototype._delayOrExec.call(this,(function(){var t=(0,c.colorConvertor)(e,"int",0);n.annot.setFillColor(t)}))}},{key:"vertices",get:function(){var t=this.annot.getVertexes(),e=[];return t.map((function(t){e.push(t.x,t.y)})),e},set:function(e){var n=this;t.prototype._delayOrExec.call(this,(function(){var t=(0,s.buildVertexesByPoints)(e);n.annot.setVertexes(t)}))}}]),e}(a.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=n(36);function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return a(e,t),r(e,[{key:"type",get:function(){return"Sound"}},{key:"point",get:function(){var t=this.annot.getRect();return[t.left,t.top]},set:function(e){var n=this;t.prototype._delayOrExec.call(this,(function(){!e||!Array.isArray(e)||e.length<2||n.annot.moveTo({left:e[0],top:e[1]})}))}},{key:"soundIcon",get:function(){},set:function(t){}}]),e}(((o=i)&&o.__esModule?o:{default:o}).default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=n(36),a=(o=i)&&o.__esModule?o:{default:o},s=n(4);function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return c(e,t),r(e,[{key:"type",get:function(){return"Square"}},{key:"dash",get:function(){return this.annot.getBorderInfo().dashes},set:function(e){var n=this;t.prototype._delayOrExec.call(this,(function(){Array.isArray(e)&&n.annot.setBorderStyle(1,e)}))}},{key:"fillColor",get:function(){var t=this.annot.getFillColor();return(0,s.convertFromNumberToJSColor)(t)},set:function(e){var n=this;t.prototype._delayOrExec.call(this,(function(){var t=(0,s.colorConvertor)(e,"int",0);n.annot.setFillColor(t)}))}},{key:"width",get:function(){return this.annot.getBorderWidth()},set:function(e){var n=this;t.prototype._delayOrExec.call(this,(function(){n.annot.setBorderWidth(e)}))}}]),e}(a.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=n(36),a=(o=i)&&o.__esModule?o:{default:o},s=n(63);function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return c(e,t),r(e,[{key:"type",get:function(){return"Squiggly"}},{key:"quads",get:function(){var t=this.annot.getQuadPoints(),e=[];return t.map((function(t){t.map((function(t){e.push(t.x,t.y)}))})),e},set:function(e){var n=this;t.prototype._delayOrExec.call(this,(function(){var t=(0,s.buildRectByPoints)(e);n.annot.setRect(t)}))}}]),e}(a.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=n(36),a=(o=i)&&o.__esModule?o:{default:o};function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c={Approved:"Approved",AsIs:"AsIs",Confidential:"Confidential",Departmental:"Departmental",Draft:"Draft",Experimental:"Experimental",Expired:"Expired",Final:"Final",ForComment:"ForComment",ForPublicRelease:"ForPublicRelease",NotApproved:"NotApproved",NotForPublicRelease:"NotForPublicRelease",Sold:"Sold",TopSecret:"TopSecret"},u=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return s(e,t),r(e,[{key:"type",get:function(){return"Stamp"}},{key:"AP",get:function(){var t=this.annot.getIconName();if(t&&"#"===t[0]){var e=t.substr(1);(e=c[e])&&(t=e)}return t},set:function(t){}}]),e}(a.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=n(36),a=(o=i)&&o.__esModule?o:{default:o},s=n(63);function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return c(e,t),r(e,[{key:"type",get:function(){return"StrikeOut"}},{key:"quads",get:function(){var t=this.annot.getQuadPoints(),e=[];return t.map((function(t){t.map((function(t){e.push(t.x,t.y)}))})),e},set:function(e){var n=this;t.prototype._delayOrExec.call(this,(function(){var t=(0,s.buildRectByPoints)(e);n.annot.setRect(t)}))}}]),e}(a.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=n(36);function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o));return r.stateModelValue="Review",r}return a(e,t),r(e,[{key:"type",get:function(){return"Text"}},{key:"noteIcon",get:function(){return this.annot.getIconName()},set:function(e){var n=this;e||(e="Note"),t.prototype._delayOrExec.call(this,(function(){n.annot.setIconName(e).then((function(t){}))}))}},{key:"point",get:function(){var t=this.annot.getRect();return[t.left,t.top]},set:function(e){var n=this;t.prototype._delayOrExec.call(this,(function(){!e||!Array.isArray(e)||e.length<2||n.annot.moveTo({left:e[0],top:e[1]})}))}},{key:"state",get:function(){return"Marked"===this.stateModel?this.annot.getMarkedState(0):this.annot.getReviewState(0)},set:function(e){var n=this;t.prototype._delayOrExec.call(this,(function(){if("Review"===n.stateModelValue){switch(e){case"accepted":case"rejected":case"cancelled":case"completed":case"none":break;default:e="none"}n.annot.addReviewState(e)}else"Marked"===n.stateModelValue&&("marked"!==e&&"unmarked"!==e&&(e="unmarked"),n.annot.addMarkedState(e))}))}},{key:"stateModel",get:function(){return this.stateModelValue},set:function(e){var n=this;t.prototype._delayOrExec.call(this,(function(){"Marked"!==e&&"Review"!==e&&(e="Review"),n.stateModelValue=e}))}}]),e}(((o=i)&&o.__esModule?o:{default:o}).default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=n(36),a=(o=i)&&o.__esModule?o:{default:o},s=n(63);function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return c(e,t),r(e,[{key:"type",get:function(){return"Underline"}},{key:"quads",get:function(){var t=this.annot.getQuadPoints(),e=[];return t.map((function(t){t.map((function(t){e.push(t.x,t.y)}))})),e},set:function(e){var n=this;t.prototype._delayOrExec.call(this,(function(){var t=(0,s.buildRectByPoints)(e);n.annot.setRect(t)}))}}]),e}(a.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();var r=function(){function t(e,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e,this.info=n,this.doc=o}return o(t,[{key:"state",get:function(){return this.info.visible},set:function(t){return this.doc.setLayerNodeVisible(this.id,t),this.info.visible=t}},{key:"name",get:function(){return this.info.name}}]),t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=u(n(116)),r=u(n(266)),i=u(n(537)),a=u(n(538)),s=u(n(539)),c=u(n(540));function u(t){return t&&t.__esModule?t:{default:t}}var l=URL.createObjectURL(new Blob(["<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\n    <title>Document</title>\n    <script>\n        window.initJS=function(PDFJSGlobal){\n          window.PDFJSGlobal = PDFJSGlobal          \n          function appClosure() {\n            for (var i in window) {\n              if (i != 'PDFJSGlobal' \n              && i != 'location'\n              && i !='window'\n              && i != 'appClosure') {\n                  eval('var ' + i+ '=null');\n              }\n            }\n            var keys=['jsEngine',\n                    '_calculate',\n                    '_dirty',\n                    '_layout',\n                    '_arrTemplate',\n                    'printParams',\n                    'annotManage',\n                    'timeStamp',\n                    'cleanFields']\n            for(var key in window.PDFJSGlobal.doc){\n              if(keys.indexOf(key)!=-1){\n                continue;\n              }\n              (function(key){\n                if(typeof window.PDFJSGlobal.doc[key] == \"function\"){\n                  window[key]=function(){\n                    return window.PDFJSGlobal.doc[key].apply(window.PDFJSGlobal.doc,arguments)\n                  }\n                }else{\n                  Object.defineProperty(window,key,{get:function(){\n                    return window.PDFJSGlobal.doc[key]\n                  },set:function(val){\n                    window.PDFJSGlobal.doc[key] = val\n                  }})\n                }\n              })(key)\n            }\n\n            return {\n                docClosure: function (f) {\n                  with (PDFJSGlobal) {\n                    with (PDFJSGlobal.doc) {\n                    eval(f);\n                    return function (f) {\n                            return eval(f)\n                        }\n                      }\n                    }\n                }\n            }\n          }\n          window.app = appClosure();\n        }\n\n        window.runJS = function (data, engineEvent) {\n            var doc = window.PDFJSGlobal.doc;\n            window.PDFJSGlobal.event = engineEvent;\n\n            doc.timeStamp = engineEvent&&engineEvent.timeStamp;\n            if(data.global){\n              try{\n                doc.exec = app.docClosure.call(doc,data.code);\n              }catch(e){\n                doc.exec = app.docClosure(data.code);\n              }\n                return;\n            }\n            switch (data.action) {\n                case 'execute':\n                    doc.exec(data.code, data, engineEvent);\n            }\n            window.PDFJSGlobal.event=null;\n        }\n    <\/script>\n</head>\n\n<body>\n</body>\n\n</html>"],{type:"text/html"})),f="ActiveXObject"in self||navigator.userAgent.toLowerCase().match(/msie [\d\.]+/),p=window.PDFJSGlobal={};for(var d in p.border={s:"solid",b:"beveled",d:"dashed",i:"inset",u:"underline"},p.style={ch:"check",cr:"cross",di:"diamond",ci:"circle",st:"star",sq:"square"},o.default)p[d]=o.default[d];p.global=i.default,p.console=c.default,p.color=r.default,p.display={visible:0,hidden:1,noPrint:2,noView:3},p.util=a.default,p.font=s.default;var h=void 0,g=void 0;var m=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.initJSEnv=function(t,e,n,r){var i=this;if(o.default.setJE(t,e),g=t,p.app=e,p.doc=n,p.this=n,p.getEvent=function(e){return t.getEvent(e)},p.postRunScripts=function(e){return t.postRunScripts(e)},!(f=f||r))return(h=document.createElement("iframe")).style.display="none",h.style.position="absolute",h.style.top=0,this.enable=!1,new Promise((function(t,e){h.onload=t,h.src=l,document.body.appendChild(h)})).then((function(t){i.enable=!0,h.contentWindow.initJS(p)}));window.appClosure=function(){var t=["jsEngine","_calculate","_dirty","_layout","_arrTemplate","printParams","annotManage","timeStamp","cleanFields"],e=window.PDFJSGlobal.doc;for(var n in e)-1==t.indexOf(n)&&function(t){"function"==typeof e[t]?window[t]=function(){return e[t].apply(e,arguments)}:Object.defineProperty(window,t,{get:function(){return e[t]},set:function(n){e[t]=n}})}(n);return{DocClosure:function(t){return new Function("f","with(window.PDFJSGlobal){with(window.PDFJSGlobal.doc){eval(f);return function(f){eval(f);}}}")(t)}}}(),window.runJS=function(t,e){var n=window.PDFJSGlobal.doc;if(window.PDFJSGlobal.event=e,n.timeStamp=e&&e.timeStamp,t.global)try{n.exec=window.appClosure.DocClosure.call(n,t.code)}catch(e){n.exec=window.appClosure.DocClosure(t.code)}else switch(t.action){case"execute":n.exec(t.code,t,e)}},this.enable=!0},t.exec=function(t,e,n,o){var r={action:"execute",code:t,global:e,event:n.event};this.enable||c.default.error("js env is not ready!!");var i=g.events[r.event];return f?window.runJS(r,i):h.contentWindow.runJS(r,i),i.rc},t}();e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={setPersistent:function(){}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(116),i=(o=r)&&o.__esModule?o:{default:o};var a=function(t,e){if(null==t)throw new Error("Not enough arguments for vsprintf");function n(t,e,n){if(null==e)return"s"==t?"":"0";var o,r="",i="",a=" ";if(n.short||n.long||n.long_long)switch(t){case"e":case"f":case"G":case"E":case"G":case"d":n.short?e>=32767?e=32767:e<=-32768&&(e=-32768):n.long?e>=2147483647?e=2147483647:e<=-2147483648&&(e=-2147483648):e>=0x8000000000000000?e=0x8000000000000000:e<=-0x8000000000000000&&(e=-0x8000000000000000);break;case"X":case"B":case"u":case"o":case"x":case"b":e<0&&(e=Math.abs(e)-1),n.short?e>=65535&&(e=65535):n.long?e>=4294967295&&(e=4294967295):e>=0x10000000000000000&&(e=0x10000000000000000)}switch(t){case"c":o=String.fromCharCode(parseInt(e));break;case"s":o=e.toString();break;case"d":case"u":o=new Number(parseInt(e)).toString();break;case"o":o=new Number(parseInt(e)).toString(8);break;case"x":o=new Number(parseInt(e)).toString(16);break;case"B":case"b":o=new Number(parseInt(e)).toString(2);break;case"e":var s=n.precision?n.precision:6;o=new Number(e).toExponential(s).toString();break;case"f":s=n.precision?n.precision:6;o=new Number(e).toFixed(s).toString();break;case"g":s=n.precision?n.precision:6;o=new Number(e).toPrecision(s).toString();break;case"X":o=new Number(parseInt(e)).toString(16).toUpperCase();break;case"E":s=n.precision?n.precision:6;o=new Number(e).toExponential(s).toString().toUpperCase();break;case"G":s=n.precision?n.precision:6;o=new Number(e).toPrecision(s).toString().toUpperCase()}if(n["+"]&&parseFloat(e)>0&&-1!=["d","e","f","g","E","G"].indexOf(t)&&(r="+"),n[" "]&&parseFloat(e)>0&&-1!=["d","e","f","g","E","G"].indexOf(t)&&(r=" "),n["#"]&&0!=parseInt(e))switch(t){case"o":r="0";break;case"x":case"X":r="0x";break;case"b":r="0b";break;case"B":r="0B"}if(n[0]&&!n["-"]&&(a="0"),n.width&&n.width>o.length+r.length)for(var c=n.width-o.length-r.length,u=0;u<c;++u)i+=a;return n["-"]&&!n[0]?o+=i:o=i+o,r+o}null==e&&(e=[]);for(var o="",r=0,i=0,a={long:!1,short:!1,long_long:!1},s=!1,c=!1,u=!1,l=!1,f=!1,p=!1,d=".",h=0;h<t.length;++h){var g=t.charAt(h);if(s){switch(g){case"i":g="d";break;case"D":a.long=!0,g="d";break;case"U":a.long=!0,g="u";break;case"O":a.long=!0,g="o";break;case"F":g="f"}switch(g){case"c":case"s":case"d":case"u":case"o":case"x":case"e":case"f":case"g":case"X":case"E":case"G":case"b":case"B":var m=e[i];if(f){var v=m;if(m instanceof Array)v=m;else if("string"==typeof m||m instanceof String)v=m.split("").map((function(t){return t.charCodeAt()}));else if(("number"==typeof m||m instanceof Number)&&a.bitwidth){v=[];do{v.unshift(m&~(-1<<a.bitwidth))}while(m>>>=a.bitwidth)}else v=m.toString().split("").map((function(t){return t.charCodeAt()}));o+=v.map((function(t){return n(g,t,a)})).join(d)}else o+=n(g,m,a);l||++r,i=r,a={},c=!1,s=!1,u=!1,l=!1,f=!1,p=!1,d=".";break;case"v":f=!0;break;case" ":case"0":case"-":case"+":case"#":a[g]=!0;break;case"*":c=!0;break;case".":u=!0;break;case"@":p=!0;break;case"l":a.long?(a.long_long=!0,a.long=!1):(a.long=!0,a.long_long=!1),a.short=!1;break;case"q":case"L":a.long_long=!0,a.long=!1,a.short=!1;break;case"h":a.short=!0,a.long=!1,a.long_long=!1}if(/\d/.test(g)){var y=parseInt(t.substr(h));if(h+=y.toString().length-1,"$"==t.charAt(h+1)){if(y<0||y>e.length)throw new Error("out of bound");c?(u?(a.precision=e[y-1],u=!1):"v"==t.charAt(h+2)?d=e[y-1]:a.width=e[y-1],c=!1):(l=!0,i=y-1),++h}else u?(a.precision=y,u=!1):p?(a.bitwidth=y,p=!1):a.width=y}else c&&!/\d/.test(t.charAt(h+1))&&(u?(a.precision=e[i],u=!1):"v"==t.charAt(h+1)?d=e[i]:a.width=e[i],++r,l||i++,c=!1)}else{if("%"==g){if("%"==t.charAt(h+1)){o+="%",++h;continue}s=!0;continue}o+=g}}return o};e.default={printd:function(t,e,n){if(!e||!e instanceof Date||isNaN(e.getTime()))return"";if(t){if("string"==typeof t)return i.default.FXFormatDate(t,e);if("number"==typeof t)switch(t){case 0:var o="D:";return o+=e.getFullYear(),o+=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,o+=e.getDate()<10?"0"+e.getDate():e.getDate(),o+=e.getUTCHours()<10?"0"+e.getUTCHours():e.getUTCHours(),o+=e.getUTCMinutes()<10?"0"+e.getUTCMinutes():e.getUTCMinutes(),o+=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds();case 1:o="";return o+=e.getFullYear()+".",o+=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,o+=".",o+=e.getDate()<10?"0"+e.getDate():e.getDate(),o+=" ",o+=e.getUTCHours()<10?"0"+e.getUTCHours():e.getUTCHours(),o+=":",o+=e.getUTCMinutes()<10?"0"+e.getUTCMinutes():e.getUTCMinutes(),o+=":",o+=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds();case 2:o="";return o+=e.getFullYear()+"/",o+=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,o+="/",o+=e.getDate()<10?"0"+e.getDate():e.getDate(),o+=" ",o+=e.getUTCHours()<10?"0"+e.getUTCHours():e.getUTCHours(),o+=":",o+=e.getUTCMinutes()<10?"0"+e.getUTCMinutes():e.getUTCMinutes(),o+=":",o+=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds();default:return""}return""}return""},printf:function(t,e){if(!t||!e)return"";e instanceof Array||(e=[e]);var n=arguments.length;if(n<1)return"";var o=t,r=(t=t.replace("%x","%X")).indexOf("%,"),i=!1,s=",";if(-1!=r){var c=parseInt(t.substr(r+2,1));if(c>4)return"";switch(c){case 0:i=TRUE,s=",",".";break;case 1:".";break;case 2:i=TRUE,s=".",",";break;case 3:","}var u="0",l=t.substr(r+3,1);"0"===l?u="0":"+"===l&&(u="+");var f=0,p=t.indexOf(".",r+4);f=p>r+3?parseInt(t.substr(r+4,p-r-4)):parseInt(t.substr(r+4,1));var d=t.length;if(p>-1&&r+p<d){var h=t.substr(r+1,p-1);t=t.replace(h,"")}else if("."===l&&-1===p){p=r+3;h=t.substr(r+1,p-1);t=t.replace(h,"")}else{var g=d-2;if(!(r+1+g<d&&g>=0))return e;h=t.substr(r+1,g);t=t.replace(h,"")}}var m=0,v=0,y=t;y="S"+y;for(var b=new Array,w=!1;-1!=m;){var _="",P=(_=-1===(v=y.indexOf("%",m+1))?y.substr(m):y.substr(m,v-m)).indexOf("%");if(-1!==P){var O=_.substr(P+1);"c"!==O&&"C"!==O&&"d"!==O&&"i"!==O&&"o"!==O&&"u"!==O&&"x"!==O&&"X"!==O&&"e"!==O&&"E"!==O&&"f"!==O&&"g"!==O&&"G"!==O||(w=!0)}b.push(_),m=v}for(var E="",x="",C=0;C<b.length;C++)if(x=E,x+=b[C],0!==C){if(C>=n)break;E=a(x,e)}else E=x;""===E&&(o.replace("%,","%"),E=o);var A=(E=E.substr(1)).indexOf(".");if(A<0)A=E.length;else{h=(E=E.slice(0,A)+"."+E.slice(A)).substr(A+1,1);E=E.replace(h,"")}if(i&&w)for(var S=A-3;S>0;S-=3)E=E.slice(0,S)+s+E.slice(S);var D=E.length;if(f>D)for(S=0;S<f-D;S++)E=u+E;return E},printx:function(t,e){if(!t||!e)return"";for(var n=e.length,o=t.length,r="",i=0,a=0;a<o;a++){var s=t[a];switch(s){case"?":r+=e[i],i++;break;case"X":for(;i<n;){if(e[i]>="0"&&e[i]<="9"||e[i]>="a"&&e[i]<="z"||e[i]>="A"&&e[i]<="Z"){r+=e[i],i++;break}i++}break;case"A":for(;i<n;){if(e[i]>="a"&&e[i]<="z"||e[i]>="A"&&e[i]<="Z"){r+=e[i],i++;break}i++}break;case"9":for(;i<n;){if(e[i]>="0"&&e[i]<="9"){r+=e[i],i++;break}i++}break;case"*":r+=e.substring(i),i=n-1;break;case"\\":break;case">":e=e.toLocaleUpperCase();break;case"<":e=e.toLocaleLowerCase();break;case"=":break;default:r+=s}}return r},scand:function(t,e){return new Date(e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={Times:"Times-Roman",TimesB:"Times-Bold",TimesI:"Times-Italic",TimesBI:"Times-BoldItalic",Helv:"Helvetica",HelvB:"Helvetica-Bold",HelvI:"Helvetica-Oblique",HelvBI:"Helvetica-BoldOblique",Cour:"Courier",CourB:"Courier-Bold",CourI:"Courier-Oblique",CourBI:"Courier-BoldOblique",Symbol:"Symbol",ZapfD:"ZapfDingbats"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={clear:function(){window.console.clear()},show:function(){return!0},hide:function(){return!0},println:function(t){window.console.log(t)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();var r=e.JSEvent=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.change="",this.changeEx="",this.commitKey="",this.fieldFull="",this.keyDown="",this.modifier="",this.name="",this.rc="",this.richChange="",this.richChangeEx="",this.richValue="",this.selEnd="",this.selStart="",this.shift="",this.source="",this.target="",this.targetName="",this.type="",this.willCommit="",this.bExtractDenpends=!1,this.depends=[],this.isLoading=!1,this.isSensitiveCheck=!1}return o(t,[{key:"value",set:function(t){this.v=t,this.valueSetted=!0},get:function(){return this.v}}]),t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(57)),r=i(n(1));function i(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pdfViewer=e,this.stateHandlers={},this.currentStateHandler=o.default,this.register(o.default),this.config=e.config.stateHandlerConfig||{}}return t.prototype.getStateHandlerConfig=function(t){return this.config[t]},t.prototype.setStateHandlerConfig=function(t,e){this.config[t]=e},t.prototype.pushStateHandlerConfig=function(t,e){var n=this.config[t];this.config[t]=Object.assign(e,n)},t.prototype.register=function(t){this.stateHandlers[t.getStateName()]=t},t.prototype.get=function(t){return this.stateHandlers[t]||o.default},t.prototype.switchTo=function(t,e){var n=this.currentStateHandler,o=this.get(t);if(e&&o.setParams(e),n!==o){this.currentStateHandler=o,this.pdfViewer.eventEmitter.emit(r.default.deactiveStateHandler,n),this.pdfViewer.eventEmitter.emit(r.default.switchStateHandler,o,n);var i=this.pdfViewer.pdfViewerRender;if(i){var a=i.pdfDocRender;if(a){a.setStateHandler(o);var s=a.pagesRender;if(s){var c=s.pageRenders;if(c){for(var u=0,l=c.length;u<l;u++)c[u].setStateHandler(o);t&&this.pdfViewer.activeElement(null)}}}}}},t.prototype.getCurrentStates=function(){return this.currentStateHandler},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(544)),r=i(n(1));function i(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pdfViewer=e,this.inkSignList=[],this.currentInkSign=null}return t.prototype.getList=function(){return this.inkSignList},t.prototype.push=function(t){var e=this.inkSignList.length;return this.inkSignList.push(t),this.pdfViewer.eventEmitter.emit(r.default.inkSignAdded,this.inkSignList),e},t.prototype.delete=function(t){this.inkSignList.splice(t,1),this.pdfViewer.eventEmitter.emit(r.default.inkSignDeleted,this.inkSignList)},t.prototype.get=function(t){return this.inkSignList[t]},t.prototype.addInkSign=function(){return new o.default},t.prototype.setCurrentInkSign=function(t){this.currentInkSign=this.inkSignList[t]},t.prototype.getCurrentInkSign=function(){return this.currentInkSign},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.password=null,this.dataURL=null,this.encipherment=null,this.isEncryption=!1}return t.prototype.getPassword=function(){return this.password},t.prototype.setPassword=function(t){var e=this.encipherment;this.password=e?e(t):t,this.isEncryption=!!e},t.prototype.setEncryptionAlgorithm=function(t){this.encipherment=t},t.prototype.verify=function(t){var e=void 0;this.isEncryption?e=this.encipherment(t)===this.password:e=t===this.password;return e},t.prototype.getDataURL=function(){return this.dataURL},t.prototype.setDataURL=function(t){this.dataURL=t},t.prototype.export=function(){return{password:this.password,dataURL:this.dataURL,encipherment:this.encipherment,isEncryption:this.isEncryption}},t.prototype.import=function(t){this.password=t.password,this.dataURL=t.dataURL,this.encipherment=t.encipherment,this.isEncryption=t.isEncryption},t.prototype.base64ToArrayBuffer=function(t){for(var e=window.atob(t),n=e.length,o=new Uint8Array(n);n--;)o[n]=e.charCodeAt(n);return o},t.prototype.arrayBufferToBase64=function(t){for(var e="",n=new Uint8Array(t),o=n.byteLength,r=0;r<o;r++)e+=String.fromCharCode(n[r]);return window.btoa(e)},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyCodeStrMap=void 0;var o=n(155);e.KeyCodeStrMap=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._keyCodeToStr=[],this._strToKeyCode={}}return t.prototype.define=function(t,e){this._keyCodeToStr[t]=e,this._strToKeyCode[e.toLowerCase()]=t},t.prototype.keyCodeToStr=function(t){return this._keyCodeToStr[t]},t.prototype.strToKeyCode=function(t){return this._strToKeyCode[t.toLowerCase()]||o.KeyCodes.Unknown},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(154),i=(o=r)&&o.__esModule?o:{default:o};var a=function(){function t(e,n,o,r,a,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ctrlKey=e,this.shiftKey=n,this.altKey=o,this.metaKey=r,this.keyCode=a,this.key=i.default.toString(a),this.native=s,this.propagationStopped=!1,this.preventedDefault=!1}return t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.preventDefault=function(){this.preventedDefault=!0},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.nativeEvent=e,this.isStopped=!1}return t.prototype.stop=function(){this.isStopped=!0},t.prototype.stopPropagation=function(){this.nativeEvent.stopPropagation()},t.prototype.preventDefault=function(){this.nativeEvent.preventDefault()},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return[{binder:new i.default(r.FOCUS_ELEMENT_BINDER,0),deps:[r.GLOBAL_BINDER]},{binder:new o.default(document.body,r.ACTIVATION_ANNOTATION_BINDER,0),depToDefault:!0},{binder:new o.default(document.body,r.ANNOTATION_PROPERTIES_BINDER,0),deps:[r.GLOBAL_BINDER]},{binder:new o.default(document.body,r.DOCUMENT_PROPERTIES_BINDER,0),deps:[r.GLOBAL_BINDER]},{binder:new o.default(document.body,r.GLOBAL_BINDER,0),deps:[]},{binder:new o.default(document.body,r.VIEWER_BINDER,0),deps:[r.GLOBAL_BINDER]},{binder:new o.default(document.body,r.ANNOTATION_CREATING_BINDER,0),deps:[r.GLOBAL_BINDER]},{binder:new i.default(r.EDIT_TEXT_OBJECT_BINDER,0),DEPS:[r.GLOBAL_BINDER]}]};var o=a(n(117)),r=n(31),i=a(n(549));function a(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(117);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i(this,e);var r=a(this,t.call(this,null,n,o));return r.isActive=!1,r}return s(e,t),e.prototype.acceptElement=function(t){return document.activeElement===t},e.prototype.handleEvent=function(e,n){n.stopPropagation(),t.prototype.handleEvent.call(this,e,n)},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=c},function(t,e,n){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0});var r=n(31),i=n(9);function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=(a(o={},r.KEY_MAP_SELECT_ALL_ANNOTATIONS,{shortcut:i.isMac?"Meta+A":"Ctrl+A",bindTo:r.VIEWER_BINDER}),a(o,r.KEY_MAP_POLYLINE_DELETE_LAST_POINT,{shortcut:"Backspace",bindTo:r.VIEWER_BINDER}),a(o,r.KEY_MAP_DOCUMENT_UNDO,{shortcut:i.isMac?"Meta+Z":"Ctrl+Z",bindTo:r.VIEWER_BINDER}),a(o,r.KEY_MAP_DOCUMENT_REDO,{shortcut:i.isMac?"Meta+Shift+Z":"Ctrl+Y",bindTo:r.VIEWER_BINDER}),a(o,r.KEY_MAP_ESC_CREATING_DRAWING,{shortcut:"Escape",bindTo:r.ANNOTATION_CREATING_BINDER}),a(o,r.KEY_MAP_UNACTIVE_ANNOTATION,{shortcut:"Escape",bindTo:r.ACTIVATION_ANNOTATION_BINDER}),a(o,r.KEY_MAP_UNFOCUS_FROM_EDITTING_TEXT_OBJECT,{shortcut:"Escape",bindTo:r.EDIT_TEXT_OBJECT_BINDER}),a(o,r.KEY_MAP_DELETE_ANNOTATION,{shortcut:"Delete",bindTo:r.ACTIVATION_ANNOTATION_BINDER}),a(o,r.KEY_MAP_FIELD_TAB_NEXT,{shortcut:"Tab",bindTo:r.VIEWER_BINDER}),o);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(552),i=(o=r)&&o.__esModule?o:{default:o};var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pdfViewer=e,this.matchRules=[],this.getPageCustomData=function(){return[]},this.getCustomDataId=function(){}}return t.prototype.registerMatchRule=function(t){return this.matchRules.push(t),t},t.prototype.unRegisterMatchRule=function(t){var e=this.matchRules.indexOf(t);-1!==e&&this.matchRules.splice(e,1)},t.prototype.get=function(t){for(var e=this.matchRules,n=i.default,o=e.length;o--;){var r=e[o];if("function"==typeof r){var a=r(t,n);if(a)return a}}return n},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(60);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i));return a.name="customRender",a.data=n,a.eUi=o,a.eHandler=r,a.customsRender=i,a}return i(e,t),e.prototype.init=function(){},e.prototype.redraw=function(){},e.prototype.active=function(){},e.prototype.unActive=function(){},e.prototype.destroy=function(){},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(554)),r=s(n(555)),i=n(31),a=s(n(1));function s(t){return t&&t.__esModule?t:{default:t}}var c=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pdfViewer=e,this.undoStack=new o.default,this.redoStack=new o.default,this.beforeFn=null,this.afterFn=null,this.pdfViewer.eventEmitter.on(a.default.willCloseDocument,(function(){n.clear()})),this.addEventListener()}return t.prototype.addEventListener=function(){this.pdfViewer.getKeyboardEventBinder(i.VIEWER_BINDER)},t.prototype.removeEventListener=function(){},t.prototype.before=function(t){this.beforeFn=r.default.createRecord(t,"before")},t.prototype.after=function(t){this.afterFn=r.default.createRecord(t,"after"),this.remember(r.default.getUniqueId(t))},t.prototype.remember=function(t){this.beforeFn&&this.afterFn&&this.undoStack.push({before:this.beforeFn,after:this.afterFn,uniqueId:t})},t.prototype.removeById=function(t){this.undoStack.filter((function(e){return t!==e.uniqueId})),this.redoStack.filter((function(e){return t!==e.uniqueId}))},t.prototype.undo=function(){var t=this.undoStack.pop();t&&(this.redoStack.push(t),r.default.undo(t))},t.prototype.redo=function(){var t=this.redoStack.pop();t&&(this.undoStack.push(t),r.default.redo(t))},t.prototype.clear=function(){this.undoStack.clear(),this.redoStack.clear()},t.prototype.getUndoStack=function(){return this.undoStack},t.prototype.getRedoStack=function(){return this.redoStack},t}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.stackArray=[]}return t.prototype.push=function(t){this.stackArray.push(t)},t.prototype.pop=function(){return this.stackArray.pop()},t.prototype.size=function(){return this.stackArray.length},t.prototype.clear=function(){this.stackArray=[]},t.prototype.filter=function(t){this.stackArray=this.stackArray.filter(t)},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(556),i=(o=r)&&o.__esModule?o:{default:o};var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.undo=function(t){t.before()},t.redo=function(t){t.after()},t.createRecord=function(t,e){var n=t.method;return i.default[n](t,e)},t.getUniqueId=function(t){return t.host&&t.host.annot?t.host.annot.getId():null},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(34)),r=a(n(81)),i=n(4);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var c={setContent:function(t){var e=t.method;return function(){t.host[e](t.content)}},setBorderColor:function(t){var e=t.host.pdfViewer,n=t.host.annot,o=t.method,r=n.getUniqueID(),i=n.getPDFPage().getIndex();return function(){var n=e.getAnnotRender(i,r).component;n.annot[o](t.color).then((function(){n.updateRender()}))}},setOpacity:function(t){var e=t.host.pdfViewer,n=t.host.annot,o=t.method,r=n.getUniqueID(),i=n.getPDFPage().getIndex();return function(){var n=e.getAnnotRender(i,r).component;n.annot[o](t.opacity).then((function(){n.updateRender()}))}},updateQuadPointsByCharIndex:function(t){var e=t.host.pdfViewer,n=t.host.annot,o=t.method,r=n.getUniqueID(),i=n.getPDFPage().getIndex();return function(){var n=e.getAnnotRender(i,r).component;n.annot[o](t.start,t.end).then((function(){n.isReplace?n.caretAnnot.moveRectByCharIndex(t.end).then((function(){n.getGroupRenders().map((function(t){t.active()}))})):n.active()}))}},setStyleFillColor:function(t){var e=t.host.pdfViewer,n=t.host.annot,o=t.method,r=n.getUniqueID(),i=n.getPDFPage().getIndex();return function(){e.getAnnotRender(i,r).component.annot[o](t.fillColor)}},setFillColor:function(t){var e=t.host.pdfViewer,n=t.host.annot,o=t.method,r=n.getUniqueID(),i=n.getPDFPage().getIndex();return function(){e.getAnnotRender(i,r).component.annot[o](t.fillColor)}},setBorderWidth:function(t){var e=t.host.pdfViewer,n=t.host.annot,o=t.method,r=n.getUniqueID(),i=n.getPDFPage().getIndex();return function(){e.getAnnotRender(i,r).component.annot[o](t.borderWidth)}},setBorderStyle:function(t){var e=t.host.pdfViewer,n=t.host.annot,o=t.method,r=n.getUniqueID(),i=n.getPDFPage().getIndex();return function(){e.getAnnotRender(i,r).component.annot[o](t.borderStyle.style,t.borderStyle.param)}},setCalloutLineEndingStyle:function(t){var e=t.host.pdfViewer,n=t.host.annot,o=t.method,r=n.getUniqueID(),i=n.getPDFPage().getIndex();return function(){var n=e.getAnnotRender(i,r).component;n.annot[o](+t.style).then((function(){n.activeRect(),n.redraw()}))}},setEndingStyle:function(t){var e=t.host.pdfViewer,n=t.host.annot,o=t.method,r=n.getUniqueID(),i=n.getPDFPage().getIndex();return function(){var n=e.getAnnotRender(i,r).component;n.annot[o](t.isBeginning,+t.style).then((function(){n.activeRect(),n.redraw()}))}},enableCaption:function(t){var e=t.host.pdfViewer,n=t.host.annot,o=t.method,r=n.getUniqueID(),i=n.getPDFPage().getIndex();return function(){e.getAnnotRender(i,r).component.annot[o](t.enableCaption)}},setRotation:function(t){var e=t.host.pdfViewer,n=t.host.annot,o=t.method,r=n.getUniqueID(),i=n.getPDFPage().getIndex();return function(){e.getAnnotRender(i,r).component.annot[o]((t.rotation+360)%360)}},setHighlightingMode:function(t){var e=t.host.pdfViewer,n=t.host.annot,o=t.method,r=n.getUniqueID(),i=n.getPDFPage().getIndex();return function(){e.getAnnotRender(i,r).component.annot[o](t.mode)}},setRect:function(t){var e=t.host.pdfViewer,n=t.host.annot,o=t.method,r=n.getUniqueID(),i=n.getPDFPage().getIndex();return function(){var n=e.getAnnotRender(i,r).component;n.annot[o](t.rect).then((function(){n.active()}))}},eraseInk:function(t){t.host.pdfViewer;var e=t.host.annot;e.getUniqueID(),e.getPDFPage().getIndex()},updateLinePoints:function(t){var e=t.host.pdfViewer,n=t.host.annot,o=(t.method,n.getUniqueID()),r=n.getPDFPage().getIndex(),i=[];return function(){var n=e.getAnnotRender(r,o).component;i.push(n.annot.setStartPoint(t.startPoint)),i.push(n.annot.setEndPoint(t.endPoint)),Promise.all(i).then((function(){n.active()}))}},setLeaderLineLength:function(t){var e=t.host.pdfViewer,n=t.host.annot,o=t.method,r=n.getUniqueID(),i=n.getPDFPage().getIndex(),a=t.leaderLinePoints,s=t.startPoint,c=t.endPoint,u=a.start,l=(a.end,Math.sqrt(Math.pow(s.x-u.x,2)+Math.pow(s.y-u.y,2))),f=!0;return(c.x-s.x)*(u.y-c.y)-(u.x-c.x)*(c.y-s.y)>0&&(f=!1),f&&(l=-l),function(){var t=e.getAnnotRender(i,r).component;t.annot[o](l).then((function(){t.active()}))}},updateVertexes:function(t){var e=t.host.pdfViewer,n=t.host.annot,o=t.method,r=n.getUniqueID(),i=n.getPDFPage().getIndex(),a=t.vertexes,s=t.index;return function(){var t=e.getAnnotRender(i,r).component;t.annot[o](s,a[s]).then((function(){t.active()}))}},removeAnnot:function(t,e){var n=t.host.pdfViewer,o=t.host.annot,r=o.getUniqueID(),i=o.getPDFPage(),a=i.getIndex(),s=void 0,c=void 0,l=o.getReplies&&o.getReplies()||[],f=[];return l.map((function(t){f.push({id:t.getId(),content:t.getContent(),createTime:new Date(t.getCreateDateTime()).getTime(),modifiedTime:new Date(t.getModifiedDateTime()).getTime()})})),o.isGrouped&&o.isGrouped()?(s=[],o.groupElements.map((function(t,e){s.push(new u(t).getJson()),t.isGroupHeader()&&(c=e)}))):s=new u(o).getJson(),"before"===e?"redact"===o.getType()?function(){i.markRedactAnnot(s.rects,s.name)}:o.isGrouped&&o.isGrouped()?function(){i.addAnnotGroup(s,c).then((function(){var t=n.getAnnotRender(a,r).component;f.length>0?p(t.annot).then((function(){t.getGroupRenders().map((function(t){t.active()}))})):t.active()}))}:function(){i.addAnnot(s).then((function(){var t=n.getAnnotRender(a,r).component;f.length>0?p(t.annot).then((function(){t.active()})):t.active()}))}:function(){var t=n.getAnnotRender(a,r).component;i.removeAnnot(t.annot)};function p(t){var e=[];return f.map((function(n){e.push(t.addReply(n.content).then((function(t){t.setUniqueID(n.id).then((function(){t.setCreateDateTime(n.createTime).then((function(){t.setModifiedDateTime(n.modifiedTime)}))}))})))})),Promise.all(e)}},addAnnot:function(t,e){var n=t.host.pdfViewer,o=t.host.annot,r=o.getUniqueID(),i=o.getPDFPage(),a=i.getIndex(),s=void 0,c=void 0;return o.isGrouped&&o.isGrouped()?(s=[],o.groupElements.map((function(t,e){s.push(new u(t).getJson()),t.isGroupHeader()&&(c=e)}))):s=new u(o).getJson(),"before"===e?function(){i.removeAnnot(o)}:o.isGrouped&&o.isGrouped()?function(){i.addAnnotGroup(s,c).then((function(){n.getAnnotRender(a,r).component.getGroupRenders().map((function(t){t.active()}))}))}:function(){i.addAnnot(s).then((function(){n.getAnnotRender(a,r).component.active()}))}},markRedactAnnot:function(t,e){var n=t.host.pdfViewer,o=t.host.annot,r=o.getUniqueID(),i=o.getPDFPage(),a=i.getIndex();return"before"===e?function(){i.removeAnnot(o)}:function(){var t=new u(o).getJson();i.markRedactAnnot(t.rects,t.name).then((function(){n.getAnnotRender(a,r).component.active()}))}},makeRedactByPages:function(t,e){var n=t.host;return"before"===e?function(){n.map((function(t){t.getPDFPage().removeAnnot(t)}))}:function(){n.map((function(t){t.getPDFPage().markRedactAnnot([t.info.rect],t.id)}))}},placeRedact:function(t,e){var n=t.host;return"before"===e?function(){n.map((function(t){t.getPDFPage().removeAnnot(t)}))}:function(){n.map((function(t){t.getPDFPage().markRedactAnnot([t.info.rect],t.id)}))}},eraser:function(t,e){var n=t.inkArray,o=t.host;return function(){n.map((function(t){o.getAnnotRender(t.annot.getId()).component.annot.setInkList(t.inkList)}))}},updateCalloutPoints:function(t){var e=t.host.pdfViewer,n=t.host.annot,o=(t.method,n.getUniqueID()),r=n.getPDFPage().getIndex();return function(){var n=e.getAnnotRender(r,o).component;n.annot._setRect(t.rect,!1).then((function(){n.annot.setInnerRectNoAction(t.innerRect).then((function(){n.annot.setCalloutLinePoints(t.calloutLinePoints).then((function(){n.annot.update().then((function(){n.redraw(),n.active()}))}))}))}))}},addReply:function(t,e){var n=t.host,o=t.replyAnnot,r=(t.component,t.pdfViewer),i=n.getPDFPage(),a=i.getIndex(),s=n.getId(),c=o.getId(),u=o.getCreateDateTime(),l=o.getModifiedDateTime();return"before"===e?function(){i.removeAnnot(o)}:function(){r.getAnnotRender(a,s).component.annot.addReply(o.getContent()).then((function(t){t.setUniqueID(c).then((function(){t.setCreateDateTime(new Date(u).getTime()).then((function(){t.setModifiedDateTime(new Date(l).getTime())}))}))}))}},deleteReply:function(t,e){var n=t.host,o=t.replyAnnot,r=t.pdfViewer,i=n.getPDFPage(),a=i.getIndex(),s=o.getId(),c=n.getId(),u=o.getCreateDateTime(),l=o.getModifiedDateTime();return"before"===e?function(){r.getAnnotRender(a,c).component.annot.addReply(o.getContent()).then((function(t){t.setUniqueID(s).then((function(){t.setCreateDateTime(new Date(u).getTime()).then((function(){t.setModifiedDateTime(new Date(l).getTime())}))}))}))}:function(){i.removeAnnotById(s)}},addAction:function(t,e){var n=t.host.pdfViewer,o=t.host.annot,r=o.getUniqueID(),i=o.getPDFPage().getIndex(),a=o.getAction();return"before"===e?function(){o.removeAction()}:function(){!function(t,e){t.setAction(e.type).then((function(){var n=new l(e).toJson();return t.setActionData(n).then((function(){return function t(e,n){for(var o=n.subActionCount,r=[],i=function(o){r.push(e.insertSubAction(o,n.subAction[o].type).then((function(){var r=new l(n.subAction[o]).toJson(),i=e.getSubAction(o);return i.setActionData(r).then((function(){return t(i,n.subAction[o])}))})))},a=0;a<o;a++)i(a);return Promise.all(r)}(t.getAction(),e)}))}))}(n.getAnnotRender(i,r).component.annot,a.info)}}};e.default=c;var u=function(){function t(e){s(this,t);var n=(0,i.colorConvertor)(e.getBorderColor(),"#");switch(this.json={objNumber:e.info.objNumber,name:e.getUniqueID(),rect:e.getRect(),color:n,style:e.getBorderStyle(),contents:e.getContent(),date:new Date(e.getModifiedDateTime()).getTime(),type:e.getType(),flags:e.getFlags()},e instanceof o.default&&this.markup(e),e instanceof r.default&&this.textMarkup(e),e.getType()){case"ink":this.ink(e);break;case"fileattachment":this.fileattachment(e);break;case"polygon":this.polygon(e);break;case"polyline":this.polyline(e);break;case"stamp":this.stamp(e);break;case"freetext":this.freetext(e);break;case"screen":this.screen(e);break;case"line":this.line(e);break;case"redact":this.redact(e);break;case"highlight":this.highlight(e);break;case"link":this.link(e);break;case"square":this.square(e);break;case"circle":this.circle(e)}}return t.prototype.markup=function(t){this.json=Object.assign({intent:t.getIntent(),opacity:t.getOpacity(),subject:t.getSubject(),title:t.getTitle(),creationTimestamp:new Date(t.getCreateDateTime()).getTime()},this.json)},t.prototype.textMarkup=function(t){this.json=Object.assign({startCharIndex:t.getStartCharIndex(),endCharIndex:t.getEndCharIndex(),coords:t.getQuadPoints()},this.json)},t.prototype.ink=function(t){this.json=Object.assign({inkList:t.getInkList(),borderWidth:t.getBorderWidth()},this.json)},t.prototype.fileattachment=function(t){this.json=Object.assign({fObjNum:t.info.fObjNum},this.json)},t.prototype.polygon=function(t){this.json=Object.assign(this.json,{vertexes:t.getVertexes(),borderStyle:t.getBorderStyleWithParam().style,borderStyleParam:t.getBorderStyleWithParam().param,fillColor:t.info.fillColor,style:void 0,borderWidth:t.getBorderWidth()})},t.prototype.polyline=function(t){this.json=Object.assign(this.json,{vertexes:t.getVertexes(),fillColor:t.info.fillColor,borderWidth:t.getBorderWidth(),borderStyle:t.getBorderStyleWithParam().style,borderStyleParam:t.getBorderStyleWithParam().param,style:void 0,startStyle:t.getStartStyle(),endStyle:t.getEndingStyle()})},t.prototype.stamp=function(t){this.json=Object.assign({icon:t.info.icon,rotate:(t.getRotation()+360)%360,apObjeNum:t.info.apObjeNum},this.json)},t.prototype.freetext=function(t){this.json=Object.assign(this.json,{calloutLinePoints:t.getCalloutLinePoints(),innerRect:t.getInnerRect(),borderStyle:t.getBorderStyleWithParam().style,borderStyleParam:t.getBorderStyleWithParam().param,style:void 0,"interior-color":t.getFillColor(),borderWidth:t.getBorderWidth(),calloutLineEndingStyle:t.getCalloutLineEndingStyle()})},t.prototype.line=function(t){var e=t.getMeasureRatio(),n=t.getMeasureUnit(),o=null;e&&n&&(o={unit:n,ratio:e});var r=t.getStartPoint(),i=t.getEndPoint();this.json=Object.assign(this.json,{startStyle:t.getStartStyle(),endStyle:t.getEndingStyle(),enableCaption:t.hasCaption(),startPoint:{x:r.x,y:r.y},endPoint:{x:i.x,y:i.y},measure:o,borderWidth:t.getBorderWidth(),borderStyle:t.getBorderStyleWithParam().style,borderStyleParam:t.getBorderStyleWithParam().param,style:void 0})},t.prototype.screen=function(t){this.json=Object.assign({apObjNum:t.info.apObjNum,opacity:t.getOpacity(),rotate:{0:0,90:1,180:2,270:3}[t.getRotation()],iObjNum:t.info.iObjNum,aObjNum:t.info.aObjNum,borderWidth:t.getBorderWidth()},this.json)},t.prototype.redact=function(t){var e=t.info.quadPoints,n=[];e.length>0?e.map((function(t){n.push({left:t[0].x,right:t[3].x,top:t[0].y,bottom:t[3].y})})):n.push(t.info.rect),this.json=Object.assign({rects:n},this.json)},t.prototype.highlight=function(t){t.info.isArea&&(this.json=Object.assign(this.json,{coords:[t.getRect()],dicts:{AreaHi:"AreaHi"}}),delete this.json.startCharIndex,delete this.json.endCharIndex)},t.prototype.link=function(t){this.json=Object.assign(this.json,{aObjNum:t.info.aObjNum,borderStyle:t.getBorderStyleWithParam().style,borderStyleParam:t.getBorderStyleWithParam().param,style:void 0,borderWidth:t.getBorderWidth()})},t.prototype.circle=function(t){this.json=Object.assign(this.json,{fillColor:t.info.fillColor,borderWidth:t.getBorderWidth(),borderStyle:t.getBorderStyleWithParam().style,borderStyleParam:t.getBorderStyleWithParam().param,style:void 0})},t.prototype.square=function(t){this.json=Object.assign(this.json,{fillColor:t.info.fillColor,borderWidth:t.getBorderWidth(),borderStyle:t.getBorderStyleWithParam().style,borderStyleParam:t.getBorderStyleWithParam().param,style:void 0})},t.prototype.getJson=function(){return this.json},t}();var l=function(){function t(e){s(this,t),this.action=e,this.json={},this[e.type]()}return t.prototype.TypeGoto=function(){var t=this.action.destination;this.json=Object.assign(t,{type:t.zoomMode})},t.prototype.TypeURI=function(){var t=this.action.uri;this.json=Object.assign({},{uri:t})},t.prototype.TypeJavaScript=function(){var t=this.action.javascript;this.json=Object.assign({},{script:t})},t.prototype.TypeNamed=function(){var t=this.action.name;this.json=Object.assign({},{name:t})},t.prototype.TypeHide=function(){var t=this.action,e=t.fieldNames,n=t.hideState;this.json=Object.assign({},{fieldNames:e,hideState:n})},t.prototype.TypeSubmitForm=function(){var t=this.action,e=t.flags,n=t.url,o=t.fieldNames;this.json=Object.assign({},{flags:e,url:n,fieldNames:o})},t.prototype.TypeResetForm=function(){var t=this.action,e=t.flags,n=t.fieldNames;this.json=Object.assign({},{flags:e,fieldNames:n})},t.prototype.TypeGoToR=function(){var t=this.action,e=t.destinationName,n=t.destination;this.json=Object.assign({},{destinationName:e,destination:n})},t.prototype.toJson=function(){return this.json},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function t(e,n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.left=e,this.bottom=n,this.right=o,this.top=r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(32),i=(o=r)&&o.__esModule?o:{default:o};var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype.show=function(){(0,i.default)()},t.prototype.hide=function(){(0,i.default)()},t.prototype.destroy=function(){(0,i.default)()},t}();e.default=a},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";t=t||{};var e="",n=o.$each,r=t.actions,i=(t.$value,t.$index,o.$escape);return e+='<div class="fv__selection-tool-tip-container">\n    \x3c!--<div class="fv__selection-tool-tip-items-container">--\x3e\n        <div class="fv__selection-tool-tip-items">\n            ',n(r,(function(t,n){e+='\n            <div class="fv__selection-tool-tip-item ',e+=i(t.iconClass),e+='" action="',e+=i(t.name),e+='"></div>\n            '})),e+="\n        </div>\n    \x3c!--</div>--\x3e\n</div>"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default="d4b52f3 @Release/s207"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(273),i=(o=r)&&o.__esModule?o:{default:o};var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parentManager=e,this.lifeCycles={},this.generators={}}return t.prototype.registerLifecycle=function(t){var e=this,n=t.constructor,o=n.getName();this.lifeCycles[o]=t,t.initialize();var r=n.depends();r.length>0&&r.forEach((function(n){var r=e.getLifeCycle(n);r.addReleaseHook((function(){t.release()})),r.addDestroyHook((function(){o in e.lifeCycles&&delete e.lifeCycles[o],t.destroy()}))}))},t.prototype.registerResourceGenerator=function(t,e){this.generators[t]=i.default.resolveInstance(e)},t.prototype.getLifeCycle=function(t){if(t in this.lifeCycles)return this.lifeCycles[t];if(this.parentManager)return this.parentManager.getLifeCycle(t);throw new Error("Incorrect lifecycle name: "+lifecycleName+", please make sure that has been registered via WebAppLifecycleManager.registerLifecycle()!")},t.prototype.getResourceGeneratorClass=function(t){if(t in this.generators)return this.generators[t];if(this.parentManager)return this.parentManager.getResourceGeneratorClass(t);throw new Error("Incorrect generator name: "+t+", please make sure that has been registered via WebAppLifecycleManager.registerResourceGenerator(name, generator)!")},t.prototype.generator=function(t,e){var n=this.getLifeCycle(t),o=n.getResourceGenerator(e);if(!o){var r=void 0;r="string"==typeof e?this.getResourceGeneratorClass(e):i.default.resolveInstance(e),n.addResourceGenerator(e,r),o=n.getResourceGenerator(e)}return o},t.prototype.releaseAll=function(){Object.values(this.lifeCycles).forEach((function(t){t.release()}))},t.prototype.destroy=function(){Object.values(this.lifeCycles).forEach((function(t){t.release(),t.destroy()}))},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(161)),r=i(n(65));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return o.pdfViewer=n,o}return a(e,t),e.getName=function(){return r.default.PDF_VIEWER_ALIVE},e.depends=function(){return[r.default.BROWSER_RELOAD]},e.prototype.initialize=function(){var t=this,e=this.pdfViewer.destroy;this.pdfViewer.destroy=function(){for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return e.apply(t.pdfViewer,o).then((function(){t.release()}))},this.addDestroyHook((function(){delete t.pdfViewer}))},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(161)),r=a(n(1)),i=a(n(65));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return o.pdfViewer=n,o}return s(e,t),e.getName=function(){return i.default.PDF_DOCUMENT_CLOSING},e.depends=function(){return[i.default.PDF_VIEWER_ALIVE,i.default.BROWSER_RELOAD]},e.prototype.initialize=function(){var t=this,e=function(){t.release()};this.pdfViewer.eventEmitter.on(r.default.willCloseDocument,e),this.addDestroyHook((function(){t.pdfViewer.eventEmitter.off(r.default.willCloseDocument,e),delete t.pdfViewer}))},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(273);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return s(e,t),e.prototype.generate=function(t){var e=window.URL||window.webkitURL,n=e.createObjectURL(t);return this.addReleaseHook((function(){return e.revokeObjectURL(n),!0})),n},e.prototype.expose=function(){return this.getWrappedURL()},e.prototype.getWrappedURL=function(){var t=this;if(this.WrappedURL)return this.WrappedURL;var e=window.URL||window.webkitURL,n=this.wrap(e,"createObjectURL",(function(){return function(e){return t.generate(e)}}));return this.WrappedURL=n,n.URL=n,n},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(161)),r=i(n(65));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(){return a(this,e),s(this,t.apply(this,arguments))}return c(e,t),e.getName=function(){return r.default.BROWSER_RELOAD},e.prototype.initialize=function(){},e.prototype.addResourceGenerator=function(e,n){var o=this.map.size;t.prototype.addResourceGenerator.call(this,e,n),this.map.size>o&&this.prepareUnloadEvent()},e.prototype.prepareUnloadEvent=function(){var t=this;if(!this.prepared)if(this.prepared=!0,"function"!=typeof window.onunload)window.onunload=function(){return t.destroy(),""};else{var e=window.onunload;window.onunload=function(n){return t.destroy(),e.call(window,n)}}},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=u(n(274)),r=u(n(567)),i=u(n(582)),a=u(n(163)),s=u(n(603)),c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(162));u(n(607));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.api=new o.default(e),this.annotManager=new i.default,this.actionFactory=a.default,this.graphicsObjectManager=new s.default(this),this.eventEmitter=n,this.userName=null,this.defaultAnnotConfig=function(){}}return t.prototype.init=function(){return this.api.init().catch((function(t){return Promise.reject(t.error)}))},t.prototype.setIcons=function(t){return this.api.setIcons(t)},t.prototype.addIcon=function(t){return this.api.addIcon(t)},t.prototype.removeIcon=function(t,e,n){return this.api.removeIcon(t,e,n)},t.prototype.getPDFDocByFile=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n.fileName=n.fileName||t.name||"",this.api.getPDFDocIdByFile(t,{jwt:n.jwt}).then((function(t){return new r.default(t,e,n)}))},t.prototype.createNewDoc=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"untitled.pdf",e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{height:842,width:595};return this.api.createNewDoc(t,n,o).then((function(n){return new r.default(n,e,{fileName:t})}))},t.prototype.getPDFDocByChunk=function(t,e,n){var o=this;return this.api.getPDFDocIdByChunk(t,e).then((function(t){return new r.default(t,o,n)}))},t.prototype.getPDFDocByHttpRangeRequest=function(t,e){var n=this;return this.api.getPDFDocIdByHttpRangeRequest(t,{jwt:e.jwt}).then((function(t){return new r.default(t,n,e)}))},t.prototype.getPDFDocByArrayBuffer=function(t,e){var n=this;return this.api.getPDFDocIdByArrayBuffer(t).then((function(t){return new r.default(t,n,e)}))},t.prototype.getPDFDocById=function(t,e){return Promise.resolve(new r.default(t,this,e))},t.prototype.setUserName=function(t){var e=this;return this.api.setUserName(t).then((function(n){e.userName=t}))},t.prototype.getUserName=function(){var t=this;return this.userName?Promise.resolve(this.userName):this.api.getUserName().then((function(e){return t.userName=e,e}))},t.prototype.setDynamicInfoFormula=function(t,e){return this.api.setDynamicInfoFormula(t,e)},t.prototype.getUtils=function(){return c},t.prototype.getDefaultAnnotConfig=function(){return this.defaultAnnotConfig},t.prototype.setDefaultAnnotConfig=function(t){this.defaultAnnotConfig=t},t.prototype.registerSignatureHandler=function(t,e,n){return this.api.registerSignatureHandler(t,e,n)},t}();e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=w(n(275)),i=w(n(16)),a=w(n(1)),s=w(n(575)),c=w(n(578)),u=w(n(157)),l=w(n(579)),f=w(n(580)),p=w(n(581)),d=n(162),h=w(n(24)),g=w(n(282)),m=n(38),v=w(n(39)),y=w(n(163)),b=w(n(22));n(43);function w(t){return t&&t.__esModule?t:{default:t}}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var P=function(){function t(e,n){var o=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_(this,t),this.id=e,this.engine=n,this.parameters=r,this.api=n.api,this.pageCache=[],this.pagePromiseCache=[],this.info={fileName:r.fileName,pageSizes:{}},this.fieldWidgets={},this.visibleTemplates=[],this.invisibleTemplates=[],this.metadata={FileName:r.fileName},this.docModified=!1;var s=[];for(var c in i.default)"layerVisibleChange"!==c&&"drmEncryptFailed"!==c&&"docModified"!==c&&s.push(i.default[c]);var u=function(){o.engine.eventEmitter.emit(i.default.docModified,o),o.docModified=!0},l=(0,d.debounce)(100,u);s.map((function(t){o.engine.eventEmitter.on(t,l)})),this.engine.eventEmitter.on(a.default.willCloseDocument,this.willCloseDocument=function(){s.map((function(t){o.engine.eventEmitter.removeListener(t,l)}))}),this.permissionFactory={}}return t.prototype.checkNoAdditionPerm=function(t){return void 0!==this.permissionFactory.additional&&!(this.permissionFactory.additional(this)&t)},t.prototype.checkPermission=function(t){var e=void 0!==this.permissionFactory.standard?this.permissionFactory.standard():-1;return this.getPermissionsSync()&e&t},t.prototype.isDocModified=function(){return this.docModified},t.prototype.getId=function(){return this.id},t.prototype.getNameTreeIcons=function(){return this.info.icons},t.prototype.getFileName=function(){return this.info.fileName},t.prototype.parseByPassword=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o={};if(n.encryptPassword&&(o.encryptPassword=n.encryptPassword),n.annotsJson){var r=u.default.JSONToFDF(n.annotsJson);o.fdf={file:r}}return n.fdf&&(o.fdf=n.fdf),n.drm&&(o.drm=n.drm),n.fileOpen&&(o.fileOpen=n.fileOpen),n.idJWT&&(o.idJWT=n.idJWT),this.api.parsePDFDocByPassword(this.id,t,o).then((function(t){var n=t.code,o=t.info;if(0!==n)return Promise.reject(t);e.info=Object.assign(e.info,o),e.pageCache=new Array(e.info.pageCount),e.info.action&&(e.action=e.engine.actionFactory.createAction(e.info.action,e,e.api,e.engine.eventEmitter,e))})).then((function(){return e}))},t.prototype.parse=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.parseByPassword(t.password,t)},t.prototype.getJsNameTree=function(){return this.info.jsNameTree},t.prototype.getMetadata=function(){var t=this;return this.api.getMetadata(this.id).then((function(e){return t.metadata=Object.assign(t.metadata,e)}))},t.prototype.getMetadataValue=function(t){return this.metadata[t]},t.prototype.flatten=function(t){if(!(this.checkPermission(h.default.annotForm)&&this.checkPermission(h.default.modify)&&this.checkPermission(h.default.assemble)))throw new Error("Permission error");for(var e=[],n=this.getPageCount(),o=0;o<n;o++){var r=this.getPageByIndex(o).then((function(e){return e.flatten(t)}));e.push(r)}return Promise.all(e)},t.prototype.setMetadataValue=function(t,e){var n=this;if(!this.checkPermission(h.default.modify))throw new Error("Permission error");return this.api.setMetadataValue(this.id,t,e).then((function(o){if(!n.metadata)return n.getMetadata();n.metadata[t]=e,n.engine.eventEmitter.emit(i.default.metaDataChanged,n)}))},t.prototype.loadPDFForm=function(){var t=this.PDFForm;return t&&!this.emptyForm?Promise.resolve(t):(t&&t.destroy(),t=this.PDFForm=new s.default(this,this.engine),this.api.loadForm(this.id).then((function(e){return t.setFormJson(e),t})))},t.prototype.loadEmptyPDFForm=function(){var t=this.PDFForm;return this.emptyForm=!0,t||(t=this.PDFForm=new s.default(this,this.engine)),Promise.resolve(t)},t.prototype.getPDFForm=function(){return this.PDFForm},t.prototype.getPageCount=function(){return this.info.pageCount},t.prototype.isLinearized=function(){return this.api.isLinearized(this.id)},t.prototype.hasForm=function(){return this.api.hasForm(this.id)},t.prototype.setCustomPermission=function(t,e){this.permissionFactory[t]=e},t.prototype.getPermission=function(){return this.getPermissions()},t.prototype.getPermissions=function(){return this.getPermissionsSync()},t.prototype.getPermissionsSync=function(){var t=-1;return(this.info.sigPerms||[]).forEach((function(e){return t&=e})),this.info.isOwner?4294967292:(t&this.info.userPermissions)>>>0},t.prototype.isSignaturePerm=function(){return(this.info.sigPerms||[]).length},t.prototype.getStdCipherOptions=function(){return this.api.getStdCipherOptions(this.id)},t.prototype.getPDFDocInfo=function(){return this.api.getPDFDocInfoById(this.id)},t.prototype.getBookmarksJson=function(){return this.api.getBookmarks(this.id)},t.prototype.getRootBookmark=function(){var t=this;if(this.bookmarkRoot)return Promise.resolve(this.bookmarkRoot);var e=this.engine;return this.getBookmarksJson().then((function(n){return n?t.bookmarkRoot=new p.default(e,t,n):null}))},t.prototype.createRootBookmark=function(){var t=this;if(!this.checkPermission(h.default.assemble))throw new Error("Permission error");var e=this.engine;return this.api.createRootBookmark(this.id).then((function(n){return t.bookmarkRoot=new p.default(e,t,n)}))},t.prototype.getLayerNodesJson=function(){var t=this;return this.ocgs?Promise.resolve(this.ocgs):this.api.getLayerNodes(this.id).then((function(e){return t.ocgs=e}))},t.prototype.setLayerNodeVisible=function(t,e){var n=this;return this.getLayerNodeById(t).visible=e,this.api.setLayerNodeVisiable(this.id,t,e).then((function(t){return t&&n.engine.eventEmitter.emit(i.default.layerVisibleChange,n),t}))},t.prototype.setLayerNodeVisiable=function(t,e){return this.setLayerNodeVisible(t,e)},t.prototype.getPageByIndex=function(t){var e,n=this,o=this.pageCache;if(e=o[t])return Promise.resolve(e);var i=this.pagePromiseCache;return i[t]=i[t]||this.api.getPageInfoByIndex(this.id,t).then((function(e){var a=o[t]=new r.default(e,n);return delete i[t],a}))},t.prototype.destroy=function(){var t=void 0;(t=this.PDFForm)&&t.destroy(),this.PDFForm=null;for(var e=this.pageCache,n=0,o=e.length;n<o;n++){var r=e[n];r&&r.destroy(),e[n]=null}var i=this.HF;return i&&i.destroy(),this.HF=null,this.bookmarkRoot&&this.bookmarkRoot.destroy(),this.bookmarkRoot=null,this.permissionFactory={},this.engine.eventEmitter.off(a.default.willCloseDocument,this.willCloseDocument),this.willCloseDocument=null,this.api.destroyDoc(this.getId())},t.prototype.getStream=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.checkNoAdditionPerm(1))throw new Error("Permission error, download disabled");return this.PDFForm?this.PDFForm.addTask().then((function(){return e.api.getPDFDocStream(e.id,t,n)})):this.api.getPDFDocStream(this.id,t,n)},t.prototype.exportAnnotsToFDF=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(0!==t&&1!==t)throw new Error("File type error, only 0 or 1 available, current is "+t);var n={};if(e)for(var o in e.forEach((function(t){var e;n[t.page.getId()]||(n[t.page.getId()]=new Set),e=n[t.page.getId()],O(t,e)})),n)n[o]=Array.from(n[o]);return this.api.exportToFDF(this.id,t,2,n)},t.prototype.exportFormToFile=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if((e|2-e)<0)throw new Error("File type error.");var n=Promise.resolve();return this.PDFForm||(n=this.loadPDFForm()),n.then((function(n){switch(e){case 0:return Promise.resolve(new Blob([t.PDFForm.exportFDF()],{type:"application/vnd.adobe.fdf"}));case 1:var o=t.PDFForm.exportXFDF(),r=new Blob([o],{type:"application/vnd.adobe.xfdf"});return Promise.resolve(r);case 2:var i=t.PDFForm.exportXML(),a=new Blob([i],{type:"application/xml"});return Promise.resolve(a)}}))},t.prototype.exportToFDF=function(t,e){return this.api.exportToFDF(this.id,t,2).then((function(t){return new Uint8Array(t)}))},t.prototype.importAnnotsFromFDF=function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.checkPermission(h.default.annotForm))throw new Error("Permission error");return this.api.importFromFDF(this.id,t,2).then((function(){for(var t=e.pageCache,n=[],o=function(e,o){var r=t[e];if(!r)return"continue";n.push(r.getUnloadedAnnots().then((function(t){return{page:r,newAnnots:t}})))},r=0,i=t.length;r<i;r++)o(r);return Promise.all(n)})).then((function(t){e.engine.eventEmitter.emit(i.default.annotationImported,e,t),!n&&e.engine.eventEmitter.emit(i.default.annotationImportedEx,e,t)}))},t.prototype.importFormFromFile=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.checkPermission(h.default.annotForm+h.default.fillForm))throw new Error("Permission error");var o=Promise.resolve();return this.PDFForm||(o=this.loadPDFForm()),n?t instanceof Blob?o=new Promise((function(e,n){var o=new FileReader;o.readAsText(t),o.onload=function(t){var n=t.target.result;e(n)}})):t instanceof ArrayBuffer&&(o=new Promise((function(e,n){var o=new Blob([t]),r=new FileReader;r.readAsText(o),r.onload=function(t){var n=t.target.result;e(n)}}))):o=Promise.resolve(),o.then((function(o){n&&(t=(0,f.default)(o));var r=e.PDFForm;return e.api.importFromFDF(e.id,t,1).then((function(t){return e.api.getFieldsValue(e.id)})).then((function(t){return r.upadateValue(t),t})).then((function(t){for(var e in t){var n=r.getField(e);if(6===n.getType()){var o=r.fieldWidgets[e],i=void 0,a=v.default.FieldValueChanged;i=o?o[0].getAdditionalAction(a):n.getAction(a),t[e].length>0&&i&&r.actionHandler&&r.actionHandler(i,null,n,a)}}r.calculate(null)}))}))},t.prototype.importFromFDFFile=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(1===n)return this.PDFForm.importFDF();var o=t,r=!1;if(t instanceof Uint8Array&&t.length>52428800){var a=new Blob([t],{type:"arraybuffer"});o=URL.createObjectURL(a),r=!0}return this.api.importFromFDFFile(this.id,o,-1,n).then((function(t){for(var n=e.pageCache,o=[],r=function(t,e){var r=n[t];if(!r)return"continue";o.push(r.getUnloadedAnnots().then((function(t){return{page:r,newAnnots:t}})))},i=0,a=n.length;i<a;i++)r(i);return Promise.all(o)})).then((function(t){r&&URL.revokeObjectURL(o);var a=i.default.annotationImported;1==n&&(a=i.default.annotationImported),e.engine.eventEmitter.emit(a,e,t)}),(function(t){console.error("some error happened. Please check fdf file exists.",t)}))},t.prototype.exportAnnotsToJSON=function(t){var e=this,n=Promise.resolve();if(t&&0!=t.length){var r={},i=t.map((function(t,e){var n=t.exportToJSON();return"stamp"!=n.type&&"fileattachment"!=n.type||(r[e]={page:n.page,index:t.getId()}),n}));n=Promise.all([i,this.getAnnotsRawData(r)])}else n=this.getAnnots().then((function(t){for(var n={},o=[],r=0,i=t.length;r<i;r++)for(var a=t[r],s=0,c=a.length;s<c;s++){var u=a[s].getType();if("widget"!=u&&"popup"!=u&&"watermark"!=u){var l=a[s].exportToJSON();o.push(l),"stamp"!=l.type&&"fileattachment"!=l.type||(n[o.length-1]={page:r,index:a[s].getId()})}}return Promise.all([o,e.getAnnotsRawData(n)])}));return n.then((function(t){var e=o(t,2),n=e[0];return e[1].forEach((function(t){return n[t.index].raw=t.raw})),n}))},t.prototype.getAnnotsRawData=function(t){return t.length>0?[]:this.api.getAnnotsRawData(this.id,t)},t.prototype.importAnnotsFromJSON=function(t){if(!this.checkPermission(h.default.annotForm))throw new Error("Permission error");var e=u.default.JSONToFDF(t);return this.importAnnotsFromFDF(e)},t.prototype.getPageAnnots=function(t){return this.getPageByIndex(t).then((function(t){return t.getAnnots()}))},t.prototype.getAnnots=function(){for(var t=this,e=[],n=[],o=0,r=this.getPageCount();o<r;o++)e.push(function(e){return t.getPageAnnots(e).then((function(t){n[e]=t}))}(o));return Promise.all(e).then((function(){return n}))},t.prototype.getTextSearch=function(t,e){return new c.default(this,t,e)},t.prototype.addAnnot=function(t,e){if(!this.checkPermission(h.default.annotForm))throw new Error("Permission error");return this.getPageByIndex(t).then((function(t){return t.addAnnot(e)}))},t.prototype.addAnnotGroup=function(t,e,n){if(!this.checkPermission(h.default.annotForm))throw new Error("Permission error");return this.getPageByIndex(t).then((function(t){return t.addAnnotGroup(e,n)}))},t.prototype.setOpenAction=function(t,e,n){var o=this;if(!this.checkPermission(h.default.modify))throw new Error("Permission error");return this.api.setDocOpenAction(this.getId(),t).then((function(t){o.engine.actionFactory.createAction(t,o,o.api,o.engine.eventEmitter,o).setActionDataByIndex(e,n)}))},t.prototype.setPasswordAndPermission=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4294967292,o=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:l.default.AES256,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=arguments[5];if(!this.checkPermission(h.default.modify))throw new Error("Permission error");return this.api.setPasswordAndPermission(this.id,t,e,n,r,a).then((function(n){return(s&&(s.userPassword||s.ownerPassword)||t&&-1!=t||e&&-1!=e)&&n&&o.engine.eventEmitter.emit(i.default.docPasswordChanged,o),n}))},t.prototype.removeSecurity=function(){var t=this;if(!this.checkPermission(h.default.modify))throw new Error("Permission error");return this.getPasswordType().then((function(e){if(3==e||0==e)return t.api.removeSecurity(t.id).then((function(e){return e&&t.engine.eventEmitter.emit(i.default.removePwdAndPerm,t),e}));throw new Error("Need owner password.")}))},t.prototype.isCorrectPassword=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.checkPassword(t).then((function(t){return 0!==t}))},t.prototype.checkPassword=function(t){var e=this;return this.api.checkPassword(this.id,t).then((function(t){return 3===t&&(e.info.isOwner=!0),e.engine.eventEmitter.emit(i.default.permissionChanged,e),t}))},t.prototype.getUserPassword=function(t){return this.api.getUserPassword(this.id,t)},t.prototype.getPasswordType=function(){return Promise.resolve(this.info.passwordType)},t.prototype.setPasswordType=function(t){return this.info.passwordType=t},t.prototype.getUserPermissions=function(){return this.info.userPermissions},t.prototype.makeRedactByPages=function(t){if(!this.checkPermission(h.default.annotForm))throw new Error("Permission error");for(var e=[],n=0;n<t.length;n++){var o=t[n],r=this.getPageByIndex(o).then((function(t){var e=void 0;return e=1==t.info.rotation||3==t.info.rotation?{left:0,top:0,right:t.getHeight(),bottom:t.getWidth()}:{left:0,top:0,right:t.getWidth(),bottom:t.getHeight()},t.markRedactAnnot([e])}));e.push(r)}return Promise.all(e)},t.prototype.movePageTo=function(t,e){var n=this;if(!this.checkPermission(h.default.modify))throw new Error("Permission error");this.info.pageSizes={};var o=this.getPageCount();if(t<0||e<0||t>=o||e>=o)throw new Error("Param error: PageIndex or DestIndex is out of the valid range.");return this.getPageByIndex(t).then((function(o){return n.api.movePageTo(n.id,o.getId(),e).then((function(o){if(o){var r=n.pageCache[t];n.pageCache.splice(t,1),n.pageCache.splice(e,0,r);var a=Math.min(t,e),s=Math.max(t,e);n.updatePageIndex(a,s),n.engine.eventEmitter.emit(i.default.pageMoved,t,e)}return o}))}))},t.prototype.insertPage=function(t,e,n){var o=this;if(!this.checkPermission(h.default.assemble))throw new Error("Permission error");this.info.pageSizes={};var a=this.getPageCount();if(t<0||t>a)throw new Error("Param error: PageIndex is out of the valid range.");if("number"!=typeof e||"number"!=typeof n)throw new Error("param error. Only number is available.");return this.api.insertPage(this.id,t,e,n).then((function(t){return delete o.ocgs,o.api.getLayerNodes(o.id).then((function(t){return o.ocgs=t})).then((function(e){return t}))})).then((function(t){if(!t)return!1;o.info.pageCount++;var e=new r.default(t,o);return o.pageCache.splice(t.index,0,e),o.updatePageIndex(t.index+1,o.info.pageCount-1),o.engine.eventEmitter.emit(i.default.pageAdded,e),e}))},t.prototype.removePage=function(t){var e=this;if(!this.checkPermission(h.default.assemble))throw new Error("Permission error");this.info.pageSizes={};var n=this.getPageCount();if(t<0||t>=n)throw new Error("Param error: PageIndex is out of the valid range.");return this.api.removePage(this.id,t).then((function(n){return n&&(e.info.pageCount--,e.pageCache.splice(t,1),e.updatePageIndex(t,e.info.pageCount-1),e.engine.eventEmitter.emit(i.default.pageRemoved,t)),n}))},t.prototype.updatePageIndex=function(t,e){for(var n=t;n<=e&&this.pageCache[n];n++)this.pageCache[n].info.index=n;this.pageCache.forEach((function(t){t.annots.forEach((function(t){"link"!=t.info.type&&"screen"!=t.info.type||t._update()}))}))},t.prototype.applyRedaction=function(){var t=this;if(!this.checkPermission(h.default.annotForm)||!this.checkPermission(h.default.modify))throw new Error("Permission error");return this.api.applyRedaction(this.id).then((function(e){if(!e)return!1;for(var n=[],o=function(o){var r=e[o],a=t.getPageByIndex(r.pageIndex).then((function(e){var n=e.clearAnnotIds(r.removedAnnotIds).filter((function(t){return t}));return t.engine.eventEmitter.emit(i.default.annotationRemoved,n,e),{pageIndex:r.pageIndex,removedAnnots:r.removedAnnotIds}}));n.push(a)},r=0;r<e.length;r++)o(r);return Promise.all(n).then((function(e){return t.engine.eventEmitter.emit(i.default.applyRedaction,e),e}))}))},t.prototype.drmEncrypt=function(t){var e=this;if(!this.checkPermission(h.default.modify))throw new Error("Permission error");return this.api.drmEncrypt(this.getId(),t).then((function(t){return e.info=Object.assign(e.info,t),e.engine.eventEmitter.emit(i.default.drmEncryptSuccess,e),e}),(function(t){return e.engine.eventEmitter.emit(i.default.drmEncryptFailed,t,e),Promise.reject(t)}))},t.prototype.getTemplates=function(){var t=this;this.api.getTemplates(this.id).then((function(e){e&&(t.visibleTemplates=e.visibleArr,t.invisibleTemplates=e.invisibleArr)}))},t.prototype.hideTemplate=function(t,e){var n=this,o=this;if(!e)return this.api.hideTemplate(this.id,t,e).then((function(){o.visibleTemplates.push(t);for(var e=-1,n=0;n<o.invisibleTemplates.length;n++){var r=o.invisibleTemplates[n];if(r.name===t.name&&r.objNum===t.objNum){e=n;break}}o.invisibleTemplates.splice(e,1)}));for(var r=this.getPageCount(),i=function(r){n.getPageByIndex(r).then((function(i){i.info.objectNumber===t.objNum&&o.removePage(r).then((function(){return o.api.hideTemplate(n.id,t,e).then((function(){o.invisibleTemplates=o.invisibleTemplates.push(t);for(var e=-1,n=0;n<o.visibleTemplates.length;n++){var r=o.visibleTemplates[n];if(r.name===t.name&&r.objNum===t.objNum){e=n;break}}o.visibleTemplates.splice(e,1)}))}))}))},a=0;a<r;a++)i(a)},t.prototype.spawnPage=function(t,e,n,o){return this.api.spawnPage(this.id,t,e,n,o)},t.prototype.removeTemplate=function(t){var e=this;return this.api.removeTemplate(this.id,t).then((function(n){for(var o=-1,r=0;r<e.invisibleTemplates.length;r++){if(e.invisibleTemplates[r].name===t){o=r;break}}e.invisibleTemplates.splice(o,1),o=-1;for(var i=0;i<e.visibleTemplates.length;i++){if(e.visibleTemplates[i].name===t){o=i;break}}return e.visibleTemplates.splice(o,1),Promise.resolve()}))},t.prototype.getPageSizes=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getPageCount()-e;return e<0&&(e=0),e+n>this.getPageCount()&&(n=this.getPageCount()-e),this.api.getPageSizes(this.id,e,n).then((function(e){return Object.assign(t.info.pageSizes,e),e}))},t.prototype.getPageSize=function(t){var e=this.info.pageSizes;if(e[t])return Object.assign({},e[t]);var n=this.pageCache[t];return n?{width:n.getWidth(),height:n.getHeight()}:void 0},t.prototype.getPageSizesSync=function(){var t=this;if(0==Object.keys(this.info.pageSizes).length)this.pageCache.forEach((function(e,n){e&&(t.info.pageSizes[n]={width:e.getWidth(),height:e.getHeight()})}));return this.info.pageSizes},t.prototype.updatePageSize=function(t,e,n){var o=this.info.pageSizes;o[t]&&(o[t].width=e,o[t].height=n)},t.prototype.insertPages=function(t){var e=this,n=t.destIndex,o=t.file,a=t.password,s=void 0===a?"":a,c=t.flags,u=void 0===c?0:c,l=t.layerName,f=void 0===l?"":l,p=t.startIndex,d=t.endIndex;if(!this.checkPermission(h.default.assemble))throw new Error("Permission error");var g=this.getPageCount();if(n<0||n>g)throw new Error("Param error: Index is out of the valid range.");return this.api.startImportPages(this.id,n,o,s,u,f,p,d).then((function(t){return delete e.ocgs,e.api.getLayerNodes(e.id).then((function(t){return e.ocgs=t})).then((function(e){return t}))})).then((function(t){var o;e.info.pageSizes={},e.info.pageCount+=t.length;var a=[];return t.forEach((function(t){var n=new r.default(t,e);a.push(n)})),(o=e.pageCache).splice.apply(o,[n,0].concat(a)),e.updatePageIndex(n,e.info.pageCount-1),e.engine.eventEmitter.emit(i.default.importPages,a),a}))},t.prototype.extractPages=function(t){if(-4!=this.checkPermission(4294967292))throw new Error("Permission error");var e=[],n=this.getPageCount();if(!t instanceof Array)throw new Error("Param error. Only array is available.");if(0===t.length)throw new Error("Param error. Non-valid array.");return t.forEach((function(t){if(!t instanceof Array)throw new Error("Param error. Only array is available.");if(0===t.length||t.length>2)throw new Error("Param error. Non-valid array.");if(isNaN(t[0])||t[0]<0||t[0]>=n)throw new Error("Param error: Index is out of the valid range.");if(t[1]&&(isNaN(t[1])||t[1]<0||t[1]>=n))throw new Error("Param error: Index is out of the valid range.")})),this.api.extractPages(this.id,t,(function(t){var n=t.arrayBuffer;e.push(n)}),void 0,void 0).then((function(t){return e}))},t.prototype.getHeaderFooter=function(){var t=this;return this.HF?Promise.resolve(this.HF):this.api.getHeaderFooter(this.id).then((function(e){return e?t.HF=new g.default(e):null}))},t.prototype.updateHeaderFooter=function(t){var e=this;if(!this.checkPermission(h.default.modify))throw new Error("Permission error");return this.api.updateHeaderFooter(this.id,t.json).then((function(n){return e.HF?e.HF.json=n:e.HF=new g.default(n),t.json=n,e.engine.eventEmitter.emit(i.default.headerFooterUpdated,t.range),e.engine.eventEmitter.emit(i.default.docModified,t.range),n}))},t.prototype.addHeaderFooter=function(t){var e=this;if(t.isEmpty())return Promise.resolve();if(!this.checkPermission(h.default.modify))throw new Error("Permission error");return this.api.addHeaderFooter(this.id,t.json).then((function(n){return e.HF?e.HF.json=n:e.HF=new g.default(n),t.json=n,e.engine.eventEmitter.emit(i.default.headerFooterAdded,t.range),e.engine.eventEmitter.emit(i.default.docModified,t.range),n}))},t.prototype.removeHeaderFooter=function(){var t=this;if(!this.checkPermission(h.default.modify))throw new Error("Permission error");return delete this.HF,this.api.removeHeaderFooter(this.id).then((function(e){return t.engine.eventEmitter.emit(i.default.headerFooterUpdated),t.engine.eventEmitter.emit(i.default.docModified),e}))},t.prototype.sign=function(t){var e=this;if(!this.checkPermission(h.default.annotForm)||!this.checkPermission(h.default.modify))throw new Error("Permission error");var n;if((n=t.fieldName)&&this.PDFForm.getField(n).getType()!=m.FieldType.Sign)throw new Error("Field type error: not a signature.");return this.api.signDoc(this.id,t).then((function(n){return"pageIndex"in t?e.getPageByIndex(t.pageIndex).then((function(t){return Promise.all([t,t.getUnloadedAnnots()])})).then((function(t){var n=o(t,2),r=n[0],a=n[1];e.engine.eventEmitter.emit(i.default.annotationAdd,a,r)})).then((function(t){return n})):n}))},t.prototype.verifySignature=function(t){return this.api.verifySignature(this.id,t.getName())},t.prototype.attchFile=function(t){if(!this.checkPermission(h.default.modify))throw new Error("Permission error");return this.api.attachFile(this.id,t).then((function(t){return t}))},t.prototype.getFontsInfo=function(){return this.api.getFontsInfo(this.id)},t.prototype.getLayerNodeById=function(t){var e=(t=t.toString()).split("-");try{for(var n=this.ocgs,o=0;o<e.length;o++)n=n.children[e[o]];return n}catch(t){return null}},t.prototype.getAdditionalAction=function(t){return this.AdditionalActions[t]},t.prototype.loadAdditionalActions=function(){var t=this;return this.api.getDocAdditionalActions(this.id).then((function(e){for(var n in t.AdditionalActions={},e)t.AdditionalActions[n]=y.default.createAction(e[n],t);return t.AdditionalActions}))},t.prototype.resetEngineInstance=function(t){var e=this,n=(this.engine,this.parameters),r={range:{docId:this.id},headers:{}};n.idJWT&&(r.headers.jwt=n.idJWT),n.password&&(r.headers["x-auth-doc"]=btoa(n.password));var i=this.api,a=(0,b.default)(),s=void 0,c=void 0;return i.resetEngine(this.id).then((function(e){var i=o(e,2),a=i[0],c=i[1];return s=c,r.range.url=a,t.getPDFDocByHttpRangeRequest(r,n)})).then((function(t){return t.parse(n)})).then((function(n){return c=n,t.api.syncDataCache(e.id,s)})).then((function(){e.engine=t,e.api=t.api,a.resolve(c)}),(function(){a.reject(e)})),a.promise},t.prototype.setColors=function(t){return this.api.setDocColors(this.getId(),t)},t}(),O=function t(e,n){if(n.add(e.getId()),e.isMarkup()){var o=e.getReplies();o.forEach((function(e){return t(e,n)})),(o=e.getMarkedStates()).forEach((function(t){return n.add(t.getId())})),(o=e.getReviewStates()).forEach((function(t){return n.add(t.getId())})),e.isReplace&&e.isReplace()&&(o=e.getGroupElements()).forEach((function(t){return n.add(t.getId())}))}};e.default=P},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.match=e}return t.prototype.getEndCharIndex=function(){return this.match.endCharIndex},t.prototype.getPageIndex=function(){return this.match.pageIndex},t.prototype.getRects=function(){return this.match.rectArray},t.prototype.getSentence=function(){return this.match.sentence},t.prototype.getSentenceStartIndex=function(){return this.match.sentenceStartIndex},t.prototype.getStartCharIndex=function(){return this.match.startCharIndex},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(42)),r=i(n(97));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o,i,a,s,c){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,i,a,s,c));return u.fileSpec=u.info.fileSpec&&new r.default(u.info.fileSpec)||null,u}return a(e,t),e.prototype.getFileSpec=function(){return this.fileSpec},e.prototype.checkOutData=function(t){return t&&t.buffer},e.prototype.updateAction=function(e){return this.fileSpec=e.fileSpec&&new r.default(e.fileSpec)||null,t.prototype.updateAction.call(this,e)},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(42));r(n(47)),r(n(16));function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,o,r,i,a,s){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i,a,s))}return i(e,t),e.prototype.getName=function(){return this.info.name},e.prototype.checkOutData=function(t){return t&&t.name},e}(o.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(42));r(n(47)),r(n(3));function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,o,r,i,a,s){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r,i,a,s))}return i(e,t),e.prototype.getFlags=function(){return this.info.flags},e.prototype.getURL=function(){return this.info.url},e.prototype.getFieldNames=function(){return this.info.fieldNames},e.prototype.checkOutData=function(t){return t&&t.fieldNames&&t.url},e}(o.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(42)),r=(i(n(47)),i(n(97)));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o,i,a,s,c){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,i,a,s,c));return u.fileSpec=u.info.fileSpec&&new r.default(u.info.fileSpec)||null,u}return a(e,t),e.prototype.getFDFFileSpec=function(){return this.fileSpec},e.prototype.checkOutData=function(t){return t&&t.buffer},e.prototype.updateAction=function(e){return this.fileSpec=e.fileSpec&&new r.default(e.fileSpec)||null,t.prototype.updateAction.call(this,e)},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(42)),r=i(n(97));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o,i,a,s,c){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,i,a,s,c));return u.fileSpec=u.info.fileSpec&&new r.default(u.info.fileSpec)||null,u}return a(e,t),e.prototype.getDestinationName=function(){return this.info.destinationName},e.prototype.getDestination=function(){return this.info.destination},e.prototype.getFileSpec=function(){return this.fileSpec},e.prototype.getNewWindowFlag=function(){return this.info.newWindowFlag},e.prototype.getFileSpecStream=function(){var t=[];return this.doc.api.getActionFileStream(this.doc.getId(),this.info.objNumber,(function(e){var n=e.arrayBuffer;t.push(n)})).then((function(){return t}))},e.prototype.checkOutData=function(t){return function(t){var e=void 0;return e=!!t.type,{ZoomXYZ:function(){e=t.pageIndex!=null&&t.left!=null&&t.top!=null&&t.zoomFactor!=null},ZoomFitPage:function(){e=!!(t.pageIndex!=null)},ZoomFitHorz:function(){e=t.pageIndex!=null&&t.top!=null},ZoomFitVert:function(){e=t.pageIndex!=null&&t.left},ZoomFitRect:function(){e=t.pageIndex!=null&&t.left&&t.top!=null&&t.bottom!=null&&t.right!=null},ZoomFitBBox:function(){e=!!(t.pageIndex!=null)},ZoomFitBHorz:function(){e=t.pageIndex!=null&&t.top!=null},ZoomFitBVert:function(){e=t.pageIndex!=null&&t.left!=null}}[t.type](),e&&t.buffer&&t.newWindowFlag}(t)},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(42)),r=i(n(97));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o,i,a,s,c){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,i,a,s,c));return u.rootFile=u.info.rootFile&&new r.default(u.info.rootFile)||null,u}return a(e,t),e.prototype.getDestinationName=function(){return this.info.destinationName},e.prototype.getDestination=function(){return this.info.destination},e.prototype.getRootFile=function(){return this.rootFile},e.prototype.getNewWindowFlag=function(){return this.info.newWindowFlag},e.prototype.checkOutData=function(t){return function(t){var e=void 0;return e=!!t.type,{ZoomXYZ:function(){e=t.pageIndex!=null&&t.left!=null&&t.top!=null&&t.zoomFactor!=null},ZoomFitPage:function(){e=!!(t.pageIndex!=null)},ZoomFitHorz:function(){e=t.pageIndex!=null&&t.top!=null},ZoomFitVert:function(){e=t.pageIndex!=null&&t.left},ZoomFitRect:function(){e=t.pageIndex!=null&&t.left&&t.top!=null&&t.bottom!=null&&t.right!=null},ZoomFitBBox:function(){e=!!(t.pageIndex!=null)},ZoomFitBHorz:function(){e=t.pageIndex!=null&&t.top!=null},ZoomFitBVert:function(){e=t.pageIndex!=null&&t.left!=null}}[t.type](),e&&t.buffer&&t.newWindowFlag}(t)},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=l(n(576)),i=l(n(16)),a=l(n(3)),s=n(38),c=l(n(39)),u=l(n(24));function l(t){return t&&t.__esModule?t:{default:t}}var f=Promise.resolve(),p=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.doc=e,this.engine=n,this.api=n.api,this.fields=[],this.fieldsNameMap={},this.fieldWidgets={},this.actionDepth=0,this.calculationEnabled=!0,f=Promise.resolve(),this.mapWidgets2Field={}}return t.prototype.destroy=function(){var t=this;this.doc=null,this.engine=null,this.api=null,this.fields.forEach((function(e){var n=e.getName();t.fieldsNameMap[n]=null,t.fieldWidgets[n]=null,e.destroy()})),this.fields=[],this.fieldsNameMap=null,this.fieldWidgets=null},t.prototype.checkModifyPerm=function(){if(!this.doc.checkPermission(u.default.annotForm|u.default.fillForm))throw new Error("Permission error")},t.prototype.setState=function(t){this.state=t},t.prototype.mapFormControl=function(t,e){var n=this.fieldWidgets[t]=this.fieldWidgets[t]||[],o=this.fieldsNameMap[t];o&&void 0===e.info.control&&o.info.controls.forEach((function(t,n){var o=t.widgetObjNum;void 0===o&&t.widget&&(o=t.widget.objNum),o==e.info.objectNumber&&(e.info.control=n)})),n.filter((function(t){return t.getId()==e.getId()})).length||n.push(e)},t.prototype.reduceControl=function(t,e){var n=this;Object.keys(this.fieldsNameMap).forEach((function(t){e.forEach((function(e){var o=n.fieldsNameMap[t];o&&o.hasControl(e)&&n.removeControl(t,e,!1)}))}))},t.prototype.isEmpty=function(){return!this.fields.length},t.prototype.setActionHandler=function(t){this.actionHandler=t},t.prototype.setFormJson=function(t){if(this.isLoaded=!0,t){this.formInfo=t;for(var e=0,n=t.fields.length;e<n;e++){var o=t.fields[e];if(!this.fieldsNameMap[o&&o.name||e]){var i=new r.default(this.doc,this,o);this.fields.push(i),this.fieldsNameMap[o&&o.name||e]=i}}}else this.formInfo={fields:[]}},t.prototype.widget2field=function(t,e){this.mapWidgets2Field[t]=e},t.prototype.getAlignment=function(){return this.formInfo.alignment},t.prototype.getFieldCount=function(){return this.fields.length},t.prototype.getField=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.fieldsNameMap[t];if(!e||n)return n;var o=[];for(var r in this.fieldsNameMap)r.startsWith(t)&&o.push(this.fieldsNameMap[r]);return o},t.prototype.getFieldByIndex=function(t){return this.fields[t]},t.prototype.setFieldValue=function(t,e){if(!this.doc.checkPermission(u.default.fillForm+u.default.annotForm))throw new Error("Permission error");if("string"==typeof t&&(t=this.fieldsNameMap[t]),t.setValue(e),this.actionDepth++,this.actionDepth<2){var n=this.formInfo.calculationOrder;for(var o in n){var r=this.getField(n[o]),i=r.getAction(c.default.FieldRecalculateValue);i&&this.actionHandler&&this.actionHandler(i,t,r,c.default.FieldRecalculateValue)}}this.actionDepth--},t.prototype.calculate=function(t){if(!this.doc.checkPermission(u.default.fillForm+u.default.annotForm))throw new Error("Permission error");if(this.calculationEnabled){if("string"==typeof t&&(t=this.fieldsNameMap[t]),this.actionDepth++,this.actionDepth<2){var e=this.formInfo.calculationOrder;for(var n in e){var o=this.getField(e[n]),r=o.getAction(c.default.FieldRecalculateValue);r&&this.actionHandler&&this.actionHandler(r,t,o,c.default.FieldRecalculateValue)}}this.actionDepth--}},t.prototype.resetForm=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments[2];if(!this.doc.checkPermission(u.default.fillForm+u.default.annotForm))throw new Error("Permission error");this.enumFields(t,n,(function(t,n,o){var r=e.getField(n),i=r.getDefaultValue();r.setValue(i)}),!0),o&&this.calculate(o)},t.prototype.submitForm=function(t,e,n){var o=s.FormActionFlags.getType(n),r={};switch(o){case"HTML":this.enumFields(e,n,(function(t,e,n){r[e]=n}));break;case"FDF":r={formData:this.exportFDF(e,n)};break;case"XFDF":r={formData:this.exportXFDF(e,n)};break;case"PDF":return console.error("unspported submition type")}var i=s.FormActionFlags.isGetMethod(n);a.default.ajax({url:t,type:i?"GET":"POST",data:r,async:!1,success:function(t){console.log("submit form success."),console.log(t)},error:function(t){console.log("submit form failed."),console.log(t)}})},t.prototype.enumFields=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=s.FormActionFlags.isExclude(e);if(r){var i=Object.keys(this.fieldsNameMap);if(0==(t=i.filter((function(e){return-1==t.indexOf(e)}))).length)return}0==t.length&&(t=Object.keys(this.fieldsNameMap));for(var a=o?1:s.FormActionFlags.isIncludeNoValueFields(e),c=0;c<t.length;c++){var u=t[c],l=this.getField(u);if(l){var f=l.getType(),p=l.getValue(),d=0;o||(d=(d=s.FieldFlag.isNoExport(l.getFlags()))||!p&&!a),f==s.FieldType.Sign||f==s.FieldType.PushButton||d||n(f,l.getName(),p||"")}}},t.prototype.exportFDF=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[37,70,68,70,45,49,46,50,10,49,32,48,32,111,98,106,10,60,60,47,70,68,70,60,60,47,70,40];d(n,this.doc.info.fileName),d(n,")/Fields[",!0),this.enumFields(t,e,(function(t,e,o){switch(d(n,"<</T(",!0),d(n,e),d(n,")/V",!0),t){case s.FieldType.CheckBox:case s.FieldType.RadioButton:d(n,"/",!0),d(n,o);break;default:d(n,"(",!0),d(n,o),d(n,")")}d(n,">>",!0)}));var o="]/ID[<"+this.doc.info.fileID[0]+"><"+this.doc.info.fileID[1]+">]/UF("+this.doc.info.fileName+")>>/Type/Catalog>>\nendobj\ntrailer\n<</Root 1 0 R>>\n%%EOF";return d(n,o,!0),new Uint8Array(n)},t.prototype.exportXFDF=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n='<?xml version="1.0" encoding="UTF-8"?>\n<xfdf xmlns="http://ns.adobe.com/xfdf/" xml:space="preserve">\n<f href="'+this.doc.info.fileName+'"/><fields>\n',o='</fields>\n<ids original="'+this.doc.info.fileID[0]+'" modified="'+this.doc.info.fileID[1]+'"/>\n</xfdf>',r="";return this.enumFields(t,e,(function(t,e,n){r+='<field name="'+e+'"><value>'+n+"</value></field>"})),n+r+o},t.prototype.importFDF=function(t){if(!this.doc.checkPermission(u.default.fillForm+u.default.annotForm))throw new Error("Permission error");var e=t.match(/<<\/T\([\s\S]*?\)(\/V[\s\S]*?)?>>/g);for(var n in e){var o=e[n].match(/<<\/T\(([\s\S]*?)\)(?:\/V\/?([\s\S]*?))?>>/);if(void 0!==o[2]){var r=this.getField(o[1]);if(!r)return;var i=o[2];i!==r.getValue()&&(i=r.getType()===s.FieldType.CheckBox||r.getType()===s.FieldType.RadioButton?h(i):h(i.match(/\(([\s\S]*)\)/)[1]),r.setValue(i))}}},t.prototype.importXFDF=function(t){if(!this.doc.checkPermission(u.default.fillForm+u.default.annotForm))throw new Error("Permission error");var e=t.match(/<field\s*name=["|'][\s\S]*?["|']\s*?>\s*?(<value\s*?(\/>|>[\s\S]*?<\/value\s*?>))?\s*?<\/field\s*?>/g);for(var n in e){var o=e[n].match(/<field name=["|']([\s\S]*?)["|']\s*?>\s*?<value\s*?(?:\/>|>([\s\S]*?)<\/value\s*?>)/);if(o&&void 0!==o[2]){var r=this.getField(o[1]);if(!r)return;var i=o[2];i!==r.getValue()&&r.setValue(i)}}},t.prototype.exportXML=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n='<?xml version="1.0" encoding="UTF-8"?><fields xmlns:xfdf="http://ns.adobe.com/xfdf-transition/">',o="</fields>",r="",i={},s=0;return this.enumFields(t,e,(function(t,e,n){var o=e,c="",u=e.match(/[^0-9][a-zA-Z0-9:\-_\.]*/);u&&u[0].length!==e.length&&(o="fxTag"+e.replace(/[^a-zA-Z0-9]/g,""),c=' xfdf:original="'+e+'"'),isNaN(parseInt(o))||(o="fxTag"+e,c||(c=' xfdf:original="'+e+'"')),n=(0,a.default)("<div/>").text(n).html();for(var l=o;l in i;)l=o+s,s+=1;i[l]=!0,r+="<"+o+c+">"+n+"</"+o+">\r"})),n+r+o},t.prototype.importXML=function(t){if(!this.doc.checkPermission(u.default.fillForm+u.default.annotForm))throw new Error("Permission error");this.isEmpty()||("string"==typeof t&&(t=a.default.parseXML(t)),(0,a.default)(t).children().children().each((function(){var t=getNodeString((0,a.default)(this),"xfdf:original");t&&""!==t&&0!==t.length||(t=this.tagName);var e=(0,a.default)(this).text(),n=this.getField(t);n&&n.setValue(e)})))},t.prototype.upadateValue=function(t){for(var e in t){var n=this.getField(e);if(!n)return;var o=t[e];o!==n.getValue()&&n.setValue(o)}},t.prototype.updateFields=function(t,e,n){switch(e){case"controlFlag":var o=!0,r=!1,i=void 0;try{for(var a,s=Object.keys(this.fieldsNameMap)[Symbol.iterator]();!(o=(a=s.next()).done);o=!0){var c=a.value;c.startsWith(t)&&this.fieldsNameMap[c].setWidgetDisplay(n)}}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}}},t.prototype.addSignature=function(t,e){var n=this;return this.doc.api.addControl(this.doc.id,t,"",7,e).then((function(e){var a=void 0;return e.form?(n.setFormJson(e.form),a=n.getField(e.fieldName)):(a=new r.default(n.doc,n,e),n.fields.push(a),n.fieldsNameMap[e.name]=a),Promise.all([a,n.doc.getPageByIndex(t)]).then((function(t){var e=o(t,2),n=e[0],r=e[1];return Promise.all([r,r.getUnloadedAnnots(),n])})).then((function(t){var e=o(t,3),r=e[0],a=e[1],s=e[2];return n.doc.engine.eventEmitter.emit(i.default.annotationAdd,a,r),s}))}))},t.prototype.addControlSync=function(t){return this.addControl(t.pageIndex,t.fieldName,t.fieldType,t.rect),this.fieldsNameMap[t.fieldName]},t.prototype.addControl=function(t,e,n,a){var s=this;if(!this.doc.checkPermission(u.default.annotForm)||!this.doc.checkPermission(u.default.modify))throw new Error("Permission error");if(!this.isLoaded)throw new Error("please call PDFDoc.loadForm() firstly.");if(t<0||t>this.doc.getPageCount()-1||!e||!n||n<1||n>6)return Promise.resolve(!1);var c=this.fieldsNameMap[e];if(!c){var l=m(e,n);this.formInfo.fields.push(l),(c=new r.default(this.doc,this,l)).setRect(a),this.fields.push(c),this.fieldsNameMap[l.name]=c}return f=f.then((function(o){return s.doc.api.addControl(s.doc.id,t,e,n,a)})).then((function(e){return e.form?s.setFormJson(e.form):c.updateControls(e.controls),s.doc.getPageByIndex(t)})).then((function(t){return Promise.all([t,t.getUnloadedAnnots()])})).then((function(t){var e=o(t,2),n=e[0],r=e[1];return s.doc.engine.eventEmitter.emit(i.default.annotationAdd,r,n),Promise.resolve(!0)}))},t.prototype.removeEngineField=function(t){delete this.fieldWidgets[t],delete this.fieldsNameMap[t];var e=0;this.fields.forEach((function(n,o){if(n.getName()==t)return e=o,!1})),this.fields.splice(e,1),this.formInfo.fields.splice(e,1)},t.prototype.removeField=function(t){var e=this;if(!this.doc.checkPermission(u.default.annotForm)||!this.doc.checkPermission(u.default.modify))throw new Error("Permission error");if(!this.fieldsNameMap[t]||7==this.fieldsNameMap[t].getType())return Promise.resolve(!1);var n=this.fieldWidgets[t];for(var o in n)!function(t){f=f.then((function(n){var o=t.getPDFPage();o.clearAnnotIds([t.getId()]),e.doc.engine.eventEmitter.emit(i.default.annotationRemoved,[t],o)}))}(n[o]);return this.removeEngineField(t),f.then((function(n){return e.doc.api.removeField(e.doc.id,t)}))},t.prototype.removeControl=function(t,e){var n=this;if(!this.doc.checkPermission(u.default.annotForm)||!this.doc.checkPermission(u.default.modify))throw new Error("Permission error");var o=!(arguments.length>2)||arguments[2],r=this.fieldWidgets[t],a=void 0,s=function(t){var s=r[t];if(s.getObjNum()==e){var c=s.getPDFPage();return a=c.getIndex(),o&&(f=f.then((function(t){c.clearAnnotIds([s.getId()]),n.doc.engine.eventEmitter.emit(i.default.annotationRemoved,[s],c)}))),r.splice(t,1),"break"}};for(var c in r){var l=s(c);if("break"===l)break}var p=this.fieldsNameMap[t].removeControlInfo(e);return 0==p&&this.removeEngineField(t),o?this.doc.api.removeControl(this.doc.id,a,t,e):Promise.resolve()},t.prototype.fixPageFields=function(t){return this.doc.api.fixPageFields(this.doc.id,fieldName,t)},t.prototype.setFieldsValue=function(t,e,n){return!0!==n&&this.doc.engine.eventEmitter.emit(i.default.formValueChanged),this.doc.api.setFieldsValue(this.doc.id,t,e)},t.prototype.addTask=function(t){return"jsInited"==this.state?Promise.resolve(t&&t()):t?f=f.then(t).catch((function(t){return console.error(t)})):f},t.prototype.addCO=function(t){this.formInfo.calculationOrder.push(t.getName())},t}();function d(t,e,n){var o=void 0;for(o=0;o<e.length&&!(e.charCodeAt(o)>255);o++);if(o!==e.length)for(t.push(254),t.push(255),o=0;o<e.length;o++)t.push(e.charCodeAt(o)>>8),t.push(255&e.charCodeAt(o));else for(o=0;o<e.length;o++)t.push(e.charCodeAt(o))}function h(t){if(254==t.charCodeAt(0)&&255==t.charCodeAt(1)){for(var e="",n=2;n<t.length;n+=2)e+=String.fromCharCode((t.charCodeAt(n)<<8)+t.charCodeAt(n+1));return e}return t}var g={alignment:0,alternateName:"",controls:[{index:0,isChecked:!1,isDefaultChecked:!1,isEmpty:!1,objectNumber:-1}],DA:{flags:3,fontName:"FoxitSansOTF",textColor:4278190080,textSize:0},defaultValue:"",flag:0,mappingName:"",maxLength:0,name:"",options:[],topVisibleIndex:0,type:1,value:"",isEmpty:!1,AA:{}},m=function(t,e){var n=JSON.parse(JSON.stringify(g));return n.defaultValue=n.value=2==e||3==e?"Off":"",n.name=t,n.type=e,n};e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(38),r=n(4),i=l(n(577)),a=l(n(16)),s=l(n(24)),c=l(n(164)),u=n(43);l(n(42));function l(t){return t&&t.__esModule?t:{default:t}}var f=function(){function t(e,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.doc=e,this.form=n,this.info=o,this.updateControls(this.info.controls)}return t.prototype.destroy=function(){this.doc=null,this.form=null;var t=this.controls;for(var e in t){t[e].destroy()}this.controls=null,this.info=null},t.prototype.getIndex=function(){return this.info.index},t.prototype.updateWidgetsUI=function(t,e,n,o,r){var i=this,s=t.fieldWidgets[e]||[],c=this.info.controls.length;-1!==["value","comb","multiline","maxLength","hidden","password","readonly","required","clearItems","deleteItems","setItems","icon","insertItemAt"].indexOf(n)&&this.doc.engine.eventEmitter.emit(a.default.formValueChanged);for(var u=[],l=function(e){var r=!1,a=i.info.controls[e].objectNumber;s.map((function(t){t.getObjNum()==a&&(r=!0)})),r||u.push(t.addTask((function(t){return i.controls[a].updateProperty(n,o)})))},f=0;f<c;f++)l(f);for(var p=function(t){!function(e,n){var o=s[t],i=void 0;r?(i=r(o).then((function(t){o.updateUI({type:e,value:n})})),u.push(i)):o.updateUI({type:e,value:n})}(n,o)},d=0;d<s.length;d++)p(d);return Promise.all(u).then((function(t){return!0}))},t.prototype.getPDFForm=function(){return this.form},t.prototype.getName=function(){return this.info.name},t.prototype.getAlternateName=function(){return this.info.alternateName},t.prototype.setAlternateName=function(t){this.form.checkModifyPerm(),this.info.alternateName=t,this.update("alternateName",t)},t.prototype.getType=function(){return this.info.type},t.prototype.getFlags=function(){return this.info.flag},t.prototype.setComb=function(t){this.form.checkModifyPerm(),this.info.flag=t?this.info.flag|o.FieldFlag.TextComb:this.info.flag&~o.FieldFlag.TextComb,this.updateWidgetsUI(this.form,this.info.name,"comb",t),this.update("flag",this.info.flag)},t.prototype.setMultiline=function(t){this.form.checkModifyPerm(),this.info.flag=t?this.info.flag|o.FieldFlag.TextMultiline:this.info.flag&~o.FieldFlag.TextMultiline,this.updateWidgetsUI(this.form,this.info.name,"multiline",t),this.update("flag",this.info.flag)},t.prototype.update=function(t,e){var n=this;return this.form.addTask((function(o){return n.doc.api.updateField(n.doc.id,n.info.name,t,e)}))},t.prototype.getValue=function(){return String(this.info.value).length>0?this.info.value:""},t.prototype.getValueIndex=function(){for(var t=this.info.options,e=0;e<t.length;e++)if(t[e].value==this.info.value)return e;return-1},t.prototype.getDefaultValue=function(){return this.info.defaultValue},t.prototype.setDefaultValue=function(t){return this.form.checkModifyPerm(),this.update("defaultValue",t),this.info.defaultValue=t},t.prototype.getAlignment=function(){return this.info.alignment},t.prototype.setAlignment=function(t){var e=this;if(this.form.checkModifyPerm(),1!==this.getType()){var n=void 0;switch(+t){case 0:n="left";break;case 1:n="center";break;case 2:n="right";break;default:throw new Error("Unkown alignment: "+t)}return this.updateWidgetsUI(this.form,this.info.name,"align",n,(function(e){return e.updateMKProperty("alignment",+t)})).then((function(n){return e.update("align",t),e.info.alignment=t}))}},t.prototype.setAlignmentWithString=function(t,e){return this.form.checkModifyPerm(),this.updateWidgetsUI(this.form,this.info.name,"align",e||t),this.update("align",t),this.info.alignment=t},t.prototype.getBorderStyle=function(){var t=this.form.fieldWidgets[this.getName()];if(!t||!t.length)return"solid";switch(t[0].getBorderStyle()){case 0:return"solid";case 1:return"dashed";case 2:return"underline";case 3:return"beveled";case 4:return"inset"}},t.prototype.getRotation=function(){var t=this.form.fieldWidgets[this.getName()];return t&&t.length?-90*t[0].getRotation():"0"},t.prototype.setBorderStyle=function(t){if(this.form.checkModifyPerm(),7===this.getType())return Promise.resolve(!1);var e=void 0,n=void 0;switch(t){case"solid":n=0;break;case"dashed":n=1,e=[3,3];break;case"underline":n=2;break;case"beveled":n=3,t="outset";break;case"inset":n=4;break;default:return}return this.setBorderStyleWithParam(n,t,e)},t.prototype.setBorderStyleWithParam=function(t,e,n){return this.updateWidgetsUI(this.form,this.info.name,"borderStyle",e,(function(e){return e.setBorderStyle(t,n)}))},t.prototype.setBorderWidth=function(t){if(this.form.checkModifyPerm(),7===this.getType())return Promise.resolve(!1);var e=void 0;switch(t){case"thin":e=1;break;case"medium":e=2;break;case"thick":e=3;break;default:return}return this.updateWidgetsUI(this.form,this.info.name,"borderWidth",t,(function(t){return t.setBorderWidth(e)}))},t.prototype.setBorderColor=function(t){var e=this;return this.form.checkModifyPerm(),7===this.getType()?Promise.resolve(!1):(t=0===t?0:(0,r.colorConvertor)(t,"int"),this.form.addTask((function(n){return e.updateWidgetsUI(e.form,e.info.name,"borderColor",t,(function(e){return e.setMKProperty("borderColor",t)}))})))},t.prototype.getBorderColor=function(){var t=this.form.fieldWidgets[this.getName()];return t&&t.length?t[0].getMKProperty("borderColor"):0},t.prototype.setFillColor=function(t){var e=this;return this.form.checkModifyPerm(),7===this.getType()?Promise.resolve(!1):(t=0===t?t:(0,r.colorConvertor)(t,"int"),this.form.addTask((function(n){return e.updateWidgetsUI(e.form,e.info.name,"fillColor",t,(function(e){return e.setMKProperty("fillColor",t)}))})))},t.prototype.getFillColor=function(){var t=this.form.fieldWidgets[this.getName()];return t&&t.length>0?t[0].getMKProperty("fillColor"):0},t.prototype.getOptions=function(){return this.info.options||[]},t.prototype.getMaxLength=function(){return this.info.maxLength},t.prototype.setMaxLength=function(t){var e=this;return this.form.checkModifyPerm(),6!==this.getType()?0:(this.info.maxLength=t,this.form.addTask((function(n){return e.updateWidgetsUI(e.form,e.info.name,"maxLength",t)})),this.update("maxLength",t),t)},t.prototype.setValueWithoutAction=function(t){this.info.value=t,this.updateWidgetsUI(this.form,this.info.name,"value",t)},t.prototype.syncValue=function(t){this.info.value=t,this.doc.api.setFieldValue(this.doc.id,this.info.name,t)},t.prototype.setValue=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!this.doc.checkPermission(s.default.fillForm|s.default.annotForm))throw new Error("Permission error");var r=this.getType();if(7===r||1===r)return"";var i=r==o.FieldType.RadioButton||r==o.FieldType.CheckBox,a=r==o.FieldType.ListBox,c=r==o.FieldType.ComboBox;if(i){var u=!1;this.info.controls.forEach((function(t){t.exportValue==e&&(u=!0)})),u||(e="Off")}var l=this.getOptions();if(a){for(var f=!1,p=0;p<l.length;p++){var d=l[p];if(d.value==e){f=!0;break}}f||(e="")}if(a||c)for(var h=0;h<l.length;h++){var g=l[h];if(g.value==e){this.valueIndex=h;break}}if(e=""+e,this.info.value==e&&!i)return e;this.info.value=e;var m=this.info.name;return this.doc.api.setFieldValue(this.doc.id,m,e).then((function(o){i&&(t.form.fieldWidgets[m]||[]).map((function(t){return t.setAS(e,n)}));t.updateWidgetsUI(t.form,m,"value",e)})),e},t.prototype.setValueByIndex=function(t){this.form.checkModifyPerm();var e=this.info.options[t].value;return this.setValue(e),this.valueIndex=t,t},t.prototype.setHidden=function(t){this.form.checkModifyPerm(),this.updateWidgetsUI(this.form,this.info.name,"hidden",t,(function(e){var n=e.info.flag;return t?(n&=-2,n&=-33,n|=6):(n&=-2,n&=-3,n&=-33,n|=4),e.setFlagValue(n)}))},t.prototype.setPassword=function(t){this.form.checkModifyPerm(),this.info.flag=t?this.info.flag|o.FieldFlag.TextPassword:this.info.flag&~o.FieldFlag.TextPassword,this.updateWidgetsUI(this.form,this.info.name,"password",t),this.update("flag",this.info.flag)},t.prototype.setReadonly=function(t){this.form.checkModifyPerm(),this.info.flag=t?this.info.flag|o.FieldFlag.ReadOnly:this.info.flag&~o.FieldFlag.ReadOnly,this.updateWidgetsUI(this.form,this.info.name,"readonly",t),this.update("flag",this.info.flag)},t.prototype.setRequired=function(t){this.form.checkModifyPerm(),this.info.flag=t?this.info.flag|o.FieldFlag.Required:this.info.flag&~o.FieldFlag.Required,this.updateWidgetsUI(this.form,this.info.name,"required",t),this.update("flag",this.info.flag)},t.prototype.setMKProperty=function(t,e){this.updateWidgetsUI(this.form,this.info.name,t,e,(function(n){return n.setMKProperty(t,e)}))},t.prototype.clearItems=function(){this.form.checkModifyPerm(),this.info.options.length=0,this.info.value="",this.updateWidgetsUI(this.form,this.info.name,"clearItems"),this.update("clearItems")},t.prototype.deleteItems=function(t){this.form.checkModifyPerm(),t<0||t>=this.info.options.length||(this.info.options[t].value==this.info.value&&(this.info.value=""),this.info.options.splice(t,1),this.updateWidgetsUI(this.form,this.info.name,"deleteItems",t),this.update("deleteItems",t))},t.prototype.insertItemAt=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.form.checkModifyPerm();var o=this.info.options;-1==n&&(n=o.length),e||(e=t);var r=n==o.length?n-1:n;o[r]&&o[r].value==e?this.info.value=e:(this.info.options=[].concat(o.slice(0,n),{lable:t,value:e,defaultSelected:!1,selected:!1},o.slice(n,o.length)),this.info.value=e,this.updateWidgetsUI(this.form,this.info.name,"insertItemAt",n),this.update("insertItemAt",{index:n,lable:t,value:e,defaultSelected:!1,selected:!1}))},t.prototype.showDisplayValue=function(t){this.updateWidgetsUI(this.form,this.info.name,"displayValue",t)},t.prototype.getAction=function(t){if(!this.engineActions)for(var e in this.engineActions={},this.info.AA)this.engineActions[e]=this.doc.engine.actionFactory.createAction(this.info.AA[e],this);return this.engineActions[t]},t.prototype.getDAFontSize=function(){return this.info.DA.textSize},t.prototype.getDAFontColor=function(){return this.info.DA.textColor},t.prototype.isDAFontEmbedded=function(){return this.info.DA.isEmbedded},t.prototype.getDAFontBuffer=function(){return this.doc.api.getFontBufferByName(this.doc.id,this.info.DA.fontName)},t.prototype.setDAFontColor=function(t){this.form.checkModifyPerm();var e=(0,r.colorConvertor)(t,"int");return this.info.DA.textColor=e,this.updateWidgetsUI(this.form,this.info.name,"textColor",(0,r.colorConvertor)(t,"HTML"),(function(t){return t.updateMKProperty("fontColor")})),this.update("textColor",e),e},t.prototype.getControl=function(t){return this.controls[t]},t.prototype.getWidget=function(t){var e=this,n=this.form.fieldWidgets[this.getName()][t];return n.getObjNum()==this.info.controls[t].objectNumber||this.form.fieldWidgets[this.getName()].map((function(o){n.getObjNum()==e.info.controls[t].objectNumber&&(n=o)})),n},t.prototype.getControlObjectNumber=function(t){return this.info.controls[t].objectNumber},t.prototype.removeControlInfo=function(t){this.form.checkModifyPerm();for(var e=0;e<this.info.controls.length;e++){if(this.info.controls[e].objectNumber==t){this.info.controls.splice(e,1);break}}return delete this.controls[t],this.info.controls.length},t.prototype.getControlCount=function(){return this.info.controls.length},t.prototype.focus=function(){var t=this.form.fieldWidgets[this.info.name];t&&t[0]&&t[0].updateUI({type:"focus"})},t.prototype.getControlExportValues=function(t){return this.info.controls[t].exportValue},t.prototype.getExportValues=function(){for(var t=[],e=0;e<this.info.controls.length;e++)t.push(this.info.controls[e].exportValue);return t},t.prototype.setWidgetDisplay=function(t,e){this.updateWidgetsUI(this.form,this.info.name,"display",t,(function(n){return n.setDisplay(t,e)}))},t.prototype.setIconObj=function(t,e){this.form.checkModifyPerm(),this.updateWidgetsUI(this.form,this.info.name,"icon",null,(function(n){return n.setIconObj(t,e)}))},t.prototype.setOptions=function(t){this.form.checkModifyPerm(),4!==this.getType()&&5!==this.getType()||(this.info.options=t,this.info.value=t[0].value,this.updateWidgetsUI(this.form,this.info.name,"setItems"),this.update("setItems",this.info.options))},t.prototype.setItems=function(t){var e=this;this.form.checkModifyPerm(),this.form.addTask((function(n){t=t.map((function(t){return"string"==typeof t?{value:t,lable:t,selected:!1,defaultSelected:!1}:{value:t[1],lable:t[0],selected:!1,defaultSelected:!1}})),e.setOptions(t)}))},t.prototype.setDisplayValue=function(t){return this.displayValue=t,this.update("displayValue",t)},t.prototype.getDisplayValue=function(){return this.displayValue},t.prototype.setRect=function(t){this.rect=t,this.updateWidgetsUI(this.form,this.info.name,"rect",t,(function(e){return e.setRect(t)}))},t.prototype.updateControls=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.controls={};for(var e=0;e<t.length;e++){var n=new i.default(this.doc,t[e]),o=t[e].objectNumber;this.controls[o]=n,this.form.widget2field(o,this.getName())}this.info.controls=t},t.prototype.setAction=function(t,e){var n=this;if(-1!=t&&(t-u.Action_Trigger.keyStroke|u.Action_Trigger.onBlur-t)<0)throw new Error("Trigger error. Please refer to Constant Action_Trigger");if(!e)throw new Error("Action should not be null.");this.form.checkModifyPerm();var o=e.info;"string"==typeof e&&(o={type:u.Action_Type.javaScript,script:e});var r=this.info.name,i={trigger:t,data:o,field:r};return t==u.Action_Trigger.calculate&&this.form.addCO(this),this.updateWidgetsUI(this.form,r,"action",i,(function(o){if("string"==typeof e){var r=new c.default;r.setScript(e),e=r}else e=n.doc.engine.actionFactory.createAction(e.info,n.doc,e.api,e.eventEmitter,o);return o.setAction(t,e)}))},t.prototype.hasControl=function(t){return this.info.controls.some((function(e){return e.objectNumber==t}))},t}();e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.doc=e,this.info=n,this.changes={}}return t.prototype.updateProperty=function(t,e){return this.changes[t]=e,-1==this.info.objectNumber?Promise.resolve():this.doc.api.updateFormControl(this.doc.id,this.info.objectNumber,t,e)},t.prototype.getProperty=function(t){return this.changes[t]},t.prototype.destroy=function(){this.doc=null,this.info=null},t.prototype.isEmpty=function(){return this.changes==={}},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});r(n(276));var o=r(n(71));function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;i(this,t),this.id=(0,o.default)("doc_text_search"),this.pattern=n,this.flags=r,this.doc=e,this.api=e.api,this.startPageIndex=0,this.currentPageIndex=0,this.endPageIndex=e.getPageCount()-1}return t.prototype.getId=function(){return this.id},t.prototype.findNext=function(){var t=this;return this.getCurrentPageTextSearch().then((function(t){return t.findNext()})).then((function(e){return e||(t.currentPageIndex<t.endPageIndex?(t.currentPageIndex++,t.currentPageTextSearch.destroy(),t.currentPageTextSearch=null,t.findNext()):(t.currentPageIndex=t.startPageIndex,t.currentPageTextSearch.destroy(),t.currentPageTextSearch=null,null))}))},t.prototype.findNexts=function(){var t=this;return this.getCurrentPageTextSearch().then((function(e){return new Promise((function(n,o){t.iterationPageFindNext(e,[],(function(e){if(e.length){var r=t.currentPageIndex<t.endPageIndex;return t.currentPageIndex<t.endPageIndex?(t.currentPageIndex++,t.currentPageTextSearch.destroy(),t.currentPageTextSearch=null):(t.currentPageIndex=t.startPageIndex,t.currentPageTextSearch.destroy(),t.currentPageTextSearch=null),n({hasMore:r,list:e})}return t.currentPageIndex<t.endPageIndex?(t.currentPageIndex++,t.currentPageTextSearch.destroy(),t.currentPageTextSearch=null,t.findNexts().then((function(t){n(t)}),(function(){o()}))):(t.currentPageIndex=t.startPageIndex,t.currentPageTextSearch.destroy(),t.currentPageTextSearch=null,n({hasMore:!1,list:e}))}))}))})).then((function(t){return t}))},t.prototype.iterationPageFindNext=function(t,e,n){var o=this;t.findNext().then((function(r){if(!r)return n(e);e.push(r),o.iterationPageFindNext(t,e,n)}))},t.prototype.findPrev=function(){var t=this;return this.getCurrentPageTextSearch().then((function(t){return t.findPrev()})).then((function(e){return e||(t.currentPageIndex>t.startPageIndex?(t.currentPageIndex--,t.currentPageTextSearch.destroy(),t.currentPageTextSearch=null,t.findPrev()):(t.currentPageIndex=t.endPageIndex,t.currentPageTextSearch.destroy(),t.currentPageTextSearch=null,null))}))},t.prototype.getCurrentPageTextSearch=function(){var t=this;return this.currentPageTextSearch?Promise.resolve(this.currentPageTextSearch):this.currentPageTextSearchPromise?this.currentPageTextSearchPromise:this.currentPageTextSearchPromise=this.doc.getPageByIndex(this.currentPageIndex).then((function(e){return e.getTextSearch(t.pattern,t.flags)})).then((function(e){return t.currentPageTextSearch=e,t.currentPageTextSearchPromise=null,e}))},t.prototype.setStartPageIndex=function(t){this.startPageIndex=t},t.prototype.setCurrentPageIndex=function(t){t<this.startPageIndex&&(t=this.startPageIndex),t>this.endPageIndex&&(t=this.endPageIndex),this.currentPageIndex!==t&&this.destroy(),this.currentPageIndex=t},t.prototype.setEndPageIndex=function(t){this.endPageIndex=t},t.prototype.destroy=function(){var t=this;this.currentPageTextSearch&&this.currentPageTextSearch.destroy(),this.currentPageTextSearch=null,this.currentPageTextSearchPromise&&this.currentPageTextSearchPromise.then((function(e){e.destroy(),t.currentPageTextSearch=null})),this.currentPageTextSearchPromise=null},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={None:"none",RC4:"rc4",AES128:"aes128",AES256:"aes256"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(3),i=(o=r)&&o.__esModule?o:{default:o};e.default=function(t){"string"==typeof t&&(t=i.default.parseXML(t));var e="";return(0,i.default)(t).children().children().each((function(){var t,n,o,r=(t=(0,i.default)(this),n="xfdf:original",o="",t&&void 0!==t.attr(n)&&(o=function(t){var e=t;return e=(e=(e=(e=(e=(e=(e=e.replace(/&amp;/g,"&")).replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&apos;/g,"'")).replace(/&quot;/g,'"')).replace(/\r/g,"")).replace(/\n/g," ")}(t.attr(n))),o);r&&""!==r&&0!==r.length||(r=this.tagName);var a=(0,i.default)(this).html();e+='<field name="'+r+'"><value>'+a+"</value></field>"})),new Blob(['<?xml version="1.0" encoding="UTF-8"?>\n<xfdf xmlns="http://ns.adobe.com/xfdf/" xml:space="preserve">\n<f href="a.pdf"/><fields>\n'+e+'</fields>\n<ids original="abcdef" modified="0123456"/>\n</xfdf>'],{type:"application/vnd.xfdf"})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(16)),r=a(n(24)),i=n(4);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var c=function(){function t(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;for(var i in s(this,t),this.engine=e,this.api=e.api,this.docId=n.id,this.doc=n,this.parent=r,o)if("children"==i){this.children=[];for(var a=0;a<o[i].length;a++)this.children.push(new t(e,n,o[i][a],this))}else this[i]=o[i]}return t.prototype.destroy=function(){this.engine=null,this.api=null,this.doc=null,this.parent=null,this.children.forEach((function(t){return t.destroy})),this.children=null},t.prototype.insertBookmark=function(e,n,i,a){var s=this,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;if(!this.doc.checkPermission(r.default.assemble))throw new Error("Permission error");var u=this;return this.doc.api.insertBookmark(this.docId,this.id,e,n,i,a,c).then((function(e){if(e){var n=new t(u.doc.engine,u.doc,e,u);return u.children.push(n),s.doc.engine.eventEmitter.emit(o.default.bookmarkAdded,n),n}return null}))},t.prototype.setProperty=function(t){var e=this;if(!this.doc.checkPermission(r.default.assemble))throw new Error("Permission error");void 0!==t.color&&(t.color=(0,i.colorConvertor)(t.color,"int"));var n=this;return this.doc.api.setBookmarkProperty(this.docId,this.id,t).then((function(t){if(t){for(var r in t)"children"!==r&&(n[r]=t[r]);n.doc.engine.eventEmitter.emit(o.default.bookmarkUpdated,n)}return e}))},t.prototype.remove=function(){var t=this;if(!this.doc.checkPermission(r.default.assemble))throw new Error("Permission error");var e=this;return this.doc.api.removeBookmark(this.docId,this.id).then((function(n){if(n&&(e.doc.engine.eventEmitter.emit(o.default.bookmarkRemoved,e.id),e.parent)){for(var r=e.parent,i=0;i<r.children.length;i++)if(e.id==r.children[i].id){r.children.splice(i,1);break}t.destroy()}return n}))},t}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=C(n(47)),r=(C(n(34)),C(n(81)),C(n(583))),i=C(n(584)),a=C(n(585)),s=C(n(586)),c=C(n(587)),u=C(n(588)),l=C(n(589)),f=C(n(590)),p=C(n(591)),d=C(n(592)),h=C(n(593)),g=C(n(594)),m=C(n(595)),v=C(n(596)),y=C(n(597)),b=C(n(598)),w=C(n(277)),_=C(n(599)),P=C(n(600)),O=C(n(601)),E=C(n(602)),x=C(n(142));function C(t){return t&&t.__esModule?t:{default:t}}var A=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype.get=function(t,e){switch(t.type){case x.default.highlight:return new r.default(t,e);case x.default.squiggly:return new s.default(t,e);case x.default.strikeOut:return new i.default(t,e);case x.default.underline:return new a.default(t,e);case x.default.line:return new c.default(t,e);case x.default.polyLine:return new u.default(t,e);case x.default.polygon:return new l.default(t,e);case x.default.fileAttachment:return new d.default(t,e);case x.default.text:return new f.default(t,e);case x.default.circle:return new p.default(t,e);case x.default.caret:return new h.default(t,e);case x.default.freeText:return new m.default(t,e);case x.default.ink:return new b.default(t,e);case x.default.sound:return new P.default(t,e);case x.default.square:return new g.default(t,e);case x.default.stamp:return new v.default(t,e);case x.default.link:return new y.default(t,e);case x.default.widget:return new w.default(t,e);case x.default.screen:return new _.default(t,e);case x.default.popup:return new O.default(t,e);case x.default.redact:return new E.default(t,e);default:return new o.default(t,e)}},t}();e.default=A},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(81);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return i(e,t),e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(81);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return i(e,t),e.prototype.isReplace=function(){return"Replace"===this.info.typeAlias},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(81);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return i(e,t),e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(81);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return i(e,t),e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=u(n(34)),r=n(6),i=n(4),a=u(n(16)),s=n(44),c=u(n(29));function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var f=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return l(e,t),e.prototype.getEndPoint=function(){return this.info.endPoint},e.prototype.setEndPoint=function(t){var e=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setLineEndPoint(o.getId(),n.getId(),this.getId(),t.x,t.y).then((function(t){return e.update(c.default.endPointUpdated)})).then((function(){e.info.endPoint=t,e.eventEmitter.emit(a.default.annotationAppearanceUpdated,[e],n)}))},e.prototype.getStartPoint=function(){return this.info.startPoint},e.prototype.setStartPoint=function(t){var e=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setLineStartPoint(o.getId(),n.getId(),this.getId(),t.x,t.y).then((function(t){return e.update(c.default.startPointUpdated)})).then((function(){e.info.startPoint=t,e.eventEmitter.emit(a.default.annotationAppearanceUpdated,[e],n)}))},e.prototype.getEndingStyle=function(){return this.info.endingStyle},e.prototype.getStartStyle=function(){return this.info.startStyle},e.prototype.setEndingStyle=function(t,e){var n=this;this.checkModidyPerm();var o=this.getPDFPage(),r=o.getPDFDoc();return this.page.doc.api.setAnnotEndingStyle(r.getId(),o.getId(),this.getId(),t,e).then((function(t){return n.update(c.default.endingStyleUpdated)})).then((function(){t?n.info.startStyle=e:n.info.endingStyle=e,n.eventEmitter.emit(a.default.annotationAppearanceUpdated,[n],o)}))},e.prototype.hasCaption=function(){return this.info.hasCaption},e.prototype.enableCaption=function(t){var e=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.enableLineCaption(o.getId(),n.getId(),this.getId(),t).then((function(){e.info.hasCaption=t,e.eventEmitter.emit(a.default.annotationUpdated,[e],n,c.default.enableCaptionUpdated),e.eventEmitter.emit(a.default.annotationAppearanceUpdated,[e],n)}))},e.prototype.setContent=function(e){var n=this;return t.prototype.setContent.call(this,e).then((function(t){return t&&n.eventEmitter.emit(a.default.annotationAppearanceUpdated,[n],n.getPDFPage()),t}))},e.prototype.getStyleFillColor=function(){return this.info.styleFillColor},e.prototype.setStyleFillColor=function(t){var e=this;this.checkModidyPerm(),0!==t&&(t=(0,i.colorConvertor)(t,"int"));var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setAnnotFillColor(o.getId(),n.getId(),this.getId(),t).then((function(o){return o&&(e.info.styleFillColor=t,e.info.fillColor=t,e.eventEmitter.emit(a.default.annotationUpdated,[e],n,c.default.styleFillColorUpdated),e.eventEmitter.emit(a.default.annotationAppearanceUpdated,[e],n)),o}))},e.prototype.getLeaderLineLength=function(){return this.info.leaderLineLength||0},e.prototype.getLeaderLineExtend=function(){return this.info.leaderLineExtensionLength||0},e.prototype.getLeaderLineOffset=function(){return this.info.leaderLineOffset},e.prototype.getCaptionPos=function(){return this.info.capPos},e.prototype.calculateLeaderLine=function(){var t=this.getStartPoint(),e=this.getEndPoint(),n=e.y-t.y,o=e.x-t.x,r=this.k=-1/(n/o),i=Math.atan(r),a=this.getLeaderLineLength(),s=Math.cos(i)*a,c=Math.sin(i)*a;this.leaderSartPoit={x:t.x+s,y:t.y+c};var u=this.getRect();u.left<this.leaderSartPoit.x&&this.leaderSartPoit.x<u.right&&u.bottom<this.leaderSartPoit.y&&this.leaderSartPoit.y<u.top?this.leaderEndPoint={x:e.x+s,y:e.y+c}:(this.leaderSartPoit={x:t.x-s,y:t.y-c},this.leaderEndPoint={x:e.x-s,y:e.y-c}),this.Sb=this.leaderSartPoit.y-this.k*this.leaderSartPoit.x,this.Eb=this.leaderEndPoint.y-this.k*this.leaderEndPoint.x},e.prototype.getLeaderLinePoints=function(){return this.leaderSartPoit||this.calculateLeaderLine(),{start:this.leaderSartPoit,end:this.leaderEndPoint}},e.prototype._update=function(){var e=this;return t.prototype._update.call(this).then((function(t){return e.calculateLeaderLine(),e}))},e.prototype.update=function(t){var e=this;return this._update().then((function(){var n=e.getPDFPage();return t&&e.eventEmitter.emit(a.default.annotationUpdated,[e],n,t),e}))},e.prototype.setLeaderLineLength=function(t){var e=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setAnnotLeaderLineLength(o.getId(),n.getId(),this.getId(),t).then((function(){return e.update(c.default.leaderLineLengthUpdated)})).then((function(){e.eventEmitter.emit(a.default.annotationAppearanceUpdated,[e],n)}))},e.prototype.getMeasureInfo=function(){return""},e.prototype.getCaptionOffset=function(){return this.info.captionOffset},e.prototype.exportToJSON=function(){var e=t.prototype.exportToJSON.call(this),n=this.info.startPoint,o=this.info.endPoint,a=this.info.leaderLineLength,s=this.info.leaderLineExtensionLength,c=this.hasCaption()?"yes":"no";if(this.info.styleFillColor){var u=(0,i.convertFromNumberToHex)(16777215&this.info.styleFillColor);e["interior-color"]=u}return Object.assign({},e,{start:n.x+","+n.y,end:o.x+","+o.y,head:r.LineEndingName[this.info.startStyle],tail:r.LineEndingName[this.info.endingStyle],leaderLength:a,leaderExtend:s,caption:c})},e.prototype.getMeasureRatio=function(){return this.info.measureRatio},e.prototype.setMeasureRatio=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.userSpaceValue,o=void 0===n?1:n,r=e.userSpaceUnit,i=void 0===r?s.INCH.name:r,u=e.realValue,l=void 0===u?1:u,f=e.realUnit,p=void 0===f?s.INCH.name:f;this.checkModidyPerm();var d=this.getPDFPage(),h=d.getPDFDoc();return this.page.doc.api.setMeasureRatio(h.getId(),d.getId(),this.getId(),{userSpaceValue:o,userSpaceUnit:i,realValue:l,realUnit:p}).then((function(){return t.update(c.default.measureRatioUpdated)})).then((function(){var e=t.getPDFPage();t.eventEmitter.emit(a.default.annotationAppearanceUpdated,[t],e)}))},e.prototype.getMeasureUnit=function(){return this.info.measureUnit},e.prototype.setMeasureUnit=function(t){var e=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setMeasureUnit(o.getId(),n.getId(),this.getId(),t).then((function(){return e.update(c.default.measureUnitUpdated)})).then((function(){e.info.measureUnit=t;var n=e.getPDFPage();e.eventEmitter.emit(a.default.annotationAppearanceUpdated,[e],n)}))},e}(o.default);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(4),r=n(6),i=c(n(34)),a=c(n(16)),s=c(n(29));function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return u(e,t),e.prototype.getVertexes=function(){return this.info.vertexes},e.prototype.getStyleFillColor=function(){return this.info.fillColor},e.prototype.setStyleFillColor=function(e){return this.checkModidyPerm(),t.prototype.setFillColor.call(this,e)},e.prototype.updateVertexes=function(t,e){var n=this,o=e.x,r=e.y;this.checkModidyPerm();var i=this.getPDFPage(),c=i.getPDFDoc();return this.page.doc.api.updateAnnotVertexes(c.getId(),i.getId(),this.getId(),t,o,r).then((function(){return n.info[t]={x:o,y:r},n.update(s.default.vertexesUpdated)})).then((function(){n.eventEmitter.emit(a.default.annotationAppearanceUpdated,[n],n.getPDFPage())}))},e.prototype.setVertexes=function(t){var e=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setAnnotVertexes(o.getId(),n.getId(),this.getId(),t).then((function(){return e.info.vertexes=t,e.update(s.default.vertexesUpdated)})).then((function(){e.eventEmitter.emit(a.default.annotationAppearanceUpdated,[e],e.getPDFPage())}))},e.prototype.getMeasureInfo=function(){return""},e.prototype.getEndingStyle=function(){return this.info.endingStyle},e.prototype.setEndingStyle=function(t,e){var n=this;this.checkModidyPerm();var o=this.getPDFPage(),r=o.getPDFDoc();return this.page.doc.api.setAnnotEndingStyle(r.getId(),o.getId(),this.getId(),t,e).then((function(){t?n.info.startStyle=e:n.info.endingStyle=e,n.eventEmitter.emit(a.default.annotationUpdated,[n],o,s.default.endingStyleUpdated),n.eventEmitter.emit(a.default.annotationAppearanceUpdated,[n],n.getPDFPage())})).then((function(t){return n._update()}))},e.prototype.getStartStyle=function(){return this.info.startStyle},e.prototype.exportToJSON=function(){for(var e=t.prototype.exportToJSON.call(this),n=this.info.vertexes,i="",a=0;a<n.length;a++)i+=n[a].x+","+n[a].y+";";if(i=i.substr(0,i.length-1),this.info.fillColor){var s=(0,o.convertFromNumberToHex)(16777215&this.info.fillColor);e["interior-color"]=s}return Object.assign({},e,{head:r.LineEndingName[this.info.startStyle],tail:r.LineEndingName[this.info.endingStyle],vertices:i})},e}(i.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(34)),r=n(4),i=s(n(16)),a=s(n(29));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return c(e,t),e.prototype.getVertexes=function(){return this.info.vertexes},e.prototype.updateVertexes=function(t,e){var n=this;this.checkModidyPerm();var o=this.getPDFPage(),r=o.getPDFDoc();return this.page.doc.api.updateAnnotVertexes(r.getId(),o.getId(),this.getId(),t,e.x,e.y).then((function(){return n.update(a.default.vertexesUpdated)})).then((function(){n.eventEmitter.emit(i.default.annotationAppearanceUpdated,[n],n.getPDFPage())}))},e.prototype.setVertexes=function(t){var e=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setAnnotVertexes(o.getId(),n.getId(),this.getId(),t).then((function(){return e.info.vertexes=t,e.update(a.default.vertexesUpdated)})).then((function(){e.eventEmitter.emit(i.default.annotationAppearanceUpdated,[e],e.getPDFPage())}))},e.prototype.getMeasureInfo=function(){return""},e.prototype.exportToJSON=function(){for(var e=t.prototype.exportToJSON.call(this),n=this.info.vertexes,o="",i=0;i<n.length;i++)o+=n[i].x+","+n[i].y+";";if(o=o.substr(0,o.length-1),this.info.fillColor){var a=(0,r.convertFromNumberToHex)(16777215&this.info.fillColor);e["interior-color"]=a}return Object.assign({},e,{vertices:o})},e.prototype.getFillColor=function(){return this.info.fillColor},e.prototype.setFillColor=function(e){return this.checkModidyPerm(),t.prototype.setFillColor.call(this,e)},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(34)),r=a(n(16)),i=a(n(29));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return s(e,t),e.prototype.getFlags=function(){return t.prototype.getFlags.call(this)},e.prototype.getIconName=function(){return this.info.iconName||"Note"},e.prototype.setIconName=function(t){var e=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setAnnotIconName(o.getId(),n.getId(),this.getId(),t).then((function(t){return t?e.update(i.default.iconNameUpdated).then((function(){return e.eventEmitter.emit(r.default.annotationAppearanceUpdated,[e],e.getPDFPage()),t})):t}))},e.prototype.getState=function(){return this.info.state},e.prototype.setState=function(t){var e=this;if(this.checkModidyPerm(),!this.isStateAnnot())return Promise.reject(new Error("Cannot set state name if it is not a state type annotation!"));if(this.getState()===t)return Promise.resolve(!0);var n=this.info.state,o=this.getPDFPage(),i=o.getPDFDoc();return this.page.doc.api.setStateName(i.getId(),o.getId(),this.getId(),t).then((function(o){return e.info.state=t,e.eventEmitter.emit(r.default.stateAnnotNameUpdated,e,e.getPDFPage(),n,t),o}))},e.prototype.isStateAnnot=function(){return this.info.isStateAnnot},e.prototype.exportToJSON=function(){var e=t.prototype.exportToJSON.call(this),n={icon:this.info.iconName};if(this.info.isStateAnnot){n.statemodel=1==this.info.stateModel?"Marked":"Review",n.inreplyto=this.info.IRT;var o=this.info.state;n.state=o.charAt(0).toUpperCase()+o.slice(1)}return Object.assign({},e,n)},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(34),i=(o=r)&&o.__esModule?o:{default:o},a=n(4);function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return s(e,t),e.prototype.getInnerRect=function(){return this.info.innerRect},e.prototype.getFillColor=function(){return this.info.fillColor},e.prototype.setFillColor=function(e){return this.checkModidyPerm(),t.prototype.setFillColor.call(this,e)},e.prototype.exportToJSON=function(){var e=t.prototype.exportToJSON.call(this),n=this.info.rect,o=this.info.innerRect,r=[o.left-n.left,o.bottom-n.bottom,n.right-o.right,n.top-o.top].toString();if(this.info.fillColor){var i=(0,a.colorConvertor)(16777215&this.info.fillColor,"#");e["interior-color"]=i}return Object.assign({},e,{fringe:r})},e}(i.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(34)),r=s(n(16)),i=s(n(97)),a=s(n(29));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o));return r.fileSpec=n.fileSpec&&new i.default(n.fileSpec)||null,r}return c(e,t),e.prototype.getIconName=function(){return this.info.iconName||"PushPin"},e.prototype.setIconName=function(t){var e=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setAnnotIconName(o.getId(),n.getId(),this.getId(),t).then((function(t){return t?e.update(a.default.iconNameUpdated).then((function(){return e.eventEmitter.emit(r.default.annotationAppearanceUpdated,[e],e.getPDFPage()),t})):t}))},e.prototype.exportToJSON=function(){return t.prototype.exportToJSON.call(this)},e.prototype.getFileSpec=function(){return this.fileSpec},e.prototype.getFileattachmentStream=function(){var t=this.getPDFPage(),e=t.getPDFDoc(),n=[];return this.page.doc.api.getFileattachmentStream(e.getId(),t.getId(),this.getId(),(function(t){var e=t.arrayBuffer,o=t.blob;o?n=o:n.push(e)})).then((function(){return n}))},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(34)),r=a(n(16)),i=a(n(29));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return s(e,t),e.prototype.getInnerRect=function(){return this.info.innerRect},e.prototype.exportToJSON=function(){var e=t.prototype.exportToJSON.call(this),n=this.info.rect,o=this.info.innerRect,r=[o.left-n.left,o.bottom-n.bottom,n.right-o.right,n.top-o.top].toString();return delete e.style,delete e.width,delete e.dashPhase,delete e.intensity,Object.assign({},e,{fringe:r})},e.prototype.moveRectByCharIndex=function(t){var e=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.moveCaretRectByCharIndex(o.getId(),n.getId(),this.getId(),t).then((function(t){return t?e.update(i.default.rectUpdated).then((function(){return e.eventEmitter.emit(r.default.annotationMovedPosition,[e],e.getPDFPage(),e),t})):t}))},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(34),i=(o=r)&&o.__esModule?o:{default:o},a=n(4);function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return s(e,t),e.prototype.getFillColor=function(){return this.info.fillColor},e.prototype.setFillColor=function(e){return t.prototype.setFillColor.call(this,e)},e.prototype.getInnerRect=function(){return this.info.innerRect},e.prototype.exportToJSON=function(){var e=t.prototype.exportToJSON.call(this),n=this.info.rect,o=this.info.innerRect,r=[o.left-n.left,o.bottom-n.bottom,n.right-o.right,n.top-o.top].toString();if(this.info.fillColor){var i=(0,a.colorConvertor)(16777215&this.info.fillColor,"#");e["interior-color"]=i}return Object.assign({},e,{fringe:r})},e}(i.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=c(n(34)),r=n(6),i=n(4),a=c(n(16)),s=c(n(29));function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o));return-1===n.borderColor&&"FreeTextTypewriter"!==n.intent&&(n.borderColor=16711680),r}return u(e,t),e.prototype.setAlignment=function(t){var e=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setAlignment(o.getId(),n.getId(),this.getId(),t).then((function(){return e.info.justification=t,e.eventEmitter.emit(a.default.annotationUpdated,[e],n,s.default.alignmentUpdated),e.eventEmitter.emit(a.default.annotationAppearanceUpdated,[e],e.getPDFPage()),t}))},e.prototype.getAlignment=function(){return this.info.justification},e.prototype.getInnerRect=function(){return Object.assign({},this.info.innerRect)},e.prototype.setInnerRectNoAction=function(t){var e=this;this.info.innerRect=t;var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setAnnotInnerRect(o.getId(),n.getId(),this.getId(),t).then((function(){var t=e.getGroupElements();0==t.length&&(t=[e]);for(var n=[],o=0,r=t.length;o<r;o++){var i=t[o];n[o]=i._update()}return Promise.all(n)}))},e.prototype.getIntent=function(){var e=t.prototype.getIntent.call(this);return e||(e="FreeTextTextbox"),e},e.prototype.setInnerRect=function(t){var e=this;this.checkModidyPerm(),this.info.innerRect=t;var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setAnnotInnerRect(o.getId(),n.getId(),this.getId(),t).then((function(t){return t?e.update(s.default.innerRectUpdated).then((function(){return e.eventEmitter.emit(a.default.annotationAppearanceUpdated,[e],e.getPDFPage()),t})):t}))},e.prototype.getDefaultAppearance=function(){var t=Object.assign({},this.info.defaultAppearance);return delete t.flags,t},e.prototype.getFillColor=function(){return"FreeTextTypewriter"==this.info.intent?0:this.info.fillColor},e.prototype.setFillColor=function(t){var e=this;this.checkModidyPerm(),t=0===t?0:(0,i.colorConvertor)(t,"int");var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setAnnotFillColor(o.getId(),n.getId(),this.getId(),t).then((function(o){return o&&(e.info.fillColor=t,e.eventEmitter.emit(a.default.annotationUpdated,[e],n,s.default.fillColorUpdated),e.eventEmitter.emit(a.default.annotationAppearanceUpdated,[e],n)),o}))},e.prototype.getCalloutLinePoints=function(){return this.info.calloutLinePoints},e.prototype.setCalloutLinePoints=function(t){var e=this;return this._setCalloutLinePoints(t).then((function(t){return e._update()})).then((function(t){var n=e.getPDFPage();e.eventEmitter.emit(a.default.annotationUpdated,[e],n,s.default.calloutLinePointsUpdated),e.eventEmitter.emit(a.default.annotationAppearanceUpdated,[e],n)}))},e.prototype._setCalloutLinePoints=function(t){var e=this;this.checkModidyPerm(),this.info.calloutLinePoints=t;var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setCalloutLinePoints(o.getId(),n.getId(),this.getId(),t).then((function(t){return e._update()}))},e.prototype.getCalloutLineEndingStyle=function(){return this.info.calloutLineEndingStyle},e.prototype.setCalloutLineEndingStyle=function(t){var e=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setCalloutLineEndingStyle(o.getId(),n.getId(),this.getId(),t).then((function(){e.info.calloutLineEndingStyle=t,e.eventEmitter.emit(a.default.annotationUpdated,[e],n,s.default.calloutLineEndingStyleUpdated),e.eventEmitter.emit(a.default.annotationAppearanceUpdated,[e],e.getPDFPage())}))},e.prototype.setDefaultAppearance=function(t){var e=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc(),r=(t=Object.assign({},this.info.defaultAppearance,t)).textColor,i=t.textSize;if("number"!=typeof r||"number"!=typeof i)throw new Error("param error. Only number is available.");if(r=(4278190080|r)>>>0,i<6||i>40)throw new Error("Text size is overflow. Available range is 6 to 40.");return t={textColor:r,textSize:i},this.page.doc.api.setDefaultAp(o.getId(),n.getId(),this.getId(),t).then((function(){return e._update()})).then((function(){e.info.defaultAppearance=t,e.eventEmitter.emit(a.default.annotationUpdated,[e],n,s.default.defaultAppearanceUpdated),e.eventEmitter.emit(a.default.annotationAppearanceUpdated,[e],e.getPDFPage())}))},e.prototype.getFontColor=function(){return 0==this.info.defaultAppearance.textColor?"black":(0,i.colorConvertor)(16777215&this.info.defaultAppearance.textColor,"#",0)},e.prototype.setFontColor=function(t){var e=this,n=this.getPDFPage(),o=n.getPDFDoc();return t=(0,i.colorConvertor)(t,"int",1),this.info.defaultAppearance.textColor=t,this.page.doc.api.setDefaultAp(o.getId(),n.getId(),this.getId(),this.info.defaultAppearance).then((function(){e.eventEmitter.emit(a.default.annotationAppearanceUpdated,[e],e.getPDFPage())}))},e.prototype.exportToJSON=function(){var e=t.prototype.exportToJSON.call(this);e.justification=this.info.justification;var n="";this.info.fontName&&(n+="/"+this.info.fontName+" "),this.info.defaultAppearance.textSize&&(n+=this.info.defaultAppearance.textSize+" Tf ");var o=(0,i.convertFromNumberToRGBA)(this.getBorderColor());switch(n+=(o.r/255).toFixed(2)+" "+(o.g/255).toFixed(2)+" "+(o.b/255).toFixed(2)+" rg",e.defaultappearance=n,e.fontColor=(0,i.colorConvertor)(16777215&this.info.defaultAppearance.textColor,"#",0),this.info.fillColor&&(o=(0,i.convertFromNumberToHex)(16777215&this.info.fillColor),e["interior-color"]=o),this.info.intent){case"FreeTextCallout":var a=this.info.rect,s=this.info.innerRect,c=[s.left-a.left,s.bottom-a.bottom,a.right-s.right,a.top-s.top].toString(),u=this.info.calloutLinePoints,l=u[0].x+","+u[0].y;l+=","+u[1].x+","+u[1].y,l+=","+u[2].x+","+u[2].y;var f=r.LineEndingName[this.info.calloutLineEndingStyle];return Object.assign({},e,{fringe:c,callout:l,head:f})}return e},e.prototype.getContent=function(){var e="";if(this.info.RC.length>0){var n=(new DOMParser).parseFromString(this.info.RC,"text/xml"),o=void 0;n.children&&n.children[0]?o=n.children.item(0):n.childNodes&&n.childNodes.length>0&&(o=n.childNodes.item(0)),e=o?o.innerText||o.textContent:e}else e=t.prototype.getContent.call(this);return e},e.prototype.setContent=function(t){var e=this;return this.checkModidyPerm(),this.info.RC="",(this.getGroupHeader()||this)._setContent(t).then((function(t){return e.getPDFPage().getAnnotsByIdArray([t])})).then((function(t){return e.update(s.default.contentUpdated).then((function(t){return e.eventEmitter.emit(a.default.annotationAppearanceUpdated,t,e.getPDFPage()),t}))}))},e.prototype.getWoff=function(){var t=this.getPDFPage();return t.doc.api.getAnnotWoff(t.getPDFDoc().getId(),t.getId(),this.getId())},e.prototype.getRotation=function(){return this.info.rotation||0},e.prototype.setRotation=function(t){var e=this,n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setAnnotRotation(o.getId(),n.getId(),this.getId(),t).then((function(t){return n.getAnnotsByIdArray(t)})).then((function(n){var o=0;for(n.length;o--;)n[o].info.rotation=t;return e.info.rotation=t,n})).then((function(t){var o=[],r=!0,i=!1,c=void 0;try{for(var u,l=t[Symbol.iterator]();!(r=(u=l.next()).done);r=!0){var f=u.value;o.push(f.update())}}catch(t){i=!0,c=t}finally{try{!r&&l.return&&l.return()}finally{if(i)throw c}}return Promise.all(o).then((function(o){return e.eventEmitter.emit(a.default.annotationUpdated,t,n,s.default.rotationUpdated),e.eventEmitter.emit(a.default.annotationAppearanceUpdated,t,n),t}))}))},e}(o.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(34)),r=a(n(16)),i=a(n(29));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return s(e,t),e.prototype.getInnerRect=function(){return this.getRect()},e.prototype.exportToJSON=function(){var e=t.prototype.exportToJSON.call(this);return e.icon=this.info.iconName,e},e.prototype.getIconName=function(){return this.info.iconName||""},e.prototype.setBitmap=function(t,e){var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setAnnotAPBitmap(o.getId(),n.getId(),this.getId(),t,e)},e.prototype.getRotation=function(){return this.info.rotation},e.prototype.setRotation=function(t){var e=this,n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setAnnotRotation(o.getId(),n.getId(),this.getId(),t).then((function(t){return n.getAnnotsByIdArray(t)})).then((function(n){var o=0;for(n.length;o--;)n[o].info.rotation=t;return e.info.rotation=t,n})).then((function(t){var o=[],a=!0,s=!1,c=void 0;try{for(var u,l=t[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var f=u.value;o.push(f.update())}}catch(t){s=!0,c=t}finally{try{!a&&l.return&&l.return()}finally{if(s)throw c}}return Promise.all(o).then((function(o){return e.eventEmitter.emit(r.default.annotationUpdated,t,n,i.default.rotationUpdated),e.eventEmitter.emit(r.default.annotationAppearanceUpdated,t,n),t}))}))},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(47)),r=a(n(16)),i=a(n(29));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o));return n.action&&(r.action=r.page.doc.engine.actionFactory.createAction(n.action,o.doc,r.page.doc.api,r.eventEmitter,r)),r}return s(e,t),e.prototype.getFlags=function(){return-2&t.prototype.getFlags.call(this)},e.prototype.getAction=function(){return this.action},e.prototype.getActionPromise=function(){return Promise.resolve(this.action)},e.prototype.getHighlightingMode=function(){return this.info.highlightingMode},e.prototype.setHighlightingMode=function(t){var e=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setHighlightingMode(o.getId(),n.getId(),this.getId(),t).then((function(t){return n.getAnnotsByIdArray(t)})).then((function(t){for(var e=[],n=0,o=t.length;n<o;n++)e.push(t[n]._update());return Promise.all(e)})).then((function(t){return e.eventEmitter.emit(r.default.annotationUpdated,t,n,i.default.highlightingModeUpdated),e.eventEmitter.emit(r.default.annotationMovedPosition,t,n,e),t}))},e.prototype.setAction=function(t){var e=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return t=t.exportToJson?t.exportToJson():t,this.page.doc.api.setAction(o.getId(),n.getId(),this.getId(),t).then((function(t){return e.action?t.type!==e.action.getType()?e.action=e.page.doc.engine.actionFactory.createAction(t,e.page.doc,e.page.doc.api,e.eventEmitter,e):e.action.updateAction(t):e.action=e.page.doc.engine.actionFactory.createAction(t,e.page.doc,e.page.doc.api,e.eventEmitter,e),e.update(i.default.addAction)})).then((function(){return e.eventEmitter.emit(r.default.actionAdd,e),!0}))},e.prototype.setActionData=function(t){var e=this;return this.action&&this.action.setActionData(t).then((function(){return e.update(i.default.actionDataUpdated)})).then((function(){return!0}))},e.prototype.removeAction=function(){var t=this,e=this.getPDFPage(),n=e.getPDFDoc();return this.page.doc.api.removeAnnotAction(n.getId(),e.getId(),this.getId()).then((function(){return t.action=null,t.update(i.default.removeAction)})).then((function(){return t.eventEmitter.emit(r.default.actionRemove,t),!0}))},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(34)),r=a(n(16)),i=a(n(29));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return s(e,t),e.prototype.getInkList=function(){return this.info.inkList},e.prototype.setInkList=function(t){var e=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setInkList(o.getId(),n.getId(),this.getId(),t).then((function(){return e.update(i.default.inkListUpdated).then((function(){e.eventEmitter.emit(r.default.annotationAppearanceUpdated,[e],e.getPDFPage())}))})).then((function(){return!0}))},e.prototype.exportToJSON=function(){for(var e=t.prototype.exportToJSON.call(this),n=this.info.inkList,o="[",r=0;r<n.length;r++)0!=r&&1==n[r].type&&(o=o.substr(0,o.length-1),o+="],["),o+=n[r].x+","+n[r].y+";";return o=o.substr(0,o.length-1)+"]",Object.assign({},e,{inklist:o})},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(47)),r=a(n(16)),i=a(n(29));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o));return n.action&&(r.action=r.page.doc.engine.actionFactory.createAction(n.action,o.doc,r.page.doc.api,r.eventEmitter,r)),r}return s(e,t),e.prototype.getFlags=function(){return-2&t.prototype.getFlags.call(this)},e.prototype.getAction=function(){return this.action},e.prototype.getActionPromise=function(){var t=this,e=this.getPDFPage(),n=e.getPDFDoc();return this.page.doc.api.getAction(n.getId(),e.getId(),this.getId()).then((function(e){return t.action=t.page.doc.engine.actionFactory.createAction(e,n,t.page.doc.api,t.eventEmitter,t),t.action}))},e.prototype.getOpacity=function(){return this.info.opacity},e.prototype.getRotation=function(){return this.info.rotation},e.prototype.setOpacity=function(t){var e=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return t=+t,this.page.doc.api.setAnnotOpacity(o.getId(),n.getId(),this.getId(),t).then((function(t){return n.getAnnotsByIdArray(t)})).then((function(n){var o=0;for(n.length;o--;)n[o].info.opacity=t;return e._update().then((function(){return n}))})).then((function(t){return e.eventEmitter.emit(r.default.annotationUpdated,t,n,i.default.opacityUpdated),e.eventEmitter.emit(r.default.annotationAppearanceUpdated,t,n),t}))},e.prototype.setRotation=function(t){var e=this,n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setAnnotRotation(o.getId(),n.getId(),this.getId(),t).then((function(t){return n.getAnnotsByIdArray(t)})).then((function(n){var o=0;for(n.length;o--;)n[o].info.rotation=t;return e.info.rotation=t,n})).then((function(t){return e.eventEmitter.emit(r.default.annotationUpdated,t,n,i.default.rotationUpdated),e.eventEmitter.emit(r.default.annotationAppearanceUpdated,t,n),t}))},e.prototype.setAction=function(t){var e=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return t=t.exportToJson?t.exportToJson():t,this.page.doc.api.setAction(o.getId(),n.getId(),this.getId(),t).then((function(t){return e.action?t.type!==e.action.getType()?e.action=e.page.doc.engine.actionFactory.createAction(t,e.page.doc,e.page.doc.api,e.eventEmitter,e):e.action.updateAction(t):e.action=e.page.doc.engine.actionFactory.createAction(t,e.page.doc,e.page.doc.api,e.eventEmitter,e),e.update(i.default.addAction)})).then((function(){return e.eventEmitter.emit(r.default.actionAdd,e),!0}))},e.prototype.setActionData=function(t){var e=this;return this.action&&this.action.setActionData(t).then((function(){return e.update(i.default.actionDataUpdated)})).then((function(){return!0}))},e.prototype.setRect=function(t){var e=this;this.info.rect=t;var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setAnnotRect(o.getId(),n.getId(),this.getId(),t).then((function(t){return t?(e.eventEmitter.emit(r.default.annotationUpdated,[e],n),e.eventEmitter.emit(r.default.annotationAppearanceUpdated,[e],n),!0):t}))},e.prototype.moveTo=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.left,o=e.top,a=Object.assign({},this.info.rect),s=a.right,c=a.bottom,u=n-a.left,l=o-a.top;this.info.rect={left:n,top:o,right:s+u,bottom:c+l};var f=this.getPDFPage(),p=f.getPDFDoc(),d=p.getId(),h=f.getId(),g=this.getId();return this.page.doc.api.moveAnnotTo(d,h,g,{left:n,top:o}).then((function(t){return f.getAnnotsByIdArray(t)})).then((function(e){t.eventEmitter.emit(r.default.annotationUpdated,e,f,i.default.rectUpdated),t.eventEmitter.emit(r.default.annotationMovedPosition,e,f,t)}))},e.prototype.removeAction=function(){var t=this,e=this.getPDFPage(),n=e.getPDFDoc();return this.page.doc.api.removeAnnotAction(n.getId(),e.getId(),this.getId()).then((function(){return t.action=null,t.update(i.default.removeAction)})).then((function(){return t.eventEmitter.emit(r.default.actionRemove,t),!0}))},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(34));n(6),r(n(16)),n(44);function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o));return n.action&&(r.action=r.page.doc.engine.actionFactory.createAction(n.action,o.doc,r.page.doc.api,r.eventEmitter,r)),r}return i(e,t),e.prototype.getIconName=function(){return this.info.iconName||"Speaker"},e.prototype.exportToJSON=function(){var e=t.prototype.exportToJSON.call(this);return e.rate=this.info.soundObj&&this.info.soundObj.sampleRate,e},e}(o.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(47)),r=n(6),i=s(n(156)),a=s(n(16));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return c(e,t),e.prototype.getFlags=function(){return-2&t.prototype.getFlags.call(this)},e.prototype.getOpenStatus=function(){return this.info.openStatus},e.prototype.setOpenStatus=function(t){var e=this;this.checkModidyPerm();var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setPopupOpenStatus(o.getId(),n.getId(),this.getId(),t).then((function(){e.info.openStatus=t;var o=[e];return e.eventEmitter.emit(a.default.annotationAppearanceUpdated,o,n),o}))},e.prototype.exportToJSON=function(){var t=this.info.flag,e="";for(var n in r.AnnotFlagsName)t&1<<parseInt(n)&&(e+=r.AnnotFlagsName[n]+",");(0,i.default)(new Date(this.info.modifiedTimestamp),"D:yyyyMMddhhmmssTZ","'");var o=this.info.id,a=this.page.getIndex(),s=this.info.openStatus?"yes":"no",c=this.info.rect;return{flags:e,name:o,page:a,open:s,rect:c.left+","+c.bottom+","+c.right+","+c.top,type:"popup"}},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=c(n(34)),r=c(n(16)),i=n(4),a=c(n(24)),s=c(n(29));function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o))}return u(e,t),e.prototype.isArea=function(){return this.info.isArea},e.prototype.getRects=function(){var t=[];return this.info.quadPoints&&this.info.quadPoints.length>0?this.info.quadPoints.forEach((function(e){t.push({left:e[0].x,top:e[0].y,right:e[3].x,bottom:e[3].y})})):t.push(this.info.rect),t},e.prototype.apply=function(){var t=this,e=this.getPDFPage(),n=e.getPDFDoc();if(!n.checkPermission(a.default.annotForm)||!n.checkPermission(a.default.modify))throw new Error("Permission error");return this.page.doc.api.redactApply(n.getId(),e.getId(),this.getId()).then((function(n){var o=e.clearAnnotIds(n);t.page.doc.engine.eventEmitter.emit(r.default.annotationRemoved,o,e);var i=[{pageIndex:e.getIndex(),removedAnnots:n}];return t.eventEmitter.emit(r.default.applyRedaction,i),i}))},e.prototype.getApplyFillColor=function(){return this.info.applyFillColor},e.prototype.setRedactApplyFillColor=function(t){var e=this;this.checkModidyPerm(),t=(0,i.colorConvertor)(t,"int",1);var n=this.getPDFPage(),o=n.getPDFDoc();return this.page.doc.api.setRedactApplyFillColor(o.getId(),n.getId(),this.getId(),t).then((function(o){return o&&(e.eventEmitter.emit(r.default.annotationUpdated,[e],n,s.default.applyFillColorUpdated),e.info.applyFillColor=t),o}))},e.prototype.exportToJSON=function(){var e=t.prototype.exportToJSON.call(this);e["interior-color"]=(0,i.convertFromNumberToHex)(16777215&this.getApplyFillColor());for(var n=this.info.quadPoints,o="",r=0;r<n.length;r++){var a=n[r];o+=a[0].x+","+a[0].y+",",o+=a[1].x+","+a[1].y+",",o+=a[2].x+","+a[2].y+",",o+=a[3].x+","+a[3].y+","}return e.coords=o.substr(0,o.length-1),e},e}(o.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(96)),r=s(n(604)),i=s(n(605)),a=s(n(606));function s(t){return t&&t.__esModule?t:{default:t}}var c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.engine=e}return t.prototype.get=function(t,e){var n=this.engine;switch(t.type){case 1:return new r.default(t,e,n);case 2:return new i.default(t,e,n);case 3:return new a.default(t,e,n);case void 0:return null;default:return new o.default(t,e,n)}},t}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(96)),r=a(n(16)),i=a(n(24));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c={0:{id:"0",name:"StandardID_e_StdIDCourier",isBold:!1,isItalic:!1},1:{id:"1",name:"StandardID_e_StdIDCourierB",isBold:!0,isItalic:!1},2:{id:"2",name:"StandardID_e_StdIDCourierBI",isBold:!0,isItalic:!0},3:{id:"3",name:"StandardID_e_StdIDCourierI",isBold:!1,isItalic:!0},4:{id:"4",name:"StandardID_e_StdIDHelvetica",isBold:!1,isItalic:!1},5:{id:"5",name:"StandardID_e_StdIDHelveticaB",isBold:!0,isItalic:!1},6:{id:"6",name:"StandardID_e_StdIDHelveticaBI",isBold:!0,isItalic:!0},7:{id:"7",name:"StandardID_e_StdIDHelveticaI",isBold:!1,isItalic:!0},8:{id:"8",name:"StandardID_e_StdIDTimes",isBold:!1,isItalic:!1},9:{id:"9",name:"StandardID_e_StdIDTimesB",isBold:!0,isItalic:!1},10:{id:"10",name:"StandardID_e_StdIDTimesBI",isBold:!0,isItalic:!0},11:{id:"11",name:"StandardID_e_StdIDTimesI",isBold:!1,isItalic:!0},12:{id:"12",name:"StandardID_e_StdIDSymbol",isBold:!1,isItalic:!1},13:{id:"13",name:"StandardID_e_StdIDZapfDingbats",isBold:!1,isItalic:!1}},u=function(t){function e(n,o,r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r))}return s(e,t),e.prototype.put=function(t){},e.prototype.isBold=function(){var t=this.info.textState.font;if(t.isStandard){if(c[t.standardId])return c[t.standardId].isBold;console.warn("No configuration found for standard font: ",t)}return t.isBold},e.prototype.isItalic=function(){var t=this.info.textState.font;if(t.isStandard){if(c[t.standardId])return c[t.standardId].isItalic;console.warn("No configuration found for standard font: ",t)}return t.isItalic||t.styles>>7&1},e.prototype.getText=function(){return this.info.textState.text},e.prototype.getFontInfo=function(){return this.info.textState.font},e.prototype.setText=function(t){var e=this;if(!this.doc.checkPermission(i.default.modify))throw new Error("Permission error");if(this.getText()===t)return Promise.resolve();var n=this.getPDFPage();return n.doc.api.setTextObjectChar(n.getPDFDoc().getId(),n.getId(),this.getId(),t).then((function(t){e.info=t,e.doc.engine.eventEmitter.emit(r.default.graphicsUpdated,n)}))},e.prototype.setItalic=function(t){var e=this;if(!this.doc.checkPermission(i.default.modify))throw new Error("Permission error");if(this.isItalic()===t)return Promise.resolve();var n=this.getPDFPage();return n.doc.api.setTextObjectItalic(n.getPDFDoc().getId(),n.getId(),this.getId(),t).then((function(t){e.info=t,e.doc.engine.eventEmitter.emit(r.default.graphicsUpdated,n)}))},e.prototype.setBold=function(t){var e=this;if(!this.doc.checkPermission(i.default.modify))throw new Error("Permission error");if(this.isBold()===t)return Promise.resolve();var n=this.getPDFPage();return n.doc.api.setTextObjectBold(n.getPDFDoc().getId(),n.getId(),this.getId(),t).then((function(t){e.info=t,e.doc.engine.eventEmitter.emit(r.default.graphicsUpdated,n)}))},e.prototype.getFontSize=function(){return this.info.textState.size},e.prototype.setFontSize=function(t){var e=this;if(!this.doc.checkPermission(i.default.modify))throw new Error("Permission error");if(this.getFontSize()===t)return Promise.resolve();var n=this.getPDFPage();return n.doc.api.setTextObjectFontSize(n.getPDFDoc().getId(),n.getId(),this.getId(),t).then((function(t){e.info=t,e.doc.engine.eventEmitter.emit(r.default.graphicsUpdated,n)}))},e.prototype.setStandardFont=function(t){var e=this;if(!this.doc.checkPermission(i.default.modify))throw new Error("Permission error");var n=this.info.textState.font;if(!n||n.isStandard&&t===n.stardardId)return Promise.resolve();var o=this.getPDFPage();return o.doc.api.setTextObjectStandardFont(o.getPDFDoc().getId(),o.getId(),this.getId(),t).then((function(t){e.info=t,e.doc.engine.eventEmitter.emit(r.default.graphicsUpdated,o)}))},e.prototype.setFontByName=function(t,e,n){var o=this;if(!this.doc.checkPermission(i.default.modify))throw new Error("Permission error");if(!this.info.textState.font)return Promise.resolve();var a=this.getPDFPage();return a.doc.api.setTextObjectFontByName(a.getPDFDoc().getId(),a.getId(),this.getId(),t,e,n).then((function(t){o.info=t,o.doc.engine.eventEmitter.emit(r.default.graphicsUpdated,a)}))},e.prototype.getWoff=function(){var t=this.getPDFPage();return t.doc.api.getTextObjectWoff(t.getPDFDoc().getId(),t.getId(),this.getId())},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(96)),r=i(n(24));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o,r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r))}return a(e,t),e.prototype.getFillMode=function(){return this.info.fillMode},e.prototype.setBorderColor=function(e){if(!this.doc.checkPermission(r.default.modify))throw new Error("Permission error");return this.info.needStroke=0!==e,t.prototype.setBorderColor.call(this,e)},e.prototype.getPathPoints=function(){return this.info.path},e.prototype.needStroke=function(){return this.info.needStroke},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(96)),r=a(n(16)),i=a(n(24));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n,o,r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r))}return s(e,t),e.prototype.setRotation=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!e)return Promise.resolve(this.info);if(!this.doc.checkPermission(i.default.modify))throw new Error("Permission error");var n=this.getPDFPage();return n.doc.api.setImageObjectRotation(n.getPDFDoc().getId(),n.getId(),this.getId(),e).then((function(e){return t.info=e,t.doc.engine.eventEmitter.emit(r.default.graphicsUpdated,n),e}))},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:52428800;if(e instanceof ArrayBuffer&&e.byteLength>52428800)return new Blob([e]);if(e.buffer instanceof ArrayBuffer)return t(e.buffer,n);return e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(609),i=(o=r)&&o.__esModule?o:{default:o};var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.step=0;var n=document.createElement("div");n.innerHTML=(0,i.default)({title:e}),this.element=n.firstElementChild,n.removeChild(this.element),this.totalElement=this.element.querySelector(".fv__ui-print-process-total"),this.currentElement=this.element.querySelector(".fv__ui-print-process-current"),this.progressElement=this.element.querySelector(".fv__ui-print-process-percent")}return t.prototype.reset=function(){this.updateProgress(0,0)},t.prototype.show=function(){this.reset(),document.body.appendChild(this.element)},t.prototype.updateProgress=function(t,e){var n=this.total;this.total=e,n!==e&&(this.totalElement.innerText=e),this.step=t,this.currentElement.innerText=t,this.progressElement.style.cssText+="\n            width: "+t/e*100+"%;\n        "},t.prototype.close=function(){document.body.removeChild(this.element)},t}();e.default=a},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<div class="fv__ui-print-process">\n    <div class="fv__ui-print-process-title">',e+=(0,o.$escape)(t.title),e+='</div>\n    <div class="fv__ui-print-process-digital-progress"><span class="fv__ui-print-process-current">0</span>/<span class="fv__ui-print-process-total">0</span></div>\n    <div class="fv__ui-print-process-bar">\n        <div class="fv__ui-print-process-percent"></div>\n    </div>\n</div>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(611),i=(o=r)&&o.__esModule?o:{default:o},a=n(26);var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=document.createElement("div"),this.printArea=new i.default(this.container),this.imageCache=[]}return t.prototype.appendImage=function(t,e){this.imageCache[t]=this.createImageDOM(t,e)},t.prototype.createImageDOM=function(t,e){var n=document.createElement("div");n.setAttribute("data-index",t),n.style.cssText="width: 100%;height: 100%; page-break-after: always;";var o=document.createElement("img");return o.style.cssText="max-width: 100%; max-height: 100%;",o.src=e,n.appendChild(o),n},t.prototype.print=function(t){var e=this;a.isIE&&t&&function(){var t="\\Software\\Microsoft Internet Explorer\\PageSetup ";try{var e,n=new ActiveXObject("WScript.Shell");e="header",n.RegWrite("HKEY_CURRENT_USER"+t+e,""),e="footer",n.RegWrite("HKEY_CURRENT_USER"+t+e,"")}catch(t){console.error(t)}}(),this.imageCache.forEach((function(t){t&&e.container.appendChild(t)})),this.imageCache=[],this.printArea.getHead=function(){return"\n                <style>\n                    *{ margin: 0; padding: 0; }\n                </style>\n                "+(t?'\n                    <style type="text/css" media="print">\n                        @page {\n                            /* hide header and footer */\n                            size: auto;\n                            margin: 0;\n                        }\n                        a[href]:after { content: none !important; }\n                        img[src]:after { content: none !important; }\n                    </style>\n                ':"")+"\n            "},this.printArea.print(),this.container.innerHTML=""},t}();e.default=s},function(t,e,n){t.exports=function(){"use strict";function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var e=function(){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.counter=0,this.modes={iframe:"iframe",popup:"popup"},this.standards={strict:"strict",loose:"loose",html5:"html5"};var o={mode:this.modes.iframe,standard:this.standards.html5,popHt:500,popWd:400,popX:200,popY:200,popTitle:"",popClose:!0,extraCss:"",extraHead:"",retainAttr:["id","class","style"]};this.settings=Object.assign({},o,n),this.idPrefix="printArea_",this.ele=1===t.nodeType?t:document.querySelector(t)}var n,o,r;return n=e,(o=[{key:"print",value:function(){var t=this;this.counter++;for(var e=document.querySelectorAll("[id^="+this.idPrefix+"]");e.length;)e[0].parentNode.removeChild(e[0]),e=document.querySelectorAll("[id^="+this.idPrefix+"]");this.settings.id=this.idPrefix+this.counter;var n=this.getPrintWindow();this.write(n.doc,this.ele),setTimeout((function(){t.windowPrint(n)}),1e3)}},{key:"windowPrint",value:function(t){var e=t.win;e.focus(),e.print(),this.settings.mode===this.modes.popup&&this.settings.popClose&&setTimeout((function(){e.close()}),1e3)}},{key:"write",value:function(t,e){t.open(),t.write(this.docType()+"<html>"+this.getHead()+this.getBody(e)+"</html>"),t.close()}},{key:"docType",value:function(){return this.settings.mode===this.modes.iframe?"":this.settings.standard===this.standards.html5?"<!DOCTYPE html>":'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01'+(this.settings.standard===this.standards.loose?" Transitional":"")+'//EN" "http://www.w3.org/TR/html4/'+(this.settings.standard===this.standards.loose?"loose":"strict")+'.dtd">'}},{key:"getHead",value:function(){var t="";this.settings.extraHead&&this.settings.extraHead.replace(/([^,]+)/g,(function(e){t+=e}));var e=document.querySelectorAll("link");return e=Array.from(e).filter((function(t){var e=t.getAttribute("rel");return e&&"stylesheet"===e.toLowerCase()})).filter((function(t){var e=t.getAttribute("media");return!e||"print"===e.toLowerCase()||"all"===e.toLowerCase()})).map((function(t){var e=t.getAttribute("href");return'<link type="text/css" rel="stylesheet" href="'.concat(e,'" >')})),this.settings.extraCss&&this.settings.extraCss.replace(/([^,\s]+)/g,(function(e){t+='<link type="text/css" rel="stylesheet" href="'+e+'">'})),"<head><title>"+this.settings.popTitle+"</title>"+t+e.join()+"</head>"}},{key:"getBody",value:function(t){var e="",n=this.settings.retainAttr,o=this.getFormData(t),r="";return n.forEach((function(t){var e=o.getAttribute(t);e&&(r+=(r.length>0?" ":"")+t+"='"+e+"'")})),"<body>"+(e+="<div "+r+">"+o.innerHTML+"</div>")+"</body>"}},{key:"getFormData",value:function(t){var e=t.cloneNode(!0),n=e.querySelectorAll("input,select,textarea");return Array.from(t.querySelectorAll("input,select,textarea")).forEach((function(t,e){var o=t.getAttribute("type");if(!o){var r=t.nodeName;o="SELECT"===r?"select":"TEXTAREA"===r?"textarea":""}var i=n[e];if("radio"===o||"checkbox"===o)i.removeAttribute("checked"),t.checked&&i.setAttribute("checked",!0);else if("text"===o||""===o)i.setAttribute("value",t.textContent);else if("select"===o){var a=t.querySelectorAll("option"),s=i.querySelectorAll("option");Array.from(a).forEach((function(t,e){s[e].removeAttribute("selected"),t.selected&&s[e].setAttribute("selected",!0)}))}else"textarea"===o&&(i.textContent=t.value)})),e}},{key:"getPrintWindow",value:function(){switch(this.settings.mode){case this.modes.iframe:var t=this.Iframe();return{win:t.contentWindow||t,doc:t.doc};case this.modes.popup:var e=this.Popup();return{win:e,doc:e.doc}}}},{key:"Iframe",value:function(){var t,e=this.settings.id;try{t=document.createElement("iframe"),document.body.appendChild(t),t.setAttribute("style","border:0;position:absolute;width:0px;height:0px;right:0px;top:0px;"),t.setAttribute("id",e),t.setAttribute("src","#"+(new Date).getTime()),t.doc=null,t.doc=t.contentDocument?t.contentDocument:t.contentWindow?t.contentWindow.document:t.document}catch(t){throw t+". iframes may not be supported in this browser."}if(null==t.doc)throw"Cannot find document.";return t}},{key:"Popup",value:function(){var t="location=yes,statusbar=no,directories=no,menubar=no,titlebar=no,toolbar=no,dependent=no";t+=",width="+this.settings.popWd+",height="+this.settings.popHt,t+=",resizable=yes,screenX="+this.settings.popX+",screenY="+this.settings.popY+",personalbar=no,scrollbars=yes";var e=window.open("","_blank",t);return e.doc=e.document,e}}])&&t(n.prototype,o),r&&t(n,r),e}();return window.PrintArea=e,e}()},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i(n(15));var o=n(5),r=(i(n(120)),i(n(66)),i(n(2)),i(n(286)));i(n(74));function i(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.module=e,this.controllers={},this.components={},this.directives={},this.layouts={},this.fragments={}}return t.prototype.registerDirective=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.getName().toLowerCase(),o=this.directives[n];if(o!==t){if(o&&!o.isFake()&&!e)throw new Error("Duplicated directive name "+n);this.directives[n]=t}},t.prototype.getDirectiveClass=function(t){t=t.toLowerCase();var e=this.directives[t];if(!e){var n=!0,o=!1,r=void 0;try{for(var i,a=this.module.depends[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){if(e=i.value.getDirectiveClass(t))break}}catch(t){o=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}}return e},t.prototype.registerController=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.getName(),o=this.controllers[n];if(o!==t){if(o&&!o.isFake()&&!e)throw new Error("Duplicated controller class name: "+n);this.controllers[n]=t}},t.prototype.getControllerClass=function(t){var e=this.controllers[t];if(!e){var n=!0,o=!1,r=void 0;try{for(var i,a=this.module.depends[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){if(e=i.value.getControllerClass(t))break}}catch(t){o=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}}return e},t.prototype.registerComponent=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.getName().toLowerCase(),i=this.components[n];if(i!==t){if(i&&!i.isFake()&&!e)throw new Error("Duplicated component name '"+n+"', component names must be unique and case-insensitive");t.$metadata=new r.default(t),this.components[n]=t;var a=this.module.name;if(a.length>0){var s=""+a+o.NAMESPACE_SEPERATOR+n;document.createElement(s),document.createElementNS("http://www.w3.org/1999/xhtml",s)}else document.createElement(n)}},t.prototype.getComponentClass=function(t){t=t.toLowerCase();var e=this.components[t];if(!e){var n=!0,o=!1,r=void 0;try{for(var i,a=this.module.depends[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){if(e=i.value.getComponentClass(t))break}}catch(t){o=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}}return e},t.prototype.registerLayout=function(t){var e=t.getName().toLowerCase();this.layouts[e]=t},t.prototype.getLayoutClass=function(t){t=t.toLowerCase();var e=this.layouts[t];if(!e){var n=!0,o=!1,r=void 0;try{for(var i,a=this.module.depends[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){if(e=i.value.getLayoutClass(t))break}}catch(t){o=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}}return e},t.prototype.registerPreConfiguredComponent=function(t,e){return this.registerFragment(t,e)},t.prototype.getPreConfiguredComponent=function(t){return this.getFragment(t)},t.prototype.registerFragment=function(t,e){t=t.toLowerCase();var n=this.getComponentClass(t);if(n&&!n.isFake())throw new Error("conflict: a component names "+t+" is already exists.");if(this.fragments[t])throw new Error("Duplicate fragment name: "+t);this.fragments[t]=e},t.prototype.getFragment=function(t){t=t.toLowerCase();var e=this.fragments[t];if(!e){var n=!0,o=!1,r=void 0;try{for(var i,a=this.module.depends[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){if(e=i.value.getFragment(t))break}}catch(t){o=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}}return e},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=c(n(2)),r=c(n(615)),i=c(n(121)),a=c(n(74)),s=c(n(616));function c(t){return t&&t.__esModule?t:{default:t}}var u=["mounted","prelink","postlink","destroy","uninstall"],l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.newControllerInstance=function(t,e){var n=t.callback,c=t.proxyControllers,l=void 0;"function"==typeof n?l=a.default.isSubClassOf(n,o.default)?new n(e):new r.default(e,n):n instanceof o.default?(l=Object.create(n),u.forEach((function(t){l[t]=i.default.prototype[t]})),l.component=e):l=new i.default(e);var f=c.reduce((function(t,e){var n=e.method||"handle";return(t[n]=t[n]||[]).push(e),t}),{});for(var p in f){var d=f[p];"function"==typeof l[p]&&(l[p]=d.reduce((function(t,e){return t.proxy(e)}),s.default.on(l[p])).extract())}return l},t}();e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(2);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return r.callbackfn=o,r}return i(e,t),e.getName=function(){return"CallbackController"},e.prototype.handle=function(){for(var t,e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return(t=this.callbackfn).call.apply(t,[this].concat(n))},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.originfn=e,this.beforeHooks=[],this.afterHooks=[],this.thrownHooks=[],this.aroundHooks=[]}return t.on=function(e){if("function"==typeof e)return new t(e);if(e instanceof t)return new t(e.extract());throw new TypeError("Unexpected type: "+(void 0===e?"undefined":o(e)))},t.prototype.before=function(t){return"function"==typeof t&&this.beforeHooks.push(t),this},t.prototype.after=function(t){return"function"==typeof t&&this.afterHooks.push(t),this},t.prototype.thrown=function(t){return"function"==typeof t&&this.thrownHooks.push(t),this},t.prototype.around=function(t){return"function"==typeof t&&this.aroundHooks.push(t),this},t.prototype.proxy=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.before,n=t.after,o=t.thrown,r=t.around;return this.before(e),this.after(n),this.thrown(o),this.around(r),this},t.prototype.extract=function(){var t=this.beforeHooks,e=this.afterHooks,n=this.thrownHooks,o=this.aroundHooks,r=this.originfn;function i(){for(var o=this,i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];t.forEach((function(t){return t.call(o,a)}));try{var c=r.apply(this,a);return e.forEach((function(t){return t.call(o,c,a)})),c instanceof Promise&&c.catch((function(t){n.forEach((function(e){return e.call(o,t,a)}))})),c}catch(t){n.forEach((function(e){return e.call(o,t,a)}))}}return i.origin=r,o.reduceRight((function(t,e){return function(){for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return e(this,t,o)}}),i)},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={},r={};function i(t,e){if(e in t)return t[e];var n=e.toLowerCase();if(n in t)return t[n];var i=r[e];return i||(i=e.replace(/[A-Z]/g,(function(t,e){return 0===e?t.toLowerCase():"-"+t.toLowerCase()})),r[e]=i),i in t?t[i]:o}function a(t,e,n){var o=n.field||e,r=t.$options;return o in r?r[o]:e in r?r[e]:i(t.attrs,e)}function s(t,e,n){var r=a(t,e,n);if(r===o)return void 0!==n.defaultValue&&n.defaultValue;if("string"==typeof r&&(r=0==(r=r.trim().toLowerCase()).length||(!0===n.defaultValue?"false"!==r:"true"===r)),"boolean"!=typeof r&&(r=n.defaultValue),"boolean"!=typeof r&&n.required)throw new Error("Illegal component parameter("+e+"): "+e+" is required for <"+t.name+">");return r}function c(t,e,n){var r=a(t,e,n);if((r===o||"string"!=typeof r)&&n.required)throw new Error("Illegal component parameter("+e+"): "+e+" is required for <"+t.name+">");if("string"!=typeof r&&(r=n.defaultValue),"lower"===n.case?r=r.toLowerCase():"upper"===n.case&&(r=r.toUpperCase()),n.match){var i=n.match;if("string"==typeof n.match&&(i=new RegExp(i)),i instanceof RegExp&&!i.test(r))throw new Error("Illegal component parameter("+e+"): "+r+" doesn't match regex: "+i)}return r}function u(t,e,n){var r=a(t,e,n);if((r===o||"string"!=typeof r)&&n.required)throw new Error("Illegal component parameter("+e+"): "+e+" is required for <"+t.name+">");"string"!=typeof r&&(r=n.defaultValue),"lower"===n.case?r=r.toLowerCase():"upper"===n.case&&(r=r.toUpperCase());var i=n.enums||[];if(-1==i.indexOf(r))throw new Error("'"+r+"' is not in list of valid values: ["+i.join(",")+"]");return r}function l(t,e,n){var o=n.min,r=n.max;isFinite(o)||(o=-1/0),isFinite(r)||(r=1/0);var i=[Math.min(o,r),Math.max(o,r)];o=i[0],r=i[1];var s=Number(a(t,e,n));if("number"!=typeof s&&n.required)throw new Error("Illegal component parameter("+e+"): "+e+" is required for <"+t.name+">");if(("number"!=typeof s||isNaN(s))&&(s=n.defaultValue),s<o||s>r)throw new Error("Illegal component parameter("+e+"): "+s+" is out of range ["+o+", "+r+"]");return s}function f(t,e,n){var o=Number(a(t,e,n));if("number"!=typeof o&&n.required)throw new Error("Illegal component parameter("+e+"): "+e+" is required for <"+t.name+">");if(("number"!=typeof o||isNaN(o))&&(o=n.defaultValue),isNaN(o)||!isFinite(o))throw new Error("Illegal component parameter("+e+"): "+o+" is not a valid number for <"+t.name+">");return o}function p(t,e,n){var r=n.field||e;if(r in t.$options){var a=t.$options[r];if(!a&&n.required)throw new Error("Illegal component parameter("+e+"): "+e+" is required for <"+t.name+">");if("function"!=typeof a)throw new Error("Illegal component parameter("+e+"): "+a+" is not a function");return a}var s=i(t.attrs,e);if(s==o&&n.required)throw new Error("Illegal component parameter("+e+"): "+e+" is required for <"+t.name+">");if(s!==o){var c=[];return"string"==typeof n.args?c.push(n.args):Array.isArray(n.args)&&c.push.apply(c,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(n.args)),function(){var e=arguments;return t.controller.eval(s,c.reduce((function(t,n,o){return t[n]=e[o],t}),{$args:Array.prototype.slice.call(arguments,0)}))}}return n.defaultValue}function d(t,e,n){var r=a(t,e,n);if(void 0===r&&(r=n.defaultValue),(r===o||void 0===r)&&n.required)throw new Error("Illegal component parameter("+e+"): "+e+" is required for <"+t.name+">");if(r!==o)return r}function h(t,e,n){return n.call(t,t,e)}var g=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.resolvers=[],this.init(e)}return t.prototype.init=function(t){for(var e in t){var n=t[e],o=this.getResolver(n);this.resolvers.push({field:n.field||e,name:e,config:n,resolve:o})}},t.prototype.getResolver=function(t){if("function"==typeof t)return h;switch(t.type){case"boolean":return s;case"string":return c;case"range":return l;case"number":return f;case"function":return p;case"enum":return u;default:return d}},t.prototype.resolve=function(t){this.resolvers.forEach((function(e){t[e.field]=e.resolve(t,e.name,e.config)}))},t}();e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(10);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,{}));return o.component=n,o}return i(e,t),e.getName=function(){return"<native-noop>"},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(58);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,null,null));return o.selectors=[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(n)),o}return i(e,t),e.prototype.selectFrom=function(t){return this.selectors.reduce((function(e,n){return n.selectFrom(t).forEach((function(t){-1===e.indexOf(t)&&e.push(t)})),e}),[])},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(621),r=n(287);var i=[o.all,o.dchildren,o.whitespace,o.name,o.type,o.attribute,o.method,o.root],a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype.tokenize=function(t){for(var e=t.replace(r.rTrim,"$1"),n=[];e.length>0;){var o=!1,a=!0,s=!1,c=void 0;try{for(var u,l=i[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var f=(0,u.value)(e);f&&(o=!0,e=e.substring(f.token.length),n.push(f))}}catch(t){s=!0,c=t}finally{try{!a&&l.return&&l.return()}finally{if(s)throw c}}if(!o)throw new Error("'"+t+"' is not a valid selector: at "+(t.length-e.length))}return n},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.whitespace=function(t){var e=o.rWhitespace.exec(t);if(e)return{type:"whitespace",token:e[0],step:e[0].length}},e.dchildren=function(t){var e=o.rDirectlyChildren.exec(t);if(e)return{type:"dchildren",token:e[0],step:e[0].length}},e.type=function(t){var e=o.rType.exec(t);if(e)return{type:"type",token:e[0],options:{type:e[3],module:e[2]},step:e[0].length}},e.name=function(t){var e=o.rName.exec(t);if(e)return{type:"name",token:e[0],options:{name:e[0]},step:e[0].length}},e.attribute=function(t){var e=o.rAttribute.exec(t);if(e)return{type:"attribute",token:e[0],options:{key:e[1],compare:e[2],value:e[3]||e[4]||e[5]},step:e[0].length}},e.method=function(t){var e=o.rMethods.exec(t);if(e)return{type:"method",token:e[0],options:{name:e[1],parameter:e[2]},step:e[0].length}},e.all=function(t){if("*"===t[0])return{type:"all",token:"*",options:{},step:1}},e.root=function(t){var e=o.rRoot.exec(t);if(e)return{type:"root",token:e[0],options:{},step:e[0].length}};var o=n(287)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=f(n(288)),r=f(n(623)),i=f(n(624)),a=f(n(625)),s=f(n(626)),c=f(n(627)),u=f(n(628)),l=f(n(629));function f(t){return t&&t.__esModule?t:{default:t}}var p=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.create=function(t,e){switch(t){case"whitespace":return new o.default(e);case"name":return new r.default(e);case"type":return new i.default(e);case"attribute":return new a.default(e);case"method":return new s.default(e);case"all":return new c.default(e);case"dchildren":return new l.default(e);case"root":return new u.default(e);default:throw new Error("Unsupported selector: "+t)}},t}();e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(58)),r=i(n(23));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.name=n.name,o}return a(e,t),e.prototype.selectFrom=function(t,e){var n=this;return e?t.reduce((function(t,e){return e instanceof r.default?t.concat(e.findChildren((function(t){return t.attrs.name===n.name}))):t.concat(e.findChildren((function(t){return t.name===n.name})))}),[]):t.filter((function(t){return t instanceof r.default?t.attrs.name===n.name:t.name===n.name}))},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(58)),r=a(n(23)),i=n(5);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.type=n.type,o.moduleName=n.module||i.ROOT_MODULE_NAME,o}return s(e,t),e.prototype.selectFrom=function(t,e){var n=this,o=function(t){return t.module.name===n.moduleName&&t.nodeName===n.type},i=function(t){var e=t.constructor.getName();return"{native}"===e?t.element.nodeName.toLowerCase()===n.type:t.node.module.name===n.moduleName&&e===n.type};return e?t.reduce((function(t,e){return e instanceof r.default?t.concat(e.findChildren(o,!1)):t.concat(e.findChildren(i,!1))}),[]):t.filter((function(t){return t instanceof r.default?o(t):i(t)}))},e}(o.default);e.default=c},function(t,e,n){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(58)),i=s(n(23)),a=s(n(15));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l=(u(o={},"^=",(function(t,e){return"string"==typeof e&&0===e.indexOf(t)})),u(o,"=",(function(t,e){return"string"==typeof e&&t==e+""})),u(o,"*=",(function(t,e){return"string"==typeof e&&new RegExp((n=t,n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"))).test(e);var n})),u(o,"!=",(function(t,e){return t!==e})),u(o,"|=",(function(t,e){return"string"==typeof e&&e.split("-").indexOf(t)>-1})),u(o,"$=",(function(t,e){return"string"==typeof e&&t.length<=e.length&&e.slice(e.length-t.length)===t})),o),f=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.key=n.key,o.value=n.value,o.matcher=l[n.compare],o}return c(e,t),e.prototype.selectFrom=function(t,e){var n=this;return e?this.selectDeeply(t):t.filter((function(t){if(n.value){if(t instanceof i.default)return n.isNodeValueMatch(t);if(t instanceof a.default)return n.isComponentValueMatch(t)}else{if(t instanceof i.default)return n.isNodeContains(t);if(t instanceof a.default)return n.isComponentContains(t)}return!1}))},e.prototype.selectDeeply=function(t){var e=this;return t.reduce((function(t,n){if(e.value){if(n instanceof i.default)return t.concat(n.findChildren((function(t){return e.isNodeValueMatch(t)})));if(n instanceof a.default)return t.concat(n.findChildren((function(t){return e.isComponentValueMatch(t)})))}else{if(n instanceof i.default)return t.concat(n.findChildren((function(t){return e.isNodeContains(t)})));if(n instanceof a.default)return t.concat(n.findChildren((function(t){return e.isComponentContains(t)})))}return t}),[])},e.prototype.isMatch=function(t){return this.matcher.call(null,this.value,t)},e.prototype.isNodeContains=function(t){return this.key in t.attrs},e.prototype.isComponentContains=function(t){return this.key in t||this.key in t.attrs},e.prototype.isNodeValueMatch=function(t){return this.key in t.attrs&&this.isMatch(t.attrs[this.key])},e.prototype.isComponentValueMatch=function(t){return this.isMatch(t[this.key])||this.key in t.attrs&&this.isMatch(t.attrs[this.key])},e}(r.default);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(58)),r=s(n(7)),i=s(n(23)),a=s(n(15));s(n(165));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}r.default.getLogger("method-selector");var u={eq:function(t,e){var n=parseInt(e);if(isNaN(n)||n<0)throw new Error("invalid selector: illegal parameter for ::childAt() selector: "+e);return n>=t.length?[]:[t[n]]},childAt:function(t,e){var n=parseInt(e);if(isNaN(n)||n<0)throw new Error("invalid selector: illegal parameter for ::childAt() selector: "+e);return t.map((function(t){return t instanceof i.default||t instanceof a.default&&t.isContainer()?t.childAt(n):void 0}))},parent:function(t,e){return t.map((function(t){return t.parent}))},first:function(t){return t.length>0?[t[0]]:[]},last:function(t){return t.length>0?[t[t.length-1]]:[]},allAfter:function(t){return t.reduce((function(t,e){var n=e.brothers(),o=n.indexOf(e);return t.concat(n.slice(o+1))}),[]).reduce((function(t,e){return-1===t.indexOf(e)&&t.push(e),t}),[])},allBefore:function(t){return t.reduce((function(t,e){var n=e.brothers(),o=n.indexOf(e);return t.concat(n.slice(0,o))}),[]).reduce((function(t,e){return-1===t.indexOf(e)&&t.push(e),t}),[])}},l=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));if(o.name=n.name,o.params=n.parameter,o.selector=u[o.name],!o.selector)throw new Error("Invalid selector: method not found: "+n.name);return o}return c(e,t),e.prototype.selectFrom=function(t){return this.selector(t,this.params).filter((function(t){return!!t}))},e}(o.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(288);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return s(e,t),e.prototype.selectFrom=function(e,n){return n?t.prototype.selectFrom.call(this,e,n):e},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(58);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return s(e,t),e.prototype.selectFrom=function(t){return t.map((function(t){return t.getRoot()})).reduce((function(t,e){return-1===t.indexOf(e)&&t.push(e),t}),[])},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(58)),r=a(n(23)),i=a(n(15));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.prototype.selectFrom=function(t){return t.reduce((function(t,e){return e instanceof r.default?t.concat(e.children):e instanceof i.default&&e.isContainer()?t.concat(e.children()):t}),[])},e}(o.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(58);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,{}));return o.selectors=n,o}return i(e,t),e.prototype.selectFrom=function(t){return this.selectors.reduce((function(t,e,n){return t.length<1?t:e.selectFrom(t,0===n)}),t)},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(10);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return r.directives=o,r.addDestroyHook((function(){r.directives.forEach((function(t){return t.destroy()}))})),r}return i(e,t),e.getName=function(){return"<native-multiple>"},e.prototype.processComponentOptions=function(t){this.directives.forEach((function(e){return e.processComponentOptions(t)}))},e.prototype.init=function(e){e.setDirective(this),t.prototype.init.call(this,e),this.directives.forEach((function(t){t.init(e),e.element.classList&&e.element.classList.add("fv__ui-directive-"+t.directiveName)}))},e.prototype.emit=function(t,e,n){this.directives.forEach((function(o){o.emit(t,e,n)}))},e.prototype.receiveEmit=function(t,e,n){var o=!0;this.directives.forEach((function(r){var i=0!=r.receiveEmit(t,e,n);o=o&&i})),o&&this.parentComponent&&this.parentComponent.directive.emit(e,n,t)},e.prototype.receiveBroadcast=function(t,e){this.directives.forEach((function(n){n.receiveBroadcast(t,e)})),this.component.isContainer()&&this.component.children().forEach((function(n){n.directive.receiveBroadcast(t,e)}))},e.prototype.beforeComponentRender=function(){this.directives.forEach((function(t){return t.beforeComponentRender()}))},e.prototype.afterComponentRender=function(){this.directives.forEach((function(t){return t.afterComponentRender()}))},e.prototype.componentPrelink=function(){this.directives.forEach((function(t){return t.componentPrelink()}))},e.prototype.componentPostlink=function(){this.directives.forEach((function(t){return t.componentPostlink()}))},e.prototype.componentMounted=function(){this.directives.forEach((function(t){return t.componentMounted()}))},e.prototype.componentDestroyed=function(){this.directives.forEach((function(t){return t.componentDestroyed()})),this.destroy()},e.prototype.getDirective=function(t){return this.getDirectives(t)[0]},e.prototype.getDirectives=function(t){return this.directives.filter((function(e){return e.directiveName===t}))},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=a},function(t,e,n){"use strict";var o=s(n(12)),r=s(n(633)),i=s(n(289)),a=s(n(634));function s(t){return t&&t.__esModule?t:{default:t}}var c=o.default.root().getRegistry();c.registerLayout(r.default),c.registerLayout(i.default),c.registerLayout(a.default)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(66),i=(o=r)&&o.__esModule?o:{default:o},a=n(5);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.orientation,r=void 0===o?a.ORIENTATION_HORIZONTAL:o,i=n.spaces,u=void 0===i?[]:i;s(this,e);var l=c(this,t.call(this));return l.orientation=r,l.spaces=u,l}return u(e,t),e.getName=function(){return"border"},e.prototype.render=function(t,e){if(t&&!(t.length<1)){var n=this.spaces;n&&0!=n.length||(n=this.elements.map((function(t){return 1})));var o=document.createElement("div");o.classList.add("fv__layout-border",this.orientation);var r=t.map((function(t,e){var o=document.createElement("div");o.classList.add("fv__layout-border-item");var r=n[e]||n[e%n.length];return o.style.flex=r,o.style.webkitFlex=r,o.style.msFlex=r,o.appendChild(t),o}));o.append.apply(o,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(r)),e.appendChild(o)}},e}(i.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AUTO=void 0;var o=i(n(66)),r=i(n(283));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=e.AUTO="auto",l=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.cols,r=void 0===o?u:o,i=n.gaph,c=void 0===i?"no":i,l=n.gapv,f=void 0===l?"no":l;a(this,e);var p=s(this,t.call(this));return p.cols=r,p.gapv=f,p.gaph=c,p}return c(e,t),e.getName=function(){return"grid"},e.prototype.render=function(t,e,n){(0,r.default)()},e}(o.default);e.default=l},function(t,e,n){"use strict";var o,r=n(12),i=(o=r)&&o.__esModule?o:{default:o};n(290);var a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(707));var s=i.default.root().getRegistry();for(var c in a)s.registerComponent(a[c])},function(t,e,n){},function(t,e,n){"use strict";function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.filterByName=function(t){return function(e){return e.name===t}};var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$children=[]}return t.prototype.size=function(){return this.$children.length},t.prototype.append=function(t){return this.insert(t,this.size())},t.prototype.prepend=function(t){return this.insert(t,0)},t.prototype.insert=function(t,e){this.$children.splice(e,0,t)},t.prototype.insertAll=function(t,e){var n;(n=this.$children).splice.apply(n,[e,t.length].concat(o(t)));for(var r=e,i=e+t.length,a=0;a<r;a++){t.indexOf(this.$children[a])>-1&&(this.$children.splice($1,1),r--,i--)}for(var s=i;s<this.$children.length;s++){t.indexOf(this.$children[s])>-1&&this.$children.splice($1,1)}},t.prototype.indexOf=function(t){return this.$children.indexOf(t)},t.prototype.children=function(){return[].concat(o(this.$children))},t.prototype.removeChild=function(t){var e=this.$children.indexOf(t);return e>-1&&(this.$children.splice(e,1),!0)},t.prototype.find=function(t){return this.$children.filter(t)},t.prototype.findFirst=function(t){var e=!0,n=!1,o=void 0;try{for(var r,i=this.$children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var a=r.value;if(t(a))return a}}catch(t){n=!0,o=t}finally{try{!e&&i.return&&i.return()}finally{if(n)throw o}}},t.prototype.childAt=function(t){return this.$children[t]},t.prototype.each=function(t){this.$children.slice(0).forEach(t)},t.prototype.map=function(t){return this.$children.map(t)},t.prototype.eachUntil=function(t){for(var e=0;e<this.$children.length;e++){var n=t(this.$children[e],e);if(n)return n}},t.prototype.empty=function(){this.$children=[]},t}();e.default=r},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(15)),r=(a(n(169)),a(n(121)),a(n(82))),i=a(n(640));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.text=n.text||i.attrs.text,i.iconCls=n.iconCls||i.viewConfig.attrs["icon-class"],i.editable=!0===n.editable,i.editOptions=n.editOptions||{},i.separate=n.separate,i.editType=i.editOptions.type||"text",i.editTemplate=i.editOptions.template||"${value}",i.editMin=i.editOptions.min,i.editMax=i.editOptions.max,i.editStep=i.editOptions.step,i.initEditValue=i.editOptions.value||("number"===i.editType?i.editMin:""),i}return s(e,t),e.getName=function(){return"dropdown-toggler"},e.prototype.createDOMElement=function(){return document.createElement("a")},e.prototype.render=function(){var e=this;t.prototype.render.call(this),this.element.classList.add("fv__ui-dropdown-toggler");var n=document.createElement("i"),o=document.createElement("span"),r=document.createElement("input"),a=document.createElement("i");n.classList.add("fv__ui-dropdown-icon"),a.classList.add("fv__ui-dropdown-caret","fv__icon-toolbar-caret"),r.classList.add("fv__ui-dropdown-editor"),o.classList.add("fv__ui-dropdown-toggler-text"),this.iconCls&&(n.addClass(this.iconCls),this.element.appendChild(n)),this.editable?(r.setAttribute("autocomplete","off"),"number"===this.editType&&(this.numberInput=new i.default(r,this.editMin,this.editMax,this.editStep,this.editTemplate,this.localizer),this.addDestroyHook((function(){return e.numberInput.destroy()}))),this.element.appendChild(r)):this.text&&(o.setAttribute("data-i18n",this.text),this.element.appendChild(o)),this.element.appendChild(a),this.iconElement=n,this.textElement=o,this.editElement=r,this.caretElement=a,this.editable&&this.setEditValue(this.initEditValue)},e.prototype.getEditValue=function(){return this.numberInput?this.numberInput.getValue():this.editElement.value},e.prototype.setEditValue=function(t){this.numberInput?this.numberInput.setValue(t):this.editElement.value=t},e.prototype.setEditTemplate=function(t){this.numberInput&&this.numberInput.setTemplate(t)},e.prototype.setMaxValue=function(t){this.numberInput&&(this.numberInput.range.max=t,this.setEditValue(this.numberInput.value))},e.prototype.setMinValue=function(t){this.numberInput&&(this.numberInput.range.min=t,this.setEditValue(this.numberInput.value))},e.prototype.select=function(t){this.selectedItem&&this.iconElement.classList.remove(this.selectedItem.iconCls),this.selectedItem=t,this.setIconCls(t.iconCls),t.text&&this.setText(t.text)},e.prototype.setText=function(t){this.editable||(this.textElement.parentElement||this.element.insertBefore(this.textElement,this.caretElement),this.textElement.setAttribute("data-i18n",t),this.localizer.localizeElement(this.textElement))},e.prototype.setIconCls=function(t){if(t&&(this.iconElement.removeClass(this.iconCls),this.iconElement.addClass(t),this.iconCls=t,!this.iconElement.parentElement)){var e=this.element.firstElementChild;this.element.insertBefore(this.iconElement,e)}},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this);var n=function(t){return t.stopPropagation()},o=function(t){e.disabled||(e.parent.isActive?e.parent.deactive():e.parent.active(),t.stopPropagation())},i=function(t){e.disabled||(e.selectedItem&&e.separate?(e.selectedItem.triggerHandler(),t.stopPropagation()):e.parent.isActive?e.parent.deactive():e.parent.active())},a=function(t){(e.parent.parent?e.parent.parent.parent:void 0)instanceof r.default&&t.stopPropagation()},s=function(t){e.parent.isActive&&t.stopPropagation()};if(this.caretElement.addEventListener("click",o),this.caretElement.addEventListener("mouseup",s),this.element.addEventListener("click",i),this.element.addEventListener("mouseup",a),this.editElement.addEventListener("click",n),this.editable&&!this.numberInput){var c=this.editElement.value,u=function(t){var n=e.editElement.value;e.parent.trigger("change",n,c),c=n};this.editElement.addEventListener("change",u),this.addDestroyHook((function(){e.editElement.removeEventListener("change",u)}))}this.addDestroyHook((function(){e.caretElement.removeEventListener("click",o),e.caretElement.removeEventListener("mouseup",s),e.element.removeEventListener("click",i),e.element.removeEventListener("mouseup",a),e.editElement.removeEventListener("click",n)})),this.numberInput&&this.numberInput.eventEmitter.on("change",(function(t,n){e.parent.trigger("change",t,n)}))},e.prototype.doDisable=function(){this.element.classList.add("disabled"),this.editElement.setAttribute("readonly","readonly"),this.numberInput&&this.numberInput.disable()},e.prototype.doEnable=function(){this.element.classList.remove("disabled"),this.editElement.removeAttribute("readonly"),this.numberInput&&this.numberInput.enable()},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(56)),r=s(n(170)),i=s(n(30)),a=n(26);function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n,i,a,s,c,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var l=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return l.input=n,l.template=c,l.range=new r.default(i,a,s),l.value=l.range.min,l.prepare(),l.eventEmitter=new o.default,l.localizer=u,l}return c(e,t),e.prototype.disable=function(){this.input.setAttribute("editable","editable")},e.prototype.enable=function(){this.input.removeAttribute("editable")},e.prototype.setValue=function(t){var e=this.range;this.value=e.normalizeValue(t);var n={value:this.value,min:e.min,max:e.max,step:e.step};if("function"==typeof this.template)this.input.setAttribute("data-i18n","[value]"+this.template.call(this,t));else{var o=(this.template+"").replace(/\$\{(.*?)\}/g,(function(t,e){return n[e]||""}));this.input.setAttribute("data-i18n","[value]"+o)}this.localizer.localizeElement(this.input)},e.prototype.setTemplate=function(t){this.template=t,this.setValue(this.value)},e.prototype.getValue=function(){return this.value},e.prototype.prepare=function(){var t=this,e=this.input,n=function(){var n=t.range.normalizeValue(e.value.trim()||t.value),o=t.value;t.setValue(n),o!==t.value&&t.eventEmitter.emit("change",t.value,o)};e.addEventListener("change",n);var o=void 0;a.isIE&&(o=function(t){if(13===t.keyCode)return t.preventDefault(),n()},e.addEventListener("keydown",o)),this.addDestroyHook((function(){e.removeEventListener("change",n),e.removeEventListener("keydown",o),t.eventEmitter.removeAllListeners()}))},e}(i.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(15)),r=n(5);function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}n(642);i(n(7)).default.getLogger("<viewer>");var u=function(t){function e(){a(this,e);for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];var c=s(this,t.call.apply(t,[this].concat(o)));return c.name=r.WEBPDF_VIEWER_COMPONENT_NAME,c}return c(e,t),e.getName=function(){return"viewer"},e.prototype.createDOMElement=function(){return document.createElement("viewer")},e.prototype.render=function(){this.element=this.pdfUI.viewerFactory.getWrapperElement(),t.prototype.render.call(this)},e.prototype.setPDFViewer=function(t){this.pdfViewer=t},e.prototype.getPDFViewer=function(){return this.pdfViewer},e.prototype.receiveBroadcast=function(e,n){t.prototype.receiveBroadcast.call(this,e,n),e===r.COMPONENT_BROADCAST_LOCALIZE&&this.trigger("localize")},e}(o.default);e.default=u},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(18)),r=n(5),i=a(n(1));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.getName=function(){return"webpdf"},e.prototype.createDOMElement=function(){var t=document.createElement("div");return t.classList.add("fv__ui-webpdf"),t},e.prototype.mounted=function(){t.prototype.mounted.call(this);var e=this.getComponentByName(r.WEBPDF_VIEWER_COMPONENT_NAME).getPDFViewer(),n=this.getPDFUI().appearance;n.disableAll();var o=function(){n.enableAll()},a=function(){n.disableAll()};e.eventEmitter.on(i.default.willCloseDocument,a),e.eventEmitter.on(i.default.openFileSuccess,o),this.addDestroyHook((function(){e.eventEmitter.off(i.default.willCloseDocument,a),e.eventEmitter.off(i.default.openFileSuccess,o)}))},e}(o.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(66);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"#noop#"},e.prototype.render=function(){},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(18)),r=i(n(66));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n.$options,o,i));return a.parent=n,a.title=n.shrinkTitle,a.layout=new r.default,a}return a(e,t),e.prototype.createDOMElement=function(){return document.createElement("div")},e.prototype.render=function(){t.prototype.render.call(this),this.element.classList.add("fv__ui-grp-btn-list"),this.moreElement=document.createElement("a"),this.moreElement.className="fv__ui-grp-more",this.moreElement.innerHTML='\n            <i class="fv__icon-toolbar-more"></i>\n        ',this.titleElement=document.createElement("span"),this.titleElement.setAttribute("data-i18n",this.title),this.titleElement.className="fv__ui-grp-btn-list-title"},e.prototype.setShrinkTitle=function(t){"string"==typeof t&&(this.title=t,this.titleElement.innerText=t,this.titleElement.setAttribute("data-i18n",this.title),this.localizer.localizeElement(this.titleElement,{}),this.titleElement.parentElement||this.element.prepend(this.titleElement))},e.prototype.insert=function(e,n){this.$container.insert(e,n),e.parent=this.parent,t.prototype.resetDataScope.call(this),this.doInsert(e,n)},e.prototype.rerenderChildren=function(){var t=[];this.title&&t.push(this.titleElement),this.$container.each((function(e){t.push(e.element)})),this.diffRenderer(this.element,t)},e.prototype.updateShrinkComponents=function(t){this.$container.$children=t,this.rerenderChildren()},e.prototype.mounted=function(){var t=this,e=function(e){t.isActive?t.deactive():t.active()},n=function(e){t.deactive()},o=function(e){t.parent.isShrinked&&(e.target.classList.contains("fv__icon-toolbar-caret")||e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement)&&e.stopPropagation()};this.moreElement.addEventListener("click",e),document.addEventListener("mouseup",n),this.element.addEventListener("mouseup",o),this.addDestroyHook((function(){t.moreElement.removeEventListener("click",e)}),(function(){document.removeEventListener("mouseup",n),t.element.removeEventListener("mouseup",o)}))},e.prototype.doActive=function(){this.element.classList.add("active"),this.moreElement.classList.add("active");var t=this.moreElement.getBoundingClientRect();this.element.style.cssText+="\n            left: "+t.left+"px;\n            top: "+t.bottom+"px;\n        "},e.prototype.doDeactive=function(){this.element.classList.remove("active"),this.moreElement.classList.remove("active")},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(18)),r=(a(n(289)),a(n(291)));n(647);var i=n(5);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n,o,r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r))}return s(e,t),e.getName=function(){return"group-list"},e.getMetadata=function(){return{options:{"shrink-size":{type:"number",field:"shrinkSize",defaultValue:1024}}}},e.prototype.getContainerElement=function(){return this.element},e.prototype.render=function(){t.prototype.render.call(this),this.element.classList.add("fv__ui-grouplist",i.ORIENTATION_HORIZONTAL)},e.prototype.createDOMElement=function(){return document.createElement("div")},e.prototype.insert=function(e,n){if(e instanceof r.default)return t.prototype.insert.call(this,e,n);throw new Error("child of <group-list> component must be <group> but actual <"+e.viewConfig.nodeName+">")},e}(o.default);e.default=c},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(18));n(649);r(n(66));function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.lastActiveTab=null,i}return i(e,t),e.getName=function(){return"tabs"},e.prototype.rerenderChildren=function(){var t=this.children(),e=t.map((function(t){return t.tabElement})),n=t.map((function(t){return t.getContainerElement()}));this.diffRenderer(this.tabContainer,e),this.diffRenderer(this.tabBodyContainer,n)},e.prototype.active=function(){this.isVisible&&t.prototype.active.call(this)},e.prototype.render=function(){t.prototype.render.call(this),this.element.classList.add("fv__ui-tab"),this.tabContainer=document.createElement("ul"),this.tabBodyContainer=document.createElement("div"),this.tabContainer.classList.add("fv__ui-tab-nav"),this.tabBodyContainer.classList.add("fv__ui-tab-body"),this.element.appendChild(this.tabContainer),this.element.appendChild(this.tabBodyContainer)},e.prototype.postlink=function(){var t=this.$container.findFirst((function(t){return t.getConfig("active")}));t||(t=this.$container.findFirst((function(t){return t.isVisible}))),t&&t.active()},e}(o.default);e.default=a},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(18),i=(o=r)&&o.__esModule?o:{default:o},a=n(11);function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.title=n.title||i.attrs.title,i.iconCls=n.iconCls||i.attrs["icon-cls"]||i.attrs["icon-class"],delete i.attrs.title,i}return s(e,t),e.getName=function(){return"tab"},e.prototype.render=function(){t.prototype.render.call(this);var e=this.tabElement||document.createElement("li");e.innerHTML="\n            "+(this.iconCls?'<i class="fv__ui-tab-icon '+(this.iconCls||"")+'"></i>':"")+'\n            <span data-i18n="'+(this.title||"")+'"></span>\n        ',this.tabElement=e},e.prototype.doActive=function(){this.tabElement.classList.add("active"),this.element.classList.add("active");var t=this.parent;t&&(t.lastActiveTab&&t.lastActiveTab!==this&&t.lastActiveTab.deactive(),t.lastActiveTab=this),this.broadcast("active",this)},e.prototype.doDeactive=function(){this.tabElement.classList.remove("active"),this.element.classList.remove("active")},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this),this.tabElement.addEventListener("click",(function(t){e.disabled||e.active(),t.stopPropagation(),t.preventDefault(),e.viewer?e.viewer.eventEmitter.emit(a.Events.toolbarTabsClicked):e.pdfUI.getPDFViewer().then((function(t){e.viewer=t,t.eventEmitter.emit(a.Events.toolbarTabsClicked)}))}))},e.prototype.remove=function(){this.parent&&(this.isActive&&this._activeSibling(),t.prototype.remove.call(this))},e.prototype._activeSibling=function(){for(var t=this.nextSiblings();t&&!t.isVisible;)if((t=t.nextSiblings())||(t=this.parent.first()),t===this)return void(this.parent.first()&&this.parent.first().active());t&&t.active()},e.prototype.removeElement=function(){t.prototype.removeElement.call(this),this.tabElement.remove()},e.prototype.doHidden=function(){t.prototype.doHidden.call(this),this.tabElement.classList.add("fv__ui-hide"),this.isActive&&this._activeSibling()},e.prototype.doShown=function(){t.prototype.doShown.call(this),this.tabElement.classList.remove("fv__ui-hide")},e.prototype.updateActiveStatus=function(){var t=this.active,e=this.$options.active;"function"==typeof e&&(t=e.call(this)),!1===t||this.active()},e.prototype.addCSSClass=function(e){e&&(t.prototype.addCSSClass.call(this,e),this.tabElement.classList.add(e))},e.prototype.removeCSSClass=function(e){e&&(t.prototype.removeCSSClass.call(this,e),this.tabElement.classList.remove(e))},e}(i.default);e.default=c},function(t,e,n){"use strict";n.r(e),n.d(e,"BorderStyle",(function(){return r})),n.d(e,"SelectionEventType",(function(){return i})),n.d(e,"createAreaLimitationReducer",(function(){return f})),n.d(e,"Selections",(function(){return p}));n(652);var o,r,i,a=n(30),s=n.n(a),c=n(132),u=n(19),l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function f(t){return t instanceof HTMLElement?function(n,o){return o===i.UPDATE&&n?e(n,t.getBoundingClientRect()):n}:function(n,o){return o===i.UPDATE&&n?e(n,t):n};function e(t,e){var n=t.clientLeft,o=t.clientTop,r=n+t.width,i=o+t.height;return n<e.left&&(n=e.left),o<e.top&&(o=e.top),r>e.right&&(r=e.right),i>e.bottom&&(i=e.bottom),{clientLeft:n,clientTop:o,width:r-n,height:i-o}}}!function(t){t.NONE="none",t.DASHED="dashed",t.SOLID="solid",t.DOTTED="dotted"}(r||(r={})),function(t){t.START="selection-start",t.UPDATE="selection-update",t.END="selection-end",t.CANCEL="selection-cancel"}(i||(i={}));var p=function(t){function e(e){void 0===e&&(e={});var n=t.call(this)||this;return n.anchorElement=document.body,n.fillColor="rgba(125,186,255, 0.3)",n.borderColor="#7DBAFF",n.borderStyle=r.SOLID,n.borderWidth=1,n.removeMaskOnEnd=!0,n.areaEl=document.createElement("div"),n.builtInInteraction=!0,n.isPrepared=!1,n.isAvailable=!0,n.store=new c.Store,n.interceptors=[],Object.keys(e).forEach((function(t){n[t]=e[t]})),n.areaEl.className="fv__viewer-selections-area",n.areaEl.style.cssText+="\n            outline: "+n.borderWidth+"px "+n.borderStyle+" "+n.borderColor+";\n            background-color: "+n.fillColor+";\n        ",n.store.subscribe(i.UPDATE,(function(t){n.areaEl.style.cssText+="\n                width: "+t.width+"px;\n                height: "+t.height+"px;\n                left: "+t.clientLeft+"px;\n                top: "+t.clientTop+"px;\n            "})),n.addDestroyHook((function(){n.store.clear()})),n}return l(e,t),e.prototype.eventInterceptor=function(t){this.interceptors.push(t)},e.prototype.reducer=function(t){this.store.reducer(t)},e.prototype.on=function(t,e){return this.builtInInteraction&&this.prepare(),this.store.subscribe(t,e)},e.prototype.start=function(t,e){document.body.appendChild(this.areaEl);var n=this.anchorElement.getBoundingClientRect();this.store.dispatch(i.START,{clientLeft:t,clientTop:e,left:t-n.left,top:e-n.top,width:0,height:0})},e.prototype.adjust=function(t,e){var n=this.store.getCurrentValue(i.START),o=n.clientLeft+t,r=n.clientTop+e,a=Math.min(n.clientLeft,o),s=Math.min(n.clientTop,r),c=Math.abs(t),u=Math.abs(e),l=this.anchorElement.getBoundingClientRect();this.store.dispatch(i.UPDATE,{clientLeft:a,clientTop:s,left:a-l.left,top:s-l.top,width:c,height:u})},e.prototype.end=function(){this.removeMaskOnEnd&&this.removeMask();var t=this.store.getCurrentValue(i.UPDATE);this.store.dispatch(i.END,t)},e.prototype.cancel=function(){this.removeMask(),this.store.dispatch(i.CANCEL,void 0)},e.prototype.removeMask=function(){this.areaEl.parentElement===document.body&&document.body.removeChild(this.areaEl)},e.prototype.enable=function(){this.isAvailable=!0},e.prototype.disable=function(){this.isAvailable=!1},e.prototype.prepare=function(){var t=this;if(!this.isPrepared){var e=new u.Manager(this.anchorElement);e.add(new u.Pan({direction:u.DIRECTION_ALL}));var n,o=!1;e.on("panstart",(function(e){t.isAvailable&&(t.interceptors.some((function(t){return!t(e)}))||(o=!0,n=e.center,t.start(e.center.x,e.center.y)))})),e.on("panmove",(function(e){if(t.isAvailable&&o){var r=e.center.x-n.x,i=e.center.y-n.y;t.adjust(r,i)}})),e.on("panend",(function(e){t.isAvailable&&o&&(o=!1,t.end())})),e.on("pancancel",(function(e){t.isAvailable&&o&&(o=!1,t.cancel())})),this.addDestroyHook((function(){e.destroy(),t.end()}))}},e}(s.a)},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={cipherNone:0,cipherRC4:1,cipherAES:2}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=c(n(280)),r=c(n(281)),i=c(n(164)),a=c(n(278)),s=c(n(279));function c(t){return t&&t.__esModule?t:{default:t}}e.default={ResetFormAction:s.default,URIAction:a.default,JavaScriptAction:i.default,HideAction:r.default,GoToAction:o.default}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(656),i=(o=r)&&o.__esModule?o:{default:o};function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}e.default=function(t){return function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o));return r.api=new i.default(n),r}return a(e,t),e.prototype.registerSecurityCallback=function(t,e){return this.api.registerSecurityCallback(t,e)},e.prototype.setFontMap=function(t){return this.api.setFontMap(t)},e.prototype.setWatermarkFontMap=function(t){return this.api.setWatermarkFontMap(t)},e}(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(274)),r=s(n(294)),i=n(657),a=n(26);function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}function l(t){var e=[];return t instanceof ArrayBuffer&&(e=[t]),e}var f="FoxitPDFSDKForWeb_JREngineCache_",p=f+"wasmBinary",d=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=c(this,t.call(this,n)),s=void 0;if(s=n.readyWorker){o.readyWorker=s,h(o.workerPromise=new r.default(s.worker));var u=function(){n.licenseSN=n.licenseKey=n.l=""};return s.initJREnginePromise.then(u,u),c(o)}var l=n.workerPath,f=n.workerBlobUrl;"/"!==l[l.length-1]&&(l+="/");var p=o.workerUrl=l+"WebPDFJRWorker.js?h="+i.h,d=f||p,g=new Worker(d);return a.isIE&&(g.terminate(),g=new Worker(d)),h(o.workerPromise=new r.default(g)),o}return u(e,t),e.prototype.init=function(){var t=void 0;if(t=this.readyWorker)return new Promise((function(e,n){return t.initJREnginePromise.then(e,n)}));var e={},n=void 0;(n=localStorage.getItem(p))&&(e.wasmBinary=n),(n=localStorage.getItem("FoxitPDFSDKForWeb_JREngineCache_asmMem"))&&(e.asmMem=n),(n=localStorage.getItem("FoxitPDFSDKForWeb_JREngineCache_asmJs"))&&(e.asmJs=n);var o=this.option,r=this.workerPromise;return o.cache=e,o.compatibilityURL=r.calls((function(t){return URL.createObjectURL(t)})),o.d=location.href,r.emit("initJREngine",o).then((function(t){return o.licenseSN=o.licenseKey=o.l="",t}))},e.prototype.on=function(t,e){return this.workerPromise.on(t,e)},e.prototype.off=function(t,e){return this.workerPromise.off(t,e)},e.prototype.continueProgress=function(t){return this.workerPromise.emit("progressContinue",{progressiveId:t})},e.prototype.cancleProgress=function(t){return this.workerPromise.emit("cancleProgress",{progressiveId:t})},e.prototype.getPDFDocIdByFile=function(t){var e=l(t);return this.workerPromise.emit("getPDFDocByFile",{file:t},e)},e.prototype.createNewDoc=function(t,e,n){return this.workerPromise.emit("createNewDoc",{title:t,author:e,pageSize:n})},e.prototype.getPDFDocIdByChunk=function(t,e){var n=this.workerPromise.calls(e);return this.workerPromise.emit("getPDFDocAsync",{size:t,getChunk:n})},e.prototype.getPDFDocIdByHttpRangeRequest=function(t){return this.workerPromise.emit("getPDFDocIdByHttpRangeRequest",{size:t.size,range:t.range})},e.prototype.getPDFDocIdByArrayBuffer=function(t){return this.workerPromise.emit("getPDFDocByArrayBuffer",{buffer:t},[t])},e.prototype.setIcons=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.workerPromise.emit("setIcons",{icons:t})},e.prototype.addIcon=function(t){return this.workerPromise.emit("addIcon",{icon:t})},e.prototype.removeIcon=function(t,e,n){return this.workerPromise.emit("removeIcon",{type:t,catalog:e,name:n})},e.prototype.parsePDFDocByPassword=function(t,e,n){var o=[];try{n.fdf.file instanceof ArrayBuffer&&(o=[n.fdf.file])}catch(t){}return this.workerPromise.emit("parsePDFDocByPassword",{id:t,password:e,initData:n},o)},e.prototype.getPDFDocInfoById=function(t){return this.workerPromise.emit("getPDFDocInfoById",t)},e.prototype.getMetadata=function(t){return this.workerPromise.emit("getMetadata",t)},e.prototype.setMetadataValue=function(t,e,n){return this.workerPromise.emit("setMetadataValue",{id:t,key:e,value:n})},e.prototype.isLinearized=function(t){return this.workerPromise.emit("isLinearized",{docId:t})},e.prototype.loadForm=function(t){return this.workerPromise.emit("loadForm",{docId:t})},e.prototype.updateFormControl=function(t,e,n,o){return this.workerPromise.emit("updateFormControl",{docId:t,objectNumber:e,key:n,value:o})},e.prototype.updateField=function(t,e,n,o){return this.workerPromise.emit("updateField",{docId:t,title:e,key:n,value:o})},e.prototype.updateMKProperty=function(t,e,n,o,r){return this.workerPromise.emit("updateMKProperty",{docId:t,pageId:e,annotId:n,key:o,value:r})},e.prototype.setWidgetAS=function(t,e,n,o){return this.workerPromise.emit("setWidgetAS",{docId:t,pageId:e,annotId:n,AS:o})},e.prototype.setFieldValue=function(t,e,n){return this.workerPromise.emit("setFieldValue",{docId:t,title:e,value:n})},e.prototype.formFillerEvent=function(t,e,n,o){return this.workerPromise.emit("formFillerEvent",{docId:t,type:e,pageIndex:n,point:o})},e.prototype.getFieldsValue=function(t){return this.workerPromise.emit("getFieldsValue",{docId:t})},e.prototype.addControl=function(t,e,n,o,r){return this.workerPromise.emit("addControl",{docId:t,pageIndex:e,fieldName:n,fieldType:o,rect:r})},e.prototype.validateFieldName=function(t,e,n){return this.workerPromise.emit("validateFieldName",{docId:t,fieldName:e,fieldType:n})},e.prototype.renameField=function(t,e,n){return this.workerPromise.emit("renameField",{docId:t,fieldName:e,newName:n})},e.prototype.removeField=function(t,e){return this.workerPromise.emit("removeField",{docId:t,fieldName:e})},e.prototype.removeControl=function(t,e,n,o){return this.workerPromise.emit("removeControl",{docId:t,fieldName:n,pageIndex:e,controlObjectNumber:o})},e.prototype.fixPageFields=function(t,e){return this.workerPromise.emit("fixPageFields",{docId:t,pageIndex:e})},e.prototype.getPageInfoByIndex=function(t,e){return this.workerPromise.emit("getPageInfoByIndex",{id:t,index:e})},e.prototype.setRenderFlag=function(t,e){return this.workerPromise.emit("setRenderFlag",{docId:t,flags:e})},e.prototype.getPageBitmap=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:["page"],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"view",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"";return this.workerPromise.emit("getPageBitmap",{docId:t,pageId:e,scale:n,rotate:o,rect:r,flags:i,usage:a,id:s})},e.prototype.getPageAndHighlightBitmap=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments[4],i=arguments[5];return this.workerPromise.emit("getPageAndHighlightBitmap",{docId:t,pageId:e,scale:n,rotate:o,rect:r,exclude:i})},e.prototype.getAnnotBitmapByRange=function(t,e,n,o,r,i){return this.workerPromise.emit("getAnnotBitmapByRange",{docId:t,pageId:e,range:n,scale:o,rotate:r,rect:i})},e.prototype.getAnnot=function(t,e,n){return this.workerPromise.emit("getAnnot",{docId:t,pageId:e,annotId:n})},e.prototype.getPageAnnotIDList=function(t,e){return this.workerPromise.emit("getPageAnnotIDList",{docId:t,pageId:e})},e.prototype.getAnnots=function(t,e,n){return this.workerPromise.emit("getAnnots",{docId:t,pageId:e,idList:n})},e.prototype.getAnnotBitmap=function(t,e,n,o,r,i){return this.workerPromise.emit("getAnnotBitmap",{docId:t,pageId:e,annotId:n,scale:o,rotate:r,rect:i})},e.prototype.getAnnotIdAtPoint=function(t,e,n,o){var r=n.x,i=n.y;return this.workerPromise.emit("getAnnotIdAtPoint",{docId:t,pageId:e,points:{x:r,y:i},tolerance:o})},e.prototype.getAnnotIdAtDevicePoint=function(t,e,n,o,r){var i=n.x,a=n.y;return this.workerPromise.emit("getAnnotIdAtDevicePoint",{docId:t,pageId:e,points:{x:i,y:a},tolerance:o,matrix:r})},e.prototype.getCharInfoAtPoint=function(t,e,n,o){var r=n.x,i=n.y;return this.workerPromise.emit("getCharInfoAtPoint",{docId:t,pageId:e,points:{x:r,y:i},tolerance:o})},e.prototype.getThumb=function(t,e,n){return this.workerPromise.emit("getThumb",{docId:t,pageId:e,rotate:n})},e.prototype.movePageTo=function(t,e,n){return this.workerPromise.emit("movePageTo",{docId:t,pageId:e,destIndex:n})},e.prototype.insertPage=function(t,e,n,o){return this.workerPromise.emit("insertPage",{docId:t,pageIndex:e,width:n,height:o})},e.prototype.removePage=function(t,e){return this.workerPromise.emit("removePage",{docId:t,pageIndex:e})},e.prototype.updateAnnotQuadPointsByCharIndex=function(t,e,n,o,r){return this.workerPromise.emit("updateAnnotQuadPointsByCharIndex",{docId:t,pageId:e,annotId:n,startCharIndex:o,endCharIndex:r})},e.prototype.setAnnotContent=function(t,e,n,o){return this.workerPromise.emit("setAnnotContent",{docId:t,pageId:e,annotId:n,content:o})},e.prototype.setAnnotBorderColor=function(t,e,n,o){return this.workerPromise.emit("setAnnotBorderColor",{docId:t,pageId:e,annotId:n,color:o})},e.prototype.setAnnotBorderStyle=function(t,e,n,o,r){return this.workerPromise.emit("setAnnotBorderStyle",{docId:t,pageId:e,annotId:n,style:o,styleParam:r})},e.prototype.setAnnotBorderWidth=function(t,e,n,o){return this.workerPromise.emit("setAnnotBorderWidth",{docId:t,pageId:e,annotId:n,width:o})},e.prototype.setAnnotFillColor=function(t,e,n,o){return this.workerPromise.emit("setAnnotFillColor",{docId:t,pageId:e,annotId:n,color:o})},e.prototype.setAnnotBorderInfo=function(t,e,n,o){return this.workerPromise.emit("setAnnotBorderInfo",{docId:t,pageId:e,annotId:n,borderInfo:o})},e.prototype.setRedactApplyFillColor=function(t,e,n,o){return this.workerPromise.emit("setRedactApplyFillColor",{docId:t,pageId:e,annotId:n,color:o})},e.prototype.setAnnotOpacity=function(t,e,n,o){return this.workerPromise.emit("setAnnotOpacity",{docId:t,pageId:e,annotId:n,opacity:o})},e.prototype.setAnnotRotation=function(t,e,n,o){return this.workerPromise.emit("setAnnotRotation",{docId:t,pageId:e,annotId:n,rotation:o})},e.prototype.removeAnnot=function(t,e,n){return this.workerPromise.emit("removeAnnot",{docId:t,pageId:e,annotId:n})},e.prototype.annotAddReply=function(t,e,n,o){return this.workerPromise.emit("annotAddReply",{docId:t,pageId:e,annotId:n,content:o})},e.prototype.setAnnotRect=function(t,e,n,o){return this.workerPromise.emit("setAnnotRect",{docId:t,pageId:e,annotId:n,rect:o})},e.prototype.getAnnotInnerRect=function(t,e,n){return this.workerPromise.emit("getAnnotInnerRect",{docId:t,pageId:e,annotId:n})},e.prototype.moveAnnotTo=function(t,e,n,o){return this.workerPromise.emit("moveAnnotTo",{docId:t,pageId:e,annotId:n,position:o})},e.prototype.getPDFDocStream=function(t,e,n){var o=this.workerPromise.calls(e);return this.workerPromise.emit("getPDFDocStream",{docId:t,writeStream:o,flag:n})},e.prototype.setAnnotIconName=function(t,e,n,o){return this.workerPromise.emit("setAnnotIconName",{docId:t,pageId:e,annotId:n,iconName:o})},e.prototype.getFileattachmentStream=function(t,e,n,o){var r=this.workerPromise.calls(o);return this.workerPromise.emit("getFileattachmentStream",{docId:t,pageId:e,annotId:n,writeStream:r})},e.prototype.setAnnotEndingStyle=function(t,e,n,o,r){return this.workerPromise.emit("setAnnotEndingStyle",{docId:t,pageId:e,annotId:n,isBeginning:o,style:r})},e.prototype.enableLineCaption=function(t,e,n,o){return this.workerPromise.emit("enableLineCaption",{docId:t,pageId:e,annotId:n,enable:o})},e.prototype.setLineStartPoint=function(t,e,n,o,r){return this.workerPromise.emit("setLineStartPoint",{docId:t,pageId:e,annotId:n,x:o,y:r})},e.prototype.setLineEndPoint=function(t,e,n,o,r){return this.workerPromise.emit("setLineEndPoint",{docId:t,pageId:e,annotId:n,x:o,y:r})},e.prototype.setAnnotLeaderLineLength=function(t,e,n,o){return this.workerPromise.emit("setAnnotLeaderLineLength",{docId:t,pageId:e,annotId:n,length:o})},e.prototype.updateAnnotVertexes=function(t,e,n,o,r,i){return this.workerPromise.emit("updateAnnotVertexes",{docId:t,pageId:e,annotId:n,pointIndex:o,x:r,y:i})},e.prototype.setAnnotVertexes=function(t,e,n,o){return this.workerPromise.emit("setAnnotVertexes",{docId:t,pageId:e,annotId:n,vertexes:o})},e.prototype.setHighlightingMode=function(t,e,n,o){return this.workerPromise.emit("setHighlightingMode",{docId:t,pageId:e,annotId:n,highlightingMode:o})},e.prototype.setAnnotAPBitmap=function(t,e,n,o,r){return this.workerPromise.emit("setAnnotAPBitmap",{docId:t,pageId:e,annotId:n,url:o,size:r})},e.prototype.setAnnotInnerRect=function(t,e,n,o){var r=o.left,i=o.right,a=o.top,s=o.bottom;return this.workerPromise.emit("setAnnotInnerRect",{docId:t,pageId:e,annotId:n,rect:{left:r,right:i,top:a,bottom:s}})},e.prototype.setCalloutLineEndingStyle=function(t,e,n,o){return this.workerPromise.emit("setCalloutLineEndingStyle",{docId:t,pageId:e,annotId:n,endingStyle:o})},e.prototype.setAction=function(t,e,n,o,r){return this.workerPromise.emit("setAction",{docId:t,pageId:e,annotId:n,type:o,trigger:r})},e.prototype.removeAnnotAction=function(t,e,n){return this.workerPromise.emit("removeAnnotAction",{docId:t,pageId:e,annotId:n})},e.prototype.getAction=function(t,e,n){return this.workerPromise.emit("getAction",{docId:t,pageId:e,annotId:n})},e.prototype.setActionDataByIndex=function(t,e,n,o,r){return this.workerPromise.emit("setActionDataByIndex",{docId:t,pageId:e,annotId:n,data:o,actionIndex:r})},e.prototype.setCalloutLinePoints=function(t,e,n,o){return this.workerPromise.emit("setCalloutLinePoints",{docId:t,pageId:e,annotId:n,calloutLinePoints:o})},e.prototype.setSubject=function(t,e,n,o){return this.workerPromise.emit("setSubject",{docId:t,pageId:e,annotId:n,subject:o})},e.prototype.setTitle=function(t,e,n,o){return this.workerPromise.emit("setTitle",{docId:t,pageId:e,annotId:n,title:o})},e.prototype.setCreateDateTime=function(t,e,n,o){return this.workerPromise.emit("setCreateDateTime",{docId:t,pageId:e,annotId:n,date:o})},e.prototype.setModifiedDateTime=function(t,e,n,o){return this.workerPromise.emit("setModifiedDateTime",{docId:t,pageId:e,annotId:n,date:o})},e.prototype.setUniqueId=function(t,e,n,o){return this.workerPromise.emit("setUniqueId",{docId:t,pageId:e,annotId:n,newId:o})},e.prototype.setDefaultAp=function(t,e,n,o){return this.workerPromise.emit("setDefaultAp",{docId:t,pageId:e,annotId:n,defaultAppearance:o})},e.prototype.setAlignment=function(t,e,n,o){return this.workerPromise.emit("setAlignment",{docId:t,pageId:e,annotId:n,value:o})},e.prototype.setAnnotFlag=function(t,e,n,o){return this.workerPromise.emit("setAnnotFlag",{docId:t,pageId:e,annotId:n,flag:o})},e.prototype.importFromFDF=function(t,e,n){var o=l(e);return this.workerPromise.emit("importFromFDF",{docId:t,fdf:e,dataType:n},o)},e.prototype.importFromFDFFile=function(t,e,n,o){return this.workerPromise.emit("importFromFDFFile",{docId:t,file:e,size:n,type:o})},e.prototype.exportToFDF=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.workerPromise.emit("exportToFDF",{docId:t,fileType:e,dataType:n,pageAnnots:o})},e.prototype.addAnnot=function(t,e,n){return this.workerPromise.emit("addAnnot",{docId:t,pageId:e,annot:n})},e.prototype.markRedactAnnot=function(t,e,n,o){return this.workerPromise.emit("markRedactAnnot",{docId:t,pageId:e,rects:n,annot:o})},e.prototype.redactApply=function(t,e,n){return this.workerPromise.emit("redactApply",{docId:t,pageId:e,annotId:n})},e.prototype.applyRedaction=function(t){return this.workerPromise.emit("applyRedaction",{docId:t})},e.prototype.addAnnotGroup=function(t,e,n,o){return this.workerPromise.emit("addAnnotGroup",{docId:t,pageId:e,annots:n,headerIndex:o})},e.prototype.getBookmarks=function(t){return this.workerPromise.emit("getBookmarks",{docId:t})},e.prototype.createRootBookmark=function(t){return this.workerPromise.emit("createRootBookmark",{docId:t})},e.prototype.insertBookmark=function(t,e,n,o,r,i,a){return this.workerPromise.emit("insertBookmark",{docId:t,pbkId:e,title:n,pageIndex:o,top:r,left:i,relationship:a})},e.prototype.setBookmarkProperty=function(t,e,n){return this.workerPromise.emit("setBookmarkProperty",{docId:t,bkId:e,properties:n})},e.prototype.removeBookmark=function(t,e){return this.workerPromise.emit("removeBookmark",{docId:t,bkId:e})},e.prototype.getLayerNodes=function(t){return this.workerPromise.emit("getLayerNodes",{docId:t})},e.prototype.setLayerNodeVisiable=function(t,e,n){return this.workerPromise.emit("setLayerNodeVisiable",{docId:t,layerId:e,visiable:n})},e.prototype.getTextRectsAtRect=function(t,e,n){return this.workerPromise.emit("getTextRectsAtRect",{docId:t,pageId:e,rect:n})},e.prototype.getTextContinuousRectsAtRect=function(t,e,n){return this.workerPromise.emit("getTextContinuousRectsAtRect",{docId:t,pageId:e,rect:n})},e.prototype.getTextContinuousRectsAtPoints=function(t,e,n,o,r,i,a){return this.workerPromise.emit("getTextContinuousRectsAtPoints",{docId:t,pageId:e,point1:n,point2:o,tolerance:r,start:i,end:a})},e.prototype.getTextContinuousCharsAtRect=function(t,e,n){return this.workerPromise.emit("getTextContinuousCharsAtRect",{docId:t,pageId:e,rect:n})},e.prototype.getTextSearch=function(t,e,n,o){return this.workerPromise.emit("getTextSearch",{docId:t,pageId:e,pattern:n,flags:o})},e.prototype.textSearchFindNext=function(t){return this.workerPromise.emit("textSearchFindNext",{id:t})},e.prototype.textSearchFindPrev=function(t){return this.workerPromise.emit("textSearchFindPrev",{id:t})},e.prototype.textSearchDestroy=function(t){return this.workerPromise.emit("textSearchDestroy",{id:t})},e.prototype.registerSecurityCallback=function(t,e){return this.workerPromise.emit("registerSecurityCallback",{type:t,options:e})},e.prototype.destroyDoc=function(t){return this.workerPromise.emit("destroyDoc",{id:t})},e.prototype.destroyPage=function(t,e){return this.workerPromise.emit("destroyPage",{docId:t,pageId:e})},e.prototype.setDocOpenAction=function(t,e){return this.workerPromise.emit("setDocOpenAction",{docId:t,type:e})},e.prototype.setDocActionData=function(t,e,n){return this.workerPromise.emit("setDocActionData",{docId:t,data:e,index:n})},e.prototype.moveCaretRectByCharIndex=function(t,e,n,o){return this.workerPromise.emit("moveCaretRectByCharIndex",{docId:t,pageId:e,annotId:n,charIndex:o})},e.prototype.setAnnotIntent=function(t,e,n,o){return this.workerPromise.emit("setAnnotIntent",{docId:t,pageId:e,annotId:n,intent:o})},e.prototype.setInkList=function(t,e,n,o){return this.workerPromise.emit("setInkList",{docId:t,pageId:e,annotId:n,inkList:o})},e.prototype.setUserName=function(t){return this.workerPromise.emit("setUserName",{name:t})},e.prototype.getUserName=function(){return this.workerPromise.emit("getUserName")},e.prototype.addAnnotReviewState=function(t,e,n,o){return this.workerPromise.emit("addAnnotReviewState",{docId:t,pageId:e,annotId:n,stateName:o})},e.prototype.addAnnotMarkedState=function(t,e,n,o){return this.workerPromise.emit("addAnnotMarkedState",{docId:t,pageId:e,annotId:n,stateName:o})},e.prototype.removeAllStateAnnots=function(t,e,n){return this.workerPromise.emit("removeAllStateAnnots",{docId:t,pageId:e,annotId:n})},e.prototype.setStateName=function(t,e,n,o){return this.workerPromise.emit("setStateName",{docId:t,pageId:e,stateAnnotId:n,stateName:o})},e.prototype.setNoteOpenStatus=function(t,e,n,o){return this.workerPromise.emit("setNoteOpenStatus",{docId:t,pageId:e,annotId:n,isOpen:o})},e.prototype.flatten=function(t,e,n){return this.workerPromise.emit("flatten",{docId:t,pageId:e,option:n})},e.prototype.setDynamicInfoFormula=function(t,e){return this.workerPromise.emit("setDynamicInfoFormula",{seperator:t,timeFormat:e})},e.prototype.getGraphicObjectsInfo=function(t,e){return this.workerPromise.emit("getGraphicObjectsInfo",{docId:t,pageId:e})},e.prototype.updatePageInfo=function(t,e){return this.workerPromise.emit("updatePageInfo",{docId:t,pageId:e})},e.prototype.setPageRotation=function(t,e,n){return this.workerPromise.emit("setPageRotation",{docId:t,pageId:e,rotation:n})},e.prototype.addPageImage=function(t,e,n,o,r,i,a){return this.workerPromise.emit("addPageImage",{docId:t,pageId:e,imageBuffer:n,point:o,width:r,height:i,rotation:a})},e.prototype.addWatermark=function(t,e,n){return this.workerPromise.emit("addWatermark",{docId:t,pageId:e,data:n})},e.prototype.setPasswordAndPermission=function(t,e,n,o,r,i){return this.workerPromise.emit("setPasswordAndPermission",{docId:t,userPassword:e,ownerPassword:n,permission:o,cipher:r,isEncryptMetaData:i})},e.prototype.removeSecurity=function(t){return this.workerPromise.emit("removeSecurity",{docId:t})},e.prototype.checkPassword=function(t,e){return this.workerPromise.emit("checkPassword",{docId:t,password:e})},e.prototype.getPermission=function(t){return this.workerPromise.emit("getPermission",{docId:t})},e.prototype.getStdCipherOptions=function(t){return this.workerPromise.emit("getStdCipherOptions",{docId:t})},e.prototype.getUserPassword=function(t,e){return this.workerPromise.emit("getUserPassword",{docId:t,password:e})},e.prototype.getGraphicsObjectAtPoint=function(t,e,n,o,r,i){return this.workerPromise.emit("getGraphicsObjectAtPoint",{docId:t,pageId:e,point:n,tolerance:o,type:r,rect:i})},e.prototype.setGraphicsObjectMatrix=function(t,e,n,o){return this.workerPromise.emit("setGraphicsObjectMatrix",{docId:t,pageId:e,id:n,rect:o})},e.prototype.getGraphicsObjectBitmap=function(t,e,n,o,r){return this.workerPromise.emit("getGraphicsObjectBitmap",{docId:t,pageId:e,id:n,scale:o,rotation:r})},e.prototype.setGraphicsObjectBorderStyle=function(t,e,n,o,r){return this.workerPromise.emit("setGraphicsObjectBorderStyle",{docId:t,pageId:e,id:n,value:o,dashes:r})},e.prototype.setGraphicsObjectBorderWidth=function(t,e,n,o){return this.workerPromise.emit("setGraphicsObjectBorderWidth",{docId:t,pageId:e,id:n,width:o})},e.prototype.setGraphicsObjectBorderColor=function(t,e,n,o){return this.workerPromise.emit("setGraphicsObjectBorderColor",{docId:t,pageId:e,id:n,color:o})},e.prototype.setGraphicsObjectFillColor=function(t,e,n,o){return this.workerPromise.emit("setGraphicsObjectFillColor",{docId:t,pageId:e,id:n,color:o})},e.prototype.setGraphicsObjectOpacity=function(t,e,n,o){return this.workerPromise.emit("setGraphicsObjectOpacity",{docId:t,pageId:e,id:n,opacity:o})},e.prototype.addGraphicsObject=function(t,e,n){return this.workerPromise.emit("addGraphicsObject",{docId:t,pageId:e,info:n})},e.prototype.setImageObjectOpacity=function(t,e,n,o){return this.workerPromise.emit("setImageObjectOpacity",{docId:t,pageId:e,id:n,opacity:o})},e.prototype.setImageObjectRotation=function(t,e,n,o){return this.workerPromise.emit("setImageObjectRotation",{docId:t,pageId:e,id:n,rotation:o})},e.prototype.setActionDestination=function(t,e,n){return this.workerPromise.emit("setActionDestination",{docId:t,objNum:e,destination:n})},e.prototype.setActionFieldNames=function(t,e,n){return this.workerPromise.emit("setActionFieldNames",{docId:t,objNum:e,fieldNames:n})},e.prototype.setActionHideState=function(t,e,n){return this.workerPromise.emit("setActionHideState",{docId:t,objNum:e,isHide:n})},e.prototype.setActionScript=function(t,e,n){return this.workerPromise.emit("setActionScript",{docId:t,objNum:e,script:n})},e.prototype.setActionFlags=function(t,e,n){return this.workerPromise.emit("setActionFlags",{docId:t,objNum:e,flags:n})},e.prototype.setActionURI=function(t,e,n){return this.workerPromise.emit("setActionURI",{docId:t,objNum:e,uri:n})},e.prototype.insertSubAction=function(t,e,n,o){return this.workerPromise.emit("insertSubAction",{docId:t,objNum:e,index:n,type:o})},e.prototype.setSubAction=function(t,e,n,o){return this.workerPromise.emit("setSubAction",{docId:t,objNum:e,index:n,type:o})},e.prototype.removeAllSubActions=function(t,e){return this.workerPromise.emit("removeAllSubActions",{docId:t,objNum:e})},e.prototype.removeSubAction=function(t,e,n){return this.workerPromise.emit("removeSubAction",{docId:t,objNum:e,index:n})},e.prototype.setActionData=function(t,e,n){return this.workerPromise.emit("setActionData",{docId:t,objNum:e,data:n})},e.prototype.removeGraphicsObject=function(t,e,n){return this.workerPromise.emit("removeGraphicsObject",{docId:t,pageId:e,id:n})},e.prototype.setPopupOpenStatus=function(t,e,n,o){return this.workerPromise.emit("setPopupOpenStatus",{docId:t,pageId:e,annotId:n,status:o})},e.prototype.removePageAllAnnot=function(t,e){return this.workerPromise.emit("removePageAllAnnot",{docId:t,pageId:e})},e.prototype.setTextObjectChar=function(t,e,n,o){return this.workerPromise.emit("setTextObjectChar",{docId:t,pageId:e,id:n,char:o})},e.prototype.setTextObjectItalic=function(t,e,n,o){return this.workerPromise.emit("setTextObjectItalic",{docId:t,pageId:e,id:n,italic:o})},e.prototype.setTextObjectBold=function(t,e,n,o){return this.workerPromise.emit("setTextObjectBold",{docId:t,pageId:e,id:n,bold:o})},e.prototype.setTextObjectFontSize=function(t,e,n,o){return this.workerPromise.emit("setTextObjectFontSize",{docId:t,pageId:e,id:n,size:o})},e.prototype.setTextObjectStandardFont=function(t,e,n,o){return this.workerPromise.emit("setTextObjectStandardFont",{docId:t,pageId:e,id:n,standardId:o})},e.prototype.setTextObjectFontByName=function(t,e,n,o,r,i){return this.workerPromise.emit("setTextObjectFontByName",{docId:t,pageId:e,id:n,name:o,styles:r,charset:i})},e.prototype.getTextObjectWoff=function(t,e,n){return this.workerPromise.emit("getTextObjectWoff",{docId:t,pageId:e,id:n})},e.prototype.getAnnotWoff=function(t,e,n){return this.workerPromise.emit("getAnnotWoff",{docId:t,pageId:e,id:n})},e.prototype.drmEncrypt=function(t,e){return this.workerPromise.emit("drmEncrypt",{docId:t,options:e})},e.prototype.getActionFileStream=function(t,e,n){var o=this.workerPromise.calls(n);return this.workerPromise.emit("getActionFileStream",{docId:t,objNum:e,writeStream:o})},e.prototype.getTemplates=function(t){return this.workerPromise.emit("getTemplates",{docId:t})},e.prototype.hideTemplate=function(t,e,n){return this.workerPromise.emit("hideTemplate",{docId:t,templateObj:e,isHidden:n})},e.prototype.spawnPage=function(t,e,n,o,r){return this.workerPromise.emit("spawnPage",{docId:t,templateObj:e,nPage:n,bRename:o,bOverlay:r})},e.prototype.setFieldsValue=function(t,e,n){return this.workerPromise.emit("setFieldsValue",{docId:t,fieldsValue:e,resetAP:n})},e.prototype.removeTemplate=function(t,e){return this.workerPromise.emit("removeTemplate",{docId:t,name:e})},e.prototype.getFontBufferByName=function(t,e){return this.workerPromise.emit("getFontBufferByName",{docId:t,fontName:e})},e.prototype.getPageSizes=function(t,e,n){return this.workerPromise.emit("getPageSizes",{docId:t,index:e,count:n})},e.prototype.setMeasureRatio=function(t,e,n,o){return this.workerPromise.emit("setMeasureRatio",{docId:t,pageId:e,annotId:n,ratioInfo:o})},e.prototype.setMeasureUnit=function(t,e,n,o){return this.workerPromise.emit("setMeasureUnit",{docId:t,pageId:e,annotId:n,unit:o})},e.prototype.startImportPages=function(t,e,n,o,r,i,a,s){return this.workerPromise.emit("startImportPages",{docId:t,destIndex:e,file:n,password:o,flags:r,layerName:i,startIndex:a,endIndex:s})},e.prototype.extractPages=function(t,e,n,o,r){var i=this.workerPromise.calls(n);return this.workerPromise.emit("extractPages",{docId:t,pageRange:e,writeStream:i,file:o,password:r})},e.prototype.getHeaderFooter=function(t){return this.workerPromise.emit("getHeaderFooter",t)},e.prototype.addHeaderFooter=function(t,e){return this.workerPromise.emit("addHeaderFooter",{headerFooter:e,docId:t})},e.prototype.updateHeaderFooter=function(t,e){return this.workerPromise.emit("updateHeaderFooter",{headerFooter:e,docId:t})},e.prototype.removeHeaderFooter=function(t){return this.workerPromise.emit("removeHeaderFooter",t)},e.prototype.paste=function(t,e,n,o,r,i){return this.workerPromise.emit("paste",{docId:t,pageId:e,srcPageId:n,type:o,objectId:r,position:i})},e.prototype.setFontMap=function(t){return this.workerPromise.emit("setFontMap",t)},e.prototype.setWatermarkFontMap=function(t){return this.workerPromise.emit("setWatermarkFontMap",t)},e.prototype.getAnnotsRawData=function(t,e){return this.workerPromise.emit("getAnnotsRawData",{docId:t,rawAnnots:e})},e.prototype.attachFile=function(t,e){return this.workerPromise.emit("attachFile",{docId:t,blob:e})},e.prototype.registerSignatureHandler=function(t,e,n){return this.workerPromise.emit("registerSignatureHandler",{filter:t,subfilter:e,api:n})},e.prototype.signDoc=function(t,e){return this.workerPromise.emit("signDoc",{docId:t,signInfo:e})},e.prototype.verifySignature=function(t,e){return this.workerPromise.emit("verifySignature",{docId:t,sigFieldName:e})},e.prototype.getGraphicsObjectByIndex=function(t,e,n){return this.workerPromise.emit("getGraphicsObjectByIndex",{docId:t,pageId:e,index:n})},e.prototype.getGraphicsObjectsCount=function(t,e){return this.workerPromise.emit("getGraphicsObjectsCount",{docId:t,pageId:e})},e.prototype.getFontsInfo=function(t){return this.workerPromise.emit("getFontsInfo",{docId:t})},e.prototype.getDocAdditionalActions=function(t){return this.workerPromise.emit("getDocAdditionalActions",{docId:t})},e.prototype.getPageBox=function(t,e,n){return this.workerPromise.emit("getPageBox",{docId:t,pageIndex:e,boxType:n})},e.prototype.syncDataCache=function(t,e){return this.workerPromise.emit("syncDataCache",{docId:t,pageIdMap:e})},e.prototype.setDocColors=function(t,e){return this.workerPromise.emit("setDocColors",{docId:t,colors:e})},e.prototype.hasForm=function(t){return this.workerPromise.emit("hasForm",{docId:t})},e}(o.default);function h(t){t.on("wasmBinary",(function(t){localStorage.setItem(p,t)})),t.on("asmMem",(function(t){localStorage.setItem("FoxitPDFSDKForWeb_JREngineCache_asmMem",t)})),t.on("asmJs",(function(t){localStorage.setItem("FoxitPDFSDKForWeb_JREngineCache_asmJs",t)}))}e.default=d},function(t,e,n){"use strict";n.r(e),n.d(e,"h",(function(){return o}));var o="6c4b7f13abd88a40e89c7f79ef1c667e"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(659),i=(o=r)&&o.__esModule?o:{default:o};function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}e.default=function(t){return function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o));return r.api=new((0,i.default)(r.api.constructor))(n),r}return a(e,t),e}(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=Object.getOwnPropertyNames(t.prototype);return function(t){function n(o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,o)),s=o.workerPath,c=o.workerBlobUrl;"/"!==s.slice(-1)&&(s+="/");for(var u=c||s+"WebPDFSRWorker.js?h="+a.h,l=new Worker(u),f=r.workerPromise=new i.default(l),p=Object.getOwnPropertyNames(r.constructor.prototype),d=function(t){var n=e[t],o=p.indexOf(n);if(-1!==o)return p.splice(o,1),"continue";r[n]=function(){for(var t=arguments.length,e=Array(t),o=0;o<t;o++)e[o]=arguments[o];return f.emit(n,e)}},h=e.length;h--;)d(h);return r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}(n,t),n.prototype.init=function(){return this.workerPromise.emit("initSREngine",this.option)},n.prototype.getPDFDocIdByFile=function(t,e){var n=function(t){var e=[];t instanceof ArrayBuffer&&(e=[t]);return e}(t);return this.workerPromise.emit("getPDFDocByFile",[t,e],n)},n.prototype.getPDFDocStream=function(t,e,n){var o=this.workerPromise.calls(e);return this.workerPromise.emit("getPDFDocStream",[t,o,n])},n.prototype.getFileattachmentStream=function(t,e,n,o){var r=this.workerPromise.calls(o);return this.workerPromise.emit("getFileattachmentStream",[t,e,n,r])},n.prototype.resetEngine=function(t){return this.workerPromise.emit("resetEngine",[t])},n}(t)};var o,r=n(294),i=(o=r)&&o.__esModule?o:{default:o},a=n(660)},function(t,e,n){"use strict";n.r(e),n.d(e,"h",(function(){return o}));var o="12f63c6b765fe6e3f8cd10f8fbe83633"},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0}),e.createClass=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=Object.hasOwnProperty(t,"constructor"),s=a?t.constructor:void 0,c=function(t){function e(){o(this,e);var n=r(this,t.apply(this,arguments));return a?r(n,s.apply(n,arguments)):n}return i(e,t),e}(e);a&&delete t.constructor;return Object.assign(c.prototype,t),t.constructor=s,Object.assign(c,n),c}},function(t,e,n){"use strict";var o;n.r(e),n.d(e,"ThrottleTaskStatus",(function(){return o})),n.d(e,"ThrottleAsyncTaskExecutor",(function(){return r})),function(t){t.IDLE="idle",t.RUNNING="running"}(o||(o={}));var r=function(){function t(t){this.interval=t,this.status=o.IDLE,this.lastCompleteTime=Date.now(),this.lastTaskPromise=Promise.resolve()}return t.prototype.exec=function(t,e,n){var r=this;switch(this.status){case o.IDLE:if(Date.now()-this.lastCompleteTime>this.interval){var i=function(){return r.status=o.RUNNING,r.lastTaskPromise=t.apply(n,e||[]).finally((function(){r.lastCompleteTime=Date.now(),r.status=o.IDLE})),r.lastTaskPromise};return this.lastTaskPromise.then(i,i)}}return this.lastTaskPromise},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=c(n(18)),i=c(n(664));n(665);var a=c(n(297)),s=n(5);c(n(298));function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.width<1&&(i.width*=window.innerWidth),i.totallyCollapsedWidth=12,i.collapsedWidth=47,i.collapseThresholdWidth=105,i.maxWidth=n.maxWidth||480,i.expandWidth=i.width,i.adjustingWidth=i.element.width,i.status=e.STATUS_COLLAPSED,i.lastActivePanel=null,i.isOpenAtStart=1==n.open||void 0!==i.attrs.open&&"false"!==i.attrs.open,i.autoVisible=!i.attrs.autovisible||"false"!=i.attrs.autovisible,i}return u(e,t),e.getName=function(){return"sidebar"},e.getMetadata=function(){return{options:{width:{type:"number",defaultValue:310}}}},o(e,null,[{key:"STATUS_COLLAPSED",get:function(){return"collapsed"}},{key:"STATUS_COLLAPSED_TOTALLY",get:function(){return"collapsed-totally"}},{key:"STATUS_EXPANDED",get:function(){return"expanded"}}]),e.prototype.render=function(){t.prototype.render.call(this),this.element.classList.add("fv__ui-sidebar"),this.element.innerHTML=(0,i.default)({}),this.togglerElement=this.element.querySelector(".fv__ui-sidebar-toggler"),this.draggerElement=this.element.querySelector(".fv__ui-sidebar-dragger"),this.draggerTogglerElement=this.draggerElement.querySelector(".toggler"),this.navElement=this.element.querySelector(".fv__ui-sidebar-nav"),this.bodyElement=this.element.querySelector(".fv__ui-sidebar-body")},e.prototype.doInsert=function(t,e){if(!(t instanceof a.default))throw new Error("the type of the sidebar children must be <sidebar-panel>");var n=this.bodyElement.children;if(e<0||e>n.length)throw new Error("index out of bounds: "+e);this.rerenderChildren()},e.prototype.rerenderChildren=function(){var t=this.children(),e=t.map((function(t){return t.ctrlElement})),n=t.map((function(t){return t.element}));this.diffRenderer(this.navElement,e),this.diffRenderer(this.bodyElement,n)},e.prototype.postlink=function(){t.prototype.postlink.call(this)},e.prototype.isCollapsed=function(){return this.status!==e.STATUS_EXPANDED},e.prototype._initStatus=function(){var t=this.$container.findFirst((function(t){return t.isActive}));t||(t=this.$container.findFirst((function(t){return t.isVisible}))),this.isOpenAtStart?t&&(t.isActive=!1,t.active()):(this.lastActivePanel=t,this.collapse())},e.prototype.mounted=function(){var n=this;t.prototype.mounted.call(this),this.collapsedWidth=this.navElement.offsetWidth+this.draggerElement.offsetWidth,this.collapseThresholdWidth=2.3*this.collapsedWidth,this.totallyCollapsedWidth=this.draggerElement.offsetWidth,this.width=this.element.offsetWidth,this._initStatus();var o=new Hammer.Manager(this.draggerElement);o.add(new Hammer.Pan({direction:Hammer.DIRECTION_HORIZONTAL}));var r=void 0;o.on("panstart",(function(t){n.startresize(),r=t.deltaX,n.resize(r,t.direction),n.trigger(s.COMPONENT_EVENTS.RESIZESTART),n.trigger(s.COMPONENT_EVENTS.RESIZE)})),o.on("panmove",(function(t){var e=t.deltaX-r,o=t.center,i=n.draggerElement.offsetLeft;(o.x<i&&t.direction&Hammer.DIRECTION_RIGHT||o.x>i&&t.direction&Hammer.DIRECTION_LEFT)&&(e=0),n.resize(e,t.direction)&&n.trigger(s.COMPONENT_EVENTS.RESIZE),r=t.deltaX})),o.on("panend",(function(t){n.endresize()})),o.on("pancancel",(function(t){n.cancelresize()})),this.togglerElement.addEventListener("click",(function(t){n.status!==e.STATUS_EXPANDED?n.expand():n.collapse()})),this.draggerTogglerElement.addEventListener("click",(function(t){n.toggle()})),this.attachEventToElement(this.draggerElement,"mousedown touchstart",(function(t){n.draggerElement.classList.add("active")})),this.attachEventToElement(this.draggerElement,"mouseup touchend",(function(t){n.draggerElement.classList.remove("active")})),this.autoVisible||this.hide()},e.prototype.startresize=function(){this.adjustingWidth=this.width},e.prototype.resize=function(t,e){var n=this.adjustingWidth+t,o=e&Hammer.DIRECTION_LEFT,r=e&Hammer.DIRECTION_RIGHT,i=this.getRoot().element.offsetWidth;return n<=this.collapseThresholdWidth&&o?!this.isCollapsed()&&(this.collapse(),this.adjustingWidth=this.element.offsetWidth,!0):!(n>=i&&r)&&(r&&this.isCollapsed()?(this.expand(),this.setWidth(this.collapseThresholdWidth),this.adjustingWidth=this.collapseThresholdWidth):(this.adjustingWidth=n,this.element.style.width=n+"px"),!0)},e.prototype.endresize=function(){this.width=this.adjustingWidth,this.isCollapsed()||(this.expandWidth=this.adjustingWidth),this.setWidth(this.width)},e.prototype.cancelresize=function(){this.adjustingWidth=this.width,this.setWidth(this.width)},e.prototype.enableFullWidth=function(){this.isFullWidth=!0,this.element.classList.add("fv__ui-sidebar-full-width")},e.prototype.disableFullWidth=function(){this.isFullWidth=!1,this.element.classList.remove("fv__ui-sidebar-full-width")},e.prototype.expand=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.expandWidth;this.trigger(s.COMPONENT_EVENTS.BEFORE_EXPAND),this.setWidth(t),this.isFullWidth&&(this.element.style.width=""),this.element.classList.remove("collapse","collapse-totally"),this.element.classList.add("expand"),this.lastActivePanel&&this.lastActivePanel.active(),this.$lastStatus=this.status,this.status=e.STATUS_EXPANDED,this.trigger(s.COMPONENT_EVENTS.EXPAND)},e.prototype.collapse=function(){this._collapse(this.collapsedWidth),this.element.classList.add("collapse"),this.$lastStatus=this.status,this.status=e.STATUS_COLLAPSED},e.prototype.collapseTotally=function(){this._collapse(this.totallyCollapsedWidth),this.element.classList.add("collapse-totally"),this.$lastStatus=this.status,this.status=e.STATUS_COLLAPSED_TOTALLY},e.prototype.toggle=function(){this.status!==e.STATUS_COLLAPSED_TOTALLY?(this.$lastStatus=this.status,this.collapseTotally()):this.$lastStatus===e.STATUS_COLLAPSED?this.collapse():this.expand()},e.prototype._collapse=function(t){this.status===e.STATUS_EXPANDED&&(this.expandWidth=this.width),this.element.classList.remove("collapse","expand","collapse-totally"),this.setWidth(t),this.lastActivePanel&&this.lastActivePanel.deactive(),this.trigger(s.COMPONENT_EVENTS.COLLAPSE)},e.prototype.setWidth=function(t){this.element.style.width=t+"px",this.width=t,this.redrawViewer()},e.prototype.redrawViewer=function(){var t=this;clearTimeout(this.redrawViewerTimer),this.redrawViewerTimer=setTimeout((function(){t.getPDFUI().redraw().catch((function(){}))}),300)},e}(r.default);e.default=l},function(t,e,n){n(0);t.exports=function(t){"use strict";t=t||{};return'<div class="fv__ui-sidebar-ctls">\n    <a class="fv__ui-sidebar-toggler" href="javascript:;"></a>\n    <div class="fv__ui-sidebar-nav">\n    </div>\n</div>\n<div class="fv__ui-sidebar-body">\n</div>\n<div class="fv__ui-sidebar-dragger">\n    <span class="toggler"></span>\n</div>','<div class="fv__ui-sidebar-ctls">\n    <a class="fv__ui-sidebar-toggler" href="javascript:;"></a>\n    <div class="fv__ui-sidebar-nav">\n    </div>\n</div>\n<div class="fv__ui-sidebar-body">\n</div>\n<div class="fv__ui-sidebar-dragger">\n    <span class="toggler"></span>\n</div>'}},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(15)),r=(s(n(120)),s(n(98)),s(n(168))),i=s(n(82)),a=n(26);function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.iconCls=n.iconCls||i.attrs["icon-class"]||i.attrs.iconCls,i.text=i.text||i.viewConfig.textContent,i}return c(e,t),e.getName=function(){return"file-selector"},e.getMetadata=function(){return{options:{text:{type:"string"},action:{type:"string"},accept:{resolve:function(t){var e=t.$options,n=t.attrs,o=e.accept||n.accept;return"string"==typeof o?o.split(/[\s;]/):Array.isArray(o)?o.join(";"):"*.*"}}}}},e.prototype.render=function(){var e=document.createElement("label");e.classList.add("fv__ui-fileselector-label"),this.labelElement=e,t.prototype.render.call(this),this.element.classList.add("fv__ui-fileselector");var n=this.createInputElement();this.inputElement=n,e.appendChild(this.inputElement),this.iconElement&&(this.iconElement.remove(),e.appendChild(this.iconElement)),this.textElement&&(this.textElement.remove(),e.appendChild(this.textElement)),this.element.appendChild(e)},e.prototype.createInputElement=function(){var t=document.createElement("input");if(t.classList.add("fv__ui-fileselector-input"),t.setAttribute("type","file"),this.accept){var e=this.accept;a.isMiuiBrowser&&(e=e.split(/[;]/).filter((function(t){return"*.*"!==t})).map((function(t){return t.replace(/^\*?\./,"application/")})).join(";")),e&&t.setAttribute("accept",e)}return t},e.prototype.appendIconElement=function(t){this.labelElement.appendChild(t)},e.prototype.appendTextElement=function(t){this.labelElement.appendChild(t)},e.prototype.mounted=function(){var t=this;o.default.prototype.mounted.call(this),this.parent instanceof i.default&&this.labelElement.classList.add("fv__ui-dropdown-item-label");var e=function e(n){if(!t.disabled)try{var o=function(t){var e=t.target.files?t.target.files[0]:null;!e&&t.dataTransfer&&t.dataTransfer.files.length>0&&(e=t.dataTransfer.files[0]);return e}(n);t.controller.handle(o,n),t.trigger("change",o)}finally{var r=t.createInputElement();r.addEventListener("change",e),t.labelElement.insertBefore(r,t.inputElement),t.labelElement.removeChild(t.inputElement),t.inputElement=r}};this.inputElement.addEventListener("change",e),this.addDestroyHook((function(){t.inputElement.removeEventListener("change",e)}))},e.prototype.doDisable=function(){t.prototype.doDisable.call(this),this.inputElement.setAttribute("disabled","disabled")},e.prototype.doEnable=function(){t.prototype.doEnable.call(this),this.inputElement.removeAttribute("disabled")},e}(r.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(18),i=(o=r)&&o.__esModule?o:{default:o};function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}n(668);var u=function(t){function e(){return a(this,e),s(this,t.apply(this,arguments))}return c(e,t),e.getName=function(){return"toolbar"},e.prototype.render=function(){t.prototype.render.call(this),this.element.classList.add("fv__ui-toolbar")},e}(i.default);e.default=u},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(15)),r=a(n(670)),i=n(26);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));i.text=n.text||i.viewConfig.textContent||"",i.iconCls=n.iconCls||i.viewConfig.attrs["icon-class"],i.isFileSelector=n.isFileSelector||"file-selector"in i.attrs&&"false"!==i.attrs["file-selector"],i.action=n.action||i.attrs.action;var a=n.accept||i.viewConfig.attrs.accept;return"string"==typeof a?i.accept=a:Array.isArray(a)?i.accept=a.join(";"):i.accept="*.*",i}return s(e,t),e.getName=function(){return"dropdown-button"},e.prototype.createDOMElement=function(){return document.createElement("li")},e.prototype.doDisable=function(){this.element.classList.add("disabled"),this.isFileSelector&&this.inputElement.setAttribute("disabled","disabled")},e.prototype.doEnable=function(){this.element.classList.remove("disabled"),this.isFileSelector&&this.inputElement.removeAttribute("disabled")},e.prototype.doActive=function(){this.element.classList.add("active")},e.prototype.doDeactive=function(){this.element.classList.remove("active")},e.prototype.render=function(){this.textElement=document.createElement("span");var e=this.iconElement=document.createElement("i");if(this.element.classList.add("fv__ui-dropdown-button"),this.isFileSelector){var n=document.createElement("label"),o=document.createElement("input");if(this.inputElement=o,this.labelElement=n,this.element.classList.add("fv__ui-dropdown-button-file"),n.classList.add("fv__ui-dropdown-item-label"),o.classList.add("fv__ui-dropdown-item-input"),o.setAttribute("type","file"),this.accept){var a=this.accept;i.isMiuiBrowser&&(a=a.split(/[;]/).filter((function(t){return"*.*"!==t})).map((function(t){return t.replace(/^\*?\./,"application/")})).join(";")),a&&o.setAttribute("accept",a)}this.elementManager=new r.default(n,[o,e,this.textElement]),this.elementManager.mount(o),this.element.appendChild(n)}else this.elementManager=new r.default(this.element,[e,this.textElement]);this.setIconCls(this.iconCls),t.prototype.render.call(this)},e.prototype.setIconCls=function(t){if(t){var e=this.iconElement;this.iconCls=t,e.addClass("fv__ui-dropdown-button-icon",this.iconCls),e.addClass(this.iconCls),this.elementManager.mount(this.iconElement)}},e.prototype.renderText=function(){var t=this,e=this.textElement;return e.classList.add("fv__ui-dropdown-item-text"),this.textElement.innerText="",this.text&&this.text.length>0?(this.textElement.setAttribute("data-i18n",this.text),this.elementManager.mount(e)):this.texts.length>0&&(this.texts.forEach((function(e){t.textElement.appendChild(e.element)})),this.elementManager.mount(e)),e},e.prototype.mounted=function(){var e=this;if(t.prototype.mounted.call(this),this.isFileSelector){var n=function t(n){if(!e.disabled)try{var o=function(t){var e=t.target.files?t.target.files[0]:null;!e&&t.dataTransfer&&t.dataTransfer.files.length>0&&(e=t.dataTransfer.files[0]);return e}(n);e.controller.handle(o,n),e.trigger("change",o)}finally{var r=document.createElement("input");r.classList.add("fv__ui-dropdown-item-input"),r.setAttribute("type","file"),r.setAttribute("accept",e.accept),r.addEventListener("change",t),e.inputElement.after(r),e.inputElement.remove(),e.inputElement=r}},o=function(t){e.trigger("click"),t.stopPropagation()};this.inputElement.addEventListener("click",o),this.inputElement.addEventListener("change",n),this.addDestroyHook((function(){e.inputElement.removeEventListener("click",o),e.inputElement.removeEventListener("change",n)}))}else{this.addEventListener("click",(function(t){e.disabled||(e.controller.handle(t),e.trigger("click"),t.stopPropagation())}))}},e.prototype.addEventListener=function(t,e){var n=this;this.element.addEventListener(t,e),this.addDestroyHook((function(){n.element.removeEventListener(t,e)}))},e.prototype.triggerHandler=function(){this.isFileSelector?this.inputElement.click():this.element.click()},e.prototype.localize=function(){return this.localizer.localizeElement(this.textElement)},e.prototype.acceptText=function(){return!0},e.prototype.sync=function(e,n){if(t.prototype.sync.call(this,e,n))return!0;switch(e){case"text":return n&&(this.textElement.parentElement?this.textElement.setAttribute("data-i18n",n):this.setText(n),this.localizer.localizeElement(this.textElement)),!0}return!1},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(e){if(r(this,t),e instanceof Node)this.node=e;else switch(e){case t.TEXT_NODE:this.node=document.createTextNode();break;case t.FRAGMENT:this.node=document.createDocumentFragment();break;case t.COMMENT_NODE:this.node=document.createComment();break;default:this.node=document.createElement(e)}}return o(t,null,[{key:"TEXT_NODE",get:function(){return"$text"}},{key:"FRAGMENT_NODE",get:function(){return"$fragment"}},{key:"COMMENT_NODE",get:function(){return"$fragment"}}]),t.prototype.append=function(t){if(!(this.node instanceof HTMLElement))throw new TypeError("Unsupported operation: "+this.node);this.node.appendChild(t.node)},t.prototype.prepend=function(t){this.insertAt(0,t)},t.prototype.insertAt=function(t,e){if(!(this.node instanceof HTMLElement))throw new TypeError("Unsupported operation: "+this.node);var n=this.node.children,o=n.length;switch(t=Math.max(0,Math.min(o,t))){case 0:0===o?this.node.insertBefore(e.node,this.node.firstElementChild):this.node.appendChild(e.node);break;case o:this.node.appendChild(e.node);break;default:this.node.insertBefore(e.node,n.item(t))}},t.prototype.insertBefore=function(t){if(!t.node.parentElement)throw new Error('The "next" element has not been inserted into other element');var e=t.index();t.parent().insertAt(e,this)},t.prototype.insertAfter=function(t){if(!t.node.parentElement)throw new Error('The "previous" element has not been inserted into other element');var e=t.index();t.parent().insertAt(e+1,this)},t.prototype.index=function(){var t=-1;if(this.node.parentElement)for(var e=this.node.parentElement.firstElementChild;e;){if(t++,e===this.node)return t;e=e.nextSibling}return t},t.prototype.parent=function(){var e=this.node.parentElement;if(e)return new t(e)},t.prototype.remove=function(){this.node.parentElement&&this.node.parentElement.removeChild(this.node)},t}(),a=function(){function t(e,n){r(this,t),this.parentElement=new i(e),this.elements=n.map((function(t){return new i(t)})),this.mounted=this.elements.map((function(t){return!1}))}return t.prototype.mount=function(t){var e=this;if("number"!=typeof t){for(var n=0,o=this.elements.length;n<o;n++)this.elements[n].node===t&&(t=n);if("number"!=typeof t)throw new TypeError("Cannot mount this element: "+t)}if(!(t<0||t>=this.elements.length||this.mounted[t])){var r=this.elements[t];this.elements.some((function(n,o){var i=e.mounted[o];return o<t&&!i?(0==o?e.parentElement.prepend(r):r.insertAfter(e.elements[o-1]),!0):!!(o>t&&i)&&(r.insertBefore(n),!0)}))||this.parentElement.append(r),this.mounted[t]=!0}},t.prototype.unmount=function(t){if(!(t<0||t>=this.elements.length)){var e=this.elements[t];this.mounted[t]=!1,e&&e.remove()}},t}();e.default=a},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(18)),r=a(n(674)),i=a(n(301));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r)),a=i.viewConfig.attrs;return i.iconCls=n.iconCls||a["icon-class"]||a.iconCls,i.action=n.action,i.path=n.path,a.listdata?i.listdata=JSON.parse(a.listdata):i.listdata=n.listdata,i}return s(e,t),e.getName=function(){return"listbox-item"},e.prototype.destroy=function(){this.path=null,this.listdata=null,t.prototype.destroy.call(this)},e.prototype.createDOMElement=function(){return document.createElement("li")},e.prototype.render=function(){t.prototype.render.call(this);var e=this.listdata;if(e.url){e.fileType||console.warn("fileType property of icon is missing");var n=this.path[this.path.length-1];this.element.classList.add("fv__ui-list-leaf"),this.element.title=n,this.element.innerHTML=(0,r.default)({url:e.url.replace(/\.pdf$/,".svg")})}else{var o=this.path[this.path.length-1];["Static","Standard","SignHere","Dynamic"].indexOf(o)>-1&&(o="stamp.category."+o);var i=this.pdfUI.parseTemplate("<div><text>"+o+"</text><div>",[]);this.append(i);var a="listbox-"+Math.random().toString(36).substr(2),s=this.pdfUI.parseTemplate('<listbox name="'+a+'"></listbox>',[{target:a,config:{root:this.$options.root,subList:!0,path:this.path,callback:this.$options.callback,listdata:e}}]);this.append(s)}},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this);var n=function(t){return e.clickEventHandler(t)};this.element.addEventListener("click",n),this.addDestroyHook((function(){e.element.removeEventListener("click",n)}))},e.prototype.doActive=function(){this.element.classList.add("active")},e.prototype.doDeactive=function(){this.element.classList.remove("active")},e.prototype.clickEventHandler=function(t){var e=this;this.disabled||this.pdfUI.getComponentByName("create-stamp-handle-ui").then((function(n){var o;n.disabled||((o=e.controller).handle.apply(o,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(e.path)),t.preventDefault(),t.stopPropagation(),i.default.setFocus(e))}))},e}(o.default);e.default=c},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";t=t||{};var e="";return e+='<img class="stamp-preview" src="',e+=(0,o.$escape)(t.url),e+='" crossOrigin="true"></img>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(235)),r=s(n(67)),i=s(n(68)),a=s(n(170));n(26);function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var f=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e=parseFloat(e),"number"==typeof t&&isFinite(t)?t:isFinite(e)?e:n},p=function(t){function e(n){c(this,e);var o=u(this,t.call(this));return o.component=n,o}return l(e,t),e.prototype.receive=function(t){var e=this.component,n=e.prefix,o=e.suffix;this.component.element.value=""+n+t+o},e}(r.default),d=function(t){function e(n,o,r){c(this,e);var i=u(this,t.call(this,n,o,r)),s=f(n.min,i.attrs.min,-1/0),l=f(n.max,i.attrs.max,1/0),p=f(n.step,i.attrs.step,1);return i.range=new a.default(s,l,p),i.min=i.range.min,i.max=i.range.max,i.step=i.range.step,i.setValue(i.min),i}return l(e,t),e.getName=function(){return"number"},e.getMetadata=function(){return{options:{prefix:{type:"string",defaultValue:""},suffix:{type:"string",defaultValue:""}}}},e.prototype.createDOMElement=function(){return document.createElement("input")},e.prototype.render=function(){t.prototype.render.call(this),this.element.classList.add("fv__ui-number"),this.element.setAttribute("autocomplete","off"),this.fieldName&&this.setFieldName(this.fieldName)},e.prototype.setFieldName=function(e){t.prototype.setFieldName.call(this,e),this.element.setAttribute("name",this.fieldName)},e.prototype.getForwardedEvents=function(){var e=t.prototype.getForwardedEvents.call(this),n=e.indexOf("change");return e.splice(n,1),e},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this);var n=new o.default(this,"value");this.addDestroyHook(n.connect(new p(this)));var r=function(){e.triggerChangeEvent()};this.element.addEventListener("change",r),this.addDestroyHook((function(t){e.element.removeEventListener("change",r)})),this.setValue(this.value)},e.prototype.createEventListener=function(e){var n=this;return"change"===e?function(t){n.triggerChangeEvent()}:t.prototype.createEventListener.call(this,e)},e.prototype.triggerChangeEvent=function(){var t=this.element.value;t.indexOf(this.suffix)>-1&&(t=t.substring(0,t.length-this.suffix.length)),t.indexOf(this.prefix)>-1&&(t=t.substring(this.prefix.length));var e=this.value;this.setValue(t),this.trigger("change",this.value,e)},e.prototype.setAttribute=function(e,n){switch(e){case"min":case"max":case"step":this.range[e]=parseFloat(n),this[e]=this.range[e];break;case"prefix":case"suffix":this[e]=n;break;default:t.prototype.setAttribute.call(this,e,n)}},e.prototype.setValue=function(t){this.value=this.range.normalizeValue(t),this.element.value=""+this.prefix+this.value+this.suffix},e.prototype.getValue=function(){return this.value},e.prototype.increment=function(){this.value=this.range.increment(this.value)},e.prototype.decrement=function(){this.value=this.range.decrement(this.value)},e.prototype.setMax=function(t){this.max=t,this.setValue(this.value)},e.prototype.setMin=function(t){this.min=t,this.setValue(this.value)},e.prototype.sync=function(e,n){switch(e){case"min":this.setMin(n);break;case"max":this.setMax(n);break;default:return t.prototype.sync.call(this,e,n)}return!0},e.prototype.select=function(){this.element.focus(),this.element.setSelectionRange?this.element.setSelectionRange(0,99999):this.element.select()},e}(i.default);e.default=d},function(t,e,n){},function(t,e,n){n(0);t.exports=function(t){"use strict";t=t||{};return'<div class="fv__ui-layer-header-inner">\n    <i class="fv__ui-layer-header-icon"></i>\n    <h6 class="fv__ui-layer-header-title"></h6>\n    <div class="fv__ui-layer-header-buttons">\n        \x3c!-- TODO: more layer header buttons... --\x3e\n        <a href="javascript:;" class="fv__ui-layer-header-button" action="close">\n            <i class="fv__icon-layer-close"></i>\n        </a>\n    </div>\n</div>','<div class="fv__ui-layer-header-inner">\n    <i class="fv__ui-layer-header-icon"></i>\n    <h6 class="fv__ui-layer-header-title"></h6>\n    <div class="fv__ui-layer-header-buttons">\n        \x3c!-- TODO: more layer header buttons... --\x3e\n        <a href="javascript:;" class="fv__ui-layer-header-button" action="close">\n            <i class="fv__icon-layer-close"></i>\n        </a>\n    </div>\n</div>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(18);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"layer-toolbar"},e.prototype.render=function(){t.prototype.render.call(this),this.element.classList.add("fv__ui-layer-toolbar")},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(18);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"layer-view"},e.prototype.render=function(){t.prototype.render.call(this),this.element.classList.add("fv__ui-layer-panel")},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(18),i=(o=r)&&o.__esModule?o:{default:o},a=n(5);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.getName=function(){return"template"},e.prototype.createDOMElement=function(){var t=document.createElement("template");return window.HTMLTemplateElement||(t.style.cssText="display: none!important;"),t},e.prototype.render=function(){},e.prototype.rerenderChildren=function(){this.children().forEach((function(t){t.localize()}))},e.prototype.localize=function(){return Promise.all(this.$container.map((function(t){return t.localize()})))},e.prototype.receiveBroadcast=function(e,n){t.prototype.receiveBroadcast.call(this,e,n),e===a.COMPONENT_BROADCAST_LOCALIZE&&this.$container.each((function(t){return t.localize()}))},e}(i.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(68);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"checkbox"},e.getMetadata=function(){return{options:{checked:{type:"boolean",defaultValue:!1},text:{type:"string"}}}},e.prototype.acceptText=function(){return!0},e.prototype.doDisable=function(){t.prototype.doDisable.call(this),this.inputElement.setAttribute("disabled",!0)},e.prototype.doEnable=function(){t.prototype.doEnable.call(this),this.inputElement.removeAttribute("disabled")},e.prototype.createDOMElement=function(){return document.createElement("label")},e.prototype.setFieldName=function(e){t.prototype.setFieldName.call(this,e),this.inputElement.setAttribute("name",this.fieldName)},e.prototype.getValue=function(){return this.inputElement.checked},e.prototype.render=function(){this.inputElement=document.createElement("input"),this.$options.inputClass&&this.inputElement.classList.add(this.$options.inputClass),this.textElement=document.createElement("span"),this.$options.lableClass&&this.textElement.classList.add(this.$options.lableClass),this.inputElement.type="checkbox",this.element.appendChild(this.inputElement),this.element.appendChild(this.textElement),t.prototype.render.call(this)},e.prototype.renderText=function(){var t=this.textElement;return t.innerText="","string"==typeof this.text&&this.text.length>0?(this.element.appendChild(t),t.setAttribute("data-i18n",this.text)):this.texts.length>0&&this.texts.forEach((function(e){t.appendChild(e.element)})),t},e.prototype.removeText=function(e){return!!t.prototype.removeText.call(this,e)&&(this.renderText(),!0)},e.prototype.setValue=function(e){t.prototype.setValue.call(this,e),this.inputElement.checked=!!e},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(68);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"input"},e.prototype.createDOMElement=function(){return document.createElement("input")},e.prototype.setValue=function(t){var e=this.element;"checkbox"==e.type?e.checked=t:e.value=t},e.prototype.getValue=function(){return this.getDOMValue()},e.prototype.prerender=function(){this.element.spellcheck=!1,this.element.autocapitalize="off",this.element.autocomplete="off",this.element.autocorrect="off",t.prototype.prerender.call(this)},e.prototype.getDOMValue=function(){var e=this.element;return"checkbox"===e.type?e.checked:t.prototype.getDOMValue.call(this)},e.prototype.mounted=function(){t.prototype.mounted.call(this),t.prototype.resolveCompositionEvent.call(this)},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=a(n(684)),i=a(n(685));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}n(686);var c=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.notifyTimeout=null,i.iconCls=n.iconCls||i.attrs["icon-class"]||i.attrs.iconclass,i.iconText=n.iconText||i.attrs["icon-text"]||i.attrs.icontext,i.unit=n.unit||i.attrs.unit||i.attrs.unit,i}return s(e,t),e.getName=function(){return"slider"},e.prototype.render=function(){var e=this;t.prototype.render.call(this),this.element.innerHTML=(0,i.default)(this);var n=[".fv__ui-slider-input",".fv__ui-slider-cursor",".fv__ui-slider-line",".fv__ui-slider-bar"].map((function(t){return e.element.querySelector(t)})),r=o(n,4),a=r[0],s=r[1],c=r[2],u=r[3];this.inputElement=a,this.cursorElement=s,this.lineElement=c,this.barElement=u},e.prototype.setValue=function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t=this.normalizeValue(t);var o=this.value;return this.value=t,n?this.oldValue=this.value:this.valueChanged=!0,this.inputElement.value=this.value,this.barElement.style.width=100*this.getRatio()+"%",0==this.lineElement.offsetWidth?this.updateTask=setInterval((function(){e._updateHandlePosition()}),50):this._updateHandlePosition(),o!=this.value},e.prototype._updateHandlePosition=function(){var t=this.getRatio(),e=this.lineElement.offsetWidth;0!=e&&clearInterval(this.updateTask);var n=e*t;this.cursorElement.style.cssText+="left: "+(n-5)+"px"},e.prototype._elementStopEventPropagation=function(t,e){var n=function(t){return t.stopPropagation()};t.addEventListener(e,n),this.addDestroyHook((function(o){return t.removeEventListener(e,n)}))},e.prototype.mounted=function(){var e=this;if(void 0!==this.value){t.prototype.mounted.call(this),this._elementStopEventPropagation(this.cursorElement,"pointerdown"),this._elementStopEventPropagation(this.cursorElement,"mousedown"),this._elementStopEventPropagation(this.cursorElement,"touchstart");var n=new Hammer.Manager(this.cursorElement);n.add(new Hammer.Pan({direction:Hammer.DIRECTION_HORIZONTAL}));var o=void 0,r=void 0;n.on("panstart",(function(t){return e.disabled||(e.oldValue=e.value,o=parseFloat(e.cursorElement.style.left)||-5,r||(r=e.element.querySelector(".fv__ui-slider-line").offsetWidth),e.cursorElement.classList.add("fv__ui-select-dragging"),e.trigger("compositionstart",t),e.active(),t.srcEvent.stopPropagation()),!1})).on("panmove",(function(t){if(e.disabled)return!1;var n=o+t.deltaX;n<-5?n=-5:n>r-5&&(n=r-5);var i=e.range,a=i.max,s=i.min,c=(n+5)/r*(a-s)+s;return c=e.normalizeValue(c),e.setValue(c,!1),e._triggerChange(!1,t),t.srcEvent.stopPropagation(),!1})).on("panend",(function(t){return e.disabled||(e.cursorElement.classList.remove("fv__ui-select-dragging"),e._triggerChange(!0,t),e.commit(),t.srcEvent.stopPropagation()),!1})),this.addDestroyHook((function(){n.destroy()}));var i=function(t,n,o){t.addEventListener(n,o),e.addDestroyHook((function(){t.removeEventListener(n,o)}))};i(this.inputElement,"blur",(function(t){!function(t){if(!e.disabled&&e.inputElement.value!=e.value){var n=e.value;e.setValue(e.inputElement.value,!1);var o=e.value;e._triggerChange(!0,t,n,o)}}(),a(t),e.trigger("blur",t)})),i(this.inputElement,"focus",(function(t){e.trigger("focus",t),e.active()}));var a=function(t){if(e.valueChanged){var n=t.target.parentNode;t.target.classList&&"fv__ui-slider"==t.target.classList[0]||n.classList&&"fv__ui-slider"==n.classList[0]||n.parentNode.classList&&"fv__ui-slider"==n.parentNode.classList[0]||e.valueChanged&&(e.trigger("willCommit",{oldValue:e.oldValue,commitValue:e.value}),e.valueChanged=!1)}};i(document,"click",a)}else this.element.style.display="none"},e.prototype.commit=function(){this.valueChanged&&(this.trigger("willCommit",{oldValue:this.oldValue,commitValue:this.value}),this.valueChanged=!1)},e.prototype.disable=function(){t.prototype.disable.call(this),this.inputElement.setAttribute("disabled",1)},e.prototype.enable=function(){t.prototype.enable.call(this),this.inputElement.removeAttribute("disabled")},e.prototype._triggerChange=function(t,e,n,o){var r=this;this.notifyTimeout&&clearTimeout(this.notifyTimeout),this.notifyTimeout=setTimeout((function(){r.trigger("change",e,n,o)}),t?0:200)},e}(r.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(68)),r=i(n(170));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,i)),s=a._getNumberOption("min"),c=a._getNumberOption("max"),u=a._getNumberOption("step"),l=a._getNumberOption("value");return a.range=new r.default(s,c,u),a.value=a.range.normalizeValue(l),a}return a(e,t),e.prototype.setValue=function(t){t=this.normalizeValue(t),isNaN(t)||(this.value=t)},e.prototype.getValue=function(){return this.value},e.prototype.getRatio=function(){return(this.value-this.range.min)/(this.range.max-this.range.min)},e.prototype._getNumberOption=function(t){return t in this.$options?this.$options[t]:parseFloat(this.attrs[t])},e.prototype.normalizeValue=function(t){return this.range.normalizeValue(t)},e}(o.default);e.default=s},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";var e="",n=(t=t||{}).iconCls,r=o.$escape,i=t.iconText,a=t.left,s=t.value,c=t.min,u=t.max,l=t.usingSelect,f=t.unit;return e+='<div class="fv__ui-slider">\n    ',n&&(e+='\n    <div class="fv__slider-icon ',e+=r(n),e+='">',e+=r(i),e+="</div>\n    "),e+="\n    ",e+='\n    <div class="fv__ui-slider-line">\n        <div class="fv__ui-slider-bar" style="width:',e+=r(a=100*(s-c)/(u-c)),e+='%"></div>\n        <span class="fv__ui-slider-cursor" style="left:',e+=r(a),e+='%"></span>\n    </div>\n    <input ',e+=r(l?"readOnly=1":""),e+='  value="',e+=r(s),e+='" class="fv__ui-slider-input" />\n    <span>',e+=r(f),e+="</span>\n</div>"}},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=a(n(68)),i=a(n(688));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}n(689);var c=function(t){function e(n,o,r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r))}return s(e,t),e.getName=function(){return"choice"},e.prototype.render=function(){var e=this;t.prototype.render.call(this),this.element.innerHTML=(0,i.default)(this.$options);var n=[".fv__ui-select-icon",".fv__ui-select-lable",".fv__ui-select-selector",".fv__ui-select-dropdown"].map((function(t){return e.element.querySelector(t)})),r=o(n,4),a=r[0],s=r[1],c=r[2],u=r[3];this.$icon=a,this.$lable=s,this.$selector=c,this.$dropdown=u,this.lableClass=""},e.prototype.getValue=function(){return this.value},e.prototype.setValue=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;-1==t&&(e=0,t=this.$options.options[0].value);var n=this.value;this.value=t,-1==e&&this.$options.options.map((function(n,o){if(n.value===t)return e=o,!1}));var o=this.$options.options[e];if(1!=this.$options.layout){this.lableClass&&this.$lable.classList.remove(this.lableClass),this.$lable.classList.add(o.class),this.lableClass=o.class,this.$options.noOptionLable&&o.class||(this.$lable.setAttribute("data-i18n",o.lable),this.localize());var r=this.$selector.querySelector(".selected");r&&r.classList.remove("selected"),(r=this.$selector.querySelector('[data-value="'+this.value+'"]'))&&r.classList.add("selected")}else this.lableClass&&this.$icon.classList.remove(this.lableClass),this.lableClass=o.class,this.$icon.classList.add(this.lableClass);return n!=this.value},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this);var n=function(t,n,o){t.addEventListener(n,o),e.addDestroyHook((function(){t.removeEventListener(n,o)}))},o=function(t){if(!e.disabled)return e.$selector.style.display="none",e.setValue(+t.target.dataset.value)&&e.trigger("change",e.value),t.stopPropagation(),!1};this.$selector.querySelectorAll("li").forEach((function(t){n(t,"click",o)}));n(this.element,"click",(function(t){return function(t,n){if(!e.disabled)return t&&(e.$selector.style.display="block",function(t){t.style.display="block",t.style["margin-top"]="";var e=t.getBoundingClientRect();e.top+e.height+t.ownerDocument.defaultView.pageYOffset>t.ownerDocument.defaultView.innerHeight&&(t.style["margin-top"]="-88%")}(e.$selector),e.active()),!1}(!0)}));n(document,"mouseup",(function(t){e.$selector.style.display="none"}))},e.prototype.disable=function(){t.prototype.disable.call(this),this.$selector.parentElement.classList.add("disabled"),this.$selector.style.display="none"},e.prototype.enable=function(){t.prototype.enable.call(this),this.$selector.parentElement.classList.remove("disabled")},e.prototype.deactive=function(){return this.$selector.style.display="none",t.prototype.deactive.call(this)},e}(r.default);e.default=c},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";t=t||{};var e="",n=o.$escape,r=t.layout,i=t.iconclass,a=t.icontext,s=t.text,c=t.selectorClass,u=t.i,l=t.j,f=t.options,p=t.option,d=t.optionLable,h=t.optionClass,g=t.noOptionLable;e+='<div class="fv__ui-select">\n    <div class="fv__ui-select-icon ',e+=n(1==r?"":i),e+='">',e+=n(a),e+='</div>\n    <div class="fv__ui-select-options">\n      <span class="fv__ui-select-lable" data-i18n="',e+=n(s||""),e+='">',e+=n(s),e+='</span>\n      <ul class="fv__ui-select-selector ',e+=n(c),e+='">\n        ';for(u=0,l=f.length;u<l;u++){d=(p=f[u]).lable||p.value,h=p.class;1==g&&(d=""),e+='\n        <li class="fv__ui-select-option" data-value="',e+=n(p.value),e+='"><div class="',e+=n(h),e+='" data-i18n="',e+=n(d),e+='" data-value="',e+=n(p.value),e+='">',e+=n(d),e+="</div></li>\n        "}return e+='\n      </ul>\n      <div class="fv__ui-select-dropdown">&#9660</div>\n    </div>\n</div>'}},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(68)),r=s(n(691));n(692);var i=n(4),a=s(n(3));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=void 0,l=void 0,f=void 0,p=void 0,d=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.colors=[].concat(i.$options.colors),u=i.$options.selectedclass+i.$options.lightpostname,l=i.$options.selectedclass+i.$options.darkpostname,f=i.$options.deleteclass+i.$options.lightpostname,p=i.$options.deleteclass+i.$options.darkpostname,i.transparent=!1,i}return c(e,t),e.getName=function(){return"color"},e.prototype.postlink=function(){t.prototype.postlink.call(this)},e.prototype.createDOMElement=function(){return document.createElement("div")},e.prototype.setValue=function(t){0!=t&&-1==this.colors.indexOf(t)&&this.colors.push(t),this.disabled&&this.value||(this.value=t),this.isEditing=!1,this.render()},e.prototype.getValue=function(){return this.value},e.prototype.render=function(){t.prototype.render.call(this),this.element.innerHTML=(0,r.default)(Object.assign({},this.$options,{colors:this.colors})),this._activeDom(),this._bindSpectrum(),this.showTransparentColor(this.transparent),this.trigger("postrender")},e.prototype.mounted=function(){var t=this;this.element.addEventListener("click",(function(e){if(!t.disabled)if(e.target.classList.contains("fv__ui-picker-color")){if(t.isEditing)return t.colors[e.target.dataset.index]="delected",void(e.target.style.display="none");var n=t.value||"transparent";t.value=(0,i.colorConvertor)(e.target.style.backgroundColor,"#"),t._activeDom(e.target),t.trigger("change",e,t.value,n)}else if(e.target.classList.contains("fv__ui-picker-nocolor")){if(t.isEditing)return;var o=t.value||"transparent";t.value=0,t._activeDom(e.target),t.trigger("change",e,o,"transparent")}else e.target.classList.contains("fv__ui-picker-addcolor")||e.target.classList.contains("fv__ui-picker-removecolor")&&t._toggleEditingMode(e)}))},e.prototype._activeDom=function(t){if(!t){var e=this.colors.indexOf(this.value);t=this.element.children[0].children[e]}var n=this.element.querySelector(".fv__ui-selected");n&&n.classList.remove("fv__ui-selected",u,l);var o=this.element.querySelector(".fv__ui-picker-nocolor");o&&0===this.value&&o.classList.add(u,"fv__ui-selected"),t&&(t.classList.add("fv__ui-selected"),h(t.style.backgroundColor)?t.classList.add(u):t.classList.add(l))},e.prototype._toggleEditingMode=function(t){if(this.isEditing){this.pdfUI.colorSpectrum.enable(),t.target.classList.remove(u),this.isEditing=!1;var e=!0,n=!1,o=void 0;try{for(var r,i=this.element.querySelector(".fv__ui-colors-picker").children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var a=r.value;a.classList.contains("fv__ui-picker-color")&&a.classList.remove(p,f)}}catch(t){n=!0,o=t}finally{try{!e&&i.return&&i.return()}finally{if(n)throw o}}this._activeDom()}else{this.pdfUI.colorSpectrum.disable(),t.target.classList.add(u),this.isEditing=!0;var s=!0,c=!1,d=void 0;try{for(var g,m=this.element.querySelector(".fv__ui-colors-picker").children[Symbol.iterator]();!(s=(g=m.next()).done);s=!0){var v=g.value;v.classList.contains("fv__ui-picker-color")&&(v.classList.remove(u,l),h(v.style.backgroundColor)?v.classList.add(f):v.classList.add(p))}}catch(t){c=!0,d=t}finally{try{!s&&m.return&&m.return()}finally{if(c)throw d}}var y=this.element.querySelector(".fv__ui-picker-nocolor");y&&y.classList.remove(u)}},e.prototype._bindSpectrum=function(){var t=this;(this.$colorInput=(0,a.default)(this.element).find(".fv__ui-picker-addButton")).on("click",(function(e){t.pdfUI.colorSpectrum.show(e.target,(function(e){var n=t.value||"transparent";t.setValue(e),t.disabled||t.trigger("change",e,t.getValue(),n)})),t.pdfUI.colorSpectrum.setDefaultColor(t.value)}))},e.prototype.showTransparentColor=function(t){(0,a.default)(this.element).find("."+this.$options.transparentclass)[0].style.display=t?"inline-block":"none",this.transparent=t},e.prototype.doDestroy=function(){t.prototype.doDestroy.call(this)},e.prototype.doHidden=function(){t.prototype.doHidden.call(this),this.pdfUI.colorSpectrum.hide()},e}(o.default);function h(t){if(!t||0==t.length)return!0;var e=t.match(/rgba?\((\d*), (\d*), (\d*),? ?([\.0-9]*)?\)/);return e&&.299*e[1]+.578*e[2]+.114*e[3]>=192}e.default=d},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";var e="",n=(t=t||{}).i,r=t.j,i=t.colors,a=t.color,s=t.bc,c=o.$escape,u=t.transparent,l=t.showTrans,f=t.transparentclass,p=t.addclass,d=t.removeclass;e+='<ul class="fv__ui-colors-picker">\n';for(n=0,r=i.length;n<r;n++){s="",s="border-color:#e0e0e0";"delected"!=(a=i[n])&&(e+='\n  <li class="fv__ui-picker-color" data-index=\''),e+=c(n),e+="' style=\"background-color:",e+=c(a),e+=";",e+=c(s),e+='"></li>\n'}if(e+='\n<span class="fv__ui-sperator"></span>\n',!u)l="display:none";return e+='\n<li class="',e+=c(f),e+='" style="',e+=c(l),e+='">\n  <div style="height:100%;" class="fv__ui-picker-nocolor"></div>\n</li>\n<li class="',e+=c(p),e+=' fv__ui-picker-addcolor">\n  <input style="height:100%;width:100%;opacity:0;position:absolute;left:0;top:0;cursor: pointer;" class="fv__ui-picker-addButton"/>\n</li>\n<li class="',e+=c(d),e+=' fv__ui-picker-removecolor"></li>\n</ul>'}},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(15)),r=a(n(694));n(695);var i=a(n(3));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(){},u=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.currentHue=0,i.currentSaturation=0,i.currentValue=0,i.disabled=!1,i}return s(e,t),e.getName=function(){return"color-spectrum"},e.prototype.mounted=function(){var e=this.dom=(0,i.default)((0,r.default)());return(0,i.default)(document.body).append(e),this.$dragger=this.dom.find(".foxit-spectrum-color"),this.$draggerHelper=this.dom.find("#foxit-spectrum-color-dragger"),this.$slider=this.dom.find(".foxit-spectrum-hue"),this.$sliderHelper=this.dom.find("#foxit-spectrum-hue-slider"),this.$current=this.dom.find("#foxit-spectrum-current"),this.$active=this.dom.find("#foxit-spectrum-active"),this.$choose=this.dom.find("#foxit-spectrum-choose"),this.$cancel=this.dom.find("#foxit-spectrum-cancel"),this.bindEvent(),t.prototype.mounted.call(this)},e.prototype.bindEvent=function(){var t=this;this.$cancel.on("click touchstart",(function(){t.hide()})),this.$choose.on("click touchstart",(function(){t.hide(),(t.$options.chooseCallback||c)(f(t.currentHue,t.currentSaturation,t.currentValue))}));var e=this.$slider.height();this.sliderOffDrag=l(this.$slider[0],(function(n,o){t.currentHue=parseFloat(o/e),t.updateHueLocation(),t.active()}));var n=this.$dragger.height(),o=this.$dragger.width();this.draggerOffDrag=l(this.$dragger[0],(function(e,r){t.currentSaturation=parseFloat(e/o),t.currentValue=parseFloat((n-r)/n),t.updateColorLocation(),t.active()}))},e.prototype.setDefaultColor=function(t){var e=function(t){t=0===t?"ffffff":t.replace(/^[\s,#]+/,"").replace(/\s+$/,"").toLowerCase();var e,n=/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/.exec(t),o=d(f(n[1]),255),r=d(f(n[2]),255),i=d(f(n[3]),255),a=Math.max(o,r,i),s=Math.min(o,r,i),c=void 0,u=a,l=a-s;if(e=0===a?0:l/a,a==s)c=0;else{switch(a){case o:c=(r-i)/l+(r<i?6:0);break;case r:c=(i-o)/l+2;break;case i:c=(o-r)/l+4}c/=6}return{h:c,s:e,v:u};function f(t){return parseInt(t,16)}}(t);this.currentHue=e.h,this.currentSaturation=e.s,this.currentValue=e.v,this.$current.css({backgroundColor:t}),this.$active.css({backgroundColor:t}),this.updateHueLocation(),this.updateColorLocation()},e.prototype.show=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;if(!this.disabled){window.devicePixelRatio;var n=(0,i.default)(t),o=this.dom,r=n.offset(),a=(n.outerWidth(),n.outerHeight()),s=(o.offset(),o.outerWidth()),u=(o.outerHeight(),r.top+a),l=0;l=r.left+s>window.innerWidth?r.left-(r.left+s-window.innerWidth):r.left,o.css({display:"block",left:l,top:u+2}),this.$options.chooseCallback=e}},e.prototype.hide=function(){this.dom.css({display:"none"})},e.prototype.active=function(){var t=f(this.currentHue,this.currentSaturation,this.currentValue);this.$active.css({backgroundColor:t})},e.prototype.updateHueLocation=function(){var t=this.$slider.height(),e=this.$sliderHelper.height();this.$sliderHelper.css({top:t*this.currentHue-e});var n=p(this.currentHue,1,1);this.$dragger.css({backgroundColor:n})},e.prototype.updateColorLocation=function(){var t=this.$draggerHelper.outerHeight(),e=this.$draggerHelper.outerWidth(),n=this.$dragger.height(),o=this.$dragger.width();this.$draggerHelper.css({top:n-this.currentValue*n-t/2,left:this.currentSaturation*o-e/2})},e.prototype.destroy=function(){return this.sliderOffDrag(),this.draggerOffDrag(),this.$cancel.off("click touchstart"),this.$choose.off("click touchstart"),t.prototype.destroy.call(this)},e}(o.default);function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:c,r=t.ownerDocument||document,a=!1,s={},u=0,l=0,f="ontouchstart"in window;function p(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.returnValue=!1}function d(e){a||!1!==n.apply(t,arguments)&&(a=!0,u=(0,i.default)(t).height(),l=(0,i.default)(t).width(),s=(0,i.default)(t).offset(),(0,i.default)(r).on("touchmove mousemove",h),(0,i.default)(r).on("touchend mouseup",g),f||h(e),p(e))}function h(n){if(a){var o=n.originalEvent&&n.originalEvent.touches,r=o?o[0].pageX:n.pageX,i=o?o[0].pageY:n.pageY,c=Math.max(0,Math.min(r-s.left,l)),d=Math.max(0,Math.min(i-s.top,u));f&&p(n),e.apply(t,[c,d,n])}}function g(){a&&((0,i.default)(r).off("touchmove mousemove",h),(0,i.default)(r).off("touchend mouseup",g),o.apply(t,arguments)),a=!1}return(0,i.default)(t).on("touchstart mousedown",d),function(){(0,i.default)(t).off("touchstart mousedown",d)}}function f(t,e,n){return p(t,e,n)}function p(t,e,n){t=6*d(h(t),360),e=d(h(e),100),n=d(h(n),100);var o=Math.floor(t),r=t-o,i=n*(1-e),a=n*(1-r*e),s=n*(1-(1-r)*e),c=o%6;return"#"+function(t,e,n){var o=Math.round;return[r(o(t).toString(16)),r(o(e).toString(16)),r(o(n).toString(16))].join("");function r(t){return 1==t.length?"0"+t:""+t}}(255*[n,a,i,i,s,n][c],255*[s,n,n,a,i,i][c],255*[i,i,s,n,n,a][c])}function d(t,e){var n=Math.min,o=Math.max;(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var r=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(t);return t=n(e,o(0,parseFloat(t))),r&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function h(t){return t<=1&&(t=100*t+"%"),t}e.default=u},function(t,e,n){n(0);t.exports=function(t){"use strict";t=t||{};return'<div class="foxit-spectrum-wrapper" style="display:none;">\n    <div class="foxit-spectrum">\n        <div class="foxit-spectrum-color">\n            <div class="foxit-spectrum-gradientX">\n                <div class="foxit-spectrum-gradientY">\n                    <div id="foxit-spectrum-color-dragger">\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="foxit-spectrum-hue">\n            <div id="foxit-spectrum-hue-slider">\n            </div>\n        </div>\n    </div>\n    <div class="foxit-spectrum-tools">\n        <div class="foxit-spectrum-show">\n            <div id="foxit-spectrum-current">\n            </div>\n            <div id="foxit-spectrum-active">\n            </div>\n        </div>\n        <div class="foxit-spectrum-btns">\n            <button id="foxit-spectrum-cancel">Cancel</button>\n            <button id="foxit-spectrum-choose" name="foxit-spectrum-choose">Choose</button>\n        </div>\n    </div>\n</div>','<div class="foxit-spectrum-wrapper" style="display:none;">\n    <div class="foxit-spectrum">\n        <div class="foxit-spectrum-color">\n            <div class="foxit-spectrum-gradientX">\n                <div class="foxit-spectrum-gradientY">\n                    <div id="foxit-spectrum-color-dragger">\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="foxit-spectrum-hue">\n            <div id="foxit-spectrum-hue-slider">\n            </div>\n        </div>\n    </div>\n    <div class="foxit-spectrum-tools">\n        <div class="foxit-spectrum-show">\n            <div id="foxit-spectrum-current">\n            </div>\n            <div id="foxit-spectrum-active">\n            </div>\n        </div>\n        <div class="foxit-spectrum-btns">\n            <button id="foxit-spectrum-cancel">Cancel</button>\n            <button id="foxit-spectrum-choose" name="foxit-spectrum-choose">Choose</button>\n        </div>\n    </div>\n</div>'}},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(697);var o=a(n(698)),r=a(n(699)),i=a(n(68));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=(0,o.default)(),f=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.getName=function(){return"xselect"},e.getMetadata=function(){return{options:{editable:{type:"boolean",field:"isInEditState",defaultValue:!1},onInput:{type:"function",defaultValue:function(t){return t},args:["$inputValue"]},options:{type:"string"},textField:{type:"string",defaultValue:"value"},optionRender:{type:"function",defaultValue:function(t,e){return t[e.textField]}},textRender:{type:"function",defaultValue:function(t,e){return e.optionRender(t,e)}}}}},e.prototype.createDOMElement=function(){return document.createElement("div")},e.prototype.render=function(){t.prototype.render.call(this),this.element.classList.add("fv__ui-xselect"),this.element.innerHTML=l,this.optionsListElement=this.element.querySelector(".fv__ui-xselect-options-list"),this.textElement=this.element.querySelector("fv__ui-xselect-button-text"),this.btnElement=this.element.querySelector("fv__ui-xselect-button"),this.editElement=this.element.querySelector("fv__ui-xselect-edit")},e.prototype.edit=function(){this.btnElement.classList.add("editable"),this.isInEditState=!0},e.prototype.view=function(){this.btnElement.classList.remove("editable"),this.isInEditState=!1},e.prototype.append=function(e){if(!(e instanceof r.default))throw new TypeError("Illegal argument: unexpected child component type: <"+e.nodeName+"> for <xselect>");return t.prototype.append.call(this,e)},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this),this.addDestroyHook(this.controller.watch(this.options,(function(t,e){this.data=t,this.updateData(t,e)}),!0));var n=null,o=function(t){var o=t.target.closest("li"),r=o.getAttribute("index"),i=e.data[r],a=e.getValue();e.setValue(i),e.trigger("changed",i,a),o.classList.add("selected"),n&&n.classList.remove("selected"),n=o,t.stopPropagation()};this.optionsListElement.addEventListener("click",o),this.addDestroyHook((function(){return e.optionsListElement.removeEventListener("click",o)}))},e.prototype.setValue=function(t){this.value=t,this.textElement.innerText=this.textRender(t,this)},e.prototype.updateData=function(t){var e=this;if(this.optionsListElement.clear(),0!==t.length){var n=document.createDocumentFragment();t.forEach((function(t,o){var r=document.createElement("li");r.classList.add("fv__ui-xselect-option"),r.setAttribute("index",o);var i=e.optionRender(t,e);r.setAttribute("data-i18n",i),n.appendChild(r)})),this.optionsListElement.appendChild(n),-1==t.indexOf(this.value)&&this.setValue(t[0])}else this.setValue(null)},e}(i.default);e.default=f},function(t,e,n){},function(t,e,n){n(0);t.exports=function(t){"use strict";t=t||{};return'<div class="fv__ui-xselect-button">\n    <div class="fv__ui-xselect-button-text"></div>\n    <div class="fv__ui-xselect-button-edit">\n        <input type="text">\n    </div>\n    <div class="fv__ui-xselect-button-icon">\n        <i></i>\n    </div>\n</div>\n<ul class="fv__ui-xselect-options-list">\n</ul>','<div class="fv__ui-xselect-button">\n    <div class="fv__ui-xselect-button-text"></div>\n    <div class="fv__ui-xselect-button-edit">\n        <input type="text">\n    </div>\n    <div class="fv__ui-xselect-button-icon">\n        <i></i>\n    </div>\n</div>\n<ul class="fv__ui-xselect-options-list">\n</ul>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(15);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"xoption"},e.getMetadata=function(){return{options:{text:{type:"string"},value:{}}}},e.prototype.createDOMElement=function(){return document.createElement("li")},e.prototype.doActive=function(){this.parent.setValue(this.value)},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=c},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(168);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"contextmenu-item"},e.getMetadata=function(){return{options:{shortcut:{type:"string"}}}},e.prototype.render=function(){var e=document.createElement("span");e.classList.add("fv__ui-contextmenu-item-shortcut"),e.innerText=this.shortcut||"",this.element.appendChild(e),this.shortcutElement=e,t.prototype.render.call(this),this.addCSSClass("fv__ui-contextmenu-item")},e.prototype.appendTextElement=function(t){this.element.insertBefore(t,this.shortcutElement)},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this),this.addDestroyHook(this.on("click",(function(){e.parent.hide()})))},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(15);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"contextmenu-separator"},e.prototype.createDOMElement=function(){return document.createElement("div")},e.prototype.render=function(){t.prototype.render.call(this),this.element.classList.add("fv__ui-cotextmenu-separator")},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(122)),r=a(n(20)),i=n(5);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n,o,r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n.focus=!1,function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r))}return s(e,t),e.getName=function(){return"tooltip-layer"},e.prototype.setCurrentSelectionTool=function(t){this.selectionTool=t},e.prototype.getCurrentSelectionTool=function(){return this.selectionTool},e.prototype.showAt=function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.appendTo,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.default,s=!this.isVisible;this.element.style.cssText+="\n            left: "+e+"px;\n            top: "+n+"px;\n        ",t.prototype.show.call(this,o);var c=a(this.element);if(c){var u="";"number"==typeof c.left&&(u+="left: "+c.left+"px;"),"number"==typeof c.top&&(u+="top: "+c.top+"px;"),u.length&&(this.element.style.cssText+=u)}s||this.trigger(i.COMPONENT_EVENTS.SHOWN)},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=c(n(18));n(705);var r=c(n(706)),i=c(n(27)),a=n(17),s=n(9);function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l={};i.default.property(l,"dom",(function(){var t=document.createElement("div");t.innerHTML=(0,r.default)();var e=t.firstElementChild;return t.removeChild(e),e}));var f=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.taskExecutor=new a.DebounceAsyncTaskExecutor(10),"string"==typeof i.excludeDevicesString?i.excludeDevices=i.excludeDevicesString.split(/[,;\s]+/):i.excludeDevices=[],"string"==typeof i.includeDevicesString?i.includeDevices=i.includeDevicesString.split(/[,;\s]+/):i.includeDevices=[],i.addDestroyHook((function(){i.taskExecutor.destroy()})),i}return u(e,t),e.getName=function(){return"paddle"},e.getMetadata=function(){return{options:{orientation:{type:"enum",enums:["horizontal","vertical"],defaultValue:"horizontal"},"exclude-devices":{type:"string",field:"excludeDevicesString",required:!1},devices:{type:"string",field:"includeDevicesString",required:!1},canBeDisabled:{type:"boolean",defaultValue:!1}}}},e.prototype.createDOMElement=function(){return l.dom.cloneNode(!0)},e.prototype.prerender=function(){t.prototype.prerender.call(this),this.element.classList.add("fv__ui-paddle-"+this.orientation),this.leftButton=this.element.querySelector(".fv__ui-paddle-button-prev"),this.rightButton=this.element.querySelector(".fv__ui-paddle-button-next"),this.contentElement=this.element.querySelector(".fv__ui-paddle-content"),this.containerElement=this.contentElement.parentElement},e.prototype.getContainerElement=function(){return this.contentElement},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this),this.shouldWorking()?(this.attachEventToElement(this.leftButton,"click",(function(t){e.disabled||(e.containerElement.scrollLeft=0,e.updatePaddleState())})),this.attachEventToElement(this.rightButton,"click",(function(t){e.disabled||(e.containerElement.scrollLeft=e.contentElement.offsetWidth-e.containerElement.offsetWidth,e.updatePaddleState())})),this.attachEventToElement(window,"resize",(function(){e.taskExecutor.exec((function(){return e.updatePaddleState(),Promise.resolve()}))})),this.updatePaddleState()):this.element.classList.add("fv__ui-paddle-unavailable")},e.prototype.receiveBroadcast=function(e,n){t.prototype.receiveBroadcast.call(this,e,n),"active"===e&&this.updatePaddleState()},e.prototype.updatePaddleState=function(){var t=this,e=this.containerElement,n=function(e){t.element.setAttribute("overflow",e)};this.contentElement.offsetWidth>e.offsetWidth?0===e.scrollLeft?n("right"):n("left"):n("none")},e.prototype.shouldWorking=function(){var t=this.devices||[],e=this.excludeDevices||[],n=!1;if((t.length>0&&(n=t.some((function(t){return!!s.DEVICE_DETACTION[t]}))),!n)&&e.some((function(t){return!!s.DEVICE_DETACTION[t]})))return!1;return!0},e}(o.default);e.default=f},function(t,e,n){},function(t,e,n){n(0);t.exports=function(t){"use strict";t=t||{};return'<div class="fv__ui-paddle">\n    <div class="fv__ui-paddle-button fv__ui-paddle-button-prev">\n        <i></i>\n    </div>\n    <div class="fv__ui-paddle-content-container">\n        <div class="fv__ui-paddle-content"></div>\n    </div>\n    <div class="fv__ui-paddle-button fv__ui-paddle-button-next">\n        <i></i>\n    </div>\n</div>','<div class="fv__ui-paddle">\n    <div class="fv__ui-paddle-button fv__ui-paddle-button-prev">\n        <i></i>\n    </div>\n    <div class="fv__ui-paddle-content-container">\n        <div class="fv__ui-paddle-content"></div>\n    </div>\n    <div class="fv__ui-paddle-button fv__ui-paddle-button-next">\n        <i></i>\n    </div>\n</div>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfirmComponent=e.LoadingComponent=e.PromptPasswordComponent=e.PromptComponent=e.AlertComponent=void 0;var o=n(708);Object.defineProperty(e,"AlertComponent",{enumerable:!0,get:function(){return c(o).default}});var r=n(723);Object.defineProperty(e,"PromptComponent",{enumerable:!0,get:function(){return c(r).default}});var i=n(725);Object.defineProperty(e,"PromptPasswordComponent",{enumerable:!0,get:function(){return c(i).default}});var a=n(727);Object.defineProperty(e,"LoadingComponent",{enumerable:!0,get:function(){return c(a).default}});var s=n(729);function c(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"ConfirmComponent",{enumerable:!0,get:function(){return c(s).default}}),n(732)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(53)),r=i(n(721));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}n(722);var u=function(t){function e(){return a(this,e),s(this,t.apply(this,arguments))}return c(e,t),e.getName=function(){return"alert"},e.getMetadata=function(){return{options:{title:{type:"string",defaultValue:"common-dialogs.alert-title"},message:{type:"string",defaultValue:"common-dialogs.alert-message"},level:{type:"enum",enums:["info","warn","error"],defaultValue:"info"}}}},e.prototype.postlink=function(){var e=this;t.prototype.postlink.call(this),this.alertController=this.querySelector(">@div").controller,this.header=this.querySelector(">@div>@layer-header"),this.body=this.querySelector(">@div>@layer-view"),Object.assign(this.alertController,{ok:function(){e.hide()}})},e.prototype.append=function(e){this.body?(this.$container.append(e),this.body.append(e)):t.prototype.append.call(this,e)},e.prototype.removeChild=function(e){this.body?(this.$container.removeChild(e),this.body.removeChild(e)):t.prototype.removeChild.call(this,e)},e.prototype.mounted=function(){t.prototype.mounted.call(this),this.alertController.title=this.title,this.alertController.message=this.message,this.alertController.digest()},e.prototype.setTitle=function(t){"string"==typeof t&&(this.alertController.title=t,this.alertController.digest())},e.prototype.setIconType=function(t){("string"==typeof t||t)&&(this.alertController.iconType="fv__icon-dialog-level-"+t,this.alertController.digest())},e.prototype.setMessage=function(t){"string"==typeof t&&(this.alertController.message=t,this.alertController.digest())},e}(o.default.createSuperClass({template:(0,r.default)()}));e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(23);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.fragmentContent=n.fragmentContent,o}return i(e,t),e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=a},function(t,e,n){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0});var r=h(n(711)),i=n(5),a=h(n(712)),s=h(n(713)),c=h(n(714)),u=h(n(715)),l=h(n(716)),f=h(n(717)),p=h(n(718)),d=h(n(174));function h(t){return t&&t.__esModule?t:{default:t}}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.default=(g(o={},i.FRAGMENT_ACTION.PREPEND,r.default),g(o,i.FRAGMENT_ACTION.APPEND,c.default),g(o,i.FRAGMENT_ACTION.BEFORE,s.default),g(o,i.FRAGMENT_ACTION.AFTER,a.default),g(o,i.FRAGMENT_ACTION.REPLACE,u.default),g(o,i.FRAGMENT_ACTION.FILL,l.default),g(o,i.FRAGMENT_ACTION.EXT,f.default),g(o,i.FRAGMENT_ACTION.REMOVE,p.default),g(o,i.FRAGMENT_ACTION.INSERT,d.default),o)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){r.insertAt.call(this,t,e,0)};var o,r=n(174),i=n(23);(o=i)&&o.__esModule},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(!e.target)throw new Error("target name is missing!");Array.isArray(e.target)||(e.target=[e.target]);var n=e.config||[];Array.isArray(n)||(n=[n]);var o=this.templateParser,r={};n.forEach((function(t,e){if(!t.target)throw new Error("target name is required for fragment components ("+e+")");if(r[t.target])throw new Error("Duplicated target name: "+t.target);r[t.target]=t})),e.target.forEach((function(n){var a=t.querySelectorAll(n);(0,i.assertSelectorResult)(e,a,n),a.forEach((function(t){var n=e.template?o.parse(e.template):null;if(!n)throw new Error('invalid fragment template: "'+e.template+'"');n.appendComponentOptions(r[n.name]),t.after(n)}))}))};var o,r=n(23),i=((o=r)&&o.__esModule,n(77))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(!e.target)throw new Error("target name is missing!");Array.isArray(e.target)||(e.target=[e.target]);var n=e.config||[];Array.isArray(n)||(n=[n]);var o=this.templateParser,r={};n.forEach((function(t,e){if(!t.target)throw new Error("target name is required for fragment components ("+e+")");if(r[t.target])throw new Error("Duplicated target name: "+t.target);r[t.target]=t})),e.target.forEach((function(n){var a=t.querySelectorAll(n);(0,i.assertSelectorResult)(e,a,n),a.forEach((function(t){var n=e.template?o.parse(e.template):null;if(!n)throw new Error('invalid fragment template: "'+e.template+'"');n.appendComponentOptions(r[n.name]),t.before(n)}))}))};var o,r=n(23),i=((o=r)&&o.__esModule,n(77))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){r.insertAt.call(this,t,e,1/0)};var o,r=n(174),i=n(23);(o=i)&&o.__esModule},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=this;if(!e.target)throw new Error("target name is missing!");Array.isArray(e.target)||(e.target=[e.target]);var o=e.config||[];Array.isArray(o)||(o=[o]);var r={};o.forEach((function(t,e){if(!t.target)throw new Error("target name is required for fragment components ("+e+")");if(r[t.target])throw new Error("Duplicated target name: "+t.target);r[t.target]=t})),e.target.forEach((function(o){var a=t.querySelectorAll(o);(0,i.assertSelectorResult)(e,a,o),a.forEach((function(t){var i=e.template?n.templateParser.parse(e.template):null;if(!i)throw new Error('invalid fragment template: "'+e.template+'"');var a=function(t){var e=i.querySelectorAll(t),n=r[t];e.forEach((function(t){return t.appendComponentOptions(n)}))};for(var s in r)a(s);i&&(i.setAttribute("name",o),t.after(i),t.remove())}))}))};var o,r=n(23),i=((o=r)&&o.__esModule,n(77))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=this;if(!e.target)throw new Error("target name is missing!");Array.isArray(e.target)||(e.target=[e.target]);var o=e.config,r={};Array.isArray(o)?o.forEach((function(t){r[t.target]=t})):o&&(r[o.target]=o);e.target.forEach((function(o){var a=t.querySelectorAll(o);(0,i.assertSelectorResult)(e,a,o),a.forEach((function(t){var o=n.templateParser.parse(e.template,!1);t.clear(),o.forEach((function(e){e.appendComponentOptions(r[e.name]),t.append(e)}))}))}))};var o,r=n(23),i=((o=r)&&o.__esModule,n(77))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=function(t,e){var n=this;if(!e.target)throw new Error("target name is missing!");Array.isArray(e.target)||(e.target=[e.target]);e.target.forEach((function(o){var r=t.querySelectorAll(o);(0,a.assertSelectorResult)(e,r,o),r.forEach((function(t,o){s.call(n,t,e)}))}))};var r,i=n(23),a=((r=i)&&r.__esModule,n(77));function s(t,e){var n=e.config;if(n){n=Object.assign({},e.config);var r=t.componentOptions||{},i=n.callback,a=r.callback;switch(void 0===i?"undefined":o(i)){case"object":n.callback=a,n.proxyControllers=r.proxyControllers.concat(i);break;case"function":r.proxyControllers=[]}t.appendComponentOptions(n)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(!e.target)throw new Error("target name is missing!");Array.isArray(e.target)||(e.target=[e.target]);e.target.forEach((function(n){var o=t.querySelectorAll(n);(0,i.assertSelectorResult)(e,o,n),o.forEach((function(t){return t.remove()}))}))};var o,r=n(23),i=((o=r)&&o.__esModule,n(77))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(132);e.default=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parser=e.parser,this.templateParser=e.templateParser,this.localizer=e.localizer,this.store=new o.Store}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(23)),r=n(5),i=s(n(74)),a=s(n(18));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=(0,s(n(71)).default)("senior_slot_name"),l=function(t){function e(n,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var c=s.$$options.attrs,l=n.$$options.attrs,f=Object.assign({},l,c),p=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,{namespace:s.namespace,nodeName:s.nodeName,attrs:f,text:s.text,template:s.template}));if(n.children.forEach((function(t){p.append(t)})),i.default.isSubClassOf(n.getComponentClass(),a.default),s.children.length>0){var d=new o.default({namespace:r.ROOT_MODULE_NAME,nodeName:"slot",attrs:{for:u}});s.children.forEach((function(t){"slot"!==t.nodeName?d.append(t):p.append(t)})),p.append(d)}return p.extChildren=s.children,p}return c(e,t),e.getSeniorSlotName=function(){return u},e}(o.default);e.default=l},function(t,e,n){n(0);t.exports=function(t){"use strict";t=t||{};return'<layer modal @isolate class="fv__ui-ask-dialog center fv__ui-alert-dialog" append-to="body">\n    <div @controller.alias="alert">\n        <layer-header @set.title="alert.title" @set.icon="alert.iconType"></layer-header>\n        <layer-view slot="default" class="fv__ui-dialog-message">\n            <text @set.text="alert.message"></text>\n        </layer-view>\n        <layer-toolbar>\n            <xbutton class="fv__ui-dialog-ok-button" @on.click="alert.ok()">common-dialogs.ok</xbutton>\n        </layer-toolbar>\n    </div>\n</layer>','<layer modal @isolate class="fv__ui-ask-dialog center fv__ui-alert-dialog" append-to="body">\n    <div @controller.alias="alert">\n        <layer-header @set.title="alert.title" @set.icon="alert.iconType"></layer-header>\n        <layer-view slot="default" class="fv__ui-dialog-message">\n            <text @set.text="alert.message"></text>\n        </layer-view>\n        <layer-toolbar>\n            <xbutton class="fv__ui-dialog-ok-button" @on.click="alert.ok()">common-dialogs.ok</xbutton>\n        </layer-toolbar>\n    </div>\n</layer>'}},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(53)),r=a(n(724)),i=n(5);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}n(308);var l=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.getName=function(){return"prompt"},e.getMetadata=function(){return{options:{title:{type:"string",defaultValue:"common-dialogs.prompt-title"},message:{type:"string",defaultValue:"common-dialogs.prompt-title"}}}},e.prototype.postlink=function(){t.prototype.postlink.call(this),this.promptController=this.querySelector(">@div").controller,this.inputComponent=this.querySelector("fv__ui-prompt-value-editor"),this.okButtonComponent=this.querySelector("fv__ui-prompt-ok-button"),this.promptController.title=this.title,this.promptController.message=this.message,this.promptController.digest()},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this),this.on(i.COMPONENT_EVENTS.SHOWN,(function(){setTimeout((function(){e.inputComponent.focus(),e.inputComponent.element.select()}))}))},e.prototype.setTitle=function(t){this.promptController.title=t,this.promptController.digest()},e.prototype.setIconType=function(t){("string"==typeof t||t)&&(this.promptController.iconType="fv__icon-dialog-level-"+t,this.promptController.digest())},e.prototype.setMessage=function(t){this.promptController.message=t,this.promptController.digest()},e.prototype.getValue=function(){return this.inputComponent.getValue()},e.prototype.setValue=function(t){void 0!==t&&this.inputComponent.setValue(t)},e.prototype.disableOk=function(t){var e=this;if(t){this.okButtonComponent.lock();var n=function(){e.inputComponent.getValue()?e.okButtonComponent.unlock():e.okButtonComponent.lock()};this.inputComponent.element.addEventListener("input",n),this.once(i.COMPONENT_EVENTS.HIDDEN,(function(){e.inputComponent.element.removeEventListener("input",n)}))}},e}(o.default.createSuperClass({template:(0,r.default)()}));e.default=l},function(t,e,n){n(0);t.exports=function(t){"use strict";t=t||{};return'<layer modal @isolate append-to="body" backdrop class="fv__ui-ask-dialog center fv__ui-prompt-dialog" @isolate>\n    <div @controller="dialogs:PromptDialogController as prompt">\n        <layer-header @set.title="prompt.title" @set.icon="prompt.iconType"></layer-header>\n        <layer-view>\n            <div class="fv__ui-dialog-message fv__ui-prompt-message">\n                <text @set.text="prompt.message"></text>\n            </div>\n            <input name="fv__ui-prompt-value-editor">\n        </layer-view>\n        <layer-toolbar>\n            <xbutton class="fv__ui-dialog-cancel-button" name="fv__ui-prompt-cancel-button" @on.click="prompt.cancel()">common-dialogs.cancel</xbutton>\n            <xbutton class="fv__ui-dialog-ok-button" name="fv__ui-prompt-ok-button" @on.click="prompt.ok()">common-dialogs.ok</xbutton>\n        </layer-toolbar>\n    </div>\n</layer>','<layer modal @isolate append-to="body" backdrop class="fv__ui-ask-dialog center fv__ui-prompt-dialog" @isolate>\n    <div @controller="dialogs:PromptDialogController as prompt">\n        <layer-header @set.title="prompt.title" @set.icon="prompt.iconType"></layer-header>\n        <layer-view>\n            <div class="fv__ui-dialog-message fv__ui-prompt-message">\n                <text @set.text="prompt.message"></text>\n            </div>\n            <input name="fv__ui-prompt-value-editor">\n        </layer-view>\n        <layer-toolbar>\n            <xbutton class="fv__ui-dialog-cancel-button" name="fv__ui-prompt-cancel-button" @on.click="prompt.cancel()">common-dialogs.cancel</xbutton>\n            <xbutton class="fv__ui-dialog-ok-button" name="fv__ui-prompt-ok-button" @on.click="prompt.ok()">common-dialogs.ok</xbutton>\n        </layer-toolbar>\n    </div>\n</layer>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(53)),r=a(n(726)),i=n(5);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}n(308);var l=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.getName=function(){return"prompt-password"},e.getMetadata=function(){return{options:{title:{type:"string",defaultValue:"common-dialogs.prompt-title"},message:{type:"string",defaultValue:"common-dialogs.prompt-title"}}}},e.prototype.postlink=function(){t.prototype.postlink.call(this),this.promptController=this.querySelector(">@div").controller,this.inputComponent=this.querySelector("fv__ui-prompt-pwd-value-editor"),this.notifyComponent=this.querySelector("fv__ui-prompt-pwd-notify"),this.passwordSwicherIcon=this.querySelector("fv__ui-prompt-pwd-value-editor-toggler"),this.promptNotifyController=this.notifyComponent.controller,this.promptController.title=this.title,this.promptController.message=this.message,this.promptController.digest()},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this),this.on(i.COMPONENT_EVENTS.SHOWN,(function(){e.inputComponent.element.addEventListener("keydown",(function(t){if(t&&13===t.keyCode)return e.promptController.ok(),!1})),setTimeout((function(){e.inputComponent.focus(),e.inputComponent.element.select()}))}))},e.prototype.switchPassword=function(){var t=this.inputComponent.element;"password"===t.type?(t.type="text",this.passwordSwicherIcon.addCSSClass("fv__ui-prompt-hide-password"),this.passwordSwicherIcon.removeCSSClass("fv__ui-prompt-show-password")):(t.type="password",this.passwordSwicherIcon.addCSSClass("fv__ui-prompt-show-password"),this.passwordSwicherIcon.removeCSSClass("fv__ui-prompt-hide-password"))},e.prototype.setNotifyType=function(t){t?this.notifyComponent.addCSSClass(t):this.notifyComponent.element.className="notify"},e.prototype.setNotifyContent=function(t){this.promptController.notifyMessage=t,this.promptController.digest()},e.prototype.setTitle=function(t){this.promptController.title=t,this.promptController.digest()},e.prototype.setMessage=function(t){this.promptController.message=t,this.promptController.digest()},e.prototype.getValue=function(){return this.inputComponent.getValue()},e.prototype.setValue=function(t){void 0!==t&&this.inputComponent.setValue(t)},e}(o.default.createSuperClass({template:(0,r.default)()}));e.default=l},function(t,e,n){n(0);t.exports=function(t){"use strict";t=t||{};return'<layer modal @isolate append-to="body" backdrop class="fv__ui-ask-dialog center fv__ui-prompt-dialog fv__prompt-password">\n    <div @controller="dialogs:PromptDialogController as prompt">\n        <layer-header @set.title="prompt.title"></layer-header>\n        <layer-view>\n            <div class="fv__ui-prompt-message">\n                <text @set.text="prompt.message"></text>\n            </div>\n            <p class="notify" name="fv__ui-prompt-pwd-notify">\n                <text @set.text="prompt.notifyMessage"></text>\n            </p>\n            <div class="fv__ui-prompt-input-container">\n                <input name="fv__ui-prompt-pwd-value-editor" type="password">\n                <i name="fv__ui-prompt-pwd-value-editor-toggler" @on.click="prompt.switchPassword()" class="fv__ui-prompt-password-switcher fv__ui-prompt-show-password"></i>\n            </div>\n        </layer-view>\n        <layer-toolbar>\n            <xbutton class="fv__ui-dialog-cancel-button" @on.click="prompt.cancel()">common-dialogs.cancel</xbutton>\n            <xbutton class="fv__ui-dialog-ok-button" @on.click="prompt.ok()">common-dialogs.ok</xbutton>\n        </layer-toolbar>\n    </div>\n</layer>','<layer modal @isolate append-to="body" backdrop class="fv__ui-ask-dialog center fv__ui-prompt-dialog fv__prompt-password">\n    <div @controller="dialogs:PromptDialogController as prompt">\n        <layer-header @set.title="prompt.title"></layer-header>\n        <layer-view>\n            <div class="fv__ui-prompt-message">\n                <text @set.text="prompt.message"></text>\n            </div>\n            <p class="notify" name="fv__ui-prompt-pwd-notify">\n                <text @set.text="prompt.notifyMessage"></text>\n            </p>\n            <div class="fv__ui-prompt-input-container">\n                <input name="fv__ui-prompt-pwd-value-editor" type="password">\n                <i name="fv__ui-prompt-pwd-value-editor-toggler" @on.click="prompt.switchPassword()" class="fv__ui-prompt-password-switcher fv__ui-prompt-show-password"></i>\n            </div>\n        </layer-view>\n        <layer-toolbar>\n            <xbutton class="fv__ui-dialog-cancel-button" @on.click="prompt.cancel()">common-dialogs.cancel</xbutton>\n            <xbutton class="fv__ui-dialog-ok-button" @on.click="prompt.ok()">common-dialogs.ok</xbutton>\n        </layer-toolbar>\n    </div>\n</layer>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(53),i=(o=r)&&o.__esModule?o:{default:o};function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}n(728);var u=function(t){function e(){return a(this,e),s(this,t.apply(this,arguments))}return c(e,t),e.getName=function(){return"loading"},e.getMetadata=function(){return{options:{text:"string",animation:function(t,e){var n=t.$options,o=t.attrs,r=void 0;return e in n?r=n[e]:""===(r=(r=o[e])&&r.trim().toLowerCase())||"true"===r?r=!0:"false"===r&&(r=!1),void 0===r?"fv__ui-loading-svg":r}}}},e.prototype.show=function(e){var n=getComputedStyle(e).position;"static"===n&&(e.style.position="relative",this.addDestroyHook((function(){e.style.position=n}))),t.prototype.show.call(this,e)},e.prototype.postlink=function(){this.textElement=this.element.querySelector(".fv__ui-loading-text"),this.animElement=this.element.querySelector(".fv__loading-animation"),this.setAnimation(this.animation),this.setText(this.text),t.prototype.postlink.call(this)},e.prototype.setText=function(t){this.text=t||"",this.textElement.setAttribute("data-i18n",t),this.localize()},e.prototype.setAnimation=function(t){"string"==typeof t?(this.animElement.classList.remove(this.animation),this.animElement.classList.add(t)):t?this.animElement.classList.remove("fv__ui-loading-hidden"):this.animElement.classList.add("fv__ui-loading-hidden"),this.animation=t},e.prototype.localize=function(){return this.localizer.localizeElement(this.textElement)},e.prototype.sync=function(e,n){var o=t.prototype.sync.call(this,e,n);if(o)return o;switch(e){case"text":return this.setText(n),!0;case"animation":return this.setAnimation(n),!0}return!1},e}(i.default.createSuperClass({template:'\n        <layer class="fv__ui-loading-layer" backdrop>\n            <ul class="fv__loading-animation">\n                <li></li>\n                <li></li>\n                <li></li>\n                <li></li>\n                <li></li>\n            </ul>\n            <span class="fv__ui-loading-text"></span>\n        </layer>\n    '}));e.default=u},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(53)),r=a(n(730)),i=n(5);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}n(731);var l=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.getName=function(){return"confirm"},e.getMetadata=function(){return{options:{title:{type:"string",defaultValue:"common-dialogs.confirm-title"},message:{type:"string",defaultValue:"common-dialogs.confirm-title"}}}},e.prototype.postlink=function(){var e=this;t.prototype.postlink.call(this),this.confirmController=this.querySelector(">@div").controller;var n=!1;Object.assign(this.confirmController,{ok:function(){n=!0,e.trigger("confirm"),e.hide()},cancel:function(){e.hide()}}),this.on(i.COMPONENT_EVENTS.HIDDEN,(function(){n?n=!1:e.trigger("cancel")})),this.confirmController.title=this.title,this.confirmController.message=this.message,this.confirmController.digest()},e.prototype.setTitle=function(t){this.confirmController.title=t,this.confirmController.digest()},e.prototype.setIconType=function(t){("string"==typeof t||t)&&(this.confirmController.iconType="fv__icon-dialog-level-"+t,this.confirmController.digest())},e.prototype.setMessage=function(t){this.confirmController.message=t,this.confirmController.digest()},e}(o.default.createSuperClass({template:(0,r.default)()}));e.default=l},function(t,e,n){n(0);t.exports=function(t){"use strict";t=t||{};return'<layer modal @isolate append-to="body" backdrop class="fv__ui-ask-dialog center fv__ui-confirm-dialog">\n    <div @controller.alias="confirm">\n        <layer-header @set.title="confirm.title" @set.icon="confirm.iconType"></layer-header>\n        <layer-view>\n            <div class="fv__ui-dialog-message fv__ui-confirm-message">\n                <text @set.text="confirm.message"></text>\n            </div>\n        </layer-view>\n        <layer-toolbar>\n            <xbutton class="fv__ui-dialog-cancel-button" @on.click="confirm.cancel()">common-dialogs.cancel</xbutton>\n            <xbutton class="fv__ui-dialog-ok-button" @on.click="confirm.ok()">common-dialogs.ok</xbutton>\n        </layer-toolbar>\n    </div>\n</layer>','<layer modal @isolate append-to="body" backdrop class="fv__ui-ask-dialog center fv__ui-confirm-dialog">\n    <div @controller.alias="confirm">\n        <layer-header @set.title="confirm.title" @set.icon="confirm.iconType"></layer-header>\n        <layer-view>\n            <div class="fv__ui-dialog-message fv__ui-confirm-message">\n                <text @set.text="confirm.message"></text>\n            </div>\n        </layer-view>\n        <layer-toolbar>\n            <xbutton class="fv__ui-dialog-cancel-button" @on.click="confirm.cancel()">common-dialogs.cancel</xbutton>\n            <xbutton class="fv__ui-dialog-ok-button" @on.click="confirm.ok()">common-dialogs.ok</xbutton>\n        </layer-toolbar>\n    </div>\n</layer>'}},function(t,e,n){},function(t,e,n){"use strict";var o=i(n(12)),r=i(n(733));function i(t){return t&&t.__esModule?t:{default:t}}n(734),o.default.module("dialogs",[]).registerController(r.default)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(2),i=(o=r)&&o.__esModule?o:{default:o},a=n(5);function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.isConfirmed=!1,o}return s(e,t),e.getName=function(){return"PromptDialogController"},e.prototype.ok=function(){this.isConfirmed=!0,this.dialog.trigger("confirm",this.dialog.inputComponent.getValue()),this.dialog.hide()},e.prototype.cancel=function(){this.dialog.hide()},e.prototype.switchPassword=function(){this.dialog.switchPassword&&this.dialog.switchPassword()},e.prototype.mounted=function(){var t=this;this.dialog=this.component.parent,this.dialog.on(a.COMPONENT_EVENTS.HIDDEN,(function(){t.isConfirmed?t.isConfirmed=!1:t.dialog.trigger("cancel")}))},e}(i.default);e.default=c},function(t,e,n){},function(t,e,n){"use strict";var o=L(n(736)),r=L(n(12)),i=L(n(738)),a=L(n(744)),s=L(n(745)),c=L(n(746)),u=L(n(747)),l=L(n(748)),f=L(n(749)),p=L(n(751)),d=L(n(753)),h=L(n(754)),g=L(n(755)),m=L(n(756)),v=L(n(757)),y=L(n(758)),b=L(n(759)),w=L(n(760)),_=L(n(310)),P=L(n(761)),O=L(n(309)),E=L(n(762)),x=L(n(763)),C=L(n(764)),A=L(n(765)),S=L(n(766)),D=L(n(767)),R=L(n(312)),j=L(n(768)),T=L(n(769)),M=L(n(770)),I=L(n(771)),k=L(n(772)),F=L(n(774)),N=L(n(775));function L(t){return t&&t.__esModule?t:{default:t}}var V=r.default.root().getRegistry();V.registerDirective(o.default),V.registerDirective(i.default),V.registerDirective(_.default),V.registerDirective(a.default),V.registerDirective(y.default),V.registerDirective(w.default),V.registerDirective(s.default),V.registerDirective(c.default),V.registerDirective(O.default),V.registerDirective(u.default),V.registerDirective(l.default),V.registerDirective(f.default),V.registerDirective(p.default),V.registerDirective(d.default),V.registerDirective(h.default),V.registerDirective(g.default),V.registerDirective(m.default),V.registerDirective(v.default),V.registerDirective(b.default),V.registerDirective(E.default),V.registerDirective(x.default),V.registerDirective(C.default),V.registerDirective(A.default),V.registerDirective(S.default),V.registerDirective(D.default),V.registerDirective(R.default),V.registerDirective(P.default),V.registerDirective(j.default),V.registerDirective(T.default),V.registerDirective(M.default),V.registerDirective(I.default),V.registerDirective(k.default),V.registerDirective(F.default),V.registerDirective(N.default)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(10),i=(o=r)&&o.__esModule?o:{default:o};n(737);var a=n(9);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.getName=function(){return"tooltip"},e.prototype.init=function(e){t.prototype.init.call(this,e);var n=this.node,o=this.directiveOption;this.title=o.title||n.getAttribute("tooltip-title"),this.desc=o.desc||n.getAttribute("tooltip-desc"),this.delay=o.delay||parseInt(n.getAttribute("tooltip-delay"))||500,this.duration=o.duration||parseInt(n.getAttribute("tooltip-duration"))||1/0,this.anchorSelector=o.enchor||n.getAttribute("tooltip-anchor"),this.placement=o.placement||n.getAttribute("tooltip-placement")||"bottom"},e.prototype.afterComponentRender=function(){var t=this.component,e=document.createElement("dl");if(e.classList.add("fv__ui-directive-tooltip-tip","fv__ui-tooltip-placement-"+this.placement),this.title){var n=document.createElement("dt");n.className="fv__ui-directive-tooltip-title",n.setAttribute("data-i18n",this.title),e.appendChild(n)}if(this.desc){var o=document.createElement("dd");o.className="fv__ui-directive-tooltip-desc",o.setAttribute("data-i18n",this.desc||""),e.appendChild(o)}if(this.anchorSelector)try{var r=this.controller.compileCode(this.anchorSelector)({component:t});r&&(Array.isArray(r)?this.anchors=r:r instanceof Element&&(this.anchors=[r]))}catch(e){this.anchors=t.element.querySelectorAll(this.anchorSelector)}this.anchors&&0!==this.anchors.length||(this.anchors=[t.getTooltipAnchor()]),this.localizer.localizeRecursive(e),this.tipElement=e},e.prototype.showTip=function(t){var e=this,n=this.tipElement;this.localizer.localizeRecursive(n).then((function(){e.hideTipIfAnchorIsHidden(t),document.body.appendChild(n),e.tipElement.style.cssText="";var o=t.getBoundingClientRect(),r=n.getBoundingClientRect();switch(e.placement){case"top":n.style="\n                        top: "+(o.top-r.height-8)+"px;\n                        left: "+(o.left-r.width/2+o.width/2)+"px;\n                    ";break;case"bottom":n.style.cssText="\n                        top: "+(o.bottom+8)+"px;\n                        left: "+(o.left-r.width/2+o.width/2)+"px;\n                    ";break;case"right":n.style.cssText="\n                        left: "+(o.right+8)+"px;\n                        top: "+(o.top+o.height/2-r.height/2)+"px;\n                    ";break;case"left":n.style.cssText="\n                        left: "+(o.left-r.width-8)+"px;\n                        top: "+(o.top+o.height/2-r.height/2)+"px;\n                    "}}))},e.prototype.hideTip=function(){this.tipElement.remove(),this.stopCheckAnchor()},e.prototype.hideTipIfAnchorIsHidden=function(t){var e=this;this.stopCheckAnchor(),this.anchorVisibilityCheckingTimmerId=setInterval((function(){0===t.getClientRects().length&&e.hideTip()}),100)},e.prototype.stopCheckAnchor=function(){void 0!==this.anchorVisibilityCheckingTimmerId&&(clearInterval(this.anchorVisibilityCheckingTimmerId),this.anchorVisibilityCheckingTimmerId=void 0)},e.prototype.componentMounted=function(){var t=this;if(!a.isMobile&&!a.isTablet){var e=void 0,n=void 0,o=function(){clearTimeout(e),clearTimeout(n),t.hideTip()};this.anchors.forEach((function(r){var i=function(o){if(window.onlineGlobals&&window.onlineGlobals.showAllTooltip||!t.component.disabled){var i=o.clientX,a=o.clientY,s=r.getBoundingClientRect();i<s.left||i>s.right||a<s.top||a>s.bottom||(o.stopPropagation(),e=setTimeout((function(){t.showTip(r),isFinite(t.duration)&&(n=setTimeout((function(){t.hideTip()}),t.duration))}),t.delay))}};r.addEventListener("mouseover",i),r.addEventListener("mouseout",o),t.addDestroyHook((function(){r.removeEventListener("mouseover",i),r.removeEventListener("mouseout",o)}))})),this.addDestroyHook((function(){t.stopCheckAnchor()}))}},e}(i.default);e.default=l},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=l(n(10)),r=l(n(7)),i=l(n(739)),a=l(n(740)),s=l(n(741)),c=l(n(742)),u=l(n(743));function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var h=r.default.getLogger("directive/bind"),g=function(t){function e(){return f(this,e),p(this,t.apply(this,arguments))}return d(e,t),e.getName=function(){return"bind"},e.prototype.componentPrelink=function(){var t=void 0;if(this.subName.match(/^attr\..+/)){var e=this.subName.replace("attr.","");t=new i.default(this.component,e)}else switch(this.subName){case"text":t=new a.default(this.component);break;case"value":t=new s.default(this.component);break;case"html":h.error("unsurpported bind type: "+this.subName);break;case"disable":case"visible":case"active":t=new u.default(this.component,this.subName);break;default:t=new c.default(this.component,this.subName)}this.controller.getDataSource(this.attrValue).connect(t)},e}(o.default);e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(67);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r.component=n,r.attrName=o,r}return i(e,t),e.prototype.receive=function(t,e){this.component.setAttribute(this.attrName,t)},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(67);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return o.component=n,o}return i(e,t),e.prototype.receive=function(t){this.component.setText(t)},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(67);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return o.component=n,o.supported="function"==typeof n.setValue,o}return i(e,t),e.prototype.receive=function(t){this.supported&&this.component.setValue(t)},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(67);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r.target=n,r.propName=o,r.setterMethodName="set"+o.replace(/(^\-?.)|(\-.)/g,(function(t){return(t=2===t.length?t[1]:t).toUpperCase()})),r}return i(e,t),e.prototype.receive=function(t){var e=this.target[this.setterMethodName];"function"==typeof e?e.call(this.target,t):this.target[this.propName]=t},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(67);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r.component=n,r.type=o,r}return i(e,t),e.prototype.receive=function(t){switch(this.type){case"disable":t?this.component.disable():this.component.enable();break;case"visible":t?this.component.show():this.component.hide();break;case"active":t?this.component.active():this.component.deactive()}},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(10);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"on"},e.prototype.componentMounted=function(){var t=this.component,e=this.controller,n=0===this.subName.indexOf("native."),o=void 0;if(/^\s*\w+(\.\w+)*\s*$/.test(this.attrValue)){this.attrValue=this.attrValue.trim();var r=function(t,e){for(var n=e.split("."),o=0;o<n.length;o++)if(null==(t=t[n[o]]))return t;return t},i=r(e,this.attrValue)||r(e.data,this.attrValue)||r(e.methods,this.attrValue);if(!i)throw new Error("event handler not found: "+this.attrValue+" ,component: <"+t.nodeName+">");o=function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return i.apply(e,n)}}else{var a=e.compileCode(this.attrValue);o=n?function(t){a.call(null,{$event:t})}:function(){a.call(null,{$event:event})}}if(n){var s=this.subName.substring("native.".length);t.element.addEventListener(s,o),this.addDestroyHook((function(){return t.element.removeEventListener(s,o)}))}else this.addDestroyHook(t.on(this.subName,o))},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(10)),r=i(n(40));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(){return a(this,e),s(this,t.apply(this,arguments))}return c(e,t),e.getName=function(){return"isolate"},e.prototype.init=function(e){t.prototype.init.call(this,e),this.order=1/0,e.controller.setParentScope=r.default},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=u(n(10)),i=u(n(67)),a=(u(n(15)),u(n(7))),s=n(5),c=u(n(309));function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var h=/^(?:(\w+)\s+in\s+)?([\$\w]+(\.[\$\w]+)?)(?:\s+track\s+by\s+(.+))?\s*$/,g=a.default.getLogger("@foreach"),m=0,v=function(t){function e(n,o,r){f(this,e);var i=p(this,t.call(this));return i.directive=n,i.parser=o,i.initData=r,i.componentMap={},i.components=[],i.insertIndex=n.parentComponent.size(),i.parentController=n.parentComponent.controller,i}return d(e,t),e.prototype.receive=function(t){Array.isArray(t)?this.directive.trackby?this.insertWithTracking(t):this.replaceAll(t):g.warn("data is not an array: ",t)},e.prototype.replaceAll=function(t){var e=this,n=t.map((function(t,n){var o,r=Object.assign((l(o={},e.directive.itemName,t),l(o,"$index",n),o),e.initData||{});return e.parser.parseNode(e.directive.cloneNode(),e.directive.parentComponent,r)}));this.components.forEach((function(t){t.destroy()})),this.components=n,this.directive.parentComponent.insertAll(this.components,this.insertIndex),n.forEach((function(t){t.localize(),t.isMounted||t.mounted()}))},e.prototype.insertWithTracking=function(t){var e=this,n=this.componentMap,o={},r=[],i=t.map((function(t,i){var a,s=e.parentController.eval(e.directive.trackby,t);if(o[s])throw new Error("Duplicated tracking value: "+s+", track by "+e.directive.trackby);var c=Object.assign((l(a={},e.directive.itemName,t),l(a,"$index",i),a),e.initData||{}),u=n[s];return u?(Object.assign(u.controller.data,c),u.controller.digest(),delete n[s]):(u=e.parser.parseNode(e.directive.cloneNode(),e.directive.parentComponent,c),r.push(u)),o[s]=u,u}));for(var a in n){if(!o[a])n[a].destroy()}this.componentMap=o,this.directive.parentComponent.insertAll(i,this.insertIndex),r.forEach((function(t){t.localize(),t.isMounted||t.mounted()}))},e}(i.default),y=function(t){function e(n){f(this,e);var r=p(this,t.call(this,n));if(!r.node.parent)throw new Error("Unsupported operation: @foreach directive is not supported for root node.");var i=r.parseForeachExpression(r.attrValue),a=o(i,3),c=a[0],u=a[1],l=a[2];return r.itemName=c||"$item",r.dataName=u,r.trackby=l,r.id="directive-"+m++,r.parentComponent.once(s.COMPONENT_EVENTS.DESTROYED,(function(t){r.destroy()})),r}return d(e,t),e.getName=function(){return"foreach"},e.isParser=function(){return!0},e.prototype.parseForeachExpression=function(t){var e=t.match(h);if(!e)throw new Error("incorrect foreach expression: "+t);var n=o(e,5);return[n[1],n[2],n[4]]},e.prototype.parseComponent=function(t,e){var n=new v(this,t,e),o=this.parentComponent.controller.watch(this.dataName,(function(t,e){n.receive(t,e)}));this.addDestroyHook(o),this.parentComponent.controller.digest()},e.prototype.cloneNode=function(){var t=this.node.clone();return t.directives=this.node.directives.filter((function(t){return"foreach"!==t.directiveName})),t.directives.push({attrName:c.default.getName(),ns:s.ROOT_MODULE_NAME,directiveName:c.default.getName(),subName:"",attrValue:""}),t},e}(r.default);e.default=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(10)),r=a(n(12)),i=n(5);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=/^((?:.+?\:)?\w+)(?:\s+as\s+(\w+))?$/,u=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));switch(o.isSettingAlias=!1,o.subName){case"alias":o.aliasName=o.attrValue,o.isSettingAlias=!0;break;default:var r=o.attrValue.trim().match(c);if(!r)throw new Error("Incorrect @controller format: "+o.attrValue);o.controllerName=r[1],o.aliasName=r[2]}return o}return s(e,t),e.getName=function(){return"controller"},e.prototype.processComponentOptions=function(t){if("function"!=typeof t.callback&&!this.isSettingAlias){var e=this.controllerName,n=e.split(i.NAMESPACE_SEPERATOR),o=this.node.module;n.length>1&&(o=r.default.module(n[0]));var a=o.getControllerClass(n.pop())||t.callback;if(!a)throw new Error("controller not found: "+e);t.callback=a}},e.prototype.init=function(e){t.prototype.init.call(this,e),e.controller.data[this.aliasName]=e.controller},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(10);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"if"},e.isParser=function(){return!0},e.prototype.parseComponent=function(t){var e=this,n=this.parentComponent,o=n.size();n.controller.eval(this.attrValue);var r=void 0;n.controller.watch(this.attrValue,(function(i){if(i){var a=t.parseNode(e.node,n);n.insert(a,o),r=a}else r&&r.destroy()}))},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(10)),r=i(n(7));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}n(750);var s=r.default.getLogger("@draggable"),c=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n))}return a(e,t),e.getName=function(){return"draggable"},e.prototype.init=function(e){t.prototype.init.call(this,e),this.dragOptions=this.attrValue?e.controller.eval(this.attrValue):{}},e.prototype.componentMounted=function(){var t=this.component.element,e=this._resolveMoveTarget();if(e){if(e.classList.add("fv__ui-draggable-target"),t.classList.add("fv__ui-draggable-action"),e.parentElement){var n=e.parentElement,o=getComputedStyle(n);o.position&&"static"!==o.position||(n.style.cssText+="position: relative")}var r=new Hammer.Manager(t);r.add(new Hammer.Pan);var i=void 0,a=void 0,c=void 0,u=!0,l=this.dragOptions.overflow||"stop",f=function(n){if(!t.$isResizing){var o=e.offsetWidth,r=e.offsetHeight,s=i+n.deltaX,u=a+n.deltaY;c&&"ignore"!==l&&(s=Math.max(0,Math.min(s,c.right-o)),u=Math.max(0,Math.min(u,c.height-r))),e.style.cssText+="left: "+s+"px; top: "+u+"px; right: auto; bottom: auto;"}};r.on("panstart",(function(t){if(u=function(t){for(;t;){if(t.$$DRAG_STOPPED$$)return!1;t=t.parentElement}return!0}(t.target)){c=e.parentElement.getBoundingClientRect();var n=e.getBoundingClientRect();i=n.left-c.left,a=n.top-c.top,e.style.cssText+="\n                transform: translateX(0) translateY(0);\n                left: "+i+"px;\n                top: "+a+"px;\n                right: auto;\n                bottom: auto;\n            ",f(t)}})),r.on("panmove",(function(t){u&&f(t)})),r.on("panend",(function(e){u&&(t.$isResizing||(f(e),i+=e.deltaX,a+=e.deltaY))})),this.addDestroyHook((function(){return r.destroy()}))}else s.warn("cannot found the move target of @draggable directive! options: ",this.dragOptions)},e.prototype._resolveMoveTarget=function(){var t=this.dragOptions,e=t.type,n=t.target,o=this.component.element;switch(e){case"selector":return o.querySelector(n);case"closest":var r=this.component.getClosestComponentByName(n);return r?r.element:void 0;case"parent":var i=n?this.component.getClosestComponentByType(n):this.component.parent;return i?i.element:void 0;case"child":return this.component.getComponentByName(n);default:return o}},e}(o.default);e.default=c},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(10),i=(o=r)&&o.__esModule?o:{default:o};function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}n(752);var u=function(t){function e(){return a(this,e),s(this,t.apply(this,arguments))}return c(e,t),e.getName=function(){return"resizable"},e.prototype.init=function(e){t.prototype.init.call(this,e),this.attrValue.length>0&&(this.resizeOptions=e.controller.eval(this.attrValue)),this.resizeOptions||(this.resizeOptions={})},e.prototype.componentMounted=function(){var t=this.resizeOptions,e=t.minWidth,n=t.maxWidth,o=t.minHeight,r=t.maxHeight;isFinite(e)||(e=10),isFinite(o)||(o=10),n||(n=1/0),r||(r=1/0),n<e&&(n=e),r<o&&(r=o);var i=this.component,a=this.component.element,s=getComputedStyle(a);a.classList.add("fv__ui-resizable");var c=document.createElement("div");c.classList.add("fv__ui-resizable-action");var u=new Hammer.Manager(c);u.add(new Hammer.Pan);var l=parseFloat(s.width),f=parseFloat(s.height),p=function(t){a.$isResizing=!0;var s=Math.min(n,Math.max(e,l+t.deltaX)),c=Math.min(r,Math.max(o,f+t.deltaY));a.style.cssText+="width: "+s+"px; height: "+c+"px",i.trigger("resize",s,c)};u.on("panstart",(function(t){var e=getComputedStyle(a);l=parseFloat(e.width),f=parseFloat(e.height),p(t)})),u.on("panmove",p),u.on("panend",(function(t){p(t),l=Math.min(n,Math.max(e,l+t.deltaX)),f=Math.min(r,Math.max(o,f+t.deltaY)),setTimeout((function(){a.$isResizing=!1}),0)})),a.appendChild(c),this.addDestroyHook((function(){return u.destroy()})),this.addDestroyHook((function(){return a.removeChild(c)}))},e}(i.default);e.default=u},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(10)),r=s(n(68)),i=s(n(7)),a=s(n(67));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var f=i.default.getLogger("@model"),p=function(t){function e(n){c(this,e);var o=u(this,t.call(this,n));return o.modelOptions={updateOn:"change"},o}return l(e,t),e.getName=function(){return"model"},e.prototype.init=function(e){if(e instanceof r.default){t.prototype.init.call(this,e);var n=e.controller.getDataSource(this.attrValue);this.addDestroyHook(n.connect(new(function(t){function n(){return c(this,n),u(this,t.apply(this,arguments))}return l(n,t),n.prototype.receive=function(t){e.setValue(t)},n}(a.default)))),this.watchComponentChange()}else f.warn(e,"is not a form field type component!")},e.prototype.watchComponentChange=function(){var t=this.controller.getDataSource(this.attrValue);this.offComponentUpdateEvents=this.component.on(this.modelOptions.updateOn,(function(e){t.subject[t.part]=e}))},e.prototype.updateOptions=function(t){var e=this.modelOptions.updateOn;t&&Object.assign(this.modelOptions,t),e!==this.modelOptions.updateOn&&(this.offComponentUpdateEvents(),this.watchComponentChange())},e}(o.default);e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(10));function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=r(n(7)).default.getLogger("@model-options"),s=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n))}return i(e,t),e.getName=function(){return"model-options"},e.prototype.init=function(e){t.prototype.init.call(this,e);var n=e.getDirectiveByName("model");if(n){var o=e.controller.watch(this.attrValue,(function(t){n.updateOptions(t)}));this.addDestroyHook(o)}else a.warn("@model-option directive will do nothing without @model directive")},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(10)),r=i(n(20));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(){return a(this,e),s(this,t.apply(this,arguments))}return c(e,t),e.isParser=function(){return!1},e.getName=function(){return"cannotBeDisabled"},e.prototype.init=function(e){if(t.prototype.init.call(this,e),e.enable(),e.isContainer()){e.disable=function(){this.children().forEach((function(t){return t.disable()}))};var n=e.enable;e.enable=function(){if(e.disabled)return n.call(this);this.children().forEach((function(t){return t.enable()}))}}else e.disable=r.default},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(10),i=(o=r)&&o.__esModule?o:{default:o},a=n(5);function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c={},u=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n))}return s(e,t),e.getName=function(){return"single-active"},e.prototype.componentMounted=function(){var t=this;this.addDestroyHook(this.component.on(a.COMPONENT_EVENTS.ACTIVE,(function(e){var n=c[t.attrValue];n&&n!==t.component&&n.deactive(),c[t.attrValue]=t.component})))},e}(i.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(10);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.order=1/0,o}return i(e,t),e.getName=function(){return"init"},e.prototype.init=function(e){t.prototype.init.call(this,e),e.controller.eval(this.attrValue,{})},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(10);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"hammer"},e.prototype.init=function(e){t.prototype.init.call(this,e),this.hammer=e.$hammer||(e.$hammer=new Hammer(e.element));var n=this.transformEventNameToHammerRecogonizeName(this.subName);this.hammer.get(n).set({enable:!0})},e.prototype.componentMounted=function(){var t=this,e=this.component,n=this.controller,o=void 0;if(/^\s*\w+(\.\w+)*\s*$/.test(this.attrValue)){this.attrValue=this.attrValue.trim();var r=function(t,e){for(var n=e.split("."),o=0;o<n.length;o++)if(null==(t=t[n[o]]))return t;return t},i=r(n,this.attrValue)||r(n.data,this.attrValue)||r(n.methods,this.attrValue);if(!i)throw new Error("event handler not found: "+this.attrValue+" ,component: <"+e.nodeName+">");o=function(){for(var t=arguments.length,e=Array(t),o=0;o<t;o++)e[o]=arguments[o];return i.apply(n,e)}}else o=function(){for(var e=arguments.length,o=Array(e),r=0;r<e;r++)o[r]=arguments[r];n.eval(t.attrValue,{originArguments:o})};this.hammer.on(this.subName,o)},e.prototype.componentDestroyed=function(){t.prototype.componentDestroyed.call(this),this.hammer.destroy()},e.prototype.transformEventNameToHammerRecogonizeName=function(t){switch(t){case"panstart":case"pan":case"panmove":case"panend":case"pancancel":case"panleft":case"panright":case"panup":case"pandown":return"pan";case"pinch":case"pinchstart":case"pinchmove":case"pinchend":case"pinchcancel":case"pinchin":case"pinchout":return"pinch";case"press":case"pressup":return"press";case"rotate":case"rotatestart":case"rotatemove":case"rotateend":case"rotatecancel":return"rotate";case"swipe":case"swipeleft":case"swiperight":case"swipeup":case"swipedown":return"swipe";case"tap":return"tap";default:throw new Error("incorrect event name: "+this.subName)}},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(10);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"stop-drag"},e.prototype.componentMounted=function(){var t=this,e=function(e,n){var o=function(t){return t.stopPropagation()};e.addEventListener(n,o),t.addDestroyHook((function(){return e.removeEventListener(n,o)}))};this.component.element.$$DRAG_STOPPED$$=!0,this.component.element.closest(".fv__ui-draggable-target")&&(e(this.component.element,"pointerdown"),e(this.component.element,"mousedown"),e(this.component.element,"touchstart")),this.addDestroyHook((function(){delete t.component.element.$$DRAG_STOPPED$$}))},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(10);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"stop"},e.prototype.componentMounted=function(){var t=this,e=function(t){return t.stopPropagation()};this.component.element.addEventListener(this.subName,e),this.addDestroyHook((function(){return t.component.element.removeEventListener(t.subName,e)}))},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(310);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"set"},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=c},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _Directive2=__webpack_require__(10),_Directive3=_interopRequireDefault(_Directive2),_consts=__webpack_require__(5);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _defaults(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}return t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var PermissionDirective=function(_Directive){function PermissionDirective(){return _classCallCheck(this,PermissionDirective),_possibleConstructorReturn(this,_Directive.apply(this,arguments))}return _inherits(PermissionDirective,_Directive),PermissionDirective.getName=function(){return"permission"},PermissionDirective.prototype.componentMounted=function componentMounted(){var _this2=this;this.controller.pdfUI.getPDFDocRender().then((function(t){return t?t.getUserPermission().getValue():-2147483648})).then((function(permission){var orOperation="||";-1!=_this2.attrValue.indexOf("&&")&&(orOperation="&&");var enablePermissions=_this2.attrValue.split(orOperation),unlock=0;enablePermissions.map((function(value){unlock=eval(unlock+orOperation+(+value&permission))})),unlock?_this2.component.lock&&_this2.component.unlock():_this2.component.lock&&_this2.component.lock()}))},PermissionDirective}(_Directive3.default);exports.default=PermissionDirective},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(10),i=(o=r)&&o.__esModule?o:{default:o},a=n(9);function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));if(!o.node.parent)throw new Error("Unsupported operation: @device directive is not supported for root node");return o.supportedDevices=o.attrValue.split(/\W+/).map((function(t){return t.toLowerCase()})),o}return s(e,t),e.getName=function(){return"device"},e.isParser=function(){return!0},e.prototype.parseComponent=function(t,e){var n=this.supportedDevices;if(!(n.length<1||n.indexOf("all")>-1)&&n.some((function(t){return a.DEVICE_DETACTION[t]}))){var o=t.parseNode(this.cloneNode(),this.parentComponent,e);this.parentComponent.append(o)}},e.prototype.cloneNode=function(){var t=this.node.clone(!1);return t.directives=this.node.directives.filter((function(t){return"device"!==t.directiveName})),t},e}(i.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(10),i=(o=r)&&o.__esModule?o:{default:o};n(311);var a=n(9);function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.supportedDevices=o.attrValue.split(/\W+/).map((function(t){return t.toLowerCase()})),o}return s(e,t),e.getName=function(){return"hide-on-device"},e.prototype.afterComponentRender=function(){var t=this.component,e=this.supportedDevices,n=e.some((function(t){return a.DEVICE_DETACTION[t]}));if(e.length<1||e.indexOf("all")>-1||n){t.addCSSClass("fv__ui-directive-hide-on-device"),t.addCSSClass("devices-match"),this.addDestroyHook((function(){t.removeCSSClass("fv__ui-directive-hide-on-device"),t.removeCSSClass("devices-match")}))}},e}(i.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(10),i=(o=r)&&o.__esModule?o:{default:o};n(311);var a=n(9);function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.supportedDevices=o.attrValue.split(/\W+/).map((function(t){return t.toLowerCase()})),o}return s(e,t),e.getName=function(){return"display-on-device"},e.prototype.afterComponentRender=function(){var t=this.component,e=this.supportedDevices;if(!(e.length<1||e.indexOf("all")>-1)&&!e.some((function(t){return a.DEVICE_DETACTION[t]}))){t.addCSSClass("fv__ui-directive-display-on-device"),t.addCSSClass("none-devices-match"),this.addDestroyHook((function(){t.removeCSSClass("fv__ui-directive-display-on-device"),t.removeCSSClass("none-devices-match")}))}},e}(i.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=a(n(10)),i=a(n(1));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c={close:i.default.willCloseDocument,open:i.default.openFileSuccess,opening:i.default.openingFile,openfailed:i.default.openFileFailed},u=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n)),i=r.subName.split("."),a=o(i,2),s=a[0],u=a[1];if(!s||!u)throw new Error("Illegal directive syntax: "+r.attrName+". it should be like this: @trigon.open.disable");if(!c[s])throw new Error("Unsupported event name: "+s+", now supported events are following: "+JSON.stringify(Object.keys(c)));if(!r.actions[u])throw new Error("Unsupported action type: "+u+", now supported actions are following: "+JSON.stringify(Object.keys(r.actions)));return r.eventName=c[s],r.actionType=u,r}return s(e,t),e.getName=function(){return"trigon"},e.prototype.componentPostlink=function(){var t=this,e=this.actions[this.actionType].bind(this);this.component.getPDFUI().addViewerEventListener(this.eventName,(function(){var n=[];if(t.attrValue){var o=t.controller.eval(t.attrValue);n=Array.is(o)?o:[o]}e.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(n))}))},e}(r.default);e.default=u,u.prototype.actions={disable:function(){this.component.disable()},enable:function(){this.component.enable()},show:function(){this.component.show()},hide:function(){this.component.hide()},setText:function(t){this.component.setText(t)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(10)),r=s(n(312)),i=n(48),a=n(107);function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.id=o.subName,o}return c(e,t),e.getName=function(){return"contextmenu"},e.prototype.componentPostlink=function(){var t=this,e=this.component.directive.getDirectives(r.default.getName()),n=void 0;this.id&&(n=e.find((function(e){return e.subName===t.id}))),n||(n=e.find((function(t){return!t.subName})));var o=(0,a.attachContextMenuEvent)((function(e){var o=t.component.element,r=function(t){return!0};if(n){var i=n.getOptions();if("string"==typeof i.before&&(r=i.before),!(o=t.findTarget(i,e.target)))return}r(e,o)&&(t.targetContextmenu.setCurrentTarget(o),t.targetContextmenu.trigger("beforeshow",o),t.targetContextmenu.showAt(e.clientX,e.clientY),t.targetContextmenu.trigger("aftershow",o),e.stopPropagation(),e.preventDefault())}));this.addDestroyHook(o)},e.prototype.componentMounted=function(){if(this.targetContextmenu=this.component.getRoot().querySelector(this.attrValue),!(this.targetContextmenu instanceof i.ContextMenuComponent))throw new Error("Unexpected target contextmenu! It must be <contextmenu> component, but actual: <"+(this.targetContextmenu?this.targetContextmenu.nodeName:"not found")+">")},e.prototype.findTarget=function(t,e){var n=t.uixSelector,o=t.cssSelector;if("string"==typeof n){for(var r=this.component.querySelectorAll(n),i=function(){var t=e,n=void 0;for(;!n&&t;)n=t.getComponent(),t=t.parentElement;return n}();i&&-1===r.indexOf(i);)i=i.parent;return i}if("string"!=typeof o)return this.component.element;for(var a=e;a;){if(a.matches(o))return a;a=a.parentElement}},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(10)),r=i(n(12));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));if(!o.node.parent)throw new Error("Unsupported operation: @require-modules directive is not supported for root node");return o.requiredModules=o.attrValue.split(/[\s,;]+/).map((function(t){return t.toLowerCase()})),o}return a(e,t),e.getName=function(){return"require-modules"},e.isParser=function(){return!0},e.prototype.parseComponent=function(t,e){var n=this.requiredModules;if(!(n.length<1)&&!n.some((function(t){return!r.default.modules[t]}))){var o=t.parseNode(this.cloneNode(),this.parentComponent,e);this.parentComponent.append(o)}},e.prototype.cloneNode=function(){var t=this,e=this.node.clone(!1);return e.directives=this.node.directives.filter((function(e){return e.directiveName!==t.constructor.getName()})),e},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=c(n(10)),r=n(11),i=c(n(57)),a=n(28),s=c(n(8));function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var p=function(t){function e(){return u(this,e),l(this,t.apply(this,arguments))}return f(e,t),e.getName=function(){return"touch-to-scroll"},e.prototype.componentMounted=function(){var t=!1,e=!1,n=this.component.getPDFUI(),o=!1;n.getStateHandlerManager().then((function(e){o=e.getCurrentStates()===i.default,t=o})),n.addViewerEventListener(r.Events.switchStateHandler,(function(e){o=e===i.default,t=o})),n.addViewerEventListener(r.Events.disableScroll,(function(){t=!1})),n.addViewerEventListener(r.Events.enableScroll,(function(){t=o}));var c=this.component.element,u=function(t,e){c.scrollBy?c.scrollBy(t,e):(c.scrollLeft=c.scrollLeft+t,c.scrollTop=c.scrollTop+e)},l=new Hammer.Manager(c);l.add(new Hammer.Pan({direction:Hammer.DIRECTION_ALL}));var f=0,p=0,d=0,h=0,g=function(t){f=0,p=0},m=!1,v=!0,y=void 0,b=function(t){var n=(0,a.eventPath)(t).some((function(t){return!!t.classList&&t.classList.contains("fv__pdf-page-annots-container")}));e=n};window.addEventListener("mousedown",b,!0),window.addEventListener("touchstart",b,!0);var w,_=!1;l.on("panstart",(function(n){if(_=!1,t&&!e){var o=n.srcEvent.srcElement.classList;(o.contains("fv__pdf-page-handler-container")||o.contains("fv__hand-state-contextmenu-container"))&&(_=!0,w=n.srcEvent.srcElement),d=0,h=0,m=!1,v=!0,cancelAnimationFrame(y),n.pointers.length}})),l.on("panmove",(function(o){if(!_||w!==o.srcEvent.srcElement)return _=!1,void(w=null);var r,i;m||!t||e||(o.pointers.length>1||(r=o.deltaX,i=o.deltaY,t&&(u(-(r-f),-(i-p)),f=r,p=i,d=r,h=i,n.eventEmitter.emit(s.default.scrollingPage,{touched:!0,distanceX:d,distanceY:h}))))})),l.on("panend",(function(o){if(!_||w!==o.srcEvent.srcElement)return _=!1,void(w=null);if(!(o.pointers.length>1||!t||e)){var r=o.velocityX*(1e3/60),i=o.velocityY*(1e3/60);g();var a=r<0?-.8:.8,c=i<0?-.8:.8;v=!1,y=requestAnimationFrame((function t(){var e=Math.abs(r),o=Math.abs(i);e<.8&&o<.8||v?n.eventEmitter.emit(s.default.endScrollingPage,{distanceX:d,distanceY:h}):(y=requestAnimationFrame(t),u(-r,-i),e>=.8&&(r-=a),o>=.8&&(i-=c),d+=r,h+=i,n.eventEmitter.emit(s.default.scrollingPage,{touched:!1,distanceX:d,distanceY:h}))}))}})),l.on("pancancel",g);var P=function(){m=!0,g()};window.addEventListener("touchend",P),window.addEventListener("touchcancel",P),window.addEventListener("mouseup",P),this.addDestroyHook((function(){window.removeEventListener("touchend",P),window.removeEventListener("mouseup",P),window.removeEventListener("touchcancel",P),window.removeEventListener("mousedown",b),window.removeEventListener("touchstart",b)}))},e}(o.default);e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(10);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.binderName=o.attrValue,o.switchEventName=o.node.getAttribute("switch-binder-on")||"shown",o.exitEventName=o.node.getAttribute("exit-binder-on")||"hidden",o}return i(e,t),e.getName=function(){return"switch-binder"},e.prototype.componentMounted=function(){var t=this;this.component.getPDFUI().getPDFViewer().then((function(e){var n=void 0;t.addDestroyHook(t.component.on(t.switchEventName,(function(){n=e.keyboard.activeBinder(t.binderName)})),t.component.on(t.exitEventName,(function(){n()})))}))},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(10);function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n))}return a(e,t),e.getName=function(){return"class"},e.prototype.componentPrelink=function(){var t=this;this.addDestroyHook(this.controller.watch(this.attrValue,(function(e,n){var o=t.component.element.classList;if(n)switch(void 0===n?"undefined":r(n)){case"string":n.split(/\s+/).forEach((function(t){return o.remove(t)}));break;case"object":for(var i in n)n[i]&&o.remove(i)}if(e)switch(void 0===e?"undefined":r(e)){case"string":e.split(/\s+/).forEach((function(t){return o.add(t)}));break;case"object":for(var a in e)e[a]&&o.add(a)}})))},e}(((o=i)&&o.__esModule?o:{default:o}).default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(10)),r=i(n(19));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}n(773);var s=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.orientation="vertical"===o.attrValue?"vertical":"horizontal",o}return a(e,t),e.getName=function(){return"scrollable"},e.prototype.componentPrelink=function(){var t="fv__ui-directive-scrollable-"+this.orientation,e=this.component.element.classList;e.add(t),this.addDestroyHook((function(){e.remove(t)}))},e.prototype.componentMounted=function(){var t=this,e=this.component.element,n=new r.default(e);n.add(new r.default.Pan({direction:"vertical"===this.orientation?r.default.DIRECTION_VERTICAL:r.default.DIRECTION_HORIZONTAL}));var o=0,i=0,a=!1,s=function(t){var e=t.target;switch(e.nodeName){case"INPUT":case"TEXTAREA":a=!0;break;default:a="true"===e.contentEditable}};e.addEventListener("mousedown",s,{capture:!0}),n.on("panstart",(function(){o=e.scrollLeft,i=e.scrollTop,e.classList.add("fv__ui-scrollable-scrolling")})),n.on("panend",(function(){e.classList.remove("fv__ui-scrollable-scrolling"),a=!1})),n.on("panmove",(function(n){if(!a)switch(t.orientation){case"vertical":e.scrollTop=i-n.deltaY;break;default:e.scrollLeft=o-n.deltaX}})),this.addDestroyHook((function(){n.destroy(),e.removeEventListener("mousedown",s)}))},e}(o.default);e.default=s},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(10)),r=i(n(8));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}n(313);var s=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n))}return a(e,t),e.getName=function(){return"hide-on-sr"},e.prototype.afterComponentRender=function(){var t=this.component,e="fv__ui-directive-hide-on-sr-selector",n=t.getPDFUI();n.getPDFViewer().then((function(n){var o=n.config.engineMode;("SR"===o||"MIX"===o&&n.mixPdfJREngine)&&t.addCSSClass(e),n.mixPdfJREngine&&n.mixPdfJREngine.then((function(){t.removeCSSClass(e)}))})),this.addDestroyHook(n.addUIEventListener(r.default.toggleEngineSr2JrSuccess,(function(){t.removeCSSClass(e)})))},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(10)),r=i(n(8));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}n(313);var s=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n))}return a(e,t),e.getName=function(){return"grp-more-hide-on-sr"},e.prototype.afterComponentRender=function(){var t=this.component,e="fv__ui-directive-grp-more-hide-on-sr-selector",n=t.getPDFUI();n.getPDFViewer().then((function(n){var o=n.config.engineMode;("SR"===o||"MIX"===o&&n.mixPdfJREngine)&&t.addCSSClass(e),n.mixPdfJREngine&&n.mixPdfJREngine.then((function(){t.removeCSSClass(e)}))})),this.addDestroyHook(n.addUIEventListener(r.default.toggleEngineSr2JrSuccess,(function(){t.removeCSSClass(e)})))},e}(o.default);e.default=s},function(t,e,n){"use strict";n(777),n(808),n(809),n(810),n(813),n(814),n(826),n(827),n(832),n(839),n(844),n(847),n(855),n(859),n(861),n(866),n(905),n(908),n(915),n(920),n(922),n(926),n(930),n(933),n(1072)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=A(n(12)),r=A(n(314)),i=A(n(175)),a=A(n(176)),s=A(n(177)),c=A(n(178)),u=A(n(179)),l=A(n(180)),f=A(n(181)),p=A(n(182)),d=A(n(183)),h=A(n(184)),g=A(n(185)),m=A(n(186)),v=A(n(187)),y=A(n(189)),b=A(n(193)),w=A(n(194)),_=A(n(195)),P=A(n(124)),O=A(n(198)),E=A(n(199)),x=A(n(200)),C=A(n(320));function A(t){return t&&t.__esModule?t:{default:t}}var S=o.default.module("states",[]);[i.default,a.default,s.default,c.default,u.default,l.default,f.default,p.default,d.default,h.default,g.default,m.default,v.default,r.default,y.default,b.default,w.default,_.default,P.default,O.default,E.default,x.default,C.default].forEach((function(t){return S.registerController(t)})),e.default=S},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(11),i=n(35),a=(o=i)&&o.__esModule?o:{default:o},s=n(13),c=n(779);function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.cursorStyle="fv__cursor-crosshair",o}return u(e,t),e.getStateName=function(){return s.STATE_HANDLER_CREATE_CREATE_AREA_HIGHLIGHT},e.prototype.pageHandler=function(t){var e=this;this.pageRender=t,this.pageDestroyHooks=[];var n=t.$handler.get(0);t.$handler.addClass(this.cursorStyle);var o=this.hammer=new Hammer.Manager(n);o.add(new Hammer.Pan),o.on("panstart",(function(t){e.startPoint=(0,a.default)(n,t),e.start(e.startPoint)})),o.on("panmove",(function(t){return e.currentPoint={x:e.startPoint.x+t.deltaX,y:e.startPoint.y+t.deltaY},e.adjust(e.fakeAnnotation,e.startPoint,e.currentPoint)})),o.on("panend",(function(t){e.end(e.fakeAnnotation)})),o.on("pancancel",(function(t){return e.end(e.fakeAnnotation)})),this.pageDestroyHooks.push((function(){return o.destroy()}))},e.prototype.start=function(t){var e=t.x,n=t.y;return this.fakeAnnotation=new c.FakeAreaHighlightAnnotation({pdfViewer:this.pdfViewer,pageRender:this.pageRender,info:{flags:4}}),this.fakeAnnotation.setRect({left:e,right:e+1,top:n,bottom:n+1}),this.fakeAnnotation},e.prototype.adjust=function(t,e,n){var o=e.x,r=e.y,i=n.x,a=n.y,s=Math.min(o,i),c=Math.min(r,a),u=Math.max(o,i),l=Math.max(r,a);t.setRect({left:s,top:c,right:u,bottom:l}),t.draw()},e.prototype.end=function(t){t.apply()},e.prototype.destroyPageHandler=function(){this.fakeAnnotation&&this.fakeAnnotation.destroy(),this.pageDestroyHooks&&this.pageDestroyHooks.forEach((function(t){return t()})),this.pageRender.$handler.removeClass(this.cursorStyle)},e}(r.IStateHandler);e.default=l},function(t,e,n){"use strict";n.r(e),n.d(e,"FakeAreaHighlightAnnotation",(function(){return u}));var o,r=n(59),i=n(217),a=n.n(i),s=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(){return(c=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},u=function(t){function e(e){var n=t.call(this,e)||this;return n.annotationInfo.dicts=Object.assign({AreaHi:"AreaHi"},n.annotationInfo.dicts||{}),n}return s(e,t),e.prototype.setRect=function(e){t.prototype.setRect.call(this,e),this.annotationInfo.coords=[this.pdfRect],this.annotationInfo.quadPoints=[{x:this.pdfRect.left,y:this.pdfRect.top},{x:this.pdfRect.right,y:this.pdfRect.top},{x:this.pdfRect.right,y:this.pdfRect.bottom},{x:this.pdfRect.left,y:this.pdfRect.bottom}]},e.prototype.getDefaultAnnotInfo=function(){var e=t.prototype.getDefaultAnnotInfo.call(this);return e.borderColor=16776960,e},e.prototype.generateApRenderer=function(){return new a.a(this)},e.prototype.getType=function(){return"highlight"},e.prototype.getCreationJSON=function(){return c(c({},t.prototype.getCreationJSON.call(this)),{color:this.annotationInfo.borderColor})},e.prototype.getRenderingData=function(e,n){var o=t.prototype.getRenderingData.call(this,e,n);return c(c({},o),{coords:[o.outerDeviceRect],isArea:!0})},e}(r.a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=d(n(46)),i=d(n(19)),a=n(17),s=n(123),c=d(n(35)),u=n(13),l=d(n(70)),f=n(37),p=d(n(1));function d(t){return t&&t.__esModule?t:{default:t}}function h(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var m=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.cursorStyle="fv__cursor-insert-text",o}return g(e,t),e.getStateName=function(){return u.STATE_HANDLER_CREATE_CARET},e.prototype.pageHandler=function(t){var e=this;this.pageRender=t;var n=t.$handler;n.addClass(this.cursorStyle);var r=n[0],s=this.hammer=new i.default.Manager(r,{recognizers:[[i.default.Pan,{direction:i.default.DIRECTION_ALL}],[i.default.Tap]]}),u=void 0,d=-1,g=-1,m=void 0;s.on("panstart",(function(t){if(!1!==e.panStart(t,e)){d=-1,g=-1;var n=(0,c.default)(r,t);u=[n.x,n.y],e.hideSelectMark(),m=new a.DebouncePromiseQueue}})),s.on("panmove",(function(t){!1!==e.panMove(t,e)&&m.push((function(){var n=e.pageRender,r=[u[0]+t.deltaX,u[1]+t.deltaY];return e.getTextRect(u,r,d,g).then((function(t){var e;return(e=t[0])&&"string"==typeof e.text&&(d=e.start,g=e.end),Promise.all([n.getPDFPage(),t])})).then((function(t){var e=o(t,2),r=e[0],i=e[1];return n.transformRectArray(r,i)})).then((function(t){e.showSelectMark(t)}))}))})),s.on("panend",(function(n){if(!1!==e.panEnd(n,e)){m.end(),m=null;var r=[u[0]+n.deltaX,u[1]+n.deltaY];return e.getTextRect(u,r,d,g).then((function(n){var o;return(o=n[0])&&"string"==typeof o.text&&(d=o.start,g=o.end),e.hideSelectMark(),Promise.all([t.getPDFPage(),n])})).then((function(t){var n=o(t,2),r=n[0],i=n[1];if(i.length<1)return Promise.resolve();var a=i[i.length-1],s=void 0,c=void 0,u={};switch(a.rotation){case 0:c=2*(s=a.top-a.bottom)/5,u.left=a.right-c,u.right=a.right+c,u.top=(a.top+a.bottom)/2,u.bottom=u.top-s;break;case 3:s=4*(c=a.right-a.left)/5,u.left=(a.right+a.left)/2,u.right=u.left+c,u.top=a.top+s/2,u.bottom=u.top-s;break;case 2:c=2*(s=a.top-a.bottom)/5,u.left=a.left-c,u.right=a.left+c,u.bottom=(a.top+a.bottom)/2,u.top=u.bottom+s;break;case 1:s=4*(c=a.right-a.left)/5,u.right=(a.right+a.left)/2,u.left=u.right-c,u.top=a.bottom+s/2,u.bottom=u.top-s}return r.addAnnot({type:"caret",flags:4,rect:u,_rotate:a.rotation*Math.PI/2}).then((function(t){var n=t[0],o=e.pageRender.annotsRender.getAnnotRender(n.getId()).component;e.pdfViewer.eventEmitter.emit(p.default.addAnnotSuccess,o.annot),e.pageRender.annotsRender.activeAnnot(n.getId())}))}))}})),s.on("tap",(function(n){if(!1!==e.tap(n,e)){var o=r.getBoundingClientRect(),i=n.srcEvent,a=(0,f.getClientX)(i),s=(0,f.getClientY)(i),c=[a-o.left,s-o.top];return t.getPDFPage().then((function(n){var o=n.reverseDevicePoint([c[0],c[1]],t.scale,t.getRotation());return n.getCharInfoAtPoint(o).then((function(t){if(t){var o=t.top-t.bottom,r=t.bottom+o/2,i=(t.right+t.left)/2,a=new l.default;a.e=-i,a.f=-r;var s=(t.bottom+t.top)/2,c=s-o,u=t.right-3*o/8,f=t.right+3*o/8,d=a.transformRect(u,s,f,c),g=t.rotation*Math.PI/2;return a.reset(),a.rotate(-g),d=a.transformRect.apply(a,h(d)),a.reset(),a.e=i,a.f=r,d=a.transformRect.apply(a,h(d)),n.addAnnot({type:"caret",rect:{left:d[0],bottom:d[1],right:d[2],top:d[3]},_rotate:g}).then((function(t){var n=t[0],o=e.pageRender.annotsRender.getAnnotRender(n.getId()).component;e.pdfViewer.eventEmitter.emit(p.default.addAnnotSuccess,o.annot),e.pageRender.annotsRender.activeAnnot(n.getId())}))}}))}))}}))},e.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle),this.hideSelectMark()},e.prototype.out=function(){this.destroyPageHandler()},e.prototype.panStart=function(){},e.prototype.panMove=function(){},e.prototype.panEnd=function(){},e.prototype.tap=function(){},e.prototype.showSelectMark=function(t){(0,s.appendSelectMark)(this.pageRender.$handler,t)},e.prototype.hideSelectMark=function(){(0,s.removeSelectMark)(this.pageRender.$handler)},e.prototype.getTextRect=function(t,e,n,o){return this.pageRender.getTextContinueRectAtDevicePoints(t,e,n,o)},e}(r.default);e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=f(n(46)),i=f(n(19)),a=f(n(3)),s=f(n(57)),c=n(13),u=n(37),l=f(n(1));function f(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var d=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.cursorStyle="fv__cursor-file",o}return p(e,t),e.getStateName=function(){return c.STATE_HANDLER_CREATE_FILE_ATTACHMENT},e.prototype.pageHandler=function(t){this.pageRender=t;var e=t.$handler;e.addClass(this.cursorStyle),e.append('<input id="fileAttachment" type="file" style="display: none;"/>');var n=e[0];(this.hammer=new i.default.Manager(n,{recognizers:[[i.default.Tap]]})).on("tap",(function(e){var r=n.getBoundingClientRect(),i=e.srcEvent,c=(0,u.getClientX)(i),f=(0,u.getClientY)(i),p=[c-r.left,f-r.top],d=p[0],h=p[1];(0,a.default)("#fileAttachment").off("change").on("change",(function(e){var n=e.target.files[0];if(n)return t.getPDFPage().then((function(e){var r=new FileReader,i=e.reverseDevicePoint([d,h],t.scale,t.getRotation()),a=o(i,2),c=a[0],u=a[1];r.readAsArrayBuffer(n),r.onload=function(){var o=new Uint8Array(r.result),i=10,a=12;switch(e.getRotation()){case 1:case 3:var f=i;i=a,a=f}e.addAnnot({flags:4,type:"fileattachment",rect:{left:c-i,right:c+i,top:u+a,bottom:u-a},buffer:o,fileName:n.name,file:n}).then((function(e){var n=e[0],o=t.annotsRender.getAnnotRender(n.getId()).component;t.pdfViewer.eventEmitter.emit(l.default.addAnnotSuccess,o.annot),t.pdfViewer.getStateHandlerManager().switchTo(s.default.getStateName()),t.annotsRender.activeAnnot(n.getId())}))}}))})),(0,a.default)("#fileAttachment").click()}))},e.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle),(0,a.default)("#fileAttachment").remove()},e.prototype.out=function(){this.destroyPageHandler()},e}(r.default);e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(83),i=(o=r)&&o.__esModule?o:{default:o},a=n(13);function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.cursorStyle="fv__cursor-highlight",o}return s(e,t),e.getStateName=function(){return a.STATE_HANDLER_CREATE_HIGHLIGHT},e.prototype.addAnnot=function(t,e){return t.addAnnot({flags:4,type:"highlight",rect:{left:0,right:0,top:0,bottom:0},coords:e})},e}(i.default);e.default=c},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(11),r=f(n(19)),i=f(n(3)),a=f(n(35)),s=n(13),c=n(37),u=n(9),l=f(n(1));function f(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var d=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.cursorStyle="fv__cursor-crosshair",o}return p(e,t),e.getStateName=function(){return s.STATE_HANDLER_CREATE_IMAGE},e.prototype.pageHandler=function(t){var e=this;if(this.pageRender=t,u.isIOS)0===t.index&&(setTimeout((function(){e.pdfViewer.getStateHandlerManager().switchTo("hand")}),100),this.pdfViewer.viewerUI.alert("Unsupported now. Comming soon."));else{var n=t.$handler;n.addClass(this.cursorStyle);var o=this.$imageInput=(0,i.default)('<input id="imageInput" type="file" style="visibility: hidden;" accept="image/gif,image/jpeg,image/jpg,image/png,image/svg"/>');n.append(o);var s=n[0],c=this.hammer=new r.default.Manager(s,{recognizers:[[r.default.Pan,{direction:r.default.DIRECTION_ALL}]]}),f=void 0;c.on("panstart",(function(t){var e=(0,a.default)(s,t);f=[e.x,e.y]})),c.on("panmove",(function(t){var e=s.getBoundingClientRect(),o=t.srcEvent,r=h(f,e,o),a=["top:"+r.top+"px","left:"+r.left+"px","height:"+(r.bottom-r.top)+"px","width:"+(r.right-r.left)+"px","border:1px solid red","position:absolute"].join(";"),c=n.find(".fv__mark-image-blank");if(0===c.length){var u=(0,i.default)(document.createDocumentFragment());u.append('<div class="fv__mark-image-blank" style="'+a+'"></div>'),n.append(u)}else c.css({top:r.top,left:r.left,width:r.right-r.left,height:r.bottom-r.top})})),c.on("panend",(function(e){var o=s.getBoundingClientRect(),r=e.srcEvent,i=h(f,o,r);n.find(".fv__mark-image-blank").remove(),n.find("#imageInput").off("click"),n.find("#imageInput").off("change").on("change",(function(e){var n=e.target.files[0];return t.getPDFPage().then((function(o){var r=t.getRotation(),a=new FileReader,s=o.reverseDeviceRect(i,t.getScale(),r);a.readAsArrayBuffer(n),a.onload=function(){var n=new Uint8Array(a.result),i={0:0,90:1,180:2,270:3}[((o.getRotationAngle()+r)%360+360)%360];o.addAnnot({flags:4,type:"screen",rect:s,rotate:i,buffer:n}).then((function(n){e.target.value="";var o=n[0],r=t.annotsRender.getAnnotRender(o.getId()).component;t.pdfViewer.eventEmitter.emit(l.default.addAnnotSuccess,r.annot),t.annotsRender.activeAnnot(o.getId())}))}})).catch((function(t){}))})).click()}))}},e.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle),this.$imageInput&&this.$imageInput.remove()},e.prototype.out=function(){this.destroyPageHandler()},e}(o.IStateHandler);function h(t,e,n){var o=(0,c.getClientX)(n),r=(0,c.getClientY)(n),i=[o-e.left,r-e.top],a=t[0],s=t[1],u=i[0],l=i[1],f=void 0;return u<a&&(f=a,a=u,u=f),l<s&&(f=s,s=l,l=f),{left:a,top:s,right:u,bottom:l}}e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(11),r=p(n(19)),i=p(n(3)),a=p(n(35)),s=n(13),c=n(37),u=n(9),l=p(n(57)),f=p(n(1));function p(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var h=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.cursorStyle="fv__cursor-crosshair",o}return d(e,t),e.getStateName=function(){return s.STATE_HANDLER_CREATE_LINK},e.prototype.pageHandler=function(t){var e=this;this.pageRender=t;var n=t.$handler;n.addClass(this.cursorStyle);var o=n[0],s=this.hammer=new r.default.Manager(o,{recognizers:[[r.default.Pan,{direction:r.default.DIRECTION_ALL}]]}),c=void 0;s.on("panstart",(function(t){var e=(0,a.default)(o,t);c=[e.x,e.y]})),s.on("panmove",(function(t){var e=o.getBoundingClientRect(),r=t.srcEvent,a=g(c,e,r),s=["top:"+a.top+"px","left:"+a.left+"px","width:"+(a.bottom-a.top)+"px","height:"+(a.right-a.left)+"px","border:1px solid #0000FF","position:absolute"].join(";"),u=n.find(".fv__mark-link-blank");if(0===u.length){var l=(0,i.default)(document.createDocumentFragment());l.append('<div class="fv__mark-link-blank" style="'+s+'"></div>'),n.append(l)}else u.css({top:a.top,left:a.left,width:a.right-a.left,height:a.bottom-a.top})})),s.on("panend",(function(r){var i=o.getBoundingClientRect(),a=r.srcEvent,s=g(c,i,a);return t.getPDFPage().then((function(o){var r=o.reverseDeviceRect(s,t.getScale(),t.getRotation());o.addAnnot({type:"link",rect:r,color:"0000FF"}).then((function(o){n.find(".fv__mark-link-blank").remove();var r=e.pageRender.getAnnotRender(o[0].getId()).component;r.showActionsDialog(),u.isMobile&&e.pdfViewer.getStateHandlerManager().switchTo(l.default.getStateName()),t.pdfViewer.eventEmitter.emit(f.default.addAnnotSuccess,r.annot)}))}))}))},e.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle)},e.prototype.out=function(){this.destroyPageHandler()},e}(o.IStateHandler);function g(t,e,n){var o=(0,c.getClientX)(n),r=(0,c.getClientY)(n),i=[o-e.left,r-e.top],a=t[0],s=t[1],u=i[0],l=i[1],f=void 0;return u<a&&(f=a,a=u,u=f),l<s&&(f=s,s=l,l=f),{left:a,top:s,right:u,bottom:l}}e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=n(11),i=d(n(3)),a=d(n(35)),s=n(13),c=n(37),u=n(28),l=d(n(1)),f=n(4),p=d(n(69));function d(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var v=function(t){function e(){h(this,e);var n=g(this,t.apply(this,arguments));return n.cursorStyle="fv__cursor-pencil",n}return m(e,t),e.getStateName=function(){return s.STATE_HANDLER_CREATE_PENCIL},e.getStateHandlerName=function(){return"pencilStateHandler"},e.prototype.pageHandler=function(t){var e=this;this.annotCache=null,this.isRecord=!1;var n=this,o=t.pdfViewer.getStateHandlerManager().getStateHandlerConfig(this.constructor.getStateHandlerName()),r=o?o.pencilTimeout:null;r=null!=r?r:3e3,this.pageRender=t;var s=t.$handler;s.addClass(this.cursorStyle);var c=s.width(),d=s.height();this.$canvas=(0,i.default)('<canvas style="width:'+c+"px;height:"+d+'px" width="'+c*u.dpr+'" height="'+d*u.dpr+'"></canvas>'),s.append(this.$canvas);var h=this.$canvas[0].getContext("2d"),g=s[0],m=this.hammer=new Hammer.Manager(g,{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]}),v=[],P=void 0;function O(){if(h.clearRect(0,0,s.width()*u.dpr,s.height()*u.dpr),v=[],n.isRecord){t.pdfViewer.eventEmitter.emit(l.default.cancelAddAnnot);var e=t.annotsRender.getAnnotRender(n.annotCache.getId()).component;t.pdfViewer.eventEmitter.emit(l.default.addAnnotSuccess,e.annot)}P=setTimeout((function(){n.timeoutHandler()}),r)}m.on("panstart",(function(e){!function(){var e=(0,p.default)({borderInfo:{width:2},color:16711680},n.pdfViewer.getDefaultAnnotConfig()("ink")),o=s.width(),r=s.height();n.$canvas[0].width=o*u.dpr,n.$canvas[0].height=r*u.dpr,n.$canvas.css("width",o+"px"),n.$canvas.css("height",r+"px"),h.lineWidth=e.borderInfo.width*t.getScale()*u.dpr,h.strokeStyle=(0,f.convertFromNumberToHex)(e.color),h.lineJoin="round",h.lineCap="round"}();var o=(0,a.default)(g,e);h.beginPath(),h.moveTo(o.x*u.dpr,o.y*u.dpr),o,v.push({x:o.x,y:o.y,type:1}),clearTimeout(P)})),m.on("panmove",(function(t){var e=y(g,t);if(v.push({x:e.x,y:e.y,type:2}),v.length>4){var n=v.slice(-4),o=w(n,.5);b(h,n[1],o[0],o[1],n[2])}else if(4===v.length){h.clearRect(0,0,c*u.dpr,d*u.dpr),h.moveTo(v[0].x*u.dpr,v[0].y*u.dpr),h.lineTo(v[1].x*u.dpr,v[1].y*u.dpr),h.stroke();var r=w(v,.5);b(h,v[1],r[0],r[1],v[2]),h.lineTo(v[3].x*u.dpr,v[3].y*u.dpr),h.stroke()}else h.lineTo(e.x*u.dpr,e.y*u.dpr),h.stroke()})),m.on("panend",(function(n){var o=y(g,n);if(h.lineTo(o.x*u.dpr,o.y*u.dpr),h.stroke(),e.annotCache){var r=e.annotCache.getInkList();t.getPDFPage().then((function(n){r=r.concat(_(n,t.scale,t.rotate,v)),e.annotCache.setInkList(r).then((function(){O()}))}))}else t.getPDFPage().then((function(n){var o;o=_(n,t.scale,t.rotate,v),n.addAnnot({type:"ink",flags:4,rect:{left:0,right:0,top:0,bottom:0},inkList:o}).then((function(n){e.annotCache=n[0],O();var o=t.annotsRender.getAnnotRender(e.annotCache.getId()).component;t.pdfViewer.eventEmitter.emit(l.default.addAnnotSuccess,o.annot),e.isRecord=!0}))}))}))},e.prototype.destroyPageHandler=function(){this.annotCache=null,this.$canvas.remove(),this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle)},e.prototype.out=function(){this.destroyPageHandler()},e.prototype.timeoutHandler=function(){this.isRecord=!1,this.annotCache=null},e}(r.IStateHandler);function y(t,e){var n=t.getBoundingClientRect(),o=e.srcEvent,r=(0,c.getClientX)(o),i=(0,c.getClientY)(o);return{x:r-n.left,y:i-n.top}}function b(t,e,n,o,r){t.beginPath(),t.moveTo(e.x*u.dpr,e.y*u.dpr),t.bezierCurveTo(n.x*u.dpr,n.y*u.dpr,o.x*u.dpr,o.y*u.dpr,r.x*u.dpr,r.y*u.dpr),t.stroke()}function w(t,e){var n=t[0].x,o=t[0].y,r=t[1].x,i=t[1].y,a=t[2].x,s=t[2].y,c=t[3].x,u=t[3].y,l=(n+r)/2,f=(o+i)/2,p=(r+a)/2,d=(i+s)/2,h=(a+c)/2,g=(s+u)/2,m=Math.sqrt((r-n)*(r-n)+(i-o)*(i-o)),v=Math.sqrt((a-r)*(a-r)+(s-i)*(s-i)),y=m/(m+v),b=v/(v+Math.sqrt((c-a)*(c-a)+(u-s)*(u-s))),w=l+(p-l)*y,_=f+(d-f)*y,P=p+(h-p)*b,O=d+(g-d)*b;return[{x:w+(p-w)*e+r-w,y:_+(d-_)*e+i-_},{x:P+(p-P)*e+a-P,y:O+(d-O)*e+s-O}]}function _(t,e,n,r){var i=[];return r.forEach((function(r){var a=t.reverseDevicePoint([r.x,r.y],e,n),s=o(a,2),c=s[0],u=s[1];i.push({x:c,y:u,type:r.type})})),i}e.default=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(83),i=(o=r)&&o.__esModule?o:{default:o},a=n(13);function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.cursorStyle="fv__cursor-replace-text",o}return s(e,t),e.getStateName=function(){return a.STATE_HANDLER_CREATE_REPLACE},e.prototype.addAnnot=function(t,e){var n=e[e.length-1],o=void 0,r=void 0,i={};switch(n.rotation){case 0:r=2*(o=n.top-n.bottom)/5,i.left=n.right-r,i.right=n.right+r,i.top=(n.top+n.bottom)/2,i.bottom=i.top-o;break;case 3:o=4*(r=n.right-n.left)/5,i.left=(n.right+n.left)/2,i.right=i.left+r,i.top=n.top+o/2,i.bottom=i.top-o;break;case 2:r=2*(o=n.top-n.bottom)/5,i.left=n.left-r,i.right=n.left+r,i.bottom=(n.top+n.bottom)/2,i.top=i.bottom+o;break;case 1:o=4*(r=n.right-n.left)/5,i.right=(n.right+n.left)/2,i.left=i.right-r,i.top=n.bottom+o/2,i.bottom=i.top-o}return t.addAnnotGroup([{flags:4,type:"strikeout",rect:{left:0,right:0,top:0,bottom:0},coords:e,noPopup:!0,subject:"Replace",intent:"StrikeOutTextEdit"},{type:"caret",flags:4,rect:i,subject:"Replace",intent:"Replace",_rotate:n.rotation*Math.PI/2}],1)},e}(i.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(83),i=(o=r)&&o.__esModule?o:{default:o},a=n(13);function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.cursorStyle="fv__cursor-s-underline",o}return s(e,t),e.getStateName=function(){return a.STATE_HANDLER_CREATE_SQUIGGLY},e.prototype.addAnnot=function(t,e){return t.addAnnot({flags:4,type:"squiggly",rect:{left:0,right:0,top:0,bottom:0},coords:e})},e}(i.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(83),i=(o=r)&&o.__esModule?o:{default:o},a=n(13);function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.cursorStyle="fv__cursor-strikeout",o}return s(e,t),e.getStateName=function(){return a.STATE_HANDLER_CREATE_STRIKE_OUT},e.prototype.addAnnot=function(t,e){return t.addAnnot({flags:4,type:"strikeout",rect:{left:0,right:0,top:0,bottom:0},coords:e})},e}(i.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=l(n(46)),i=l(n(57)),a=l(n(19)),s=n(13),c=n(37),u=l(n(1));function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var p=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.cursorStyle="fv__cursor-note",o}return f(e,t),e.getStateName=function(){return s.STATE_HANDLER_CREATE_TEXT},e.prototype.pageHandler=function(t){this.pageRender=t;var e=t.$handler;e.addClass(this.cursorStyle);var n=e[0];(this.hammer=new a.default.Manager(n,{recognizers:[[a.default.Tap]]})).on("tap",(function(e){var r=n.getBoundingClientRect(),a=e.srcEvent,s=(0,c.getClientX)(a),l=(0,c.getClientY)(a),f=[s-r.left,l-r.top],p=f[0],d=f[1];return t.getPDFPage().then((function(e){var n=e.reverseDevicePoint([p,d],t.scale,t.getRotation()),r=o(n,2),a=r[0],s=r[1],c={flags:4,type:"text",rect:{left:a,right:a+20,top:s,bottom:s-20}};e.addAnnot(c).then((function(e){var n=e[0],o=t.annotsRender.getAnnotRender(n.getId()).component;t.pdfViewer.eventEmitter.emit(u.default.addAnnotSuccess,o.annot),t.pdfViewer.getStateHandlerManager().switchTo(i.default.getStateName()),t.annotsRender.activeAnnot(n.getId()),o.showReplyDialog("comment")}))}))}))},e.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle)},e.prototype.out=function(){this.destroyPageHandler()},e}(r.default);e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(83),i=(o=r)&&o.__esModule?o:{default:o},a=n(13);function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.cursorStyle="fv__cursor-underline",o}return s(e,t),e.getStateName=function(){return a.STATE_HANDLER_CREATE_UNDERLINE},e.prototype.addAnnot=function(t,e){return t.addAnnot({flags:4,type:"underline",rect:{left:0,right:0,top:0,bottom:0},coords:e})},e}(i.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=n(11),i=l(n(35)),a=n(6),s=l(n(793)),c=l(n(7)),u=l(n(1));function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var h=c.default.getLogger("EraserStateHandler"),g=function(t){function e(){f(this,e);var n=p(this,t.call(this,arguments));return n.cursorStyle="fv__cursor-eraser",n}return d(e,t),e.getStateName=function(){return"eraser"},e.prototype.pageHandler=function(t){var e=this;this.pageRender=t;var n=t.$handler;this.allInkList={},this.eraseInkList={},n.addClass(this.cursorStyle);var o=n[0],r=this.hammer=new Hammer.Manager(o,{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]}),a=t.getAnnots().then((function(t){return t.filter((function(t){return"ink"===t.getType()}))}));t.getPDFPage().then((function(n){r.on("panstart",(function(t){e.startPoint=(0,i.default)(o,t),a.then((function(t){t.forEach((function(t){e.allInkList[t.getId()]={annot:t,inkList:t.getInkList()}}))}))})),r.on("panmove",(function(t){e.lastPoint=e.currentPoint||e.startPoint,e.currentPoint={x:e.startPoint.x+t.deltaX,y:e.startPoint.y+t.deltaY},a.then((function(t){0!==t.length&&e.erase(n,t,e.lastPoint,e.currentPoint)}))})),r.on("panend",(function(n){e.currentPoint=null;var o=[],r=[];for(var i in e.eraseInkList){var a=e.allInkList[i],s=e.eraseInkList[i];a.isRemove=s.isRemove,o.push(a),r.push(s)}t.pdfViewer.eventEmitter.emit(u.default.eraserSuccess,o,r)}))}))},e.prototype.erase=function(t,e,n,r){var i=this;if(n.x>r.x){var c=[r,n];n=c[0],r=c[1]}var u=this.pageRender,l=u.getScale(),f=u.getRotation(),p=t.reverseDevicePoint([n.x,n.y],l,f),d=o(p,2),g=d[0],m=d[1],v=t.reverseDevicePoint([r.x,r.y],l,f),y=o(v,2),b=y[0],w=y[1],_={x:g,y:m},P={x:b,y:w},O=new s.default(_,P,4);function E(t,e){var n=e.x>=t.left&&e.x<=t.right,o=e.y>=t.bottom&&e.y<=t.top;return n&&o}e.filter((function(t){var e=t.getRect();return E(e,_)||E(e,P)})).forEach((function(t){function e(t){return t.reduce((function(t,e){return e.type===a.POINT_TYPE.MOVE_TO&&t.push([]),t[t.length-1].push(Object.assign({removed:!1},e)),t}),[])}function n(){var n=t.getBorderWidth(),o=e(t.getInkList()),r=!1;if(o.forEach((function(t){if(1===t.length){var e=t[0];O.contains(e)&&(e.removed=!0,r=!0)}else for(var o=0,i=t.length-1;o<i;o++){var c=t[o],u=t[o+1],l=new s.default(c,u,n,n/2);if(O.sat(l)){c.removed=!0,u.removed=!0;var f=t[o+2];f&&(f.type=a.POINT_TYPE.MOVE_TO),r=!0}}})),r){var i=[];if(o.forEach((function(t){t.forEach((function(e,n){if(e.removed){var o=t[n+1];o&&(o.type=a.POINT_TYPE.MOVE_TO)}else i.push({x:e.x,y:e.y,type:e.type})}))})),i.length<10){var c=e(i);if(i.length<2||i.length===c.length){var l=u.getAnnotRender(t.getId());if(l){var f=l.component.annot;return f.getPDFPage().removeAnnot(f)}return void h.debug("annotRender === undefined",l,c,i)}}return t.setInkList(i)}}t.$$lastErasePromise=(t.$$lastErasePromise||Promise.resolve()).then(n,n).then((function(e){var n=u.getAnnotRender(t.getId());return i.eraseInkList[t.getId()]={annot:t,inkList:t.getInkList(),isRemove:!n},e}))}))},e.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle)},e.prototype.out=function(){this.destroyPageHandler()},e}(r.IStateHandler);e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(794)),r=i(n(188));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n,o,i){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i;return a(this,e),s(this,t.call(this,function(){if(n.y>o.y){var t=[o,n];n=t[0],o=t[1]}var e=new r.default(n.x,n.y),a=new r.default(o.x,o.y),s=a.substract(e).normalize(),u=s.mult(c);e=e.substract(u),a=a.add(u);var l=Math.PI/2-Math.atan2(s.y,s.x),f=.5*i*Math.cos(l),p=.5*i*Math.sin(l);return[{x:e.x-f,y:e.y+p},{x:e.x+f,y:e.y-p},{x:a.x+f,y:a.y-p},{x:a.x-f,y:a.y+p}]}()))}return c(e,t),e.prototype.getWidth=function(){for(var t=this.vertices[0].x,e=this.vertices[0].x,n=1;n<this.count;n++)this.vertices[n].x<t?t=this.vertices[n].x:this.vertices[n].x>e&&(e=this.vertices[n].x);return e-t},e.prototype.getHeight=function(){for(var t=this.vertices[0].y,e=this.vertices[0].y,n=1;n<this.count;n++)this.vertices[n].y<t?t=this.vertices[n].y:this.vertices[n].y>e&&(e=this.vertices[n].y);return e-t},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(188)),r=i(n(795));function i(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.vertices=e.map((function(t){return new o.default(t.x,t.y)})),this.count=this.vertices.length,this.edges=[];for(var n=this.vertices.length,i=0;i<n-1;i++)this.edges.push(this.vertices[i].segment(this.vertices[i+1]));this.edges.push(this.vertices[n-1].segment(this.vertices[0])),this.segments=this.edges.map((function(t){var e=t.from,n=t.to;return new r.default(e,n)}))}return t.overlap=function(t,e){return n(t.min,e)||n(t.max,e)||n(e.max,t)||n(e.max,t);function n(t,e){return t>=e.min&&t<=e.max}},t.prototype.project=function(t){t=t.normalize();for(var e=this.vertices[0].dot(t),n=e,o=0;o<this.count;o++){var r=this.vertices[o].dot(t);r<e&&(e=r),r>n&&(n=r)}if(e>n){var i=[n,e];e=i[0],n=i[1]}return{min:e,max:n}},t.prototype.sat=function(e){for(var n=0;n<this.count;n++){var o=this.edges[n].dir.perp(),r=this.project(o),i=e.project(o);if(!t.overlap(r,i))return!1}for(var a=0;a<e.count;a++){var s=e.edges[a].dir.perp(),c=this.project(s),u=e.project(s);if(!t.overlap(c,u))return!1}return!0},t.prototype.contains=function(t){for(var e=this.vertices[0],n=1;n<this.count;n++){var o=this.vertices[n];o.x>e.x&&(e=o)}for(var i=new r.default(t,{x:e.x+10,y:t.y}),a=!1,s=0;s<this.count;s++){var c=this.segments[s];if(c.hasPoint(t))return!0;i.hasIntersect(c)&&(a=!a)}return a},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(188),i=(o=r)&&o.__esModule?o:{default:o};var a=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.from=new i.default(e.x,e.y),this.end=new i.default(n.x,n.y),this.length=this.end.substract(this.from).length(),this.k=(n.y-e.y)/(n.x-e.x),this.delta=e.y-this.k*e.x}return t.prototype.hasPoint=function(t){var e=new i.default(t.x,t.y),n=e.substract(this.from).length()+e.substract(this.end).length();return Math.abs(this.length-n)<.5},t.prototype.intersectPoint=function(t){if(this.k===t.k)return this.delta!==t.delta?null:{x:0,y:this.delta};if(!isFinite(this.k))return{x:this.from.x,y:t.delta};if(!isFinite(t.k))return{x:t.from.x,y:this.delta};var e=(t.delta-this.delta)/(this.k-t.k);return{x:e,y:this.k*e+this.delta}},t.prototype.hasIntersect=function(t){var e=this.intersectPoint(t);return!!e&&(this.hasPoint(e)&&t.hasPoint(e))},t}();e.default=a,window.Vector=i.default,window.LineSegment=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(192);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return i.hammer=new Hammer.Manager(o),i.hammer.add(new Hammer.Pan(r)),i.addDestroyHook((function(){i.hammer.destroy()})),i}return i(e,t),e.prototype.init=function(){var t=this,e=void 0,n=void 0,o=0,r=0,i=function(i){return function(a){if("start"===i){var s=(n=a.target).getBoundingClientRect();e={left:s.left,top:s.top}}t.eventEmitter.emit(i,{deltaX:a.deltaX-o,deltaY:a.deltaY-r,srcEvent:a.srcEvent}),"end"!==a.type&&"cancel"!==a.type||(n=null)}};this.hammer.on("panstart",i("start")),this.hammer.on("panmove",i("move")),this.hammer.on("panend",i("end")),this.hammer.on("pancancel",i("cancel"));var a=function(t){if(n){var i=n.getBoundingClientRect();o=i.left-e.left,r=i.top-e.top}};window.addEventListener("scroll",a,!0),this.addDestroyHook((function(){window.removeEventListener("scroll",a,!0)}))},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=a},function(t,e,n){"use strict";n.r(e),n.d(e,"FakeLineAnnotation",(function(){return h}));var o,r=n(59),i=n(218),a=n.n(i),s=n(6),c=n(43),u=n(25),l=n.n(u),f=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(){return(p=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},d=s.LineEndingStyle,h=function(t){function e(e){var n=t.call(this,e)||this,o=n.annotationInfo;switch(o.intent){case s.Intents.LINE_ARROW:o.endingStyle===d.None&&(o.endingStyle=d.OpenArrow);break;case s.Intents.LINE_DIMENSION:o.startStyle===d.None&&(o.startStyle=d.OpenArrow),o.endingStyle===d.None&&(o.endingStyle=d.OpenArrow)}return o.hasCaption=o.enableCaption,o.leaderLinePoints.start=o.startPoint,n}return f(e,t),e.prototype.setRect=function(t){this.deviceRect=t;var e=Math.abs(t.right-t.left),n=Math.abs(t.bottom-t.top);e=Math.abs(t.right-t.left),n=Math.abs(t.bottom-t.top);var o=this.pageRender.rotate;this.pdfRect=this.page.reverseDeviceRect(t,this.scale,o),this.eContainer.style.cssText+="\n            width: "+e+"px;\n            height: "+n+"px;\n        "},e.prototype.generateApRenderer=function(){return new a.a(this)},e.prototype.getType=function(){return"line"},e.prototype.getStartPoint=function(){return this.annotationInfo.startPoint},e.prototype.getEndPoint=function(){return this.annotationInfo.endPoint},e.prototype.setEndPoint=function(t){var e=this.page.reverseDevicePoint([t.x,t.y],this.scale,this.rotate),n=e[0],o=e[1];this.annotationInfo.endPoint={x:n,y:o},this.annotationInfo.leaderLinePoints.end=this.annotationInfo.endPoint;var r=this.annotationInfo.startPoint,i=r.x,a=r.y,s=this.page.getDevicePoint([i,a],this.scale,this.rotate),c=s[0],u=s[1];this.setRect({left:c,top:u,right:t.x,bottom:t.y})},e.prototype.getRenderingData=function(){var e=t.prototype.getRenderingData.call(this);return p(p({},e),this.annotationInfo)},e.prototype.getOuterDeviceRect=function(t,e){return l.a.on(this.getDeviceRect(t,e)).expand(50).extract()},e.prototype.getDefaultAnnotInfo=function(){var e={x:0,y:0},n={x:0,y:0};return p(p({},t.prototype.getDefaultAnnotInfo.call(this)),{startPoint:e,endPoint:n,leaderLineExtend:0,captionOffset:{x:0,y:0},enableCaption:!1,leaderLinePoints:{start:e,end:n},captionPos:s.LINE_CAPTION_POSITION.POS_INLINE,content:"",startStyle:c.Ending_Style.None,endingStyle:c.Ending_Style.None})},e}(r.a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(190),i=(o=r)&&o.__esModule?o:{default:o},a=n(6),s=n(13);function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,a.LineEndingStyle.None,a.LineEndingStyle.OpenArrow))}return c(e,t),e.getStateName=function(){return s.STATE_HANDLER_CREATE_ARROW},e.prototype.createAnnotJson=function(t){return t.intent="LineArrow",t},e}(i.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(315),i=(o=r)&&o.__esModule?o:{default:o},a=n(13);function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,"circle"))}return s(e,t),e.getStateName=function(){return a.STATE_HANDLER_CREATE_CIRCLE},e}(i.default);e.default=c},function(t,e,n){"use strict";n.r(e),n.d(e,"FakeSquareAnnotation",(function(){return c}));var o,r=n(79),i=n.n(r),a=n(59),s=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.getType=function(){return"square"},e.prototype.generateApRenderer=function(){return new i.a(this)},e}(a.a)},function(t,e,n){"use strict";n.r(e),n.d(e,"FakeCircleAnnotation",(function(){return c}));var o,r=n(221),i=n.n(r),a=n(59),s=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.getType=function(){return"circle"},e.prototype.generateApRenderer=function(){return new i.a(this)},e}(a.a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(315),i=(o=r)&&o.__esModule?o:{default:o},a=n(13);function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,"square"))}return s(e,t),e.getStateName=function(){return a.STATE_HANDLER_CREATE_SQUARE},e}(i.default);e.default=c},function(t,e,n){"use strict";n.r(e),n.d(e,"MouseEventType",(function(){return c})),n.d(e,"attachMouseEvent",(function(){return b}));var o,r,i,a,s,c,u=n(27),l=n.n(u),f=n(9),p=n(26);!function(t){t[t.DOWN=0]="DOWN",t[t.UP=1]="UP",t[t.MOVE=2]="MOVE"}(c||(c={}));var d=((o={})[c.DOWN]=["MSPointerDown"],o[c.MOVE]=["MSPointerMove"],o[c.UP]=["MSPointerUp"],o),h=((r={})[c.DOWN]=["pointerdown"],r[c.MOVE]=["pointermove"],r[c.UP]=["pointerup"],r),g=((i={})[c.DOWN]=["pointerdown","mousedown"],i[c.MOVE]=["pointermove","mousemove"],i[c.UP]=["pointerup","mouseup"],i),m=((a={})[c.DOWN]=["pointerdown","touchstart"],a[c.MOVE]=["pointermove","touchmove"],a[c.UP]=["pointerup","touchend"],a),v=((s={})[c.DOWN]=["mousedown","touchstart"],s[c.MOVE]=["mousemove","touchmove"],s[c.UP]=["mouseup","touchend"],s),y={};function b(t,e,n,o){var r,i=0,a=y[e].map((function(e){var s,c=function(e){r!==e.type&&Date.now()-i<160?s():(r=e.type,o&&o.once&&s(),n.call(t,function(t){var e={native:t,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,metaKey:t.metaKey,target:t.target,preventDefault:function(){return t.preventDefault()},stopPropagation:function(){return t.stopPropagation()}};if(window.TouchEvent&&t instanceof window.TouchEvent){var n="touchend"===t.type||"touchcancel"===t.type?t.changedTouches[0]:t.touches[0];e.clientX=n.clientX,e.clientY=n.clientY,e.pageX=n.pageX,e.pageY=n.pageY,e.screenX=n.screenX,e.screenY=n.screenY,e.x=n.clientX,e.y=n.clientY,e.bubbles=t.bubbles,e.relatedTarget=n.target}else(t instanceof MouseEvent||t instanceof PointerEvent)&&(e.clientX=t.clientX,e.clientY=t.clientY,e.pageX=t.pageX,e.pageY=t.pageY,e.screenX=t.screenX,e.screenY=t.screenY,e.x=t.x||t.clientX,e.y=t.y||t.clientY,e.relatedTarget=t.relatedTarget,e.button=t.button,e.buttons=t.buttons,e.bubbles=t.bubbles);return e}(e)),i=Date.now())};return s=function(){var n=a.indexOf(s);-1!==n&&(t.removeEventListener(e,c,o),a.splice(n,1))},t.addEventListener(e,c,o),s}));return function(){a.forEach((function(t){return t()}))}}function w(t){if(p.isIE){if(!p.isIEAtLeast11)return d[t]}else{if(p.isSafari)return g[t];if(f.isAndroid)return f.isTouchDevice?m[t]:v[t]}return h[t]}l.a.property(y,c.DOWN,(function(){return w(c.DOWN)})),l.a.property(y,c.MOVE,(function(){return w(c.MOVE)})),l.a.property(y,c.UP,(function(){return w(c.UP)}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(196),i=(o=r)&&o.__esModule?o:{default:o},a=n(6),s=n(13),c=n(319);function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,"polygon"))}return u(e,t),e.getStateName=function(){return s.STATE_HANDLER_CREATE_POLYGON_CLOUD},e.prototype.create=function(t,e){var n=new c.FakePolygonAnnotation({pdfViewer:this.pdfViewer,pageRender:this.pageRender,info:{type:"polygon",flags:4,date:new Date,borderStyle:a.BORDER_STYLE.CLOUDY,borderStyleParam:2,intent:"PolygonCloud"}});return n.addPoint(t,e),n.addPoint(t,e),n},e.prototype.canBeCompleted=function(t){var e=t.getVertexes().length;return e<2&&logger.debug("polygon has only "+e+" points"),e>2},e}(i.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")};n(806);var r=d(n(3)),i=d(n(19)),a=d(n(1)),s=d(n(46)),c=n(123),u=n(17),l=(n(28),d(n(35))),f=n(13),p=n(6);function d(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var g=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n))}return h(e,t),e.getStateName=function(){return f.STATE_HANDLER_SELECT_TEXT_ANNOTATION},e.getDefaultContextMenuConfig=function(){return{selector:".fv__selection-state-contextmenu-container"}},e.prototype.pageHandler=function(t){var e=this;this.pageRender=t,this.pdfViewer=t.pdfViewer,this.selectMarkIsVisible=!1;var n=this.tooltip=this.pdfViewer.viewerUI.createTextSelectionTooltip(t),s=t;t.$ui.addClass("fv__annot-container-zindex-up");var f=s.$handler;f.addClass("fv__select-text-annotation-state-handler");var d,h=f[0],g=t.pdfViewer.eventEmitter;d=function(o){o==t&&e.pdfSelectRectArray&&e.selectMarkIsVisible&&t.getPDFPage().then((function(o){var r=t.transformRectArray(o,e.pdfSelectRectArray);e.showSelectMark(r);var i=r[0];i&&n.showAt((i.left+i.right)/2,i.top,e.selectText)}))},g.on(a.default.renderPageSuccess,d),e.removeRenderPageSuccessEvent=function(){g.off(a.default.renderPageSuccess,d)};var m=this.hammer=new i.default.Manager(h,{recognizers:[[i.default.Pan,{direction:i.default.DIRECTION_ALL}]]});m.add(new i.default.Tap({event:"doubletap",taps:2})),m.add(new i.default.Tap({event:"singletap"})),m.get("doubletap").recognizeWith("singletap"),m.get("singletap").requireFailure("doubletap"),m.on("singletap",(function(o){e.hideSelectMark(),n.hide();var r=t.annotsRender;r?(r.unActiveAnnot(),g.emit(a.default.tapPage,o)):g.emit(a.default.tapPage,o)})),m.on("doubletap",(function(o){e.hideSelectMark(),n.hide();var r=t.annotsRender;r?(r.unActiveAnnot(),g.emit(a.default.doubleTapPage,o)):g.emit(a.default.doubleTapPage,o)})),n.on("hide",(function(){e.hideSelectMark()}));var v=void 0,y=-1,b=-1,w=void 0,_=void 0;m.on("panstart",(function(n){if(!1!==e.panStart(n,e)){y=-1,b=-1,w=void 0;var o=t.annotsRender;o&&o.unActiveAnnot();var r=(0,l.default)(h,n);v=[r.x,r.y],e.hideSelectMark(),_=new u.DebouncePromiseQueue}})),m.on("panmove",(function(t){!1!==e.panMove(t,e)&&_.push((function(){var n=e.pageRender,r=[v[0]+t.deltaX,v[1]+t.deltaY];return e.getTextRect(v,r,y,b).then((function(t){var e;return(e=t[0])&&"string"==typeof e.text&&(y=e.start,b=e.end),Promise.all([n.getPDFPage(),t])})).then((function(t){var e=o(t,2),r=e[0],i=e[1];return n.transformRectArray(r,i)})).then((function(t){e.showSelectMark(t)}))}))})),m.on("panend",(function(r){if(!1!==e.panEnd(r,e)){_.end(),_=null;var i=(0,c.deltaDeviceRect)(v,r.deltaX,r.deltaY),s=[v[0]+r.deltaX,v[1]+r.deltaY];return e.getTextRect(v,s,y,b).then((function(e){var n;return(n=e[0])&&"string"==typeof n.text&&(y=n.start,b=n.end,w=n.text),Promise.all([t.getPDFPage(),e])})).then((function(r){var s=o(r,2),c=s[0],u=s[1];e.pdfSelectRectArray=u;var l=t.transformRectArray(c,u);e.showSelectMark(l),("string"==typeof w?Promise.resolve(w):e.getTextChar(i)).then((function(t){e.pdfViewer.getStore().dispatch(p.STORE_NAMES.SELECTION_INFO,{page:c,text:t,rectArray:u}),e.selectText=t,e.pdfViewer.eventEmitter.emit(a.default.selectText,{page:c,text:t,rectArray:u})}));var f=l[0];f&&n.showAt((f.left+f.right)/2,f.top,e.selectText)}))}}));var P=(0,r.default)('<div class="fv__selection-state-contextmenu-container fv__contextmenu-container"></div>');f.append(P),P.data("hand-state",this),this.$contextmenuContainer=P},e.prototype.getTextRect=function(t,e,n,o){return this.pageRender.getTextContinueRectAtDevicePoints(t,e,n,o)},e.prototype.getTextChar=function(t){return this.pageRender.getTextContinuousCharAtDeviceRect(t)},e.prototype.showSelectMark=function(t){this.selectMarkIsVisible=!0;var e=this.pageRender.$handler;e.find(".fv__mark-selection-blank").remove();for(var n=(0,r.default)(document.createDocumentFragment()),o=0,i=t.length;o<i;o++){var a=t[o],s=["top:"+a.top+"px","left:"+a.left+"px","height:"+(a.bottom-a.top)+"px","width:"+(a.right-a.left)+"px"].join(";");n.append('<mark class="fv__mark-selection-blank" style="'+s+'"></mark>')}e.append(n)},e.prototype.hideSelectMark=function(){this.selectMarkIsVisible=!1,this.pdfViewer.getStore().dispatch(p.STORE_NAMES.SELECTION_INFO,null),this.pageRender.$handler.find(".fv__mark-selection-blank").remove()},e.prototype.copyText=function(){},e.prototype.panStart=function(){},e.prototype.panMove=function(){},e.prototype.panEnd=function(){},e.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$ui.removeClass("fv__annot-container-zindex-up"),this.pageRender.$handler.off("mouseup",this.mouseup).removeClass("fv__select-annotation-state-handler"),this.$contextmenuContainer&&this.$contextmenuContainer.remove(),this.pageRender.annotsRender&&this.pageRender.annotsRender.unActiveAnnot(),this.hideSelectMark(),this.tooltip.destroy(),this.removeRenderPageSuccessEvent()},e.prototype.out=function(){this.destroyPageHandler()},e}(s.default);e.default=g},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=n(11),i=l(n(35)),a=n(13),s=l(n(33)),c=n(38),u=n(49);function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var p=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.cursorStyle="fv__cursor-crosshair",o.destroyHooks=[],o}return f(e,t),e.getStateName=function(){return a.STATE_HANDLER_CREATE_TEXT_FIELD},e.prototype.correctPosition=function(t){var e=this.pageRender.getShowWidth(),n=this.pageRender.getShowHeight();return{x:Math.max(0,Math.min(e,t.x)),y:Math.max(0,Math.min(n,t.y))}},e.prototype.start=function(t,e){var n=e.left,o=e.top;this.shapeControl||(this.shapeControl=new s.default({resizable:!1,enableDiagonally:!0}),this.shapeControl.active(t.$handler,t.$handler,{left:n,top:o,width:0,height:0}))},e.prototype.adjust=function(t,e,n){var o,r,i=e.x,a=e.y,s=n.x,c=n.y,u=Math.abs(i-s),l=Math.abs(a-c),f={left:o=Math.min(i,s),top:r=Math.min(a,c),width:u=Math.max(u,1),height:l=Math.max(l,1)},p={left:o,top:r,right:o+u,bottom:r+l};t._applyAnnotBoundary(f),t.shape.boundary=p,t.shape.shape=f,t._updatePreviewer()},e.prototype.pageHandler=function(t){var e=this;this.pageRender=t;var n=t.$handler.get(0);t.$handler.addClass(this.cursorStyle);var r=this.hammer=new PDFViewCtrl.Deps.Hammer.Manager(n);r.add(new Hammer.Pan({direction:Hammer.DIRECTION_ALL})),r.add(new Hammer.Tap),r.on("tap",(function(t){(0,u.unActiveEditingAllByFieldType)(e.pdfViewer,c.FieldType.Text)})),r.on("panstart",(function(r){e.startPoint=(0,i.default)(n,r),t.getPDFPage().then((function(n){var r=n.reverseDevicePoint([e.startPoint.x,e.startPoint.y],e.pageRender.getScale(),e.pageRender.getRotation()),i=o(r,2),a=i[0],s=i[1];e.start(t,{left:a,top:s})})),(0,u.unActiveEditingAllByFieldType)(e.pdfViewer,c.FieldType.Text)})),r.on("panmove",(function(t){return e.currentPoint=e.correctPosition({x:e.startPoint.x+t.deltaX,y:e.startPoint.y+t.deltaY}),e.adjust(e.shapeControl,e.startPoint,e.currentPoint)})),r.on("panend",(function(n){e.currentPoint=e.correctPosition({x:e.startPoint.x+n.deltaX,y:e.startPoint.y+n.deltaY}),e.adjust(e.shapeControl,e.startPoint,e.currentPoint),t.docRender.getPDFDoc().loadPDFForm().then((function(n){var o=n.fields.filter((function(t){return t.getType()===c.FieldType.Text})).length,r=e.shapeControl.shape.boundary;t.getPDFPage().then((function(i){var a=e.pdfViewer.i18n.t("ui_:form.fieldNamePrefix.text")+o,s=i.reverseDeviceRect(r,t.scale,t.rotate);n.addControl(t.index,a,c.FieldType.Text,s).then((function(o){if(o){var r=(n.fieldWidgets||{})[a]||[],i=r[r.length-1];if(i){var s=t.getAnnotRender(i.getId()).component;s&&(s.activeSelected(),s.activeEditing(),s.showFormPropertiesDialog())}}e.shapeControl.destroy(),e.shapeControl=null}))}))}))})),r.on("pancancel",(function(t){e.shapeControl.destroy(),e.shapeControl=null}))},e.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle),this.destroyHooks.forEach((function(t){return t()}))},e}(r.IStateHandler);e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=c(n(12)),r=c(n(321)),i=c(n(322)),a=c(n(201)),s=c(n(202));function c(t){return t&&t.__esModule?t:{default:t}}var u=o.default.module("gotoview",[]);u.registerController(r.default),u.registerController(i.default),u.registerController(a.default),u.registerController(s.default),e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(12)),r=a(n(203)),i=a(n(204));function a(t){return t&&t.__esModule?t:{default:t}}var s=o.default.module("pagemode",[]);s.registerController(i.default),s.registerController(r.default),e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=u(n(12)),r=u(n(325)),i=u(n(811)),a=u(n(125)),s=u(n(126)),c=u(n(812));function u(t){return t&&t.__esModule?t:{default:t}}var l=o.default.module("zoom",[]);l.registerController(r.default),l.registerController(a.default),l.registerController(i.default),l.registerController(s.default),l.registerController(c.default),e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(325);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"EditableZoomToScaleValueController"},e.prototype.handle=function(){t.prototype.handle.call(this),this.component.parent.setEditValue(100*this.data.scale)},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(126),i=(o=r)&&o.__esModule?o:{default:o},a=n(11);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.getName=function(){return"ContextMenuZoomActionController"},e.prototype.mounted=function(){var t=this,e=function(e){t.component.action==e?t.component.active():t.component.deactive()};this.addDestroyHook(this.getPDFUI().addViewerEventListener(a.Events.zoomToSuccess,e),this.getPDFUI().addViewerEventListener(a.Events.openFileSuccess,(function(){t.getPDFUI().getPDFDocRender().then((function(t){t&&e(t.getScale())}))})))},e}(i.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(12)),r=s(n(326)),i=s(n(205)),a=s(n(206));function s(t){return t&&t.__esModule?t:{default:t}}var c=o.default.module("file",[]);c.registerController(r.default),c.registerController(a.default),c.registerController(i.default),e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=d(n(12)),r=d(n(327)),i=d(n(328)),a=d(n(817)),s=d(n(819)),c=d(n(821));n(822);var u=d(n(823)),l=d(n(825)),f=d(n(331)),p=d(n(332));function d(t){return t&&t.__esModule?t:{default:t}}var h=o.default.module("distance",[]);h.registerController(r.default),h.registerController(i.default),h.registerController(a.default),h.registerController(l.default),h.registerController(f.default),h.registerController(p.default),h.registerComponent(u.default),h.registerComponent(s.default),h.registerComponent(c.default),e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(192);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return r.target=o,r}return i(e,t),e.prototype.init=function(){var t=this,e=void 0,n=void 0,o=void 0,r=void 0,i=0,a=0,s=function(o){if(0===o.button)if(t.isStarted){if(t.isStarted){r=null,t.isStarted=!1;var s=o.clientX-e-i,c=o.clientY-n-a;t.emit("end",{deltaX:s,deltaY:c,srcEvent:o})}}else{var u=t.target.getBoundingClientRect();r={left:u.left,top:u.top},t.isStarted=!0,e=o.clientX,n=o.clientY,t.emit("start",{deltaX:0,deltaY:0,srcEvent:o})}},c=function(r){if(t.isStarted&&!t.isLocked){var s=r.clientX-e-i,c=r.clientY-n-a;t.emit("move",o={deltaX:s,deltaY:c,srcEvent:r})}},u=function(e){if(t.isStarted&&!t.isDestroyed&&!t.isLocked&&r){var n=t.target.getBoundingClientRect();i=n.left-r.left,a=n.top-r.top}};window.addEventListener("scroll",u,!0),this.target.addEventListener("mousedown",s),document.addEventListener("mousemove",c,!0);var l=this.pdfViewer.getStore().subscribe("create-measurement-status",(function(e){switch(e){case"complete":t.isStarted&&(r=null,t.isStarted=!1,t.unlock(),t.emit("end",o));break;case"cancel":t.isStarted&&(r=null,t.isStarted=!1,t.unlock(),t.emit("cancel"))}}));this.addDestroyHook((function(){t.target.removeEventListener("mousedown",s),document.removeEventListener("mousemove",c),l(),window.removeEventListener("scroll",u,!0)}))},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(197);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,"create-measurement-status"));return r.target=o,r}return i(e,t),e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=c(n(14)),i=(c(n(127)),c(n(209))),a=(c(n(8)),c(n(7))),s=n(6);function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}a.default.getLogger("CreateAreaController");var l=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,i.default));return o.$throttles={},o}return u(e,t),e.getName=function(){return"CreateAreaController"},e.prototype.mounted=function(){t.prototype.mounted.call(this),this.rulerContainer=this.getComponentByName("pdf-viewer-container-with-ruler")},e.prototype.updateMeasurementAnnotContentInfo=function(t){if(t.annot.getIntent()!==s.Intents.POLYGON_DIMENSION)throw new Error("incorrect annotation intent: "+t.annot.getIntent()+", it must be "+s.Intents.POLYGON_DIMENSION);var e=t.getLengthInInchUnit()+this.component.localizer.translateSync("measurement.units.inch"),n=t.getId(),o=this.$throttles[n]||this._throttle((function(e){requestAnimationFrame((function(n){t.setContent(e)}))}));this.$throttles[n]=o,o(e)},e.prototype._throttle=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=void 0;return function(){var o=arguments,r=this;clearTimeout(n),n=setTimeout((function(){return t.apply(r,o)}),e)}},e.prototype.stateIn=function(){this.rulerContainer&&this.rulerContainer.active(),this.component.parent.select(this.component),this.component.parent.element.classList.add("selected")},e.prototype.stateOut=function(){this.rulerContainer&&this.rulerContainer.deactive(),this.component.parent.element.classList.remove("selected")},o(e,null,[{key:"permission",get:function(){return 32}}]),e}(r.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(197);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,"create-measurement-status"));return r.target=o,r}return i(e,t),e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=c(n(15)),r=n(5),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(44)),a=c(n(820)),s=c(n(330));function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.renderer=new a.default({orientation:i.orientation,originOffset:i.offset,width:i.width}),i.ruler=new s.default({orientation:i.orientation,length:i.length,zoom:i.zoomValue,unit:i.unit}),i.pointerOffset=0,i}return u(e,t),e.getName=function(){return"ruler"},e.getMetadata=function(){return{options:{orientation:function(t,e){var n=void 0;return(n=e in t.$options?t.$options[e]:t.attrs[e])!==r.ORIENTATION_HORIZONTAL&&n!==r.ORIENTATION_VERTICAL&&(n=r.ORIENTATION_HORIZONTAL),n},offset:{type:"number",defaultValue:0},width:{type:"number",defaultValue:16},length:{type:"number",defaultValue:100},unit:function(t,e){var n=void 0;return(n=e in t.$options?t.$options[e]:t.attrs[e])||(n="inch"),i[n.toUpperCase()]||i.INCH},zoom:{field:"zoomValue",type:"range",min:0,defaultValue:1}}}},e.prototype.createDOMElement=function(){return document.createElement("div")},e.prototype.render=function(){t.prototype.render.call(this),this.element.appendChild(this.renderer.canvas)},e.prototype.rerenderRuler=function(){this.renderer.render(this.ruler)},e.prototype.rerenderPointer=function(){this.renderer.renderPointer(this.pointerOffset)},e.prototype.setWidth=function(t){this.renderer.setSize(this.length,t)},e.prototype.setLength=function(t){this.renderer.setSize(t,this.width)},e.prototype.setRulerOffset=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.renderer.setOffset(t)},e.prototype.setPointerOffset=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.pointerOffset=t},e.prototype.setOrientation=function(t){this.renderer.orientation=t},e.prototype.setZoom=function(t){this.ruler.setZoom(t)},e.prototype.setUnit=function(t){this.ruler.setUnit(t)},e}(o.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(330),i=(o=r)&&o.__esModule?o:{default:o},a=n(111);var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=document.createElement("canvas"),this.orientation=e.orientation,this.offset=0,this.offsetX=0,this.offsetY=0,this.setOffset(e.originOffset||0),this.setSize(e.length,e.width||16)}return t.prototype.setOffset=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.offset;switch(this.offset=t,this.orientation){case a.ORIENTATION_HORIZONTAL:this.offsetX=t;break;case a.ORIENTATION_VERTICAL:this.offsetY=t}},t.prototype.setSize=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.length,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.width;switch(this.length=t,this.width=e,this.orientation){case a.ORIENTATION_HORIZONTAL:this.canvas.width=t,this.canvas.height=e;break;case a.ORIENTATION_VERTICAL:this.canvas.height=t,this.canvas.width=e}},t.prototype.resolvePositionInfo=function(t){switch(this.orientation){case a.ORIENTATION_HORIZONTAL:return{x:t.offset,y:this.width,textX:t.offset+2,textY:this.width/2-1};case a.ORIENTATION_VERTICAL:return{x:this.width,y:t.offset,textX:2,textY:t.offset+12}}},t.prototype.render=function(t){if(this._isRenderable()){var e=this.canvas.getContext("2d");e.clearRect(0,0,this.canvas.width,this.canvas.height),e.save(),this.setupRender(e),this.drawMainPart(e,t),this.drawExpandPart(e,t),e.restore(),this.rulerImage=e.getImageData(0,0,this.canvas.width,this.canvas.height)}},t.prototype.setupRender=function(t){t.strokeStyle="#000",t.lineWidth=1,t.font="10px Verdana"},t.prototype._isRenderable=function(){return this.canvas.width*this.canvas.height>0},t.prototype.renderPointer=function(t){if(!this.rulerImage)throw new Error("Ruler has not been rendered!");var e=this.canvas.getContext("2d");switch(e.clearRect(0,0,this.canvas.width,this.canvas.height),e.putImageData(this.rulerImage,0,0),e.save(),e.strokeStyle="#666",e.lineWidth=1,e.beginPath(),t+=.5,this.orientation){case a.ORIENTATION_HORIZONTAL:e.moveTo(t,0),e.lineTo(t,this.width);break;case a.ORIENTATION_VERTICAL:e.moveTo(0,t),e.lineTo(this.width,t)}e.closePath(),e.stroke(),e.restore()},t.prototype.drawMainPart=function(t,e){for(var n=e.iterator(this.length-this.offset);n.hasNext();){var o=n.next(),r=this.resolvePositionInfo(o),i=r.x+this.offsetX,a=r.y+this.offsetY,s=r.textX+this.offsetX,c=r.textY+this.offsetY;this.drawScale(t,o,i,a,s,c)}},t.prototype.drawExpandPart=function(t,e){this.orientation==a.ORIENTATION_VERTICAL?this.drawExpandPart_vertical(t,e):this.drawExpandPart_horizontal(t,e)},t.prototype.drawExpandPart_vertical=function(t,e){var n=e.iterator(this.offset);for(n.next();n.hasNext();){var o=n.next(),r=this.resolvePositionInfo(o),i=r.x,a=this.offsetY-r.y,s=r.textX,c=this.offsetY-o.offset-2;this.drawScale(t,o,i,a,s,c)}},t.prototype.drawExpandPart_horizontal=function(t,e){var n=e.iterator(this.offset);for(n.next();n.hasNext();){var o=n.next(),r=this.resolvePositionInfo(o),i=this.offsetX-r.x,a=r.y,s=this.offsetX-r.textX+4,c=r.textY;this.drawScale(t,o,i,a,s,c)}},t.prototype.drawScale=function(t,e,n,o,r,a){var s=void 0;switch(e.type){case i.default.SCALE_TYPE_UNIT:s=this.width/4;break;case i.default.SCALE_TYPE_MIDDLE:s=this.width/2;break;case i.default.SCALE_TYPE_SCALE:s=this.width}this.drawLine(t,this.orientation,s,n,o),e.type===i.default.SCALE_TYPE_SCALE&&t.fillText(e.scale+"",r,a)},t.prototype.drawLine=function(t,e,n,o,r){var i,s;switch(t.beginPath(),n=Math.ceil(n),o=Math.floor(o),r=Math.floor(r),e){case a.ORIENTATION_VERTICAL:i=o-n,s=r+=.5;break;default:i=o+=.5,s=r-n}t.moveTo(o,r),t.lineTo(i,s),t.closePath(),t.stroke()},t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=s(n(1)),i=s(n(8)),a=s(n(53));s(n(2));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var f=s(n(7)).default.getLogger("RulerContainerComponent"),p=function(t){function e(){return c(this,e),u(this,t.apply(this,arguments))}return l(e,t),e.getName=function(){return"ruler-container"},e.prototype.postlink=function(){t.prototype.postlink.call(this),this.horizontalContainer=this.childAt(0),this.verticalContainer=this.childAt(1),this.horizontalRuler=this.horizontalContainer.childAt(1),this.verticalRuler=this.verticalContainer.childAt(0),this.slot=this.childAt(1).childAt(1)},e.prototype.createDOMElement=function(){return document.createElement("div")},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this);var n=function(){e.updateRulerSize(),e.rerenderRuler()},o=function(t){if(e.isActive){var n=t.clientX,o=t.clientY-e.verticalRuler.element.getBoundingClientRect().top,r=n-e.horizontalRuler.element.getBoundingClientRect().left;e.verticalRuler.setPointerOffset(o),e.horizontalRuler.setPointerOffset(r),e.rerenderPointer()}};document.addEventListener("mousemove",o),window.addEventListener("resize",n);var a=function(t){e.isActive&&e.updateRulerOffset().then((function(t){e.rerenderRuler(),e.rerenderPointer()}))};this.addDestroyHook(this.getPDFUI().addViewerEventListener(r.default.zoomToSuccess,(function(t){e.isActive&&e.updateScaleRatio().then((function(t){return e.updateRulerOffset()})).then((function(t){e.rerenderRuler(),e.rerenderPointer()}))})),this.getPDFUI().addViewerEventListener(r.default.pageNumberChange,(function(){e.currentPageRenderPromise=e.resolveCurrentLeftPage(),a()})),this.getPDFUI().addViewerEventListener(r.default.renderFileSuccess,(function(){e.currentPageRenderPromise=e.resolveCurrentLeftPage(),a()})),this.getPDFUI().addViewerEventListener(r.default.willCloseDocument,(function(){e.currentPageRenderPromise=Promise.resolve(null),a()})),this.getPDFUI().addUIEventListener(i.default.changeViewModeSuccess,a)),this.getPDFUI().getPDFViewerRender().then((function(t){e.addDestroyHook(t.scrollWrap.addScrollEventListener(a))})),this.addDestroyHook((function(){window.removeEventListener("resize",n),document.removeEventListener("mousemove",o)}))},e.prototype.resolveCurrentLeftPage=function(){var t=this;return this.getPDFUI().getPDFDocRender().then((function(e){if(!e)throw new Error("Cannot resolve current docRender, maybe no file is opening currently");var n=e.getViewMode().getVisibleIndexes(),r=function(t){var e=t.$ui.get(0).getBoundingClientRect();return{pageRender:t,index:t.index,left:Math.floor(e.left),vmiddle:Math.floor(e.top+e.height/2)}};if(0===n.length&&(f.info("The current visible pages could not be reached, using current index instead"),n=[e.getCurrentPageIndex()]),1===n.length){var i=e.getPDFPageRender(n[0]);return t.currentPage=i,i}var a=function(){var o=e.getCurrentPageIndex(),i=n.map((function(t){return e.getPDFPageRender(t)})).map(r).reduce((function(t,e){var n=e.vmiddle;return t[n]=t[n]||[],t[n].push(e),t}),{});for(var a in i){var s=i[a];if(s.find((function(t){return t.index===o})))return s.sort((function(t,e){return t.left<e.left?-1:1})),t.currentPage=s[0].pageRender,{v:s[0].pageRender}}}();if("object"===(void 0===a?"undefined":o(a)))return a.v}))},e.prototype.doActive=function(){var t=this;this.element.classList.add("active"),Promise.all([this.updateScaleRatio(),this.updateRulerOffset().then((function(e){return t.updateRulerSize()}))]).then((function(e){t.rerenderRuler(),t.rerenderPointer()}))},e.prototype.doDeactive=function(){this.element.classList.remove("active")},e.prototype.updateRulerOffset=function(){var t=this;return this.currentPageRenderPromise||(this.currentPageRenderPromise=this.resolveCurrentLeftPage()),this.currentPageRenderPromise.then((function(e){if(!e)return t.horizontalRuler.setRulerOffset(0),void t.verticalRuler.setRulerOffset(0);var n=function(t){return t.renderer.canvas.getBoundingClientRect()},o=e.$ui.get(0).getBoundingClientRect(),r=n(t.horizontalRuler),i=n(t.verticalRuler),a=o.left-r.left,s=o.top-i.top;t.horizontalRuler.setRulerOffset(a),t.verticalRuler.setRulerOffset(s)}),(function(e){throw t.horizontalRuler.setRulerOffset(0),t.verticalRuler.setRulerOffset(0),e}))},e.prototype.updateScaleRatio=function(){var t=this;return this.getPDFUI().getPDFDocRender().then((function(t){return t.getScaleRatio()})).then((function(e){t.horizontalRuler.setZoom(e),t.verticalRuler.setZoom(e)}))},e.prototype.updateRulerSize=function(){this.horizontalRuler.setLength(this.horizontalContainer.element.offsetWidth),this.verticalRuler.setLength(this.verticalContainer.element.offsetHeight)},e.prototype.rerenderRuler=function(){this.horizontalRuler.rerenderRuler(),this.verticalRuler.rerenderRuler()},e.prototype.rerenderPointer=function(){this.verticalRuler.rerenderPointer(),this.horizontalRuler.rerenderPointer()},e.prototype.getSlotContainer=function(){return t.prototype.getSlotContainer.call(this,"")},e}(a.default.createSuperClass({template:'\n        <div class="fv__ui-ruler-container">\n            <div class="fv__ui-horizontal-ruler-container">\n                <span></span>\n                <distance:ruler orientation="horizontal" class="fv__ui-horizontal-ruler"></distance:ruler>\n            </div>\n            <div class="fv__ui-ruler-container-main">\n                <distance:ruler orientation="vertical" class="fv__ui-vertical-ruler"></distance:ruler>\n                <div class="fv__ui-ruler-container-slot" slot></div>\n            </div>\n        </div>\n    '}));e.default=p},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=f(n(824)),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(44)),i=f(n(53)),a=n(110),s=n(85),c=f(n(208)),u=f(n(127)),l=f(n(209));function f(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var g=[r.POINT,r.INCH,r.CENTIMETER,r.PICA,r.MILLIMETER],m=[r.POINT,r.INCH,r.CENTIMETER,r.PICA,r.MILLIMETER,r.FOOT,r.YARD,r.METER,r.KILOMETER,r.MILE,r.CUSTOM],v=function(t){function e(){return p(this,e),d(this,t.apply(this,arguments))}return h(e,t),e.getName=function(){return"measurement-popup"},e.prototype.postlink=function(){t.prototype.postlink.call(this),this.userSpaceUnitComponent=this.getComponentByName("measurement-user-space-unit"),this.realUnitComponent=this.getComponentByName("measurement-rw-unit"),this.userSpaceScaleComponent=this.getComponentByName("measurement-user-space-scale"),this.realScaleComponent=this.getComponentByName("measurement-rw-scale"),this.angleElement=this.getComponentByName("angle-value").element,this.distanceElement=this.getComponentByName("distance-value").element,this.deltaXElement=this.getComponentByName("delta-x-value").element,this.deltaYElement=this.getComponentByName("delta-y-value").element,this.scaleElement=this.getComponentByName("scale-value").element,this.perimeterElement=this.getComponentByName("perimeter-value").element,this.perimeterElement.parentNode.style.visibility="collapse",this.areaElement=this.getComponentByName("area-value").element,this.areaElement.parentNode.style.visibility="collapse";var e=!0,n=!1,o=void 0;try{for(var r,i=g[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var a=r.value;(p=document.createElement("option")).value=a.name,p.setAttribute("data-i18n","measurement.units."+a.name),this.userSpaceUnitComponent.element.appendChild(p)}}catch(t){n=!0,o=t}finally{try{!e&&i.return&&i.return()}finally{if(n)throw o}}var s=!0,c=!1,u=void 0;try{for(var l,f=m[Symbol.iterator]();!(s=(l=f.next()).done);s=!0){var p,d=l.value;(p=document.createElement("option")).value=d.name,p.setAttribute("data-i18n","measurement.units."+d.name),this.realUnitComponent.element.appendChild(p)}}catch(t){c=!0,u=t}finally{try{!s&&f.return&&f.return()}finally{if(c)throw u}}this.userSpaceUnitComponent.localize(),this.realUnitComponent.localize()},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this);var n=this.userSpaceUnitComponent.element,o=void 0;n.addEventListener("focus",(function(){o=e.getUserSpaceUnit()})),n.addEventListener("change",(function(){e.trigger("change",{field:s.FIELD_USER_SPACE_UNIT,previous:o,current:e.getUserSpaceUnit()})}));var r=this.realUnitComponent.element,i=void 0;r.addEventListener("focus",(function(){i=e.getRealUnit()})),r.addEventListener("change",(function(){e.trigger("change",{field:s.FIELD_REAL_UNIT,previous:i,current:e.getRealUnit()})})),this.userSpaceScaleComponent.on("change",(function(t,n){e.trigger("change",{field:s.FIELD_USER_SPACE_SCALE,previous:Number(n),current:Number(t)})})),this.realScaleComponent.on("change",(function(t,n){e.trigger("change",{field:s.FIELD_REAL_SCALE,previous:Number(n),current:Number(t)})}))},e.prototype.resetUIFor=function(t){var e=this.getComponentByName("measurement.popup.title");t==u.default&&(this.perimeterElement.parentNode.style.visibility="visible",this.areaElement.parentNode.style.visibility="collapse",e.setTitle("measurement.popup.perimeterTitle")),t==c.default&&(this.perimeterElement.parentNode.style.visibility="collapse",this.areaElement.parentNode.style.visibility="collapse",e.setTitle("measurement.popup.title")),t==l.default&&(this.perimeterElement.parentNode.style.visibility="collapse",this.areaElement.parentNode.style.visibility="visible",e.setTitle("measurement.popup.areaTitle"))},e.prototype.setUserSpaceScale=function(t){this._validateScale(t),this.userSpaceScaleComponent.setValue(t)},e.prototype.getUserSpaceScale=function(){return this.userSpaceScaleComponent.getValue()},e.prototype.getUserSpaceUnit=function(){return r.getUnitByName(this.userSpaceUnitComponent.element.value)},e.prototype.setUserSpaceUnit=function(t){t instanceof a.Unit&&(t=t.name),this.userSpaceUnitComponent.element.value=t},e.prototype.setRealScale=function(t){this._validateScale(t),this.realScaleComponent.setValue(t)},e.prototype.getRealScale=function(){return this.realScaleComponent.getValue()},e.prototype.getRealUnit=function(){return r.getUnitByName(this.realUnitComponent.element.value)},e.prototype.setRealUnit=function(t){t instanceof a.Unit&&(t=t.name),this.realUnitComponent.element.value=t},e.prototype.updateMeasurementInfo=function(t){var e=t.distance,n=t.deltaX,o=t.deltaY,r=t.scale,i=t.angle,a=t.displayUnit,s=t.perimeter,c=t.area,u=a.name;this.distanceElement.innerText=Math.round(100*e)/100+" "+u,this.deltaXElement.innerText=Math.round(100*n)/100+" "+u,this.deltaYElement.innerText=Math.round(100*o)/100+" "+u,this.scaleElement.innerText=r,this.angleElement.innerText=i+"",void 0!==s&&(this.perimeterElement.innerText=Math.round(100*s)/100+" "+u),void 0!==c&&(this.areaElement.innerText=Math.round(100*c)/100+" sq "+u)},e.prototype._validateScale=function(t){if(t<0)throw new Error("Illegal argument: scale value must be greater then 0")},e.prototype.sync=function(e,n){var o=t.prototype.sync.call(this,e,n);if(o)return o;switch(e){case"fromScale":case"userSpaceScale":return this.setUserSpaceScale(n),!0;case"toScale":case"realScale":return this.setRealScale(n),!0;case"fromUnit":case"userSpaceUnit":return this.setUserSpaceUnit(n),!0;case"toUnit":case"realUnit":return this.setRealUnit(n),!0}return!1},e}(i.default.createSuperClass({template:(0,o.default)()}));e.default=v},function(t,e,n){n(0);t.exports=function(t){"use strict";t=t||{};return'<layer class="fv__ui-measurement-layer right bottom" @draggable="" @controller="distance:MeasurementPopupController" focus="false">\n    <layer-header class="fv__ui-measurement-header" title="measurement.popup.title" name="measurement.popup.title"></layer-header>\n    <layer-view>\n        <div class="fv__ui-measurement-fieldset">\n            <span class="fv__ui-measurement-fieldset-title" data-i18n="measurement.popup.scale.title"></span>\n            <div class="fv__ui-measurement-fieldset-content">\n                <ul class="fv__ui-measurement-fieldset-list">\n                    <li @stop-drag>\n                        <number @stop-drag class="fv__ui-measurement-form-item fv__ui-measurement-scale-input" name="measurement-user-space-scale" min="0"></number>\n                    </li>\n                    <li @stop-drag>\n                        <select class="fv__ui-measurement-form-item fv__ui-measurement-unit-select" name="measurement-user-space-unit"></select>\n                    </li>\n                    <li>=</li>\n                    <li @stop-drag>\n                        <number @stop-drag class="fv__ui-measurement-form-item fv__ui-measurement-scale-input" name="measurement-rw-scale" min="0"></number>\n                    </li>\n                    <li @stop-drag>\n                        <select class="fv__ui-measurement-form-item fv__ui-measurement-unit-select" name="measurement-rw-unit"></select>\n                    </li>\n                </ul>\n            </div>\n        </div>\n        <div class="fv__ui-measurement-fieldset">\n            <span class="fv__ui-measurement-fieldset-title" data-i18n="measurement.popup.measure.title"></span>\n            <div class="fv__ui-measurement-fieldset-content">\n                <table class="fv__ui-measurements-popup-table">\n                    <tr>\n                        <th data-i18n="measurement.popup.measure.distanceLabel">Distance:</th>\n                        <td name="distance-value"></td>\n                        <th class="fv__ui-measurements-popup-offset-item-label">X:</th>\n                        <td name="delta-x-value"></td>\n                    </tr>\n                    <tr>\n                        <th data-i18n="measurement.popup.measure.angleLabel">Angle:</th>\n                        <td name="angle-value"></th>\n                        <th class="fv__ui-measurements-popup-offset-item-label">Y:</th>\n                        <td name="delta-y-value"></td>\n                    </tr>\n                    <tr>\n                        <th data-i18n="measurement.popup.measure.scaleLabel">Scale:</th>\n                        <td name="scale-value" colspan="3"></td>\n                    </tr>\n                    <tr>\n                        <th data-i18n="measurement.popup.measure.perimeter">Perimeter:</th>\n                        <td name="perimeter-value" colspan="3"></td>\n                    </tr>\n                    <tr>\n                        <th data-i18n="measurement.popup.measure.area">Area:</th>\n                        <td name="area-value" colspan="3"></td>\n                    </tr>\n                </table>\n            </div>\n        </div>\n    </layer-view>\n</layer>','<layer class="fv__ui-measurement-layer right bottom" @draggable="" @controller="distance:MeasurementPopupController" focus="false">\n    <layer-header class="fv__ui-measurement-header" title="measurement.popup.title" name="measurement.popup.title"></layer-header>\n    <layer-view>\n        <div class="fv__ui-measurement-fieldset">\n            <span class="fv__ui-measurement-fieldset-title" data-i18n="measurement.popup.scale.title"></span>\n            <div class="fv__ui-measurement-fieldset-content">\n                <ul class="fv__ui-measurement-fieldset-list">\n                    <li @stop-drag>\n                        <number @stop-drag class="fv__ui-measurement-form-item fv__ui-measurement-scale-input" name="measurement-user-space-scale" min="0"></number>\n                    </li>\n                    <li @stop-drag>\n                        <select class="fv__ui-measurement-form-item fv__ui-measurement-unit-select" name="measurement-user-space-unit"></select>\n                    </li>\n                    <li>=</li>\n                    <li @stop-drag>\n                        <number @stop-drag class="fv__ui-measurement-form-item fv__ui-measurement-scale-input" name="measurement-rw-scale" min="0"></number>\n                    </li>\n                    <li @stop-drag>\n                        <select class="fv__ui-measurement-form-item fv__ui-measurement-unit-select" name="measurement-rw-unit"></select>\n                    </li>\n                </ul>\n            </div>\n        </div>\n        <div class="fv__ui-measurement-fieldset">\n            <span class="fv__ui-measurement-fieldset-title" data-i18n="measurement.popup.measure.title"></span>\n            <div class="fv__ui-measurement-fieldset-content">\n                <table class="fv__ui-measurements-popup-table">\n                    <tr>\n                        <th data-i18n="measurement.popup.measure.distanceLabel">Distance:</th>\n                        <td name="distance-value"></td>\n                        <th class="fv__ui-measurements-popup-offset-item-label">X:</th>\n                        <td name="delta-x-value"></td>\n                    </tr>\n                    <tr>\n                        <th data-i18n="measurement.popup.measure.angleLabel">Angle:</th>\n                        <td name="angle-value"></th>\n                        <th class="fv__ui-measurements-popup-offset-item-label">Y:</th>\n                        <td name="delta-y-value"></td>\n                    </tr>\n                    <tr>\n                        <th data-i18n="measurement.popup.measure.scaleLabel">Scale:</th>\n                        <td name="scale-value" colspan="3"></td>\n                    </tr>\n                    <tr>\n                        <th data-i18n="measurement.popup.measure.perimeter">Perimeter:</th>\n                        <td name="perimeter-value" colspan="3"></td>\n                    </tr>\n                    <tr>\n                        <th data-i18n="measurement.popup.measure.area">Area:</th>\n                        <td name="area-value" colspan="3"></td>\n                    </tr>\n                </table>\n            </div>\n        </div>\n    </layer-view>\n</layer>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=f(n(2)),r=n(11),i=f(n(208)),a=n(44),s=n(85),c=f(n(127)),u=f(n(209)),l=f(n(329));function f(t){return t&&t.__esModule?t:{default:t}}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var h=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n))}return d(e,t),e.getName=function(){return"MeasurementPopupController"},e.prototype.prelink=function(){var e=this;t.prototype.prelink.call(this),this.getPDFUI().getStore().then((function(t){e.store=t}))},e.prototype.mounted=function(){var e,n=this;t.prototype.mounted.call(this);var o=(p(e={},s.FIELD_USER_SPACE_SCALE,1),p(e,s.FIELD_REAL_SCALE,1),p(e,s.FIELD_USER_SPACE_UNIT,a.INCH),p(e,s.FIELD_REAL_UNIT,a.INCH),e),f=function(){n.store.dispatch("measurementInfo",Object.assign({},o))},d=function(t){var e=o[s.FIELD_USER_SPACE_SCALE],r=o[s.FIELD_USER_SPACE_UNIT],i=o[s.FIELD_REAL_SCALE],a=o[s.FIELD_REAL_UNIT],c=e+" "+r.name+" = "+i+" "+a.name,u=a,f=void 0,p=void 0,d=void 0,h=void 0,g=void 0;if("line"==t.annotationInfo.type){f=t.getStartPoint();var m=(p=t.getEndPoint()).x-f.x,v=p.y-f.y;g=Math.round(Math.abs(Math.atan2(v,m))/Math.PI*180*100)/100}if("polyline"==t.annotationInfo.type||"polygon"==t.annotationInfo.type){var y=t.getVertexes();if(y.length<1)return;if(f=p=y[y.length-1],y.length>1&&(f=y[y.length-2]),2==y.length){var b=p.x-f.x,w=p.y-f.y;g=Math.round(Math.abs(Math.atan2(w,b))/Math.PI*180*100)/100}else{var _=y[y.length-1],P=y[y.length-2],O=y[y.length-3];Math.abs(P.x-O.x)<.001&&Math.abs(P.y-O.y)<.001&&y.length>3&&(O=y[y.length-4]),g=l.default.caculateAngle(_,P,O,o)}if("polyline"==t.annotationInfo.type){var E=y[0];d=0;for(var x=1;x<y.length;x++)d+=l.default.caculateDistance(E,y[x],o),E=y[x]}else h=0}var C=l.default.caculateDistance(f,p,o),A=p.x-f.x,S=p.y-f.y,D=Math.abs(A),R=Math.abs(S),j={distance:C,deltaX:D=l.default.convertPoint2RealUnit(D,o),deltaY:R=l.default.convertPoint2RealUnit(R,o),scale:c,angle:g,displayUnit:u,perimeter:d,area:h};n.store.dispatch("measurementData",j),n.component.updateMeasurementInfo(j)};this.addDestroyHook(this.getPDFUI().addViewerEventListener(r.Events.switchStateHandler,(function(t){t==i.default||t==c.default||t==u.default?(n.component.resetUIFor(t),n.component.show()):n.component.hide()})),this.getPDFUI().addViewerEventListener(r.Events.distanceAnnotCreationStart,(function(t){d(t)})),this.getPDFUI().addViewerEventListener(r.Events.updateCreatingDistanceAnnot,(function(t){d(t)})),this.getPDFUI().addViewerEventListener(r.Events.distanceAnnotCreationEnd,(function(t){d(t)})),this.component.on("change",(function(t){o[t.field]=t.current,f()}))),this.getPDFUI().getStore().then((function(t){t.subscribe("measurementInfo",(function(t){n.component.setUserSpaceScale(t[s.FIELD_USER_SPACE_SCALE]),n.component.setRealScale(t[s.FIELD_REAL_SCALE]),n.component.setUserSpaceUnit(t[s.FIELD_USER_SPACE_UNIT]),n.component.setRealUnit(t[s.FIELD_REAL_UNIT])})),f()}))},e}(o.default);e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(12)),r=a(n(210)),i=a(n(333));function a(t){return t&&t.__esModule?t:{default:t}}var s=o.default.module("edit",[]);s.registerController(r.default),s.registerController(i.default),e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(12)),r=s(n(211)),i=s(n(829)),a=s(n(830));function s(t){return t&&t.__esModule?t:{default:t}}n(831);var c=o.default.module("loupe",[]);c.registerController(r.default),c.registerController(i.default),c.registerController(a.default),e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(11),r=(a(n(227)),a(n(1))),i=n(13);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.destroyHooks=[],o.cursorStyle="fv__cursor-loupe",o.offsetX=0,o.offsetY=0,o.updatePosition=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=null;return function(){var o=this,r=arguments;n||(n=setTimeout((function(){t.apply(o,r),n=null}),e))}}(o.updatePosition.bind(o)),o}return s(e,t),e.getStateName=function(){return i.STATE_HANDLER_LOUPE},e.prototype.docHandler=function(){},e.prototype.pageHandler=function(t){var e=this;this.pageRender=t;var n=t.$handler.get(0);t.$handler.addClass(this.cursorStyle);var o=this.areaRenderer=t.getPageAreaRenderer(255,400,2,!1);this.pdfViewer.eventEmitter.emit(r.default.createPageAreaRenderer,o);var i=function(t,o){n.addEventListener(t,o),e.destroyHooks.push((function(){n.removeEventListener(t,o)}))};i("click",(function(t){e.pdfViewer.eventEmitter.emit(r.default.startUpdatePageAreaRenderer,o)})),i("mouseover",(function(t){e.pdfViewer.eventEmitter.emit(r.default.switchPageAreaRenderer,o)})),i("mousemove",(function(t){e.offsetX=t.offsetX,e.offsetY=t.offsetY,e.updatePosition()}))},e.prototype.updatePosition=function(){this.areaRenderer.setPosition(this.offsetX,this.offsetY),this.areaRenderer.update()},e.prototype.destroyPageHandler=function(){this.pageRender.$handler.removeClass(this.cursorStyle),this.pdfViewer.eventEmitter.emit(r.default.destroyPageAreaRenderer,this.areaRenderer),this.destroyHooks.forEach((function(t){return t()})),this.updatePosition=null},e}(o.IStateHandler);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(2);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"LoupeToolScaleController"},e.prototype.handle=function(){},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(2);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.data.scaleList=[{value:50},{value:75},{value:100},{value:125},{value:150},{value:200},{value:400},{value:500},{value:600}].map((function(t){return t.text=t.value+"%",t})),o}return i(e,t),e.getName=function(){return"LoupeToolScaleListController"},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=a},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=c(n(12)),r=c(n(833)),i=c(n(334)),a=c(n(335)),s=c(n(835));function c(t){return t&&t.__esModule?t:{default:t}}n(838);var u=o.default.module("stamp",[]);u.registerController(a.default),u.registerComponent(s.default),u.registerController(r.default),u.registerController(i.default),e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(2);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"CustomStampButtonController"},e.prototype.handle=function(t){var e=this.getPDFUI();this.getComponentByName("create-stamp-dialog").hide();var n=t.currentTarget||t.target;switch("a"!==n.tagName.toLowerCase()&&(n=n.parentElement),n.dataset.action){case"Close":break;case"OK":var o=this.getComponentByName("create-stamp-body"),r=o.validate();if(r.length)return e.alert(r);e.getPDFViewer().then((function(t){return t.addAnnotationIcon(o.gatherData())}))}},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=n(11),i=f(n(19)),a=f(n(3)),s=n(13),c=n(37),u=f(n(1)),l=n(9);function f(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var d=void 0,h=void 0,g=void 0,m=void 0,v=void 0,y=void 0,b=void 0,w=(0,a.default)('<img style="position: absolute;opacity:0.5"/>'),_=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n))}return p(e,t),e.getStateName=function(){return s.STATE_HANDLER_CREATE_STAMP},e.setPDFUI=function(t){b=t},e.setParams=function(t){var e=t.category,n=t.name;d=e,h=n,b.initDefaultStamps();var o=b.defaultStamps[e]&&b.defaultStamps[e][n],r=150,i=45;if(!o){if(!b.customStamps[e])throw b.getStateHandlerManager().then((function(t){return t.switchTo()})),new Error("No stamp found");r=(o=b.customStamps[e][n]).width||150,i=o.height||45}if(g=r,m=i,y=o.fileType,v=o.url,!l.isTouchDevice){w.css({width:4*r/3,height:4*i/3});var a=v.replace(/\.pdf$/,".svg");w.attr("src",a);var s=new XMLHttpRequest;s.open("get",a),s.send()}b.eventEmitter.emit("stampSelectedChange")},e.getStampPath=function(){return[d,h]},e.prototype.pageHandler=function(t){this.pageRender=t;var e=t.$handler;e.addClass("fv__create-stamp-state-handler");var n=!1,o=e[0],r=this.hammer=new i.default.Manager(o,{recognizers:[[i.default.Tap]]});this.addEvent(e,"mousemove",(function(r){if(!n){var i=o.getBoundingClientRect(),a=r.clientX-i.left,s=r.clientY-i.top;l.isTouchDevice||(w.css({transform:"scale("+t.getScale()+")",top:s-2*m/3,left:a-2*g/3}).show(),e.append(w))}})),r.on("tap",(function(e){w.css("opacity",1);var r=o.getBoundingClientRect(),i=e.srcEvent,a=(0,c.getClientX)(i),s=(0,c.getClientY)(i),l=[a-r.left,s-r.top],f=l[0],p=l[1];return n=!0,t.getPDFPage().then((function(e){var n=2*g/3*t.scale,o=2*m/3*t.scale,r={left:f-n,right:f+n,top:p-o,bottom:p+o};r=e.reverseDeviceRect(r,t.scale,t.getRotation());var i={rotate:((360-90*e.getRotation()-t.getRotation())%360+360)%360,type:"stamp",flags:4,rect:r,iconInfo:{category:d,name:h,fileType:y,url:v}};return e.addAnnot(i)})).then((function(e){var o=t.annotsRender.getAnnotRender(e[0].id).component;t.pdfViewer.eventEmitter.emit(u.default.addAnnotSuccess,o.annot),t.annotsRender.activeAnnot(e[0].id),o.getRenderPromise().finally((function(){setTimeout((function(){n=!1,w.hide(),w.css("opacity",.5)}),500)}))})).then((function(t){return b.getStateHandlerManager().then((function(t){return t.switchTo()}))})).catch((function(){n=!1,w.hide(),w.css("opacity",.5)}))}))},e.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass("fv__create-stamp-state-handler"),w.hide(),this.destroyList.map((function(t){var e=o(t,3),n=e[0],r=e[1],i=e[2];n.off(r,i)}))},e.prototype.out=function(){this.destroyPageHandler()},e.prototype.addEvent=function(t,e,n){this.destroyList=this.destroyList||[],t.on(e,n),this.destroyList.push([t,e,n])},e}(r.IStateHandler);e.default=_},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(3));n(836);var r=a(n(18)),i=a(n(837));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c,u=426,l=175,f=function(t){function e(n,o,r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r))}return s(e,t),e.getName=function(){return"stamp-create"},e.prototype.prelink=function(){var t=this,e=this.element.querySelector(".fv__ui-stamp-loader");this._bindEvent([e],"load",(function(e){u=t.element.getElementsByClassName("fv__ui-preview-container")[0].offsetWidth,l=t.element.getElementsByClassName("fv__ui-preview-container")[0].offsetHeight;var n=e.target.width,o=e.target.height;if(e.target.width>u||e.target.height>l){var r=Math.min(u/e.target.width,l/e.target.height);o=(o*=(n=parseInt(n*r))/e.target.width).toFixed(2)}t._setElementValue("#stampWidth input",n+"")._setElementValue("#stampHeight input",o+"");var i=t.element.querySelector(".fv__ui-stamp-preview");i.src=e.target.src,i.style.display="block",i.style.width=n+"px",i.style.height=o+"px"}));this._bindEvent("#stamp-local-path","change",(function(n){if(!(n.target.files.length<1)){t.cleanData(),e.src&&(URL.revokeObjectURL(e.src),e.src=""),t.element.querySelector("#stampPath").style.display="none",t.element.querySelector("#stampType").style.display="none";var o=c=URL.createObjectURL(n.target.files[0]),r=n.target.files[0].type.match(/.+\/(.+)/)[1];return-1==["bmp","jpg","jpeg","png"].indexOf(r)?(n.target.value="",void t.pdfUI.alert("alert.unsupportedStamp")):(t.type=r,e.src=o,t._setElementValue("#stampName input",n.target.files[0].name),n.target.value="",!1)}}));this._bindEvent("#stampCategory select","change",(function(e){t.element.querySelector("#stampCategory input").value=e.target.value}));var n=function(t){t.target.value&&t.target.value.length>0&&t.target.classList.remove("fv__ui-stamp-invalid")};this._bindEvent("#stampCategory input","change",n),this._bindEvent("#stampName input","change",n),this._bindEvent("#stampWidth input","change",n),this._bindEvent("#stampHeight input","change",n);var r=function(e){var n=t.element.querySelector(".fv__ui-stamp-source");if("fv__ui-stamp-dropdown"==e.target.classList[0]||"fv__ui-dropdown-caret"==e.target.classList[0]||"fv__ui-stamp-sourceLable"==e.target.classList[0])n.style.display="block";else if("fv__ui-stamp-source-lable"==e.target.classList[0]){n.style.display="none",t.cleanData();var o=t.element.querySelector("#stampPath");o.style.display="inline-block",o.style.background="#f1f1f1",t.element.querySelector("#stampType").style.display="flex",o.focus(),delete t.type}else n.style.display="none";return!1};this._bindEvent(".fv__ui-stamp-source-lable","click",r),this._bindEvent(".fv__ui-stamp-dropdown","click",r),this._bindEvent([this.element],"click",r);this._bindEvent("#stampPath","change",(function(n){var r=(c=n.target.value).match(/[\s\S]*\.(pdf|bmp|jpg|jpeg|png)/);r&&(0,o.default)(t.element).find("#stampType select").val(r[1]),e.src=c.replace(".pdf",".svg")})),this._bindEvent("#stampPath","blur",(function(){t.element.querySelector("#stampPath").style.background="white"}))},e.prototype.createDOMElement=function(){return document.createElement("div")},e.prototype.update=function(){t.prototype.update.call(this),this.cleanData(!0);var e=this.pdfUI.customStamps;if(e){var n=this.element.querySelector("#stampCategory select"),o=!0,r=!1,i=void 0;try{for(var a,s=n.children[Symbol.iterator]();!(o=(a=s.next()).done);o=!0){var c=a.value;n.removeChild(c)}}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}var u="";for(var l in e)u+="<option value="+l+">"+l+"</option>";n.innerHTML=u,n.value="x"}},e.prototype.validate=function(){var t=this.pdfUI.i18n,e="";return e+=c?"":t.t("stamp.error.file")+"\n",e+=this._checkNull("#stampCategory input",{notNull:t.t("stamp.error.catagory"),notSpace:t.t("stamp.error.space"),notSpecialChar:t.t("stamp.error.special")}),e+=this._checkNull("#stampName input",{notNull:t.t("stamp.error.name")}),e+=this._checkNull("#stampWidth input",{notNull:t.t("stamp.error.width")}),e+=this._checkNull("#stampHeight input",{notNull:t.t("stamp.error.height")})},e.prototype.gatherData=function(){this.element.querySelector(".fv__ui-stamp-loader").src="";var t=c,e=this.element.querySelector("#stampCategory input").value,n=this.element.querySelector("#stampName input").value,o=this.element.querySelector("#stampWidth input").value,r=this.element.querySelector("#stampHeight input").value;return{url:t,category:e,fileType:this.type||this.element.querySelector("#stampType select").value,name:n,lable:n,width:o,height:r,annotType:"stamp"}},e.prototype.cleanData=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];c=null,this._setElementValue("#stampPath","",t)._setElementValue("#stampName input","",t)._setElementValue("#stampWidth input","",t)._setElementValue(".fv__ui-stamp-preview","",t)._setElementValue("#stampHeight input","",t)},e.prototype.render=function(){t.prototype.render.call(this),this.element.classList.add("fv__ui-stamp-create"),this.element.innerHTML=(0,i.default)({}),this.localize()},e.prototype._bindEvent=function(t,e,n){var o=this,r=void 0;r="string"==typeof t?this.element.querySelectorAll(t):t;for(var i=function(t){var i=r[t];i.addEventListener(e,n),o.addDestroyHook((function(){i.removeEventListener(e,n)}))},a=0;a<r.length;a++)i(a)},e.prototype._checkNull=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.notNull,o=void 0!==n&&n,r=e.notSpace,i=void 0!==r&&r,a=e.notSpecialChar,s=void 0!==a&&a,c=e.ascii,u=void 0!==c&&c,l=[],f=this.element.querySelector(t);return o&&0==f.value.length&&(f.classList.add("fv__ui-stamp-invalid"),l.push(o)),i&&/\s/.test(f.value)&&(f.classList.add("fv__ui-stamp-invalid"),l.push(i)),s&&/[!@#\$%\^&\*\(\)\-=;:\[\]\{\}]/.test(f.value)&&(f.classList.add("fv__ui-stamp-invalid"),l.push(s)),u&&/[^\x00-\xff]/.test(f.value)&&(f.classList.add("fv__ui-stamp-invalid"),l.push(u)),0==l.length&&f.classList.remove("fv__ui-stamp-invalid"),l.length>0?l.join("\n")+"\n":""},e.prototype._syncIconInfo=function(t,e){var n=t.catalog,o=(t.name,e.type),r=e.url,i=e.width,a=e.height;this._setElementValue("#stampCategory input",n)._setElementValue("#stampWidth input",i+"")._setElementValue("#stampHeight input",a+""),this.element.querySelector(".fv__ui-stamp-loader").src=r,this.type=o},e.prototype._setElementValue=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=this.element.querySelector(t);return o.value=e,(e.length>0||n)&&o.classList.remove("fv__ui-stamp-invalid"),o.src&&(o.src=e,o.style.display="none"),this},e}(r.default);e.default=f},function(t,e,n){},function(t,e,n){n(0);t.exports=function(t){"use strict";t=t||{};return'\n    <div class="fv__ui-form-group">\n        <div class="fv__ui-stamp-dropdown"><div class=\'fv__ui-stamp-sourceLable\' data-i18n="stamp.dialog.selectSource">select file</div><i class="fv__ui-dropdown-caret fv__icon-toolbar-caret"></i></div>\n        <ul class=\'fv__ui-stamp-source\'>\n            <li>\n                <div data-source="localfile" class=\'fv__ui-stamp-source-lable\'>\n                    <div  data-i18n="stamp.dialog.selectLocal">Select from my computer</div>\n                    <input type="file" id="stamp-local-path" accept="image/jpg,image/jpeg,image/bmp,image/png"/>\n                </div>\n            </li>\n            <li>\n                <div data-source="weblink" style="padding-left:8px;" class=\'fv__ui-stamp-source-lable\' data-i18n="stamp.dialog.addLink">Add from link</div>\n            </li>\n        </ul>\n        <input id="stampPath" type="text" data-i18n="[placeholder]stamp.dialog.urlHint" class="fv__ui-stamp-input" style="display:none">\n    </div>\n    <div class="fv__ui-preview-container">\n        <img class="fv__ui-stamp-preview"/>\n        <img class="fv__ui-stamp-loader"/>\n    </div>\n    <div id="stampCategory" class="fv__ui-form-group">\n        <label class="fv__ui-stamp-inputLable" data-i18n="stamp.dialog.category">Category</label>\n        <div class="fv__ui-stamp-selector">\n            <select class="fv__ui-stamp-input"></select>\n            <input class="fv__ui-stamp-input">\n        </div>\n    </div>\n    <div id="stampType" class="fv__ui-form-group-type" style="display:none;">\n        <label class="fv__ui-stamp-inputLable" data-i18n="stamp.dialog.type">type</label>\n        <select class="fv__ui-stamp-input-type">\n            <option>bmp</option>\n            <option>jpg</option>\n            <option>jpeg</option>\n            <option>png</option>\n            <option>pdf</option>\n        </select>\n    </div>\n    <div id="stampName" class="fv__ui-form-group">\n        <label class="fv__ui-stamp-inputLable" data-i18n="stamp.dialog.name">Name</label>\n        <input type="text" class="fv__ui-stamp-input">\n    </div>\n    <div id="stampWidth" class="fv__ui-form-group">\n        <label class="fv__ui-stamp-inputLable" data-i18n="stamp.dialog.width">Width</label>\n        <input type="text" class="fv__ui-stamp-input" >\n    </div>\n    <div id="stampHeight" class="fv__ui-form-group">\n        <label class="fv__ui-stamp-inputLable" data-i18n="stamp.dialog.height">Height</label>\n        <input type="text" class="fv__ui-stamp-input" >\n    </div>','\n    <div class="fv__ui-form-group">\n        <div class="fv__ui-stamp-dropdown"><div class=\'fv__ui-stamp-sourceLable\' data-i18n="stamp.dialog.selectSource">select file</div><i class="fv__ui-dropdown-caret fv__icon-toolbar-caret"></i></div>\n        <ul class=\'fv__ui-stamp-source\'>\n            <li>\n                <div data-source="localfile" class=\'fv__ui-stamp-source-lable\'>\n                    <div  data-i18n="stamp.dialog.selectLocal">Select from my computer</div>\n                    <input type="file" id="stamp-local-path" accept="image/jpg,image/jpeg,image/bmp,image/png"/>\n                </div>\n            </li>\n            <li>\n                <div data-source="weblink" style="padding-left:8px;" class=\'fv__ui-stamp-source-lable\' data-i18n="stamp.dialog.addLink">Add from link</div>\n            </li>\n        </ul>\n        <input id="stampPath" type="text" data-i18n="[placeholder]stamp.dialog.urlHint" class="fv__ui-stamp-input" style="display:none">\n    </div>\n    <div class="fv__ui-preview-container">\n        <img class="fv__ui-stamp-preview"/>\n        <img class="fv__ui-stamp-loader"/>\n    </div>\n    <div id="stampCategory" class="fv__ui-form-group">\n        <label class="fv__ui-stamp-inputLable" data-i18n="stamp.dialog.category">Category</label>\n        <div class="fv__ui-stamp-selector">\n            <select class="fv__ui-stamp-input"></select>\n            <input class="fv__ui-stamp-input">\n        </div>\n    </div>\n    <div id="stampType" class="fv__ui-form-group-type" style="display:none;">\n        <label class="fv__ui-stamp-inputLable" data-i18n="stamp.dialog.type">type</label>\n        <select class="fv__ui-stamp-input-type">\n            <option>bmp</option>\n            <option>jpg</option>\n            <option>jpeg</option>\n            <option>png</option>\n            <option>pdf</option>\n        </select>\n    </div>\n    <div id="stampName" class="fv__ui-form-group">\n        <label class="fv__ui-stamp-inputLable" data-i18n="stamp.dialog.name">Name</label>\n        <input type="text" class="fv__ui-stamp-input">\n    </div>\n    <div id="stampWidth" class="fv__ui-form-group">\n        <label class="fv__ui-stamp-inputLable" data-i18n="stamp.dialog.width">Width</label>\n        <input type="text" class="fv__ui-stamp-input" >\n    </div>\n    <div id="stampHeight" class="fv__ui-form-group">\n        <label class="fv__ui-stamp-inputLable" data-i18n="stamp.dialog.height">Height</label>\n        <input type="text" class="fv__ui-stamp-input" >\n    </div>'}},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=u(n(12)),r=u(n(840)),i=u(n(841)),a=u(n(336)),s=n(337),c=u(n(338));function u(t){return t&&t.__esModule?t:{default:t}}var l=o.default.module("inksign",[]);l.registerComponent(r.default),l.registerController(i.default),l.registerController(a.default),l.registerController(s.CreateInkSignDialogController),l.registerController(c.default),e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(18);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"signItem"},e.prototype.doDisable=function(){t.prototype.doDisable.call(this),this.element.children[0]&&this.element.children[0].classList.add("disabled")},e.prototype.doEnable=function(){t.prototype.doEnable.call(this),this.element.children[0]&&this.element.children[0].classList.remove("disabled")},e.prototype.mounted=function(){var e,n,o,r,i=this;t.prototype.mounted.call(this),this.element.innerHTML='<div class="fv__ui-sign-item"><i class="fv__ui-sign-icon fv__icon-toolbar-delete-sign"></i></div>',this.element.getElementsByClassName("fv__ui-sign-item")[0].appendChild((e=this.controller.data.signature.dataURL,n=document.createElement("canvas"),o=n.getContext("2d"),(r=new Image).onload=function(){var t=114,e=57,i=void 0,a=void 0;t/r.width*r.height<e?(i=t,a=r.height/r.width*i):(a=e,i=r.width/r.height*a),n.width=i,n.height=a,o.drawImage(r,0,0,i,a)},r.src=e,n)),this.element.getElementsByClassName("fv__ui-sign-item")[0].addEventListener("click",(function(t){i.disabled||(t.stopPropagation(),i.trigger("switch",i.controller.data.$index),document.dispatchEvent(new MouseEvent("mouseup")))})),this.element.getElementsByClassName("fv__ui-sign-item")[0].addEventListener("mouseup",(function(t){t.stopPropagation()})),this.element.getElementsByClassName("fv__icon-toolbar-delete-sign")[0].addEventListener("click",(function(t){t.stopPropagation(),i.trigger("delete",i.controller.data.$index)})),this.element.getElementsByClassName("fv__icon-toolbar-delete-sign")[0].addEventListener("mouseup",(function(t){t.stopPropagation()}))},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(2)),r=a(n(212)),i=a(n(8));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n))}return s(e,t),e.getName=function(){return"InkSignItemController"},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this);var n=this.getPDFUI();this.component.on("delete",(function(t){n.getPDFViewer().then((function(e){e.getInkSignManager().delete(t)}))})),this.component.on("switch",(function(t){n.getPDFViewer().then((function(e){e.getInkSignManager().setCurrentInkSign(t),e.getStateHandlerManager().switchTo(r.default.getStateName());var n=e.getInkSignManager().getCurrentInkSign();e.eventEmitter.emit(i.default.applicationOfInkSign,n.dataURL)}))}));var o=function(t){e.component[8&t.getPermissions()?"enable":"disable"]()};this.addDestroyHook(n.addViewerEventListener(i.default.openFileSuccess,o),n.addViewerEventListener(i.default.permissionChanged,o))},e}(o.default);e.default=c},function(t,e,n){n(0);t.exports=function(t){"use strict";t=t||{};return'<div class="fv__signature-tool-container">\n    <div class="fv__signature-tool-btns">\n        <div class="fv__signature-tool-btn"><i class="fv__signature-tool-icon fv__icon-screenshot-ok"></i></div>\n        <div class="fv__signature-tool-btn"><i class="fv__signature-tool-icon fv__icon-screenshot-cancel"></i></div>\n    </div>\n    <div class="fv__signature-tool-border">\n        <canvas id="signatureInPage" width="114" height="57"></canvas>\n        <div class="fv__signature-tool-size">\n            <i class="fv__signature-tool-size-circle"></i>\n        </div>\n    </div>\n</div>','<div class="fv__signature-tool-container">\n    <div class="fv__signature-tool-btns">\n        <div class="fv__signature-tool-btn"><i class="fv__signature-tool-icon fv__icon-screenshot-ok"></i></div>\n        <div class="fv__signature-tool-btn"><i class="fv__signature-tool-icon fv__icon-screenshot-cancel"></i></div>\n    </div>\n    <div class="fv__signature-tool-border">\n        <canvas id="signatureInPage" width="114" height="57"></canvas>\n        <div class="fv__signature-tool-size">\n            <i class="fv__signature-tool-size-circle"></i>\n        </div>\n    </div>\n</div>'}},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(12)),r=a(n(845)),i=a(n(846));function a(t){return t&&t.__esModule?t:{default:t}}var s=o.default.module("quick-search",[]);s.registerComponent(r.default),s.registerController(i.default),e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(15));function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=r(n(7)).default.getLogger("biz.quick-search"),s=function(t){function e(n,o,r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r))}return i(e,t),e.getName=function(){return"quick-search"},e.prototype.createDOMElement=function(){return document.createElement("div")},e.prototype.render=function(){t.prototype.render.call(this),this.element.addClass("fv-quick-search-container");var e=document.createElement("div");e.className="fv-quick-search-container",this.eCommentListContainer=e,this.element.appendChild(e)},e.prototype.renderCommentListContainer=function(){},e.prototype.renderMoreComments=function(){},e.prototype.update=function(){},e.prototype.destroy=function(){a.info("c.destroy")},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(2)),r=a(n(7)),i=a(n(1));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=r.default.getLogger("biz.quick-search"),u=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n))}return s(e,t),e.getName=function(){return"QuickSearchController"},e.prototype.mounted=function(){var t=this,e=this.component;this.getPDFUI().getPDFViewer().then((function(n){var o=n.getCurrentPDFDoc();o&&(t.currentPDFDoc=o,e.trigger("pdf-doc-change",o)),n.eventEmitter.on(i.default.openFileSuccess,(function(n){n!==t.currentPDFDoc&&(t.currentPDFDoc=n,e.trigger("pdf-doc-change",n))}))})),this.component.on("pdf-doc-change",(function(t){})),this.component.element.addEventListener("scroll",(function(){t.renderMoreComments()}))},e.prototype.handle=function(){c.info("c.handle")},e}(o.default);e.default=u},function(t,e,n){"use strict";var o=u(n(12)),r=u(n(848)),i=u(n(851)),a=u(n(852)),s=u(n(853)),c=u(n(854));function u(t){return t&&t.__esModule?t:{default:t}}var l=o.default.module("text-sel",[]);[r.default].forEach((function(t){l.registerFragment(t.name,t.fragment)})),[i.default,a.default,s.default,c.default].forEach((function(t){l.registerController(t)}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(849),i=(o=r)&&o.__esModule?o:{default:o};n(850),e.default={name:"text-selection-tooltip",fragment:{template:(0,i.default)()}}},function(t,e,n){n(0);t.exports=function(t){"use strict";t=t||{};return'<tooltip-layer name="fv--text-selection-tooltip" class="fv--ui-text-selection-tooltip">\n    <xbutton name="fv--text-selection-tooltip-copy" @controller="text-sel:CopySelectedTextController" icon-class="fv__icon-popup-copy"></xbutton>\n    <xbutton name="fv--text-selection-tooltip-create-highlight" @controller="text-sel:CreateTextHighlightOnSelectedTextController" icon-class="fv__icon-toolbar-text-highlight"></xbutton>\n    <xbutton name="fv--text-selection-tooltip-create-strikeout" @controller="text-sel:CreateStrikeoutOnSelectedTextController" icon-class="fv__icon-toolbar-strikeout"></xbutton>\n    <xbutton name="fv--text-selection-tooltip-create-underline" @controller="text-sel:CreateUnderlineOnSelectedTextController" icon-class="fv__icon-toolbar-underline"></xbutton>\n</tooltip-layer>\n','<tooltip-layer name="fv--text-selection-tooltip" class="fv--ui-text-selection-tooltip">\n    <xbutton name="fv--text-selection-tooltip-copy" @controller="text-sel:CopySelectedTextController" icon-class="fv__icon-popup-copy"></xbutton>\n    <xbutton name="fv--text-selection-tooltip-create-highlight" @controller="text-sel:CreateTextHighlightOnSelectedTextController" icon-class="fv__icon-toolbar-text-highlight"></xbutton>\n    <xbutton name="fv--text-selection-tooltip-create-strikeout" @controller="text-sel:CreateStrikeoutOnSelectedTextController" icon-class="fv__icon-toolbar-strikeout"></xbutton>\n    <xbutton name="fv--text-selection-tooltip-create-underline" @controller="text-sel:CreateUnderlineOnSelectedTextController" icon-class="fv__icon-toolbar-underline"></xbutton>\n</tooltip-layer>\n'}},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(2)),r=n(11),i=a(n(24));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.getName=function(){return"CopySelectedTextController"},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this),this.tooltipLayer=this.component.getClosestComponentByType("tooltip-layer"),this.addDestroyHook(this.pdfUI.addViewerEventListener(r.Events.openFileSuccess,(function(t){t.checkPermission(i.default.extract)?e.component.enable():e.component.disable()})))},e.prototype.handle=function(){var t=this,e=this.tooltipLayer.getCurrentSelectionTool();if(e)return e.copy().then((function(e){t.tooltipLayer.hide()}))},e}(o.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(2)),r=n(11),i=a(n(24));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.getName=function(){return"CreateStrikeoutOnSelectedTextController"},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this),this.tooltipLayer=this.component.getClosestComponentByType("tooltip-layer"),this.addDestroyHook(this.pdfUI.addViewerEventListener(r.Events.openFileSuccess,(function(t){t.checkPermission(i.default.annotForm)?e.component.enable():e.component.disable()})))},e.prototype.handle=function(){var t=this,e=this.tooltipLayer.getCurrentSelectionTool();if(e)return e.createStrikeout().then((function(e){t.tooltipLayer.hide()}))},e}(o.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(2)),r=n(11),i=a(n(24));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.getName=function(){return"CreateTextHighlightOnSelectedTextController"},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this),this.tooltipLayer=this.component.getClosestComponentByType("tooltip-layer"),this.addDestroyHook(this.pdfUI.addViewerEventListener(r.Events.openFileSuccess,(function(t){t.checkPermission(i.default.annotForm)?e.component.enable():e.component.disable()})))},e.prototype.handle=function(){var t=this,e=this.tooltipLayer.getCurrentSelectionTool();if(e)return e.createTextHighlight().then((function(e){t.tooltipLayer.hide()}))},e}(o.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(2)),r=n(11),i=a(n(24));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.getName=function(){return"CreateUnderlineOnSelectedTextController"},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this),this.tooltipLayer=this.component.getClosestComponentByType("tooltip-layer"),this.addDestroyHook(this.pdfUI.addViewerEventListener(r.Events.openFileSuccess,(function(t){t.checkPermission(i.default.annotForm)?e.component.enable():e.component.disable()})))},e.prototype.handle=function(){var t=this,e=this.tooltipLayer.getCurrentSelectionTool();if(e)return e.createUnderline().then((function(e){t.tooltipLayer.hide()}))},e}(o.default);e.default=l},function(t,e,n){"use strict";var o=i(n(12)),r=i(n(856));function i(t){return t&&t.__esModule?t:{default:t}}n(858);var a=o.default.module("freetext",[]);[r.default].forEach((function(t){a.registerFragment(t.name,t.fragment)}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(857)),r=i(n(2));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}e.default={name:"freetext-tooltip",fragment:{template:(0,o.default)(),config:[{target:"fv--freetext-tooltip",callback:function(t){function e(){return a(this,e),s(this,t.apply(this,arguments))}return c(e,t),e.prototype.handle=function(t){var e=this.component.parent,n=e.childAt(0),o=e.childAt(1),r=t.target;"i"==r.tagName.toLowerCase()&&(r=r.parentElement),this.pdfUI.getPDFViewer().then((function(t){var e=t.getCurrentActivatable(),i=e.annot.getDefaultAppearance(),a=e.getRect();switch(r.dataset.action){case"increase":39==i.textSize&&n.disable(),o.enable(),i.textSize++,e.setDefaultAppearance("textSize",i.textSize);break;case"decrease":7==i.textSize&&o.disable(),n.enable(),i.textSize--,e.setDefaultAppearance("textSize",i.textSize);break;case"delete":e.removeAnnot();break;case"setting":e.showPropertiesDialog(null,null,{pageX:a.right+60,pageY:a.bottom+80})}}))},e}(r.default)}]}}},function(t,e,n){n(0);t.exports=function(t){"use strict";t=t||{};return'<tooltip-layer name="fv--freetext-tooltip" class="fv--ui-freetext-tooltip">\n    <xbutton class="fv--ui-ft-tt" data-action="increase" icon-class="fv__icon-edit-increase-size"></xbutton>\n    <xbutton class="fv--ui-ft-tt" data-action="decrease" icon-class="fv__icon-edit-decrease-size"></xbutton>\n    <xbutton class="fv--ui-ft-tt" data-action="delete" icon-class="fv__icon-popup-delete"></xbutton>\n    <xbutton class="fv--ui-ft-tt" data-action="setting" icon-class="fv__icon-toolbar-setting"></xbutton>\n</tooltip-layer>','<tooltip-layer name="fv--freetext-tooltip" class="fv--ui-freetext-tooltip">\n    <xbutton class="fv--ui-ft-tt" data-action="increase" icon-class="fv__icon-edit-increase-size"></xbutton>\n    <xbutton class="fv--ui-ft-tt" data-action="decrease" icon-class="fv__icon-edit-decrease-size"></xbutton>\n    <xbutton class="fv--ui-ft-tt" data-action="delete" icon-class="fv__icon-popup-delete"></xbutton>\n    <xbutton class="fv--ui-ft-tt" data-action="setting" icon-class="fv__icon-toolbar-setting"></xbutton>\n</tooltip-layer>'}},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(12)),r=i(n(128));function i(t){return t&&t.__esModule?t:{default:t}}var a=o.default.module("marquee",[]);a.registerController(r.default),e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=n(17),i=p(n(33)),a=p(n(46)),s=p(n(19)),c=p(n(3)),u=p(n(35)),l=n(13),f=p(n(1));function p(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var h=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,"square"));return o.pdfViewer=n,o.cursorStyle="fv__cursor-marquee",o.destroyHooks=[],o}return d(e,t),e.getStateName=function(){return l.STATE_HANDLER_MARQUEE},e.prototype.start=function(t,e){var n=e.left,o=e.top;this.shapeControl||(this.shapeControl=new i.default({resizable:!1,enableDiagonally:!0}),this.shapeControl.active(t.$handler,{left:n,top:o,width:0,height:0},{left:n,top:o,right:n,bottom:o}))},e.prototype.pageHandler=function(t){var e=this;this.pageRender=t;var n=t.$handler.get(0);t.$handler.addClass(this.cursorStyle);var i=this.hammer=new s.default.Manager(n),a=t.$handler;i.add(new s.default.Pan({direction:s.default.DIRECTION_ALL}));var l=void 0;i.on("panstart",(function(o){e.startPoint=(0,u.default)(n,o);var i=e.startPoint.x,a=e.startPoint.y;e.start(t,{left:i,top:a}),l=new r.DebouncePromiseQueue})),i.on("panmove",(function(t){e.currentPoint={x:e.startPoint.x+t.deltaX,y:e.startPoint.y+t.deltaY},l.push((function(){return e.adjust(e.shapeControl,e.startPoint,e.currentPoint)}))})),i.on("panend",(function(t){if(!e.isStart){var n=o(t.pointers,1)[0];e.currentPoint={x:e.startPoint.x+t.deltaX,y:e.startPoint.y+t.deltaY},e.isStart=!0,setTimeout((function(){e.isStart=!1}),500),l.push((function(){return e.adjust(e.shapeControl,e.startPoint,e.currentPoint)})),n.ctrlKey||n.metaKey||n.shiftKey?e.pdfViewer.eventEmitter.emit(f.default.marqueeZoomOut,e.shapeControl.shape.shape,e.pageRender.index):e.pdfViewer.eventEmitter.emit(f.default.marqueeZoomIn,e.shapeControl.shape.shape,e.pageRender.index),e.shapeControl.destroy(),e.shapeControl=null}})),i.on("pancancel",(function(t){l.end(),e.shapeControl.destroy(),e.shapeControl=null}));var p=function(t,o){n.addEventListener(t,o),e.destroyHooks.push((function(){n.removeEventListener(t,o)}))};p("click",(function(n){if(!e.isStart){e.isStart=!0,setTimeout((function(){e.isStart=!1}),500);var o=n.layerX,r=n.layerY;e.start(t,{left:o,top:r}),e.shapeControl.shape.shape.clientX=n.clientX,e.shapeControl.shape.shape.clientY=n.clientY,n.ctrlKey||n.metaKey||n.shiftKey?e.pdfViewer.eventEmitter.emit(f.default.marqueeZoomOut,e.shapeControl.shape.shape,e.pageRender.index):e.pdfViewer.eventEmitter.emit(f.default.marqueeZoomIn,e.shapeControl.shape.shape,e.pageRender.index),e.shapeControl.destroy(),e.shapeControl=null}})),p("contextmenu",(function(t){t.stopPropagation(),t.preventDefault()})),(0,c.default)(document).on("keydown",(function(t){(t.ctrlKey||t.metaKey||t.shiftKey)&&a.css("cursor","-webkit-zoom-out")})),(0,c.default)(document).on("keyup",(function(t){16!=t.keyCode&&17!=t.keyCode&&91!=t.keyCode||a.css("cursor","")}))},e.prototype.adjust=function(t,e,n){var o=e.x,r=e.y,i=n.x,a=n.y;if(t){var s,c,u=Math.abs(o-i),l=Math.abs(r-a),f={left:s=Math.min(o,i),top:c=Math.min(r,a),width:u=Math.max(u,1),height:l=Math.max(l,1)},p={left:s,top:c,right:s+u,bottom:c+l};t._applyAnnotBoundary(f),t.shape.boundary=p,t.shape.shape=f,t._updatePreviewer()}},e.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle),(0,c.default)(document).off("keydown"),(0,c.default)(document).off("keyup"),this.pageRender.$handler.off("mousedown"),this.destroyHooks.forEach((function(t){return t()}))},e}(a.default);e.default=h},function(t,e,n){"use strict";var o=i(n(862)),r=i(n(865));function i(t){return t&&t.__esModule?t:{default:t}}var a=i(n(12)).default.module("attachment",[]);a.registerController(r.default),a.registerComponent(o.default)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(15));n(863);var r=s(n(864)),i=s(n(19)),a=(s(n(20)),n(9));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.annots=[],i}return c(e,t),e.getName=function(){return"attachment-panel"},e.prototype.createDOMElement=function(){return document.createElement("div")},e.prototype.render=function(){t.prototype.render.call(this),this.update(),this.element.innerHTML=(0,r.default)(),this.element.addClass("fv__ui-attachment-container")},e.prototype.update=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=[];this.annots=t,t.map((function(t){e.push({name:t.getFileSpec()&&t.getFileSpec().getFileName(),size:t.getFileSpec()&&t.getFileSpec().getFileSize()})})),this.element.innerHTML=(0,r.default)(e)},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this);var n=new i.default.Manager(this.element);n.add(new i.default.Tap({event:"doubletap",taps:2})),n.on("doubletap",(function(t){t.preventDefault(),e.dbclick(t)})),a.isIOS&&this.element.addEventListener("touchstart",(function(t){t.preventDefault()}))},e.prototype.dbclick=function(t){for(var e=t.target,n=t.currentTarget;!e.classList.contains("fv__attachment-list-item");){if(e===n){e=null;break}e=e.parentNode}if(e){var o=e.getAttribute("data-attachmentindex"),r=this.annots[o];this.getPDFUI().getPDFViewer().then((function(t){t.getPDFPageRender(r.getPDFPage().getIndex()).getAnnotRender(r.getId()).component.download()}))}},e}(o.default);e.default=u},function(t,e,n){},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";var e="",n=(t=t||{}).i,r=o.$escape;e+='<div class="fv__attachment-operation"></div>\n<ul class="fv__attachment-list">\n';for(n=0;n<t.length;n++)e+='\n    <li class="fv__attachment-list-item" data-attachmentindex="',e+=r(n),e+='">\n        <i class="fv__ui-attachment-icon fv__icon-attachment-item-file"></i>\n        <span class="fv__ui-attachment-file-name" title=',e+=r(t[n].name),e+=">",e+=r(t[n].name),e+="</span>\n    </li>\n";return e+="\n</ul>\n"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(2)),r=a(n(1)),i=n(5);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.destroyHook=[],o.pageMap={},o.fileAttachments=[],o}return s(e,t),e.getName=function(){return"AttachmentSidebarPanelController"},e.prototype.postlink=function(){this.component.parent.hide()},e.prototype.addPage=function(t){var e=this,n=t.info.index;this.pageMap[n]||(this.pageMap[n]=t,(t.annots||[]).map((function(t){"fileattachment"===t.getType()&&e.fileAttachments.push(t)})),this.fileAttachments.length>0&&(this.loaded&&this.component.update(this.fileAttachments),this.component.parent.show()))},e.prototype.clearPages=function(){this.pageMap={},this.fileAttachments=[],this.component.parent.hide()},e.prototype.mounted=function(){var t=this;this.loaded=!1;var e=this.getPDFUI(),n=this.getComponentByName("sidebar-attachment");this.destroyHook.push(e.addViewerEventListener(r.default.openFileSuccess,(function(e){t.loaded=!1,t.currentDoc=e})),e.addViewerEventListener(r.default.willCloseDocument,(function(e){t.clearPages(),t.currentDoc=null})),e.addViewerEventListener(r.default.renderPageSuccess,(function(e){e.docRender.getUserPermission().checkAnnotForm()&&t.addPage(e.page)})),e.addViewerEventListener(r.default.annotationAdd,(function(e,n){var o=t.fileAttachments.length;e.length>0&&"fileattachment"===e[0].getType()&&(t.fileAttachments.push(e[0]),t.component.update(t.fileAttachments),0===o&&1===t.fileAttachments.length&&t.component.parent.show())})),e.addViewerEventListener(r.default.annotationRemoved,(function(e){for(var n=void 0,o=0;o<e.length;o++)"fileattachment"===e[o].getType()&&(n=e[o]);n&&t.fileAttachments.map((function(e,o){e.getId()===n.getId()&&(t.fileAttachments.splice(o,1),t.component.update(t.fileAttachments),0===t.fileAttachments.length&&t.component.parent.hide())}))})),e.addViewerEventListener(r.default.annotationImported,(function(e){var n=e.pageCache.length;t.clearPages();for(var o=0;o<n;o++)e.getPageByIndex(o).then((function(e){t.addPage(e)}))})),e.addViewerEventListener(r.default.pageAdded,(function(e){var n=t.currentDoc,o=n.pageCache.length;t.clearPages();for(var r=0;r<o;r++)n.getPageByIndex(r).then((function(e){t.addPage(e)}))})),e.addViewerEventListener(r.default.pageRemoved,(function(){var e=t.currentDoc,n=e.pageCache.length;t.clearPages();for(var o=0;o<n;o++)e.getPageByIndex(o).then((function(e){t.addPage(e)}))}))),n.on(i.COMPONENT_EVENTS.ACTIVE,(function(e){!t.loaded&&t.currentDoc&&(t.loaded=!0,t.component.update(t.fileAttachments))}))},e.prototype.destroy=function(){this.destroyHook.forEach((function(t){return t()}))},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.commentListModule=void 0,n(867);var o=U(n(12)),r=U(n(339)),i=U(n(871)),a=U(n(340)),s=U(n(872)),c=U(n(873)),u=U(n(874)),l=U(n(342)),f=U(n(875)),p=U(n(876)),d=U(n(877)),h=U(n(878)),g=U(n(86)),m=U(n(879)),v=U(n(880)),y=U(n(881)),b=U(n(882)),w=U(n(883)),_=U(n(884)),P=U(n(885)),O=U(n(886)),E=U(n(887)),x=U(n(888)),C=U(n(889)),A=U(n(890)),S=U(n(892)),D=U(n(893)),R=U(n(894)),j=U(n(895)),T=U(n(897)),M=U(n(898)),I=U(n(899)),k=U(n(900)),F=U(n(346)),N=U(n(901)),L=U(n(902)),V=U(n(903)),B=U(n(904));function U(t){return t&&t.__esModule?t:{default:t}}var H=(e.commentListModule=o.default.module("comment-list",[])).getRegistry();H.registerComponent(r.default),H.registerComponent(i.default),H.registerComponent(a.default),H.registerComponent(l.default),H.registerComponent(g.default),H.registerComponent(j.default),H.registerComponent(N.default),H.registerComponent(L.default),H.registerController(s.default),H.registerController(c.default),H.registerController(u.default),H.registerController(f.default),H.registerController(x.default),H.registerController(C.default),H.registerController(V.default),H.registerController(A.default),H.registerController(S.default),H.registerController(D.default),H.registerController(R.default),H.registerController(p.default),H.registerController(d.default),H.registerController(h.default),H.registerController(T.default),H.registerDirective(F.default),H.registerDirective(M.default),H.registerDirective(I.default),H.registerDirective(k.default),[m.default,v.default,y.default,b.default,w.default,_.default,P.default,B.default,O.default,E.default].forEach((function(t){H.registerFragment(t.name,t.fragment)}))},function(t,e,n){},function(t,e,n){n(0);t.exports=function(t){"use strict";t=t||{};return'<div class="fv__ui-commentlist-comment-inner">\n    <div class="fv__ui-commentlist-handler">\n        <div class="fv__ui-commentlist-comment-header">\n            <div class="fv__ui-commentlist-comment-icon-container">\n                <i class="fv__ui-commentlist-comment-icon"></i>\n            </div>\n            <div class="fv__ui-commentlist-comment-summary-head">\n                <span class="fv__ui-commentlist-comment-title"></span>\n                <span class="fv__ui-commentlist-comment-time"><span class="font10"></span></span>\n                <div class="fv__ui-commentlist-comment-menus">\n                    <template role="comment-menu">\n                        <dropdown class="fv__ui-commentlist-comment-item-menu" name="comment-item-menu" icon-class="fv__icon-sidebar-more" @permission="32" @controller="comment-list:CommentDropdownMenuController as cdmc" @single-active=\'comment-list-dropdown-menu\'>\n                            <dropdown-button name="copy-comment-text-menu" icon-class="fv__icon-comment-item-menu-copy" @on.click="cdmc.copyText()">sidebar.commentlist.comment-dropdown.copy-text</dropdown-button>\n                            <dropdown-button name="edit-comment-menu" icon-class="fv__icon-comment-item-menu-edit" @on.click="cdmc.editText()">sidebar.commentlist.comment-dropdown.edit-text</dropdown-button>\n                            <dropdown-button name="delete-comment-menu" icon-class="fv__icon-comment-item-menu-delete" @on.click="cdmc.deleteComment()" @bind.disable="disableDeleteMenu">sidebar.commentlist.comment-dropdown.delete</dropdown-button>\n                            <dropdown-item class="fv__ui-dropdown-container-item">\n                                <dropdown align="out-right" valign="top" @controller="comment-list:CommentStatesController as csc" icon-class="fv__icon-comment-item-menu-settings" name="comment-item-status-menu" text="sidebar.commentlist.comment-dropdown.set-states">\n                                    <dropdown-button @on.click="csc.setState(annot, \'none\')" icon-class="fv__icon-comment-state-menu-none">sidebar.commentlist.states.none</dropdown-button>\n                                    <dropdown-button @on.click="csc.setState(annot, \'accepted\')" icon-class="fv__icon-comment-state-menu-accepted">sidebar.commentlist.states.accepted</dropdown-button>\n                                    <dropdown-button @on.click="csc.setState(annot, \'rejected\')" icon-class="fv__icon-comment-state-menu-regected">sidebar.commentlist.states.rejected</dropdown-button>\n                                    <dropdown-button @on.click="csc.setState(annot, \'cancelled\')" icon-class="fv__icon-comment-state-menu-cancelled">sidebar.commentlist.states.cancelled</dropdown-button>\n                                    <dropdown-button @on.click="csc.setState(annot, \'completed\')" icon-class="fv__icon-comment-state-menu-completed">sidebar.commentlist.states.completed</dropdown-button>\n                                    \x3c!-- <dropdown-button icon-class="fv__icon-comment-state-menu-deferred" @on.click="setState(annot, \'deferred\')">Deferred</dropdown-button>\n                                    <dropdown-button icon-class="fv__icon-comment-state-menu-future" @on.click="setState(annot, \'future\')">Future</dropdown-button> --\x3e\n                                </dropdown>\n                            </dropdown-item>\n                        </dropdown>\n                    </template>\n                </div>\n            </div>\n        </div>\n        <div class="fv__ui-commentlist-comment-body">\n            <div class="fv__ui-commentlist-comment-content">\n                <div class="fv__ui-commentlist-comment-message">\n                </div>\n                <div class="fv__ui-commentlist-comment-no-content">\n                    <span data-i18n="sidebar.commentlist.card.add-content"></span>\n                </div>\n                <ul class="fv__ui-commentlist-comment-status-list">\n                    <li status="accepted">\n                        <i class="fv__icon-comment-state-accepted"></i>\n                        <span class="font10">(<span role="count">0</span>)</span>\n                    </li>\n                    <li status="rejected">\n                        <i class="fv__icon-comment-state-regected"></i>\n                        <span class="font10">(<span role="count">0</span>)</span>\n                    </li>\n                    <li status="cancelled">\n                        <i class="fv__icon-comment-state-cancelled"></i>\n                        <span class="font10">(<span role="count">0</span>)</span>\n                    </li>\n                    <li status="completed">\n                        <i class="fv__icon-comment-state-completed"></i>\n                        <span class="font10">(<span role="count">0</span>)</span>\n                    </li>\n                    <li status="deferred">\n                        <i class="fv__icon-comment-state-deferred"></i>\n                        <span class="font10">(<span role="count">0</span>)</span>\n                    </li>\n                    <li status="future">\n                        <i class="fv__icon-comment-state-future"></i>\n                        <span class="font10">(<span role="count">0</span>)</span>\n                    </li>\n                </ul>\n            </div>\n        </div>\n    </div>\n    <div class="fv__ui-commentlist-comment-editor">\n        <div class="fv__ui-commentlist-comment-editor-area">\n            <div contenteditable class="fv__ui-commentlist-editor"></div>\n        </div>\n        <div class="fv__ui-commentlist-comment-tools">\n            <a href="javascript:void(0)" class="fv__ui-commentlist-btn" action="publish" data-i18n="sidebar.commentlist.card.publishbtn"></a>\n        </div>\n    </div>\n    <div class="fv__ui-commentlist-replies"></div>\n    <div class="fv__ui-commentlist-add-reply">\n        <div class="fv__ui-commentlist-reply-editor">\n            <div contenteditable class="fv__ui-commentlist-editor" data-i18n="[placeholder]sidebar.commentlist.card.add-reply"></div>\n        </div>\n        <div class="fv__ui-commentlist-comment-tools">\n            <a href="javascript:void(0)" class="fv__ui-commentlist-btn" action="add-reply" data-i18n="sidebar.commentlist.card.publishbtn"></a>\n        </div>\n    </div>\n</div>','<div class="fv__ui-commentlist-comment-inner">\n    <div class="fv__ui-commentlist-handler">\n        <div class="fv__ui-commentlist-comment-header">\n            <div class="fv__ui-commentlist-comment-icon-container">\n                <i class="fv__ui-commentlist-comment-icon"></i>\n            </div>\n            <div class="fv__ui-commentlist-comment-summary-head">\n                <span class="fv__ui-commentlist-comment-title"></span>\n                <span class="fv__ui-commentlist-comment-time"><span class="font10"></span></span>\n                <div class="fv__ui-commentlist-comment-menus">\n                    <template role="comment-menu">\n                        <dropdown class="fv__ui-commentlist-comment-item-menu" name="comment-item-menu" icon-class="fv__icon-sidebar-more" @permission="32" @controller="comment-list:CommentDropdownMenuController as cdmc" @single-active=\'comment-list-dropdown-menu\'>\n                            <dropdown-button name="copy-comment-text-menu" icon-class="fv__icon-comment-item-menu-copy" @on.click="cdmc.copyText()">sidebar.commentlist.comment-dropdown.copy-text</dropdown-button>\n                            <dropdown-button name="edit-comment-menu" icon-class="fv__icon-comment-item-menu-edit" @on.click="cdmc.editText()">sidebar.commentlist.comment-dropdown.edit-text</dropdown-button>\n                            <dropdown-button name="delete-comment-menu" icon-class="fv__icon-comment-item-menu-delete" @on.click="cdmc.deleteComment()" @bind.disable="disableDeleteMenu">sidebar.commentlist.comment-dropdown.delete</dropdown-button>\n                            <dropdown-item class="fv__ui-dropdown-container-item">\n                                <dropdown align="out-right" valign="top" @controller="comment-list:CommentStatesController as csc" icon-class="fv__icon-comment-item-menu-settings" name="comment-item-status-menu" text="sidebar.commentlist.comment-dropdown.set-states">\n                                    <dropdown-button @on.click="csc.setState(annot, \'none\')" icon-class="fv__icon-comment-state-menu-none">sidebar.commentlist.states.none</dropdown-button>\n                                    <dropdown-button @on.click="csc.setState(annot, \'accepted\')" icon-class="fv__icon-comment-state-menu-accepted">sidebar.commentlist.states.accepted</dropdown-button>\n                                    <dropdown-button @on.click="csc.setState(annot, \'rejected\')" icon-class="fv__icon-comment-state-menu-regected">sidebar.commentlist.states.rejected</dropdown-button>\n                                    <dropdown-button @on.click="csc.setState(annot, \'cancelled\')" icon-class="fv__icon-comment-state-menu-cancelled">sidebar.commentlist.states.cancelled</dropdown-button>\n                                    <dropdown-button @on.click="csc.setState(annot, \'completed\')" icon-class="fv__icon-comment-state-menu-completed">sidebar.commentlist.states.completed</dropdown-button>\n                                    \x3c!-- <dropdown-button icon-class="fv__icon-comment-state-menu-deferred" @on.click="setState(annot, \'deferred\')">Deferred</dropdown-button>\n                                    <dropdown-button icon-class="fv__icon-comment-state-menu-future" @on.click="setState(annot, \'future\')">Future</dropdown-button> --\x3e\n                                </dropdown>\n                            </dropdown-item>\n                        </dropdown>\n                    </template>\n                </div>\n            </div>\n        </div>\n        <div class="fv__ui-commentlist-comment-body">\n            <div class="fv__ui-commentlist-comment-content">\n                <div class="fv__ui-commentlist-comment-message">\n                </div>\n                <div class="fv__ui-commentlist-comment-no-content">\n                    <span data-i18n="sidebar.commentlist.card.add-content"></span>\n                </div>\n                <ul class="fv__ui-commentlist-comment-status-list">\n                    <li status="accepted">\n                        <i class="fv__icon-comment-state-accepted"></i>\n                        <span class="font10">(<span role="count">0</span>)</span>\n                    </li>\n                    <li status="rejected">\n                        <i class="fv__icon-comment-state-regected"></i>\n                        <span class="font10">(<span role="count">0</span>)</span>\n                    </li>\n                    <li status="cancelled">\n                        <i class="fv__icon-comment-state-cancelled"></i>\n                        <span class="font10">(<span role="count">0</span>)</span>\n                    </li>\n                    <li status="completed">\n                        <i class="fv__icon-comment-state-completed"></i>\n                        <span class="font10">(<span role="count">0</span>)</span>\n                    </li>\n                    <li status="deferred">\n                        <i class="fv__icon-comment-state-deferred"></i>\n                        <span class="font10">(<span role="count">0</span>)</span>\n                    </li>\n                    <li status="future">\n                        <i class="fv__icon-comment-state-future"></i>\n                        <span class="font10">(<span role="count">0</span>)</span>\n                    </li>\n                </ul>\n            </div>\n        </div>\n    </div>\n    <div class="fv__ui-commentlist-comment-editor">\n        <div class="fv__ui-commentlist-comment-editor-area">\n            <div contenteditable class="fv__ui-commentlist-editor"></div>\n        </div>\n        <div class="fv__ui-commentlist-comment-tools">\n            <a href="javascript:void(0)" class="fv__ui-commentlist-btn" action="publish" data-i18n="sidebar.commentlist.card.publishbtn"></a>\n        </div>\n    </div>\n    <div class="fv__ui-commentlist-replies"></div>\n    <div class="fv__ui-commentlist-add-reply">\n        <div class="fv__ui-commentlist-reply-editor">\n            <div contenteditable class="fv__ui-commentlist-editor" data-i18n="[placeholder]sidebar.commentlist.card.add-reply"></div>\n        </div>\n        <div class="fv__ui-commentlist-comment-tools">\n            <a href="javascript:void(0)" class="fv__ui-commentlist-btn" action="add-reply" data-i18n="sidebar.commentlist.card.publishbtn"></a>\n        </div>\n    </div>\n</div>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=e.trim(),i=o[n];i||(i=o[n]=function(){r.innerHTML=n;for(var t=document.createDocumentFragment();r.firstChild;)t.appendChild(r.firstChild);return t}());i=i.cloneNode(!0);for(;t.lastChild;)t.removeChild(t.lastChild);t.appendChild(i)};var o={},r=document.createElement("div")},function(t,e,n){n(0);t.exports=function(t){"use strict";t=t||{};return'<div class="fv__ui-commentlist-reply-inner">\n    <div class="fv__ui-commentlist-reply-handler">\n        <div class="fv__ui-commentlist-reply-header">\n            <span class="fv__ui-commentlist-reply-title" role="reply-title"></span>\n            <span class="fv__ui-commentlist-reply-time"><span class="font10" role="reply-time"></span></span>\n            <div class="fv__ui-commentlist-reply-menu">\n                <template role="reply-menu">\n                    <dropdown name="reply-item-menu" class="fv__ui-commentlist-comment-reply-menu" icon-class="fv__icon-sidebar-more" @controller="comment-list:ReplyDropdownMenuController as rdmc" @single-active=\'comment-list-dropdown-menu\'>\n                        <dropdown-button name="commentlist-reply-menu-copy" icon-class="fv__icon-comment-item-menu-copy" @on.click="rdmc.copyText(replyItem)">sidebar.commentlist.comment-dropdown.copy-text</dropdown-button>\n                        <dropdown-button name="commentlist-reply-menu-edit" icon-class="fv__icon-comment-item-menu-edit" @on.click="rdmc.editText()">sidebar.commentlist.comment-dropdown.edit-text</dropdown-button>\n                        <dropdown-button name="commentlist-reply-menu-delete" icon-class="fv__icon-comment-item-menu-delete" @on.click="rdmc.deleteReply(replyItem)" @bind.disable="disableDeleteMenu">sidebar.commentlist.comment-dropdown.delete</dropdown-button>\n                        <dropdown-item>\n                            <dropdown @controller="comment-list:CommentStatesController as csc" name="comment-item-status-menu" text="sidebar.commentlist.comment-dropdown.set-states" icon-class="fv__icon-comment-item-menu-settings">\n                                <dropdown-button @on.click="csc.setState(replyItem.annot, \'none\')" icon-class="fv__icon-comment-state-menu-none">sidebar.commentlist.states.none</dropdown-button>\n                                <dropdown-button @on.click="csc.setState(replyItem.annot, \'accepted\')" icon-class="fv__icon-comment-state-menu-accepted">sidebar.commentlist.states.accepted</dropdown-button>\n                                <dropdown-button @on.click="csc.setState(replyItem.annot, \'rejected\')" icon-class="fv__icon-comment-state-menu-regected">sidebar.commentlist.states.rejected</dropdown-button>\n                                <dropdown-button @on.click="csc.setState(replyItem.annot, \'cancelled\')" icon-class="fv__icon-comment-state-menu-cancelled">sidebar.commentlist.states.cancelled</dropdown-button>\n                                <dropdown-button @on.click="csc.setState(replyItem.annot, \'completed\')" icon-class="fv__icon-comment-state-menu-completed">sidebar.commentlist.states.completed</dropdown-button>\n                                \x3c!-- <dropdown-button icon-class="fv__icon-comment-state-menu-deferred" @on.click="setState(replyItem.annot, \'deferred\')">Deferred</dropdown-button>\n                                <dropdown-button icon-class="fv__icon-comment-state-menu-future" @on.click="setState(replyItem.annot, \'future\')">Future</dropdown-button> --\x3e\n                            </dropdown>\n                        </dropdown-item>\n                    </dropdown>\n                </template>\n            </div>\n        </div>\n        <div class="fv__ui-commentlist-reply-content">\n            <div class="fv__ui-commentlist-reply-message"></div>\n\n            <ul class="fv__ui-commentlist-comment-status-list">\n                <li status="accepted">\n                    <i class="fv__icon-comment-state-accepted"></i>\n                    <span class="font10">(<span role="count">0</span>)</span>\n                </li>\n                <li status="rejected">\n                    <i class="fv__icon-comment-state-regected"></i>\n                    <span class="font10">(<span role="count">0</span>)</span>\n                </li>\n                <li status="cancelled">\n                    <i class="fv__icon-comment-state-cancelled"></i>\n                    <span class="font10">(<span role="count">0</span>)</span>\n                </li>\n                <li status="completed">\n                    <i class="fv__icon-comment-state-completed"></i>\n                    <span class="font10">(<span role="count">0</span>)</span>\n                </li>\n                <li status="deferred">\n                    <i class="fv__icon-comment-state-deferred"></i>\n                    <span class="font10">(<span role="count">0</span>)</span>\n                </li>\n                <li status="future">\n                    <i class="fv__icon-comment-state-future"></i>\n                    <span class="font10">(<span role="count">0</span>)</span>\n                </li>\n            </ul>\n        </div>\n    </div>\n    <div class="fv__ui-commentlist-reply-edit">\n        <div class="fv__ui-commantlist-reply-editor">\n            <div contenteditable class="fv__ui-commentlist-editor"></div>\n        </div>\n        <div class="fv__ui-commentlist-tools">\n            <a href="javascript:void(0)" class="fv__ui-commentlist-btn" action="edit-reply" data-i18n="sidebar.commentlist.card.publishbtn"></a>\n        </div>\n    </div>\n</div>','<div class="fv__ui-commentlist-reply-inner">\n    <div class="fv__ui-commentlist-reply-handler">\n        <div class="fv__ui-commentlist-reply-header">\n            <span class="fv__ui-commentlist-reply-title" role="reply-title"></span>\n            <span class="fv__ui-commentlist-reply-time"><span class="font10" role="reply-time"></span></span>\n            <div class="fv__ui-commentlist-reply-menu">\n                <template role="reply-menu">\n                    <dropdown name="reply-item-menu" class="fv__ui-commentlist-comment-reply-menu" icon-class="fv__icon-sidebar-more" @controller="comment-list:ReplyDropdownMenuController as rdmc" @single-active=\'comment-list-dropdown-menu\'>\n                        <dropdown-button name="commentlist-reply-menu-copy" icon-class="fv__icon-comment-item-menu-copy" @on.click="rdmc.copyText(replyItem)">sidebar.commentlist.comment-dropdown.copy-text</dropdown-button>\n                        <dropdown-button name="commentlist-reply-menu-edit" icon-class="fv__icon-comment-item-menu-edit" @on.click="rdmc.editText()">sidebar.commentlist.comment-dropdown.edit-text</dropdown-button>\n                        <dropdown-button name="commentlist-reply-menu-delete" icon-class="fv__icon-comment-item-menu-delete" @on.click="rdmc.deleteReply(replyItem)" @bind.disable="disableDeleteMenu">sidebar.commentlist.comment-dropdown.delete</dropdown-button>\n                        <dropdown-item>\n                            <dropdown @controller="comment-list:CommentStatesController as csc" name="comment-item-status-menu" text="sidebar.commentlist.comment-dropdown.set-states" icon-class="fv__icon-comment-item-menu-settings">\n                                <dropdown-button @on.click="csc.setState(replyItem.annot, \'none\')" icon-class="fv__icon-comment-state-menu-none">sidebar.commentlist.states.none</dropdown-button>\n                                <dropdown-button @on.click="csc.setState(replyItem.annot, \'accepted\')" icon-class="fv__icon-comment-state-menu-accepted">sidebar.commentlist.states.accepted</dropdown-button>\n                                <dropdown-button @on.click="csc.setState(replyItem.annot, \'rejected\')" icon-class="fv__icon-comment-state-menu-regected">sidebar.commentlist.states.rejected</dropdown-button>\n                                <dropdown-button @on.click="csc.setState(replyItem.annot, \'cancelled\')" icon-class="fv__icon-comment-state-menu-cancelled">sidebar.commentlist.states.cancelled</dropdown-button>\n                                <dropdown-button @on.click="csc.setState(replyItem.annot, \'completed\')" icon-class="fv__icon-comment-state-menu-completed">sidebar.commentlist.states.completed</dropdown-button>\n                                \x3c!-- <dropdown-button icon-class="fv__icon-comment-state-menu-deferred" @on.click="setState(replyItem.annot, \'deferred\')">Deferred</dropdown-button>\n                                <dropdown-button icon-class="fv__icon-comment-state-menu-future" @on.click="setState(replyItem.annot, \'future\')">Future</dropdown-button> --\x3e\n                            </dropdown>\n                        </dropdown-item>\n                    </dropdown>\n                </template>\n            </div>\n        </div>\n        <div class="fv__ui-commentlist-reply-content">\n            <div class="fv__ui-commentlist-reply-message"></div>\n\n            <ul class="fv__ui-commentlist-comment-status-list">\n                <li status="accepted">\n                    <i class="fv__icon-comment-state-accepted"></i>\n                    <span class="font10">(<span role="count">0</span>)</span>\n                </li>\n                <li status="rejected">\n                    <i class="fv__icon-comment-state-regected"></i>\n                    <span class="font10">(<span role="count">0</span>)</span>\n                </li>\n                <li status="cancelled">\n                    <i class="fv__icon-comment-state-cancelled"></i>\n                    <span class="font10">(<span role="count">0</span>)</span>\n                </li>\n                <li status="completed">\n                    <i class="fv__icon-comment-state-completed"></i>\n                    <span class="font10">(<span role="count">0</span>)</span>\n                </li>\n                <li status="deferred">\n                    <i class="fv__icon-comment-state-deferred"></i>\n                    <span class="font10">(<span role="count">0</span>)</span>\n                </li>\n                <li status="future">\n                    <i class="fv__icon-comment-state-future"></i>\n                    <span class="font10">(<span role="count">0</span>)</span>\n                </li>\n            </ul>\n        </div>\n    </div>\n    <div class="fv__ui-commentlist-reply-edit">\n        <div class="fv__ui-commantlist-reply-editor">\n            <div contenteditable class="fv__ui-commentlist-editor"></div>\n        </div>\n        <div class="fv__ui-commentlist-tools">\n            <a href="javascript:void(0)" class="fv__ui-commentlist-btn" action="edit-reply" data-i18n="sidebar.commentlist.card.publishbtn"></a>\n        </div>\n    </div>\n</div>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(172)),r=i(n(8));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.pageNumber="",i.annotationCount=0,i}return a(e,t),e.getName=function(){return"comment-group"},e.prototype.setPageData=function(t,e){this.pageNumber=t,this.annotationCount=e,this.updateTitle(),0===this.annotationCount?this.element.classList.add("fv__ui-commentlist-group-hide"):this.element.classList.remove("fv__ui-commentlist-group-hide")},e.prototype.setPageNumber=function(t){this.pageNumber=t,this.updateTitle()},e.prototype.updateTitle=function(){this.titleElement.setAttribute("i18n-options",JSON.stringify({pageNumber:this.pageNumber})),this.renderCountText(this.annotationCount),this.localizer.localizeElement(this.titleElement)},e.prototype.renderCountText=function(t){this.countElement.innerText=t>999?"999+":t},e.prototype.render=function(){t.prototype.render.call(this),this.titleElement.setAttribute("data-i18n","sidebar.commentlist.page-title"),this.element.classList.add("fv__ui-commentlist-group-hide");var e=document.createElement("span");e.classList.add("fv__ui-commentlist-group-count"),this.headerElement.appendChild(e),this.countElement=e,this.element.classList.add("fv__ui-commentlist-group")},e.prototype.mounted=function(){t.prototype.mounted.call(this),this.getPDFUI().eventEmitter.emit(r.default.appendCommentListGroup,this)},e.prototype.doDestroy=function(){t.prototype.doDestroy.call(this),this.getPDFUI().eventEmitter.emit(r.default.destroyCommentListGroup,this)},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=c(n(1)),r=c(n(2)),i=c(n(7)),a=c(n(86)),s=n(171);function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var f=i.default.getLogger("comment list"),p=function(){function t(e){l(this,t),this.info=e}return t.prototype.getIndex=function(){return this.info.index},t.prototype.getId=function(){return this.info.id},t}(),d=function(t){function e(n){l(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.data.pages=[],o.pageMap={},o.totalPageCount=-1,o.queued=new s.QueuedAsyncTaskExecutor,o}return u(e,t),e.getName=function(){return"CommentListController"},e.prototype.addPages=function(t){var e=this,n=[];t.forEach((function(t){e.pageMap[t.index]&&e.pageMap[t.index].getId()===t.id||(e.pageMap[t.index]=new p(t),n.push(t))})),0!==n.length&&(this.updatePageList(),this.digest())},e.prototype.addPage=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;this.addPages([{index:t,id:e}])},e.prototype.clearPages=function(){this.pageMap={},this.data.pages=[],this.digest()},e.prototype.switchPage=function(t,e){if(t<e){for(var n=this.pageMap[t],o=t;o<e;o++)this.pageMap[o+1]?this.pageMap[o]=this.pageMap[o+1]:delete this.pageMap[o];n?this.pageMap[e]=n:delete this.pageMap[e]}else{for(var r=this.pageMap[t],i=t;i>e;i--)this.pageMap[i-1]?this.pageMap[i]=this.pageMap[i-1]:delete this.pageMap[i];r?this.pageMap[e]=r:delete this.pageMap[e]}this.updatePageList(),this.digest()},e.prototype.removePage=function(t){var e=this;delete this.pageMap[t],this.pageMap=Object.keys(this.pageMap).reduce((function(n,o){var r=Number(o),i=e.pageMap[o];return r>t&&(r-=1),n[r]=e.pageMap[o],i instanceof p&&(i.info.index=r),n}),{}),this.updatePageList(),this.digest()},e.prototype.updatePageList=function(){var t=this;this.data.pages=Object.keys(this.pageMap).map((function(e){return t.pageMap[e]})).sort((function(t,e){return t.getIndex()>e.getIndex()?1:-1}))},e.prototype.refreshPageIndex=function(){var t=this;this.pageMap=Object.keys(this.pageMap).map((function(e){return t.pageMap[e]})).reduce((function(t,e){return t[e.getIndex()]=e,t}),{}),this.updatePageList()},e.prototype.isAllPagesLoaded=function(){return this.data.pages.length===this.totalPageCount},e.prototype.loadMorePages=function(t){var e=this,n=this.totalPageCount;return n<=0||!(t>0)?Promise.resolve():this.queued.exec((function(){var o=e.data.pages.map((function(t){return t.getIndex()})),r=Math.min.apply(Math,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(o));return e.getPDFUI().getCurrentPDFDoc().then((function(e){for(var i=[];t>0&&r<n;)-1===o.indexOf(r)&&(t--,i.push(e.getPageByIndex(r).then((function(t){return{index:t.getIndex(),id:t.getId()}})))),r++;return Promise.all(i)})).then((function(t){e.addPages(t)}))}))},e.prototype.loadAllPages=function(){return this.loadMorePages(this.totalPageCount)},e.prototype.getLoadedPages=function(){return this.data.pages},e.prototype.mounted=function(){var t=this,e=this.getPDFUI(),n=this.component.getClosestComponentByType(a.default.getName()).isLazy;this.addDestroyHook(e.addViewerEventListener(o.default.openFileSuccess,(function(e){var o=e.getPageCount();t.totalPageCount=o,t.clearPages(),n||Promise.all(Array(o).fill(0).map((function(t,n){return e.getPageByIndex(n).then((function(t){return{index:t.getIndex(),id:t.getId()}}))}))).then((function(e){t.addPages(e)}))})),e.addViewerEventListener(o.default.renderPageSuccess,(function(e){t.refreshPageIndex();var n=e.page,o=e.docRender,r=n.getIndex(),i=Object.keys(t.pageMap).map((function(t){return Number(t)}));-1===i.indexOf(r)&&i.push(r),Promise.all(i.map((function(t){return o.doc.getPageByIndex(t)}))).then((function(e){t.addPages(e.map((function(t){return{index:t.getIndex(),id:t.getId()}})))}))})),e.addViewerEventListener(o.default.openingFile,(function(){t.clearPages()})),e.addViewerEventListener(o.default.pageMoved,(function(e,n){t.switchPage(e,n),f.debug("page moved",Object.assign({},t.pageMap))})),e.addViewerEventListener(o.default.pageAdded,(function(e){t.refreshPageIndex(),t.addPage(e.getIndex(),e.getId()),f.debug("page added",Object.assign({},t.pageMap))})),e.addViewerEventListener(o.default.pageRemoved,(function(e){t.removePage(e),f.debug("page removed",Object.assign({},t.pageMap))})),e.addViewerEventListener(o.default.willCloseDocument,(function(){t.clearPages(),t.totalPageCount=-1})),this.component.on("selectCommentItem",(function(e){t._activeAnnot(e.controller.data.annot)})),this.component.on("selectCommentReply",(function(e){t._activeAnnot(e.parent.controller.data.annot)})),e.addViewerEventListener(o.default.flattened,(function(e){t.removePage(e)})))},e.prototype.selectComponent=function(t){this.component.selectComponent(t)},e.prototype._activeAnnot=function(t){var e=this,n=t.getPDFPage().getIndex();this.getPDFUI().getPDFViewer().then((function(e){if(!e.getPDFDocRender().getUserPermission().checkCannotModifyExcludeAssemble()){var o=e.getPDFPageRender(n);return o.getAnnotRender(t.getId())?o:o.render().then((function(t){return o}))}})).then((function(n){if(n){var o=n.getAnnotRender(t.getId());if(!o.component.isActive){n.annotsRender.activeAnnot(t.getId());var r=o.component.$ui.get(0),i=e.detectElementInView(r),a=i.horizontalInView,s=i.verticalInView;if(!a||!s){var c=r.closest(".fv__ui-pdfviewer").getBoundingClientRect(),u=o.component.getRect(),l=Math.max(0,(u.top+u.bottom-c.height)/2),f=Math.max(0,(u.left+u.right-c.width)/2);n.viewerRender.goToPage(n.index,l,f,!1)}}}}))},e.prototype.detectElementInView=function(t){var e=t.closest(".fv__ui-pdfviewer").getBoundingClientRect(),n=t.getBoundingClientRect();return{horizontalInView:n.left>e.left&&n.right<e.right,verticalInView:n.top>e.top&&n.bottom<e.bottom}},e}(r.default);e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=l(n(8)),i=l(n(344)),a=n(9),s=n(26),c=n(6),u=n(17);function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var p=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.data.replies=o.flatReplies(o.data.annot),o.updateAnnotTask=new u.DebounceAsyncTaskExecutor(100),o.addDestroyHook((function(){o.updateAnnotTask.destroy()})),o}return f(e,t),e.getName=function(){return"CommentItemController"},e.prototype.postlink=function(){var e=this;t.prototype.postlink.call(this);var n=this.data.annot;switch(n.getIntent()){case c.Intents.LINE_DIMENSION:case c.Intents.POLYGON_DIMENSION:case c.Intents.POLYLINE_DIMENSION:this.component.disableEdit()}function o(t){return"strikeout"===t.getType()&&t.isReplace&&t.isReplace()}this.annotUpdated(n),this.addDestroyHook(this.getPDFUI().addViewerEventListener(r.default.annotationIDUpdated,(function(t,n){var o=e.data.replies.filter((function(t){return t.id===n}));o.length>0&&(o[0].id=t,e.data.replies=e.data.replies.slice(0),e.digest())})),this.getPDFUI().addViewerEventListener(r.default.annotationReplyAdd,(function(t,n){e.data.annot.getId()===n.getId()&&(e.data.replies=e.flatReplies(n,[]),e.digest())})),this.getPDFUI().addViewerEventListener(r.default.annotationImported,(function(t,n){var o=n.find((function(t){return t.page.getIndex()===e.data.annot.page.getIndex()}));if(o&&o.newAnnots.length>0){var r=e.flatReplies(e.data.annot,[]);e.data.replies=r,e.digest()}})),this.getPDFUI().addViewerEventListener(r.default.annotationRemoved,(function(t){var n=e.data.replies.map((function(t){return t.id})),o=!1;t.forEach((function(t){var r=n.indexOf(t.getId());r>-1&&(e.data.replies.splice(r,1),o=!0)})),o&&(e.data.replies=e.data.replies.slice(0),e.digest())})),this.getPDFUI().addViewerEventListener(r.default.updateActionAnnotation,(function(t){e.data.annot.getId()===t.getId()&&(e.data.replies=e.flatReplies(t.annot,[]),e.digest())})),this.getPDFUI().addViewerEventListener(r.default.activeAnnotation,(function(t){var n=e.data.commentList.component,r=void 0,i=t.getPDFAnnot();r=o(i)?t.component.annot.getGroupHeader().getId():i.getId(),e.data.annot.getId()===r&&t.annot.getPage().getIndex()==e.data.annot.page.getIndex()&&(n.selectComponent(e.component),e.scrollToThis())})),this.getPDFUI().addViewerEventListener(r.default.unActiveAnnotation,(function(t){var n=void 0,r=t.annot;n=o(r)?r.getGroupHeader().getId():r.getId(),e.data.annot.getId()===n&&r.getPage().getIndex()==e.data.annot.page.getIndex()&&(e.component.deselect(),e.component.children().forEach((function(t){t.deselect(),t.applyState()})),e.component.applyState())})),this.getPDFUI().addViewerEventListener(r.default.annotationUpdated,(function(t){t.some((function(t){if(n.getId()===t.getId())return e.updateAnnotTask.exec((function(){e.isDestroyed||e.annotUpdated(t)})),!0}))})))},e.prototype.scrollToThis=function(){this.component.parent.active();if(a.isMobile&&s.isSafari){var t=this.component.element.offsetTop,e=this.component.getClosestComponentByType("comment-list").element.parentElement;e.scrollTop=t-(e.offsetHeight-this.component.element.offsetHeight)/2}else this.component.element.scrollIntoView({block:"nearest",behavior:"smooth",inline:"nearest"})},e.prototype.annotUpdated=function(t){var e=this;return this.component.setAnnot(t),this.component.setModifyTime(t.getModifiedDateTime()||t.getCreateDateTime()),this.component.setMessage(t.getContent(),!1),this.component.setAnnotTitle(t.getTitle()),this.updateStateList(!1),this.component.applyState(),this.pdfUI.getPDFViewer().then((function(n){var r=n.getPDFDocRender().getUserPermission().getValue(),i=n.getAnnotManager().getAnnotFlag(t),a=e.component.addReplyContainerElement,s=t.getType(),c=32&r&&(i.checkLocked()||i.checkReadOnly()),u=32&r&&(i.checkLocked()||i.checkReadOnly()||i.checkLockedContents()),l=e.component.menuComponent.querySelectorAll("edit-comment-menu,delete-comment-menu"),f=o(l,2),p=f[0],d=f[1];c?d.disable():d.enable(),u?p.disable():p.enable(),i.checkReadOnly()||"freetext"==s||"sound"===s?a.classList.add("fv__ui-hide"):a.classList.remove("fv__ui-hide")}))},e.prototype.flatReplies=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.getReplies().reduce((function(n,o){return o.isDeleted()||(n.push({id:o.getId(),rel:o.getTitle()+" to "+t.getTitle(),title:o.getTitle(),content:o.getContent(),time:o.getModifiedDateTime()||o.getCreateDateTime(),annot:o,parent:t}),e.flatReplies(o,n)),n}),n)},e.prototype.onClick=function(){this.data.commentList.component.selectComponent(this.component)},e.prototype.onDoubleClick=function(){var t=this;if("sound"===this.data.annot.info.type.toLowerCase())return!1;var e=this.data.commentList.component;this.pdfUI.getPDFViewer().then((function(n){var o=n.getPDFDocRender().getUserPermission().getValue(),r=n.getAnnotManager().getAnnotFlag(t.data.annot);32&o&&!r.checkLockedContents()&&!r.checkLocked()&&!r.checkReadOnly()&&e.editComponent(t.component)}))},e.prototype.onPublish=function(t){var e=this,n=this.data.annot;if(t===n.getContent())return this.component.switchToView(),void this.component.applyState();this.getPDFUI();var o=n.getContent();n.setContent(t).then((function(i){var a=n.getContent();e.pdfUI.eventEmitter.emit(r.default.addContentSuccess,n,o,a),e.component.setMessage(t),e.component.setModifyTime(n.getModifiedDateTime()),e.component.switchToView(),e.component.applyState()}))},e.prototype.onReply=function(t){var e=this,n=this.getPDFUI();this.data.annot.addReply(t).then((function(t){n.eventEmitter.emit(r.default.addReplySuccess,e.data.annot,t),e.component.clearReplyEditor()}))},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this);var n=this.data.annot.getPDFPage().getIndex();this.getPDFUI().getPDFPageRender(n).then((function(t){var n=void 0,o=e.data.annot.getGroupElements();if(o&&o.length>0)n=o.some((function(e){var n=t.getAnnotRender(e.getId());if(!n)return!1;var o=n.getComponent();return o&&o.isActive}));else{var r=t.getAnnotRender(e.data.annot.getId());n=r&&r.component.isActive}n&&(e.data.commentList.component.selectComponent(e.component),e.scrollToThis())}))},e}(i.default);e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=c(n(2)),r=c(n(1)),i=c(n(8)),a=n(17),s=c(n(86));n(5);function c(t){return t&&t.__esModule?t:{default:t}}function u(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var f=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.data.annots=[],o.annotationCount=0,o.availableAnnots=[],o.updateAnnotationTask=new a.DebounceAsyncTaskExecutor,o.addDestroyHook((function(){o.updateAnnotationTask.destroy()})),o}return l(e,t),e.getName=function(){return"CommentGroupController"},e.prototype.isSidebarOpenned=function(){return!!this.sidebarPanel&&this.sidebarPanel.isActive},e.prototype.mounted=function(){var t=this;this.updateAnnotations();var e=this.component.getClosestComponentByType(s.default.getName());this.sidebarPanel=e;var n=e.isLazy,o=this.data.page,i=this.getPDFUI(),a=!1,c=!1;this.addDestroyHook(i.addViewerEventListener(r.default.globalAnnotFlagChanged,(function(){a=!0})),i.addViewerEventListener(r.default.annotationAdd,(function(e,n){o.getIndex()===n.getIndex()&&t.updateAnnotations()})),i.addViewerEventListener(r.default.annotationImported,(function(e,r){Array.isArray(r)&&(r.some((function(t){var e=t.page;t.newAnnots;return e.getIndex()===o.getIndex()}))&&(n?i.getPDFPageRender(o.getIndex()).then((function(e){e.isRendered?t.updateAnnotations():c=!0})):t.updateAnnotations()))})),i.addViewerEventListener(r.default.redactAnnotApplyed,(function(){t.updateAnnotations()})),i.addViewerEventListener(r.default.annotationRemoved,(function(e){-1!==e.map((function(t){return t.page.getIndex()})).indexOf(o.getIndex())&&t.updateAnnotations()})),i.addViewerEventListener(r.default.renderPageSuccess,(function(e){e.index===o.getIndex()&&(a?(t.applyAnnotationFlagChange(),a=!1):c&&(t.updateAnnotations(),c=!1))})),this.watch("page.info.index",(function(e){t.component.setPageNumber(e+1)})))},e.prototype.applyAnnotationFlagChange=function(){var t=this,e=this.data.page;return this.getPDFUI().getAnnotManager().then((function(n){if(!t.isDestroyed){var o=t.availableAnnots||[];t.data.annots=o.filter((function(t){return!n.getAnnotFlag(t).checkHidden()})),t.annotationCount=t.data.annots.length,t.component.setPageData(e.getIndex()+1,t.annotationCount),t.digest(),t.getPDFUI().eventEmitter.emit(i.default.commentGroupAnnotationsUpdated,{component:t,page:e,annots:t.data.annots})}}))},e.prototype.updateAnnotations=function(){var t=this,e=this.data.page.getIndex();return this.updateAnnotationTask.exec((function(){if(!t.isDestroyed)return t.getPDFUI().getCurrentPDFDoc().then((function(n){return n?n.getPageAnnots(e).then((function(e){return t.availableAnnots=t.data.annots=t._filterAnnotationData(e),t.applyAnnotationFlagChange()})):[]}))}))},e.prototype._filterAnnotationData=function(t){t=t.filter((function(t){return t.isMarkup()&&!("popup"===t.getType())&&!function(t){return"widget"===t}(t.getType())&&t.getReplies&&(!t.isStateAnnot||!t.isStateAnnot())}));var e=[],n=[];t.forEach((function(t){var o=t.getReplies();e.push.apply(e,u(o)),e.forEach((function t(n){if(n&&n.getReplies){var o=n.getReplies();e.push.apply(e,u(o)),o.forEach(t)}})),n.push.apply(n,u(t.getReviewStates())),n.push.apply(n,u(t.getMarkedStates()))}));var o=t.filter((function(t){return-1===e.indexOf(t)&&-1===n.indexOf(t)}));return o.forEach((function(t){("Replace"===t.getIntent()||t.isReplace&&t.isReplace())&&t.groupElements.forEach((function(e){if(e!==t){var n=o.indexOf(e);n>-1&&o.splice(n,1)}}))})),o},e}(o.default);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(344)),r=i(n(8));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n))}return a(e,t),e.getName=function(){return"CommentReplyController"},e.prototype.getCurrentAnnot=function(){return this.data.replyItem.annot},e.prototype.postlink=function(){var e=this;t.prototype.postlink.call(this),this.component.setContent(this.data.replyItem.content),this.component.setTitle(this.data.replyItem.title),this.component.setTime(this.data.replyItem.time),this.updateStateList(),this.component.applyState(),this.addDestroyHook(this.getPDFUI().addViewerEventListener(r.default.annotationUpdated,(function(t){t.forEach((function(t){e.data.replyItem.annot.getId()===t.getId()&&e.annotUpdated(t)}))})))},e.prototype.annotUpdated=function(t){this.component.setTime(t.getModifiedDateTime()||t.getCreateDateTime()),this.component.setContent(t.getContent())},e.prototype.onClick=function(t){this.data.commentList.component.selectComponent(this.component)},e.prototype.onDoubleClick=function(t){var e=this,n=this.data.commentList.component;this.pdfUI.getPDFViewer().then((function(t){var o=e.data.replyItem.annot,r=e.$parent.data.annot,i=t.getAnnotManager().getAnnotFlag(r);32&t.getPDFDocRender().getUserPermission().getValue()&&!function(e){var n=t.getAnnotManager().getAnnotFlag(e);return n.checkReadOnly()||n.checkLocked()||n.checkLockedContents()}(o)&&!i.checkReadOnly()&&n.editComponent(e.component)}))},e.prototype.updateReplyMessage=function(t){var e=this,n=this.data.replyItem.annot,o=n.getContent();n.setContent(t).then((function(){var t=n.getContent();e.pdfUI.eventEmitter.emit(r.default.addContentSuccess,n,o,t)})),this.component.setContent(t),this.component.switchToView(),this.component.applyState()},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(2),i=(o=r)&&o.__esModule?o:{default:o},a=n(6);function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n))}return s(e,t),e.getName=function(){return"CommentDropdownMenuController"},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this);var n=this.data.annot,o=!0;switch(n.getIntent()){case a.Intents.LINE_DIMENSION:case a.Intents.POLYGON_DIMENSION:case a.Intents.POLYLINE_DIMENSION:o=!1}"sound"===n.info.type.toLowerCase()&&(o=!1),this.pdfUI.getPDFViewer().then((function(t){var r=t.getAnnotManager().getAnnotFlag(n),i=e.component.getComponentByName("delete-comment-menu");r.checkLocked()||r.checkReadOnly()?i.disable():i.enable();var a=e.component.getComponentByName("edit-comment-menu");o?r.checkLockedContents()||r.checkReadOnly()||r.checkLocked()?a.disable():a.enable():a.disable()}));var r=this.component.getComponentByName("copy-comment-text-menu");this.watch("$component.parent.hasContent",(function(t){t?r.enable():r.disable()}))},e.prototype.copyText=function(){var t=document.createElement("textarea");t.value=this.data.annot.getContent(),document.body.appendChild(t),t.select(),t.setSelectionRange(0,t.value.length),document.execCommand("copy"),document.body.removeChild(t)},e.prototype.editText=function(){var t=this.component.parent;t.switchToEdit(),t.applyState()},e.prototype.deleteComment=function(){var t=this.data.annot,e=t.getPDFPage().getIndex();this.getPDFUI().getPDFPageRender(e).then((function(e){return e.getAnnotRenderSafely(t.getId())})).then((function(t){t.component.removeAnnot()}))},e}(i.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(2)),r=a(n(8)),i=a(n(29));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n))}return s(e,t),e.getName=function(){return"ReplyDropdownMenuController"},e.prototype.mounted=function(){var t=this;this.handlePermissionUpdate();var e=this.component.getComponentByName("commentlist-reply-menu-copy"),n=this.data.replyItem.annot,o=this.$parent.$parent.data.annot;this.addDestroyHook(this.getPDFUI().addViewerEventListener(r.default.annotationUpdated,(function(e,r,a){a===i.default.flagsUpdated&&(e.indexOf(n)>-1||e.indexOf(o)>-1)&&t.handlePermissionUpdate()})),this.watch("$component.parent.getContent()",(function(t){t&&t.length>0?e.enable():e.disable()})))},e.prototype.handlePermissionUpdate=function(){var t=this;this.pdfUI.getPDFViewer().then((function(e){var n=!(32&e.getPDFDocRender().getUserPermission().getValue()),o=t.data.replyItem.annot,r=t.$parent.$parent.data.annot,i=t.component.getComponentByName("commentlist-reply-menu-edit"),a=t.component.getComponentByName("commentlist-reply-menu-delete"),s=!1;function c(){for(var t=arguments,n=e.getAnnotManager().getAnnotFlag(t[0]),o=0,r=1;r<t.length;r++)o=o||n[t[r]]();return o}n||c(o,"checkReadOnly","checkLocked")||c(r,"checkReadOnly")?(i.disable(),a.disable(),s=!0):(i.enable(),a.enable()),c(o,"checkLockedContents")?i.disable():!s&&i.enable()}))},e.prototype.copyText=function(t){var e=document.createElement("textarea");e.value=t.annot.getContent(),document.body.appendChild(e),e.select(),e.setSelectionRange(0,e.value.length),document.execCommand("copy"),document.body.removeChild(e)},e.prototype.editText=function(){var t=this.component.parent;t.switchToEdit(),t.applyState()},e.prototype.deleteReply=function(t){var e=this.getPDFUI(),n=t.annot;e.eventEmitter.emit(r.default.deleteReplySuccess,this.data.annot,n),n.getPDFPage().removeAnnot(n)},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(2)),r=i(n(8));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n))}return a(e,t),e.getName=function(){return"CommentStatesController"},e.prototype.setState=function(t,e){var n=this;t.addReviewState(e).then((function(){n.getPDFUI().eventEmitter.emit(r.default.addReviewStateSuccess,t,e)}))},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"collapse-pages-button",fragment:{template:'<xbutton @controller="comment-list:CollapsePagesButtonController" name="commentlist-collapse-commentlist" icon-class="fv__icon-sidebar-collapse-comment-list">sidebar.commentlist.dropdown.collapse-cl</xbutton>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"expand-pages-button",fragment:{template:'<xbutton @controller="comment-list:ExpandPagesButtonController" name="commentlist-expand-commentlist" icon-class="fv__icon-sidebar-expand-comment-list">sidebar.commentlist.dropdown.expand-cl</xbutton>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"export-comment-dropdown",fragment:{template:'\n            <dropdown align="out-right" valign="top" icon-class="fv__icon-sidebar-export-comment" name="commentlist-export-comment" text="sidebar.commentlist.dropdown.export-comment" @trigon.close.disable @trigon.open.enable>\n                <comment-list:export-xfdf-button></comment-list:export-xfdf-button>\n                <comment-list:export-fdf-button></comment-list:export-fdf-button>\n                <comment-list:export-json-button></comment-list:export-json-button>\n            </dropdown>\n        '}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"export-fdf-button",fragment:{template:'<xbutton name="fv--export-fdf-button" @controller="comment-list:ExportCommentController" icon-class="fv__icon-sidebar-export-comment-fdf" format="fdf">FDF</xbutton>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"export-json-button",fragment:{template:'<xbutton name="fv--export-json-button" @controller="comment-list:ExportCommentController" icon-class="fv__icon-sidebar-export-comment-json" format="json">JSON</xbutton>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"export-xfdf-button",fragment:{template:'<xbutton name="fv--export-xfdf-button" @controller="comment-list:ExportCommentController" icon-class="fv__icon-sidebar-export-comment-xfdf" format="xfdf">XFDF</xbutton>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"import-comment-button",fragment:{template:'<file-selector @controller="comment-list:ImportCommentButtonController" name="commentlist-import-comment" icon-class="fv__icon-sidebar-import-comment" @trigon.close.disable @trigon.open.enable accept=".fdf,.xfdf,.json">sidebar.commentlist.dropdown.import-comment</file-selector>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"show-comment-button",fragment:{template:'<xbutton @controller="comment-list:ShowCommentButtonController" name="commentlist-show-comments" icon-class="fv__icon-sidebar-show-all-comments">sidebar.commentlist.dropdown.show-all</xbutton>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"hide-comment-button",fragment:{template:'<xbutton @controller="comment-list:HideCommentButtonController" name="commentlist-hide-comments" icon-class="fv__icon-sidebar-hide-all-comments">sidebar.commentlist.dropdown.hide-all</xbutton>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(2);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"CollapsePagesButtonController"},e.prototype.handle=function(){this.getComponentByName("commentlist").deactiveAll()},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(2);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"ExpandPagesButtonController"},e.prototype.handle=function(){this.getComponentByName("commentlist").activeAll()},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=s(n(2)),i=n(891),a=s(n(22));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var f=function(t){function e(){return c(this,e),u(this,t.apply(this,arguments))}return l(e,t),e.getName=function(){return"ImportCommentButtonController"},e.prototype.changePeimission=function(t){var e=this;this.getPDFUI().getPDFDocRender().then((function(t){t.getUserPermission().getValue()&e.constructor.permission?e.component.unlock():e.component.lock()}))},e.prototype.handle=function(t){var e=this;if((0,i.isJSONFile)(t)){var n=(0,a.default)(),o=new FileReader;return o.onloadend=function(t){var r=JSON.parse(o.result);e.getPDFUI().getCurrentPDFDoc().then((function(t){return t.importAnnotsFromJSON(r)})).then(n.resolve,n.reject)},o.onerror=n.reject,o.readAsText(t,"utf8"),n.promise}return(0,i.isFDFFile)(t)||(0,i.isXFDFFile)(t)?this.getPDFUI().getCurrentPDFDoc().then((function(e){return e.importAnnotsFromFDF(t)})):this.pdfUI.alert("alert.incorrect-filetype")},o(e,null,[{key:"permission",get:function(){return 32}}]),e}(r.default);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isJSONFile=function(t){if(!t)return!1;switch(t.type){case"aplication/json":case"text/json":return!0}if("string"==typeof t.name&&t.name.endsWith(".json"))return!0;return!1},e.isFDFFile=function(t){if(!t)return!1;switch(t.type){case"application/vnd.fdf":return!0}return"string"==typeof t.name&&t.name.endsWith(".fdf")},e.isXFDFFile=function(t){if(!t)return!1;switch(t.type){case"application/vnd.xfdf":case"application/vnd.adobe.xfdf":return!0}return"string"==typeof t.name&&t.name.endsWith(".xfdf")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(2),i=(o=r)&&o.__esModule?o:{default:o},a=n(100);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.getName=function(){return"ShowCommentButtonController"},e.prototype.handle=function(){var t=this.getPDFUI();t.getStore().then((function(e){e.dispatch(a.DISPATCH_STORE_ANNOTATION_DISPLAYING,{display:!0}),t.getComponentByName("fv--search-comment-component").then((function(t){t.enable(),t.handleSearch(""),t.hideTips()}))}))},e}(i.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(2)),r=a(n(8)),i=n(100);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.newAnnots=[],o}return s(e,t),e.getName=function(){return"HideCommentButtonController"},e.prototype.mounted=function(){var e=this,n=this.getPDFUI();t.prototype.mounted.call(this),n.getStore().then((function(t){e.addDestroyHook(t.subscribe(i.DISPATCH_STORE_ANNOTATION_DISPLAYING,(function(t){t.display&&(e.newAnnots=[])})),n.addUIEventListener(r.default.annotationAdd,(function(n){e.newAnnots=e.newAnnots.concat(n.map((function(t){return t.getId()})));var o=t.getCurrentValue(i.DISPATCH_STORE_ANNOTATION_DISPLAYING);o&&!o.display&&t.dispatch(i.DISPATCH_STORE_ANNOTATION_DISPLAYING,{display:!1,newAnnots:e.newAnnots})})),n.addUIEventListener(r.default.openFileSuccess,(function(){e.newAnnots=[];var n=t.getCurrentValue(i.DISPATCH_STORE_ANNOTATION_DISPLAYING);n&&!n.display&&t.dispatch(i.DISPATCH_STORE_ANNOTATION_DISPLAYING,{display:!0,newAnnots:[]})})))}))},e.prototype.handle=function(){var t=this.getPDFUI();this.newAnnots=[],t.getStore().then((function(e){e.dispatch(i.DISPATCH_STORE_ANNOTATION_DISPLAYING,{display:!1}),t.getComponentByName("fv--search-comment-component").then((function(t){t.setValue(""),t.handleSearch({}),t.disable(),t.showTips("sidebar.commentlist.search.tips")}))}))},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(2),i=(o=r)&&o.__esModule?o:{default:o},a=n(76);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.getName=function(){return"ExportCommentController"},e.prototype.changePeimission=function(t){var e=this;this.getPDFUI().getPDFDocRender().then((function(t){t.getUserPermission().getValue()&e.constructor.permission?e.component.unlock():e.component.lock()}))},e.prototype.handle=function(){var t=this.component.getAttribute("format");switch(t){case"xfdf":return this.exportCommentToXFDF();case"fdf":return this.exportCommentToFDF();case"json":return this.exportCommentToJSON();default:throw new Error("Unsupported format: "+t)}},e.prototype.exportCommentToXFDF=function(){return this.getPDFUI().getCurrentPDFDoc().then((function(t){return t.exportAnnotsToFDF(1).then((function(t){(0,a.download)(t,"comments.xfdf","application/vnd.xfdf")}))}))},e.prototype.exportCommentToFDF=function(){return this.getPDFUI().getCurrentPDFDoc().then((function(t){return t.exportAnnotsToFDF(0).then((function(t){(0,a.download)(t,"comments.fdf","application/vnd.adobe.fdf")}))}))},e.prototype.exportCommentToJSON=function(){return this.getPDFUI().getCurrentPDFDoc().then((function(t){return t.exportAnnotsToJSON().then((function(t){var e=JSON.stringify(t);(0,a.download)(new Blob([e],{type:"application/octet-stream"}),"comments.json","application/octet-stream")}))}))},e}(i.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i(n(15));var o=i(n(896)),r=n(48);n(100);function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=(0,o.default)(),l=function(t){function e(){return a(this,e),s(this,t.apply(this,arguments))}return c(e,t),e.getName=function(){return"search-comment"},e.prototype.createDOMElement=function(){var t=(new DOMParser).parseFromString(u,"text/html").body.firstElementChild;return t.remove(),t},e.prototype.prerender=function(){t.prototype.prerender.call(this),this.searchInput=this.element.querySelector(".fv__ui-commentlist-search-input"),this.searchResultElement=this.element.querySelector(".fv__ui-commentlist-search-result"),this.totalCountElement=this.element.querySelector(".fv__ui-commentlist-search-total-count"),this.searchResultAmountElement=this.element.querySelector(".fv__ui-commentlist-search-result-amount"),this.searchTipsElement=this.element.querySelector(".fv__ui-commentlist-search-tips"),this.searchTipMessageElement=this.searchTipsElement.querySelector(".fv__ui-commentlist-search-tip-message")},e.prototype.waiting=function(){this.searchResultElement.classList.add("waiting")},e.prototype.updateSearchResult=function(t){var e=t.searchAmount,n=t.totalAmount,o=e!=n||this.getValue().length>0;this.searchResultElement.classList.remove("waiting"),this.searchResultElement.classList.toggle("searching",o),this.searchResultElement.classList.toggle("not-searching",!o),o?this.searchResultAmountElement.innerText=e+"/"+n:this.totalCountElement.innerText=n,e>0&&this.hideTips()},e.prototype.getDOMValue=function(){return this.searchInput.value},e.prototype.setValue=function(t){this.searchInput.value=t},e.prototype.hasValue=function(){return 0!==this.getValue().length},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this);var n=function(t){e.triggerHandler(),t.preventDefault(),t.stopPropagation()};this.attachEventToElement(this.searchInput,"input",(function(t){n(t)})),this.attachEventToElement(this.searchInput,"keypress",(function(t){13===t.keyCode&&n(t)}))},e.prototype.triggerHandler=function(){this.trigger("search",this.getValue()),this.controller.handle(this.getValue())},e.prototype.handleSearch=function(t){this.trigger("search",t),this.controller.handle(t)},e.prototype.doDisable=function(){t.prototype.doDisable.call(this),this.searchInput.setAttribute("disabled","disabled")},e.prototype.doEnable=function(){t.prototype.doEnable.call(this),this.searchInput.removeAttribute("disabled")},e.prototype.showTips=function(t){this.searchTipMessageElement.setAttribute("data-i18n",t),this.localizer.localizeElementSync(this.searchTipMessageElement),this.searchTipsElement.classList.remove("fv__ui-commentlist-search-tips-hide")},e.prototype.hideTips=function(){this.searchTipsElement.classList.add("fv__ui-commentlist-search-tips-hide")},e}(r.InputComponent);e.default=l},function(t,e,n){n(0);t.exports=function(t){"use strict";t=t||{};return'<div class="fv__ui-commentlist-search-comment">\n    <label class="fv__ui-commentlist-search-input-container">\n        <i class="fv__ui-commentlist-search-icon"></i>\n        <input type="search" class="fv__ui-commentlist-search-input" data-i18n="[placeholder]sidebar.commentlist.search.placeholder">\n    </label>\n    <div class="fv__ui-commentlist-search-result not-searching">\n        <dl class="fv__ui-commentlist-not-searching">\n            <dt data-i18n="sidebar.commentlist.search.total"></dt>\n            <dd class="fv__ui-commentlist-search-total-count"></dd>\n        </dl>\n        <dl class="fv__ui-commentlist-searching">\n            <dt data-i18n="sidebar.commentlist.search.result"></dt>\n            <dd class="fv__ui-commentlist-search-result-amount"></dd>\n        </dl>\n        <div class="fv__ui-commentlist-search-waiting" data-i18n="sidebar.commentlist.search.waiting"></div>\n    </div>\n    <dl class="fv__ui-commentlist-search-tips">\n        <dt class="fv__ui-commentlist-search-tip-message"></dt>\n    </dl>\n</div>','<div class="fv__ui-commentlist-search-comment">\n    <label class="fv__ui-commentlist-search-input-container">\n        <i class="fv__ui-commentlist-search-icon"></i>\n        <input type="search" class="fv__ui-commentlist-search-input" data-i18n="[placeholder]sidebar.commentlist.search.placeholder">\n    </label>\n    <div class="fv__ui-commentlist-search-result not-searching">\n        <dl class="fv__ui-commentlist-not-searching">\n            <dt data-i18n="sidebar.commentlist.search.total"></dt>\n            <dd class="fv__ui-commentlist-search-total-count"></dd>\n        </dl>\n        <dl class="fv__ui-commentlist-searching">\n            <dt data-i18n="sidebar.commentlist.search.result"></dt>\n            <dd class="fv__ui-commentlist-search-result-amount"></dd>\n        </dl>\n        <div class="fv__ui-commentlist-search-waiting" data-i18n="sidebar.commentlist.search.waiting"></div>\n    </div>\n    <dl class="fv__ui-commentlist-search-tips">\n        <dt class="fv__ui-commentlist-search-tip-message"></dt>\n    </dl>\n</div>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(2),i=(o=r)&&o.__esModule?o:{default:o},a=n(11);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.getName=function(){return"SearchCommentController"},e.prototype.mounted=function(){var t=this;this.addDestroyHook(this.getPDFUI().addViewerEventListener(a.Events.willCloseDocument,(function(){t.component.setValue("")})))},e}(i.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(10),i=(o=r)&&o.__esModule?o:{default:o},a=n(11);function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.matchAnnotationCount=0,o.notMatchAnnotationCount=0,o.annotationCount=0,o}return s(e,t),e.getName=function(){return"search-comment-group"},e.prototype.componentMounted=function(){var t=this;this.component.getPDFUI().addViewerEventListener(a.ViewerEvents.renderPageSuccess,(function(e){var n=t.controller.data.page.getIndex();e.getPDFPage().then((function(e){n===e.getIndex()&&t.broadcast("update-page-ui")}))}))},e.prototype.receiveBroadcast=function(t,e){"search"===t&&(this.annotationCount=this.component.annotationCount,this.matchAnnotationCount=0,this.notMatchAnnotationCount=0,0===this.annotationCount&&this.emit("pageSearchEnd",{matchCount:this.matchAnnotationCount,notMatchCount:this.notMatchAnnotationCount,annotationCount:this.annotationCount,pageIndex:this.controller.data.page.getIndex()}))},e.prototype.receiveEmit=function(t,e){var n=!0;switch(e){case"foundMatch":this.matchAnnotationCount++,n=!1;break;case"foundNotMatch":this.notMatchAnnotationCount++,n=!1}return this.component.renderCountText(this.matchAnnotationCount),this.matchAnnotationCount+this.notMatchAnnotationCount===this.annotationCount&&(this.emit("pageSearchEnd",{matchCount:this.matchAnnotationCount,notMatchCount:this.notMatchAnnotationCount,annotationCount:this.annotationCount,pageIndex:this.controller.data.page.getIndex()}),0===this.matchAnnotationCount?this.component.addCSSClass("fv__ui-commentlist-search-not-match"):this.component.removeCSSClass("fv__ui-commentlist-search-not-match"),this.broadcast("update-page-ui")),n},e}(i.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(10),i=(o=r)&&o.__esModule?o:{default:o},a=n(345),s=n(100);function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.replyCount=0,o.matchReplyCount=0,o.notMatchReplyCount=0,o.currentIsMatch=!1,o.isNewlyAdded=!0,o}return c(e,t),e.getName=function(){return"search-comment"},e.prototype.getAnnotComponent=function(){var t=this.controller.getCurrentAnnot();return this.annotRenderPromise=this.component.getPDFUI().getPDFPageRender(t.getPDFPage().getIndex()).then((function(e){return e.getAnnotRender(t.getId())})).then((function(t){return t?t.component:null}))},e.prototype.componentMounted=function(){},e.prototype.receiveBroadcast=function(t,e){var n=this;"search"===t?(this.matchReplyCount=0,this.notMatchReplyCount=0,this.replyCount=this.controller.data.replies.length,this.currentIsMatch=this.detectMatchAndRendering(e),this.currentIsMatch?this.doFoundMatch():0===this.replyCount&&this.checkIsNewly().then((function(t){t?n.doFoundMatch():n.doFoundNotMatch()}))):"update-page-ui"===t&&(this.currentIsMatch||this.matchReplyCount>0?this.doShowUI():this.checkIsNewly().then((function(t){t||n.doHideUI()})))},e.prototype.checkIsNewly=function(){var t=this;return this.component.getPDFUI().getStore().then((function(e){var n=e.getCurrentValue(s.DISPATCH_STORE_ANNOTATION_DISPLAYING);if(!n)return!1;var o=t.controller.getCurrentAnnot();return!n.display&&n.newAnnots&&n.newAnnots.indexOf(o.getId())>-1}))},e.prototype.doShowUI=function(){return this.getAnnotComponent().then((function(t){return t&&t.showUI()}))},e.prototype.doHideUI=function(){return this.getAnnotComponent().then((function(t){return t&&t.hideUI()}))},e.prototype.doFoundMatch=function(){this.component.removeCSSClass("fv__ui-commentlist-search-not-match"),this.emit("foundMatch")},e.prototype.doFoundNotMatch=function(){this.component.addCSSClass("fv__ui-commentlist-search-not-match"),this.emit("foundNotMatch")},e.prototype.detectMatchAndRendering=function(t){var e=this.component;if(t&&"[object Object]"===Object.prototype.toString.call(t))return!1;var n=this.controller.getCurrentAnnot(),o=n.getContent(),r=n.getTitle(),i=this.detectTypeMatch(n.getType(),t),s=this.detectTypeMatch(n.getIntent(),t),c=(0,a.findMatch)(o,t);(0,a.renderMatchResult)(e.messageElement,c,o);var u=(0,a.findMatch)(r,t);(0,a.renderMatchResult)(e.titleElement,u,r);var l=(0,a.findMatch)(e.displayingModifyTime,t,!1);return(0,a.renderMatchResult)(e.timeElement,l,e.displayingModifyTime),!!(c||u||i||s||l)},e.prototype.detectTypeMatch=function(t,e){return(0,a.findMatch)(t,e)},e.prototype.receiveEmit=function(t,e,n){var o=this,r=!1;switch(e){case"foundReplyMatch":this.matchReplyCount++;break;case"foundReplyNotMatch":this.notMatchReplyCount++;break;default:r=!1}if(this.matchReplyCount+this.notMatchReplyCount===this.replyCount){if(this.currentIsMatch||0===this.replyCount)return r;0===this.matchReplyCount?this.checkIsNewly().then((function(t){t?o.doFoundMatch():o.doFoundNotMatch()})):this.doFoundMatch()}return r},e}(i.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(10),i=(o=r)&&o.__esModule?o:{default:o},a=n(345);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.getName=function(){return"search-comment-reply"},e.prototype.receiveBroadcast=function(t,e){if("search"===t){var n=this.controller.data.replyItem.annot;this.detectMatchAndRendering(e)?this.emit("foundReplyMatch",n):this.emit("foundReplyNotMatch",n)}return!1},e.prototype.detectMatchAndRendering=function(t){var e=this.component,n=this.controller.data.replyItem.annot,o=n.getTitle(),r=n.getContent(),i=(0,a.findMatch)(r,t);(0,a.renderMatchResult)(e.messageElement,i,r);var s=(0,a.findMatch)(o,t);(0,a.renderMatchResult)(e.titleElement,s,o);var c=(0,a.findMatch)(e.displayingModifyTime,t);return(0,a.renderMatchResult)(e.timeElement,c,e.displayingModifyTime),!!(i||s||c)},e}(i.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(15)),r=i(n(86));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(){return a(this,e),s(this,t.apply(this,arguments))}return c(e,t),e.getName=function(){return"load-more"},e.getMetadata=function(){return{options:{"search-component":{type:"string"},"commentlist-component":"commentlist"}}},e.prototype.createDOMElement=function(){var t=document.createElement("div");return t.innerHTML='\n            <span class="fv__ui-commentlist-search-loadmore-more" data-i18n="sidebar.commentlist.search.loadmore"></span>\n            <span class="fv__ui-commentlist-search-loadmore-no-more" data-i18n="sidebar.commentlist.search.nomore"></span>\n        ',t},e.prototype.render=function(){t.prototype.render.call(this),this.element.classList.add("fv__ui-commentlist-search-loadmore","has-more")},e.prototype.hasMore=function(){this.element.classList.toggle("has-more",!0),this.element.classList.toggle("no-more",!1)},e.prototype.noMore=function(){this.element.classList.toggle("has-more",!1),this.element.classList.toggle("no-more",!0)},e.prototype.mounted=function(){var t=this,e=this.getClosestComponentByType(r.default.getName()).isLazy;if(this.hide(),e){var n=this.controller.getComponentByName(this["search-component"]),o=this.controller.getComponentByName(this["commentlist-component"]).controller;n.on("search",(function(){var e=n.hasValue(),r=o.isAllPagesLoaded();e?r||t.show():t.hide()})),this.attachEventToElement(this.element,"click",(function(){o.isAllPagesLoaded()?n.triggerHandler():(o.loadMorePages(10),t.show())}))}},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(15)),r=s(n(86)),i=s(n(346)),a=s(n(8));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.isLoadComplete=!1,i}return c(e,t),e.getName=function(){return"load-all"},e.getMetadata=function(){return{options:{"search-component":{type:"string"},"commentlist-component":{type:"string"}}}},e.prototype.createDOMElement=function(){var t=document.createElement("div");return t.innerHTML='\n            <span class="fv__ui-commentlist-search-load-all-load" data-i18n="sidebar.commentlist.search.loadall"></span>\n            <span class="fv__ui-commentlist-search-load-all-loading" data-i18n="sidebar.commentlist.search.loading"></span>\n            <span class="fv__ui-commentlist-search-load-all-no-more" data-i18n="sidebar.commentlist.search.loadall-nomore"></span>\n        ',t},e.prototype.render=function(){t.prototype.render.call(this),this.element.classList.add("fv__ui-commentlist-search-load-all","has-more")},e.prototype.reset=function(){this.isLoadComplete=!1,this.hasMore(),this.show()},e.prototype.loadComplete=function(t){this.isLoadComplete||(this.removeCSSClass("loading"),this.matchAnnotationCountBeforeLoadAll===t&&this.searchComponent&&this.searchComponent.hasValue()?this.addCSSClass("no-more"):this.hide(),this.isLoadComplete=!0)},e.prototype.loading=function(){this.removeCSSClass("has-more"),this.addCSSClass("loading")},e.prototype.hasMore=function(){this.removeCSSClass("no-more"),this.removeCSSClass("loading"),this.addCSSClass("has-more")},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this),this.hide();var n=this.getClosestComponentByClass(r.default).isLazy;if(this.addDestroyHook(this.getPDFUI().addViewerEventListener(a.default.openFileSuccess,(function(){n&&e.show()})),this.getPDFUI().addViewerEventListener(a.default.willCloseDocument,(function(){e.isLoadComplete=!1,e.hasMore(),e.hide()}))),n){var o=this.controller.getComponentByName(this["search-component"]),s=this.controller.getComponentByName(this["commentlist-component"]),c=s.controller;this.searchComponent=o;var u=s.directive.getDirective(i.default.getName());this.addDestroyHook(o.on("search",(function(){var t=o.hasValue(),n=c.isAllPagesLoaded();!t||e.isLoadComplete?e.hide():n||e.show()}))),this.attachEventToElement(this.element,"click",(function(){e.isLoadComplete||(e.matchAnnotationCountBeforeLoadAll=u.matchAnnotationCount,e.show(),e.loading(),c.loadAllPages().then((function(){c.isAllPagesLoaded()&&e.hide()})))}))}},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(2)),r=i(n(8));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.isExpanded=!1,o}return a(e,t),e.getName=function(){return"ToggleCommentlistGroupController"},e.prototype.handle=function(){var t=this.getComponentByName("commentlist");this.isExpanded?(this.component.setIconCls("fv__icon-sidebar-expand-comment-list"),t.deactiveAll()):(this.component.setIconCls("fv__icon-sidebar-collapse-comment-list"),t.activeAll()),this.isExpanded=!this.isExpanded},e.prototype.mounted=function(){var t=this;this.getPDFUI().addUIEventListener(r.default.appendCommentListGroup,(function(e){t.isExpanded?e.active():e.deactive()}))},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"toggle-commentlist-group-button",fragment:{template:'\n            <xbutton class="fv__ui-toggle-commentlist-group-button" @controller="comment-list:ToggleCommentlistGroupController" icon-class="fv__icon-sidebar-expand-comment-list"></xbutton>\n        '}}},function(t,e,n){"use strict";var o=a(n(12)),r=a(n(906)),i=a(n(907));function a(t){return t&&t.__esModule?t:{default:t}}n(348);var s=o.default.module("bookmark",[]);s.registerComponent(r.default),s.registerController(i.default)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(15)),r=s(n(12)),i=s(n(347)),a=(s(n(0)),s(n(1)),s(n(3)));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}n(348);var u=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.destroyHook=[],i}return c(e,t),e.getName=function(){return"bookmark-panel"},e.prototype.createDOMElement=function(){return document.createElement("div")},e.prototype.render=function(){t.prototype.render.call(this),this.element.addClass("fv__ui-bookmark-container"),this.$html=(0,a.default)(this.element),this.events()},e.prototype.rending=function(){},e.prototype.mounted=function(){t.prototype.mounted.call(this)},e.prototype.events=function(){var t=this;this.$html.on("click",".fv__tree-fold-btn",(function(t){t.preventDefault();var e=(0,a.default)(t.currentTarget).parent().next(),n=(0,a.default)(t.currentTarget).find(".fv__tree-icon");e.hasClass("fv__hide")?(n.hasClass("fv__plug_pc_ui")?n.removeClass("fv__plug_pc_ui").addClass("fv__minus_pc_ui").data("last-class","fv__plug_pc_ui"):n.hasClass("fv__plugbottom_pc")?n.removeClass("fv__plugbottom_pc").addClass("fv__minus_pc_ui").data("last-class","fv__plugbottom_pc"):n.hasClass("fv__plugtop_pc")?n.removeClass("fv__plugtop_pc").addClass("fv__minustop_pc").data("last-class","fv__plugtop_pc"):n.hasClass("fv__plugonly_pc")&&n.removeClass("fv__plugonly_pc").addClass("fv__minusonly_pc").data("last-class","fv__plugonly_pc"),e.removeClass("fv__hide")):(n.removeClass(["fv__minus_pc_ui","fv__minustop_pc","fv__minusonly_pc"]).addClass(n.data("last-class")),e.addClass("fv__hide"))})),this.$html.on("click",".fv__bookmark-item",(function(e){e.preventDefault(),(0,a.default)(".fv__bookmark-item").removeClass("fv__active"),(0,a.default)(e.currentTarget).addClass("fv__active");var n=(0,a.default)(e.currentTarget).data("page"),o=((0,a.default)(e.currentTarget).data("left"),(0,a.default)(e.currentTarget).data("top")),r=t.getPDFUI();n<0||0!==n&&!n||(0==o?r.goToPage(n,o,0,!1):r.goToPage(n,o))})),this.destroyHook.push((function(){t.$html.off("click",".fv__tree-fold-btn")}),(function(){t.$html.off("click",".fv__bookmark-item")}))},e.prototype.update=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.element.innerHTML=(0,i.default)(t)},e.prototype.destroy=function(){this.destroyHook.forEach((function(t){return t()}))},e}(o.default);e.default=u,r.default.root().getRegistry().registerComponent(u)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(2)),r=a(n(1)),i=n(5);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.destroyHook=[],o}return s(e,t),e.getName=function(){return"BookmarkSidebarPanelController"},e.prototype.mounted=function(){var t=this;this.loaded=!1;var e=this.getPDFUI(),n=this.getComponentByName("sidebar-bookmark");this.destroyHook.push(e.addViewerEventListener(r.default.openFileSuccess,(function(e){t.loaded=!1,t.currentDoc=e,n.isActive&&t.updateBookmarks()})),e.addViewerEventListener(r.default.willCloseDocument,(function(){t.currentDoc=null}))),n.on(i.COMPONENT_EVENTS.ACTIVE,(function(e){!t.loaded&&t.currentDoc&&t.updateBookmarks()})),this.addDestroyHook(e.addViewerEventListener(r.default.pageMoved,(function(e,n){t.loaded&&t.currentDoc&&t.updateBookmarks()})),e.addViewerEventListener(r.default.pageAdded,(function(e){t.loaded&&t.currentDoc&&t.updateBookmarks()})),e.addViewerEventListener(r.default.pageRemoved,(function(e){t.loaded&&t.currentDoc&&t.updateBookmarks()})),e.addViewerEventListener(r.default.bookmarkAdded,(function(e){t.loaded&&t.currentDoc&&t.updateBookmarks()})),e.addViewerEventListener(r.default.bookmarkUpdated,(function(e){t.loaded&&t.currentDoc&&t.updateBookmarks()})),e.addViewerEventListener(r.default.bookmarkRemoved,(function(e){t.loaded&&t.currentDoc&&t.updateBookmarks()})),e.addViewerEventListener(r.default.willCloseDocument,(function(){t.component.update([])})))},e.prototype.updateBookmarks=function(){var t=this;this.currentDoc.getBookmarksJson().then((function(e){t.loaded=!0,e?t.component.update(e.children):t.component.update([])}))},e.prototype.destroy=function(){this.destroyHook.forEach((function(t){return t()}))},e}(o.default);e.default=c},function(t,e,n){"use strict";var o=s(n(12)),r=s(n(909)),i=s(n(913)),a=s(n(914));function s(t){return t&&t.__esModule?t:{default:t}}var c=o.default.module("search",[]);c.registerComponent(r.default),c.registerController(a.default),c.registerController(i.default)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=l(n(15)),i=l(n(12)),a=l(n(910)),s=l(n(911));l(n(0));n(912);var c=l(n(8)),u=l(n(349));n(11);function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var p=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.searchList=[],i.minFoundCount=60,i.RedactionMode=!1,i}return f(e,t),e.getName=function(){return"search-panel"},e.prototype.createDOMElement=function(){return document.createElement("div")},e.prototype.render=function(){t.prototype.render.call(this),this.element.addClass("fv__ui-search-container"),this.element.innerHTML=(0,a.default)(),this.eSubTitle=this.element.querySelector(".fv__search-panel-sub-title"),this.eLabel1=this.element.querySelector(".fv__search-panel-form-label-text-1"),this.eLabel2=this.element.querySelector(".fv__search-panel-form-label-text-2"),this.eForm=this.element.querySelector(".fv__search-panel-form"),this.eDropdown=this.element.querySelector(".fv__search-panel-form-more"),this.eDropdownIcon=this.eDropdown.querySelector(".fv__search-panel-form-more-icon"),this.eInput=this.element.querySelector(".fv__search-panel-form-input"),this.eButton=this.element.querySelector(".fv__search-panel-form-submit"),this.eFlag1=this.element.querySelector(".fv__search-panel-form-checkbox-1"),this.eFlag2=this.element.querySelector(".fv__search-panel-form-checkbox-2"),this.eFindContainer=this.element.querySelector(".fv__search-panel-result-container"),this.eFindList=this.eFindContainer.querySelector(".fv__search-panel-result-list"),this.eFindMore=this.eFindContainer.querySelector(".fv__search-panel-result-find-more"),this.eNoMore=this.eFindContainer.querySelector(".fv__search-panel-result-no-more"),this.eMarkSearchApply=this.element.querySelector(".fv__search-redaction-mark-btn"),this.eQuitSearchMode=this.element.querySelector(".fv__search-redaction-quit-btn"),this.eCheckAllBtn=this.element.querySelector(".fv__search-redaction-checkbox-checkall"),this.eCheckAllUI=this.element.querySelector(".fv__search-redaction-checkall")},e.prototype.activeRedactionMode=function(){this.eCheckAllBtn||this.element.querySelectorAll(".fv__search-redaction-checkbox").forEach((function(t){t.checked=!1})),this.searchList.length>0&&(this.eCheckAllUI||(this.eCheckAllUI=this.element.querySelector(".fv__search-redaction-checkall")),this.eCheckAllUI.classList.remove("fv__ui-hide")),this.RedactionMode=!0,this.element.classList.add("fv__search-redaction-active")},e.prototype.quitRedactionMode=function(){this.element.classList.remove("fv__search-redaction-active"),this.RedactionMode=!1},e.prototype.updateFound=function(t){this.eFindList.innerHTML="",this.eFindList.innerHTML=(0,s.default)(t),this.updateHasMoreRender(t.hasMore),this.searchList=this.searchList.concat(t.list),this.RedactionMode&&(0===this.searchList.length?this.eCheckAllUI.classList.add("fv__ui-hide"):this.eCheckAllUI.classList.remove("fv__ui-hide"))},e.prototype.updateHasMoreRender=function(t){var e=void 0,n=void 0;t?this.eFindContainer.classList.contains("has-more")||(e="has-more",n="no-more"):this.eFindContainer.classList.contains("no-more")||(e="no-more",n="has-more"),this.eFindContainer.classList.add(e),this.eFindContainer.classList.remove(n)},e.prototype.updateMore=function(t){var e=document.createDocumentFragment(),n=document.createElement("div");for(n.innerHTML=(0,s.default)(t);n.children.length;)e.appendChild(n.children[0]);n=null,this.eFindList.appendChild(e),this.searchList=this.searchList.concat(t.list),this.updateHasMoreRender(t.hasMore)},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this);var n=void 0;this.element.addEventListener("click",n=function(t){e.eDropdown.classList.remove("fv__open")}),this.addDestroyHook(function(t){return function(){e.element.removeEventListener("click",t)}}(n)),this.eDropdownIcon.addEventListener("click",n=function(t){t.stopPropagation(),e.eDropdown.classList.toggle("fv__open")}),this.addDestroyHook(function(t){return function(){e.eDropdownIcon.removeEventListener("click",t)}}(n)),this.eForm.addEventListener("submit",n=function(t){if(t.preventDefault(),!e.searchIng){var n=e.getFormData(),o=n.pattern&&n.pattern.trim();if(!o)return!1;e.searchIng=!0,e.createAndFindTextSearch(o,n.flags).finally((function(){e.searchIng=!1}))}}),this.addDestroyHook(function(t){return function(){e.eForm.removeEventListener("submit",t)}}(n)),this.eButton.addEventListener("click",n=function(t){if(t.preventDefault(),!e.searchIng){var n=e.getFormData(),o=n.pattern&&n.pattern.trim();if(!o)return!1;e.searchIng=!0,e.createAndFindTextSearch(o,n.flags).finally((function(){e.searchIng=!1}))}}),this.addDestroyHook(function(t){return function(){e.eButton.removeEventListener("click",t)}}(n)),this.eFindMore.addEventListener("click",n=function(t){e.searchIng||(e.searchIng=!0,e.findMore().finally((function(){e.searchIng=!1})))}),this.addDestroyHook(function(t){return function(){e.eFindMore.removeEventListener("click",t)}}(n)),this.eFindList.addEventListener("click",n=function(t){t.stopPropagation();var n=t.target,r=t.currentTarget;for(e.autoSetCheckAllBtn();!n.classList.contains("fv__search-panel-result-list-item");){if(n===r){n=null;break}n=n.parentNode}if(n){var i=e.eFindList.getElementsByClassName("fv__search-panel-result-list-item-active")[0];i&&i.classList.remove("fv__search-panel-result-list-item-active"),n.classList.add("fv__search-panel-result-list-item-active");var a=n.getAttribute("data-index"),s=e.getPDFUI();s.getPDFViewer().then((function(t){var n=e.searchList[a].rects,r=n[0].top,i=n[0].left,s=n[0].right,c=n[0].bottom;n.map((function(t){r=Math.max(t.top,r),c=Math.min(t.bottom,c),i=Math.min(t.left,i),s=Math.max(t.right,s)}));var u=e.searchList[a].pageIndex,l=t.pdfViewerRender.scrollWrap,p=l.getScrollTop(),d=p+l.getHeight(),h=l.getScrollLeft(),g=h+l.getWidth(),m=t.getPDFPageRender(u),v=t.getPDFDocRender();v.pagesRender.getPageScale(u,v.scale).then((function(e){m.scale=e,m.getPDFPage().then((function(e){var n=e.getDevicePoint([i,r],m.getScale(),m.getRotation()),a=o(n,2),s=a[0],c=a[1],l=m.$ui[0].offsetTop+c,v=m.$ui[0].offsetLeft+s;l<p||l>d||v<h||v>g?t.getPDFDocRender().goToPage(u,{x:s,y:c}).then((function(){f()})):f()}))}))}));var l=e}function f(){s.getStateHandlerManager().then((function(t){var e=t.getCurrentStates();t.switchTo(u.default.getStateName()),s.getPDFViewer().then((function(t){t.eventEmitter.emit(c.default.checkTheSearch,l.searchList[a],e)}))}))}}),this.addDestroyHook(function(t){return function(){e.eFindList.removeEventListener("click",t)}}(n)),this.eMarkSearchApply.addEventListener("click",n=function(t){var n=e.element.querySelectorAll(".fv__search-redaction-checkbox"),o=[];n.forEach((function(t){if(!1!==t.checked){var n=t.parentNode.getAttribute("data-index"),r=e.searchList[n].rects,i=e.searchList[n].pageIndex,a=e.getPDFUI();o.push(a.getPDFViewer().then((function(t){return t.getPDFPageRender(i).getPDFPage().then((function(t){return t.markRedactAnnot(r).then((function(t){return t.filter((function(t){return"redact"===t.getType()}))[0]}))}))})))}})),Promise.all(o).then((function(t){e.getPDFUI().eventEmitter.emit(c.default.markRedactionSuccess,t)}))}),this.addDestroyHook(function(t){return function(){e.eMarkSearchApply.removeEventListener("click",t)}}(n)),this.eQuitSearchMode.addEventListener("click",n=function(t){e.quitRedactionMode()}),this.addDestroyHook(function(t){return function(){e.eQuitSearchMode.removeEventListener("click",t)}}(n)),this.eCheckAllBtn.addEventListener("click",n=function(t){e.element.querySelectorAll(".fv__search-redaction-checkbox").forEach((function(e){e.checked=t.target.checked}))}),this.addDestroyHook(function(t){return function(){e.eCheckAllBtn.removeEventListener("click",t)}}(n));var r=this.getPDFUI();this.addDestroyHook(r.addViewerEventListener(c.default.willCloseDocument,(function(){e.resetTextSearch(),e.resetViewer()})),r.addViewerEventListener(c.default.pageRemoved,(function(){e.resetTextSearch(),e.resetViewer()})),r.addViewerEventListener(c.default.pageMoved,(function(){e.resetTextSearch(),e.resetViewer()})),r.addViewerEventListener(c.default.pageAdded,(function(){e.resetTextSearch(),e.resetViewer()})),r.addViewerEventListener(c.default.importPages,(function(){e.resetTextSearch(),e.resetViewer()})))},e.prototype.autoSetCheckAllBtn=function(){for(var t=this.element.querySelectorAll(".fv__search-redaction-checkbox"),e=0;e<t.length;e++){if(!t[e].checked)return void(this.eCheckAllBtn.checked=!1)}this.eCheckAllBtn.checked=!0},e.prototype.getFormData=function(){return{pattern:this.eInput.value,flags:0|(this.eFlag1.checked?this.eFlag1.value:0)|(this.eFlag2.checked?this.eFlag2.value:0)}},e.prototype.createAndFindTextSearch=function(t,e){var n=this;this.resetTextSearch();var o=this.getPDFUI();return o?o.getCurrentPDFDoc().then((function(n){return n?n.getTextSearch(t,e):Promise.resolve()})).then((function(t){return n.textSearch=t,t?t.findNexts():[]})).then((function(t){return n.searchList=[],n.updateFound(n.formatFindNexts(t)),t.hasMore?n.findNextAtLeast(n.minFoundCount-n.searchList.length):Promise.resolve()})):Promise.resolve()},e.prototype.formatFindNexts=function(t){var e=t.list;if(!e)return!1;for(var n=[],o=e.length;o--;){var r=e[o],i=r.getSentence(),a=r.getPageIndex(),s=r.getSentenceStartIndex(),c=r.getStartCharIndex(),u=r.getEndCharIndex()-c+1,l=i.slice(0,s),f=i.slice(s,s+u),p=i.slice(s+u);n[o]={pageIndex:a,before:l,mark:f,after:p,startIndex:this.searchList.length,rects:r.getRects()}}return{hasMore:t.hasMore,list:n}},e.prototype.findMore=function(){var t=this;return this.textSearch?this.findNextAtLeast(this.minFoundCount).then((function(){t.eCheckAllBtn.checked=!1})):Promise.resolve()},e.prototype.resetTextSearch=function(){this.textSearch=null,this.eFindList.innerHTML="",this.eCheckAllBtn.checked=!1},e.prototype.resetViewer=function(){this.eInput.value=""},e.prototype.doActive=function(){t.prototype.doActive.call(this),this.eInput.focus()},e.prototype.findNextAtLeast=function(t){var e=this;if(t<=0)return Promise.resolve();var n=this.searchList.length;return this.textSearch.findNexts().then((function(o){if(e.updateMore(e.formatFindNexts(o)),!o.hasMore)return Promise.resolve();var r=e.searchList.length;return r-n>=t?Promise.resolve():e.findNextAtLeast(t-(r-n))}))},e}(r.default);e.default=p,i.default.root().getRegistry().registerComponent(p)},function(t,e,n){n(0);t.exports=function(t){"use strict";t=t||{};return'\x3c!--<div class="fv__search-panel-sub-title" data-i18n=\'sidebar.search.panel.subTitle\'></div>--\x3e\n\n<div class="fv__search-panel-form-container">\n    <form class="fv__search-panel-form">\n        <input type="search" class="fv__search-panel-form-input" name="pattern"/>\n        <xbutton type="submit" class="fv__search-panel-form-submit"></xbutton>\n        <div class="fv__search-panel-form-more">\n            <i class="fv__search-panel-form-more-icon"></i>\n            <ul class="fv__search-panel-form-dropdown">\n                <li class="fv__search-panel-form-dropdown-item">\n                    <label class="fv__search-panel-form-label">\n                        <input type="checkbox" name="flags" value="2" class="fv__search-panel-form-checkbox fv__search-panel-form-checkbox-2">\n                        <span class="fv__search-panel-form-label-text fv__search-panel-form-label-text-2" data-i18n="sidebar.search.panel.flag2"></span>\n                    </label>\n                </li>\n                <li class="fv__search-panel-form-dropdown-item">\n                    <label class="fv__search-panel-form-label">\n                        <input type="checkbox" name="flags" value="1" class="fv__search-panel-form-checkbox fv__search-panel-form-checkbox-1">\n                        <span class="fv__search-panel-form-label-text fv__search-panel-form-label-text-1" data-i18n="sidebar.search.panel.flag1"></span>\n                    </label>\n                </li>\n            </ul>\n        </div>\n    </form>\n    <div class="fv__search-panel-result-container">\n        <div class="fv__search-redaction-mode fv__search-redaction-checkall fv__ui-hide">\n            <label>\n            <input type="checkbox" class="fv__search-redaction-checkbox-checkall" /> \n            <span data-i18n="sidebar.search.panel.checkAll"></span>\n            </label>\n        </div>\n        <div class="fv__search-panel-result-list"></div>\n        <div class="fv__search-panel-result-find-more" data-i18n="sidebar.search.panel.findMore"></div>\n        <div class="fv__search-panel-result-no-more" data-i18n="sidebar.search.panel.noMore"></div>\n    </div>\n    <div class="fv__search-redaction-mode-container fv__search-redaction-mode">\n        <a class="fv__search-redaction-mark-btn fv__search-redaction-btn" data-i18n="sidebar.search.panel.markRedaction"></a>\n        <a class="fv__search-redaction-quit-btn fv__search-redaction-btn" data-i18n="sidebar.search.panel.quitRedaction"></a>\n    </div>\n</div>','\x3c!--<div class="fv__search-panel-sub-title" data-i18n=\'sidebar.search.panel.subTitle\'></div>--\x3e\n\n<div class="fv__search-panel-form-container">\n    <form class="fv__search-panel-form">\n        <input type="search" class="fv__search-panel-form-input" name="pattern"/>\n        <xbutton type="submit" class="fv__search-panel-form-submit"></xbutton>\n        <div class="fv__search-panel-form-more">\n            <i class="fv__search-panel-form-more-icon"></i>\n            <ul class="fv__search-panel-form-dropdown">\n                <li class="fv__search-panel-form-dropdown-item">\n                    <label class="fv__search-panel-form-label">\n                        <input type="checkbox" name="flags" value="2" class="fv__search-panel-form-checkbox fv__search-panel-form-checkbox-2">\n                        <span class="fv__search-panel-form-label-text fv__search-panel-form-label-text-2" data-i18n="sidebar.search.panel.flag2"></span>\n                    </label>\n                </li>\n                <li class="fv__search-panel-form-dropdown-item">\n                    <label class="fv__search-panel-form-label">\n                        <input type="checkbox" name="flags" value="1" class="fv__search-panel-form-checkbox fv__search-panel-form-checkbox-1">\n                        <span class="fv__search-panel-form-label-text fv__search-panel-form-label-text-1" data-i18n="sidebar.search.panel.flag1"></span>\n                    </label>\n                </li>\n            </ul>\n        </div>\n    </form>\n    <div class="fv__search-panel-result-container">\n        <div class="fv__search-redaction-mode fv__search-redaction-checkall fv__ui-hide">\n            <label>\n            <input type="checkbox" class="fv__search-redaction-checkbox-checkall" /> \n            <span data-i18n="sidebar.search.panel.checkAll"></span>\n            </label>\n        </div>\n        <div class="fv__search-panel-result-list"></div>\n        <div class="fv__search-panel-result-find-more" data-i18n="sidebar.search.panel.findMore"></div>\n        <div class="fv__search-panel-result-no-more" data-i18n="sidebar.search.panel.noMore"></div>\n    </div>\n    <div class="fv__search-redaction-mode-container fv__search-redaction-mode">\n        <a class="fv__search-redaction-mark-btn fv__search-redaction-btn" data-i18n="sidebar.search.panel.markRedaction"></a>\n        <a class="fv__search-redaction-quit-btn fv__search-redaction-btn" data-i18n="sidebar.search.panel.quitRedaction"></a>\n    </div>\n</div>'}},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";t=t||{};var e="",n=o.$each,r=t.list,i=(t.$value,t.$index,o.$escape);return n(r,(function(t,n){e+='\n<div class="fv__search-panel-result-list-item" data-index="',e+=i(t.startIndex+n),e+='">\n    <input type="checkbox" class="fv__search-redaction-checkbox fv__search-redaction-mode" />\n    <span class="fv__search-panel-result-list-item-p">p',e+=i(t.pageIndex+1),e+='</span>\n    <span class="fv__search-panel-result-list-item-before">',e+=i(t.before),e+='</span>\n    <mark class="fv__search-panel-result-list-item-mark">',e+=i(t.mark),e+='</mark>\n    <span class="fv__search-panel-result-list-item-after">',e+=i(t.after),e+="</span>\n</div>\n"})),e}},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(2)),r=i(n(349));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n))}return a(e,t),e.getName=function(){return"SearchSidebarPanelController"},e.prototype.postlink=function(){this.getPDFUI().getStateHandlerManager().then((function(t){return t.register(r.default),t}));var t=this.component.childAt(0);this.component.on("active",(function(){t.active()})),this.component.on("deactive",(function(){t.deactive()}))},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(7)),r=s(n(2)),i=n(5),a=n(11);function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=o.default.getLogger("biz.sidebar.comment-list"),l=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.destroyHook=[],o}return c(e,t),e.getName=function(){return"SearchController"},e.prototype.mounted=function(){var t=this,e=this.getPDFUI();e.getKeyboardEventBinder(i.PDFUI_BINDER).then((function(e){e.before(i.KEY_MAP_OPEN_QUICK_SEARCH,(function(e){t.getComponentByName("sidebar-search").active(),e.preventDefault()}),!0)})),this.destroyHook.push(e.addViewerEventListener(a.Events.openFileSuccess,(function(e){t.currentDoc=e,u.info(e),t.component.update()})),e.addViewerEventListener(a.Events.annotationAdd,(function(){t.component.update()})),e.addViewerEventListener(a.Events.annotationReplyAdd,(function(){t.component.update()})))},e.prototype.destroy=function(){this.destroyHook.forEach((function(t){return t()}))},e}(r.default);e.default=l},function(t,e,n){"use strict";var o=a(n(12)),r=a(n(916)),i=a(n(917));function a(t){return t&&t.__esModule?t:{default:t}}var s=o.default.module("layer",[]);s.registerComponent(i.default),s.registerController(r.default)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(2)),r=a(n(1)),i=n(5);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.destroyHook=[],o}return s(e,t),e.getName=function(){return"LayerSidebarPanelController"},e.prototype.mounted=function(){var t=this;this.loaded=!1;var e=this.getPDFUI(),n=this.getComponentByName("sidebar-layers");this.destroyHook.push(e.addViewerEventListener(r.default.openFileSuccess,(function(e){t.loaded=!1,t.currentDoc=e,n.isActive&&t.updateLayer()})),e.addViewerEventListener(r.default.willCloseDocument,(function(){t.component.update([]),t.currentDoc=null}))),n.on(i.COMPONENT_EVENTS.ACTIVE,(function(e){!t.loaded&&t.currentDoc&&t.updateLayer()}))},e.prototype.updateLayer=function(){var t=this;this.currentDoc.getLayerNodesJson().then((function(e){t.loaded=!0,t.layerNodes=e,t.component.update(e.children)}))},e.prototype.destroy=function(){this.destroyHook.forEach((function(t){return t()}))},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=c(n(15)),r=c(n(12)),i=c(n(350)),a=(c(n(0)),c(n(1))),s=c(n(3));function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}n(918),n(919);var l=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.destroyHook=[],i}return u(e,t),e.getName=function(){return"pdflayers"},e.prototype.createDOMElement=function(){return document.createElement("div")},e.prototype.render=function(){t.prototype.render.call(this),this.element.addClass("fv__ui-layer-container"),this.$html=(0,s.default)(this.element),this.events()},e.prototype.rending=function(){},e.prototype.mounted=function(){t.prototype.mounted.call(this)},e.prototype.events=function(){var t=this,e=this.getPDFUI();this.$html.on("click",".fv__tree-fold-btn",(function(t){t.preventDefault();var e=(0,s.default)(t.currentTarget).parent().next(),n=(0,s.default)(t.currentTarget).find(".fv__tree-icon");e.hasClass("fv__ly-hide")?(n.hasClass("fv__plug_pc_ui")?n.removeClass("fv__plug_pc_ui").addClass("fv__minus_pc_ui").data("last-class","fv__plug_pc_ui"):n.hasClass("fv__plugbottom_pc")?n.removeClass("fv__plugbottom_pc").addClass("fv__minus_pc_ui").data("last-class","fv__plugbottom_pc"):n.hasClass("fv__plugtop_pc")?n.removeClass("fv__plugtop_pc").addClass("fv__minustop_pc").data("last-class","fv__plugtop_pc"):n.hasClass("fv__plugonly_pc")&&n.removeClass("fv__plugonly_pc").addClass("fv__minusonly_pc").data("last-class","fv__plugonly_pc"),e.removeClass("fv__ly-hide")):(n.removeClass(["fv__minus_pc_ui","fv__minustop_pc","fv__minusonly_pc"]).addClass(n.data("last-class")),e.addClass("fv__ly-hide"))})),this.$html.on("change",".fv__toggle-checkbox",(function(t){e.getCurrentPDFDoc().then((function(e){if(e){var n=t.currentTarget,o=(0,s.default)(n),r=o.data("id");e.setLayerNodeVisiable(r,n.checked);var i=o.parent().next().find(".fv__toggle-checkbox");n.checked?i.removeAttr("disabled"):i.attr("disabled","disabled")}}))})),this.destroyHook.push((function(){t.$html.off("click",".fv__tree-fold-btn")}),(function(){t.$html.off("click",".fv__toggle-checkbox")}),e.addViewerEventListener(a.default.layerVisibleChange,(function(e){t.$html.find("input").each((function(t,n){var o=(0,s.default)(n),r=o.data("id"),i=e.getLayerNodeById(r),a=o.parent().next().find(".fv__toggle-checkbox");i.visible?(a.removeAttr("disabled"),o.attr("checked","checked"),n.checked=!0):(a.attr("disabled","disabled"),o.removeAttr("checked"),n.checked=!1)}))})))},e.prototype.update=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.element.innerHTML=(0,i.default)(t);var e=(0,s.default)(".fv__toggle-checkbox:not(:checked)");e.each((function(t){(0,s.default)(e[t]).parent().next().find(".fv__toggle-checkbox").attr("disabled","disabled")}))},e.prototype.destroy=function(){this.destroyHook.forEach((function(t){return t()}))},e}(o.default);e.default=l,r.default.root().getRegistry().registerComponent(l)},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";var o=r(n(921));function r(t){return t&&t.__esModule?t:{default:t}}r(n(12)).default.module("sidebar",[]).getRegistry().registerController(o.default)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(2),i=(o=r)&&o.__esModule?o:{default:o},a=n(5);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.getName=function(){return"SidebarController"},e.prototype.postlink=function(){var t=this;this.getPDFUI().getKeyboardEventBinder(a.PDFUI_BINDER).then((function(e){t.addDestroyHook(e.before(a.KEY_MAP_CLOSE_SIDEBAR,(function(e){t.component.collapse(),e.preventDefault()}),!0),e.before(a.KEY_MAP_OPEN_SIDEBAR,(function(e){t.component.expand(),e.preventDefault()}),!0))}))},e.prototype.initResize=function(){},e}(i.default);e.default=l},function(t,e,n){"use strict";var o=s(n(923)),r=s(n(12)),i=s(n(924)),a=s(n(925));function s(t){return t&&t.__esModule?t:{default:t}}r.default.root().getRegistry().registerDirective(o.default),r.default.root().getRegistry().registerDirective(i.default),r.default.root().getRegistry().registerDirective(a.default)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(10));function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=r(n(7)).default.getLogger("@zoom-on-wheel"),u=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"zoom-on-wheel"},e.prototype.findNearScaleValueIndex=function(t){for(var e=this.component.getPDFUI().customScalingValues,n=Math.abs(t-e[0]),o=0,r=1;r<e.length;r++){var i=e[r],a=Math.abs(t-i);a<n&&(o=r,n=a)}return o},e.prototype.componentPrelink=function(){var t=this,e=this.component.element,n=this.component.getPDFUI();n.getPDFViewer().then((function(e){return t.pdfViewer=e}));var o=void 0,r=function(e){if(e.ctrlKey&&t.pdfViewer&&t.pdfViewer.isShortcutKeyEnabled()&&(e.preventDefault(),!o)){var r=n.customScalingValues;(o=n.getPDFViewerRender().then((function(o){return o.getScaleRatio().then((function(i){var a=t.findNearScaleValueIndex(i),s=r[a],u=s;if(e.deltaY>0){if(c.debug("mousewheel to zoom out"),0==a)return;s>=i&&(u=r[a-1])}else{if(c.debug("mousewheel to zoom in"),a==r.length-1)return;s<=i&&(u=r[a+1])}for(var l=e.clientX,f=e.clientY,p=0,d=0,h=0,g=o.pdfDocRender,m=g.viewerRender.$ui.parent()[0],v=(m.offsetWidth,m.offsetHeight,o.$ui.parent()[0].getBoundingClientRect()),y=v.left,b=v.top,w=void 0,_=void 0,P=g.pagesRender.viewMode.getVisibleIndexes()||[0],O=0,E=P.length;O<E;O++){var x=P[O],C=g.getPDFPageRender(x).$ui.get(0).getBoundingClientRect();if(l<=C.right&&l>=C.left&&f>=C.top&&f<=C.bottom){p=x,w=y-l,(d=l-C.left)<0&&(d=0),_=b-f,(h=f-C.top)<0&&(h=0);break}}var A=g.getPDFPageRender(p),S=A.page.reverseDevicePoint([d,h],A.scale,A.getRotation()),D=A.page.reverseDeviceOffset([w,_],u,A.getRotation());return c.debug("scale from ",i,"to",u),n.zoomTo(u,{pageIndex:p,x:S[0]+D[0],y:S[1]+D[1]})}))}))).catch((function(){})),o.finally((function(){o=null}))}};e.addEventListener("wheel",r),this.addDestroyHook((function(){e.removeEventListener("wheel",r)}))},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(10)),r=s(n(7)),i=n(17),a=n(9);function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}r.default.getLogger("@zoom-on-pinch");var f=function(t){function e(){return c(this,e),u(this,t.apply(this,arguments))}return l(e,t),e.getName=function(){return"zoom-on-pinch"},e.prototype.findNearScaleValueIndex=function(t){for(var e=this.component.getPDFUI().customScalingValues,n=Math.abs(t-e[0]),o=0,r=1;r<e.length;r++){var i=e[r],a=Math.abs(t-i);a<n&&(o=r,n=a)}return o},e.prototype.componentPrelink=function(){var t=this;if(a.isTouchDevice){var e=this.component.element,n=this.component.getPDFUI(),o=n.customScalingValues,r=Math.max.apply(Math,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(o));n.getPDFViewer().then((function(n){var o=n.getPDFViewerRender(),a=new Hammer.Manager(e);a.add(new Hammer.Pinch);var s=void 0;a.on("pinchstart",(function(t){s=o.getScaleRatio(),t.preventDefault()}));var c=new i.DebouncePromiseQueue;a.on("pinchmove",(function(t){c.push((function(){return s.then((function(e){var n=e*t.scale,i=Math.min(n,r);return e===i?s:o.zoomAt(i,t.center).then((function(t){return s}))}),(function(t){}),200)}))})),t.addDestroyHook((function(){a.destroy()}))}))}},e}(o.default);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(10)),r=s(n(7)),i=s(n(1)),a=n(9);function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}r.default.getLogger("@zoom-on-doubletap");var f=function(t){function e(){return c(this,e),u(this,t.apply(this,arguments))}return l(e,t),e.getName=function(){return"zoom-on-doubletap"},e.prototype.findNearScaleValueIndex=function(t){var e=this.component.getPDFUI().customScalingValues,n=0,o=0;return e.forEach((function(e,r){var i=Math.abs(t-e);i<=o&&(n=r,o=i)})),n},e.prototype.componentPrelink=function(){var t=this;if(a.isTouchDevice){var e=this.component.getPDFUI();e.getPDFViewer().then((function(n){var o=Promise.resolve(),r=n.getPDFViewerRender(),a=function(n){var i=e.customScalingValues;o=o.finally((function(e){return r.getScaleRatio().then((function(e){var o=t.findNearScaleValueIndex(e);if(o!=i.length-1){var a=i[o],s=a;return a<=e&&(s=i[o+1]),r.zoomAt(s,n.center)}}))}))};n.getEventEmitter().on(i.default.doubleTapPage,a),t.addDestroyHook((function(){n.getEventEmitter().off(i.default.doubleTapPage,a)}))}))}},e}(o.default);e.default=f},function(t,e,n){"use strict";var o=b(n(12)),r=b(n(351)),i=b(n(352)),a=b(n(353)),s=b(n(354)),c=b(n(355)),u=b(n(356)),l=b(n(357)),f=b(n(358)),p=b(n(359)),d=b(n(360)),h=b(n(361)),g=b(n(362)),m=b(n(927)),v=b(n(928)),y=b(n(929));function b(t){return t&&t.__esModule?t:{default:t}}var w=o.default.module("annot-opr",[]);w.registerController(v.default),w.registerController(m.default),w.registerController(r.default),w.registerController(i.default),w.registerController(a.default),w.registerController(s.default),w.registerController(c.default),w.registerController(h.default),w.registerController(g.default),w.registerController(u.default),w.registerController(l.default),w.registerController(f.default),w.registerController(p.default),w.registerController(d.default),w.registerController(y.default)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(2)),r=n(11),i=a(n(52));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.getName=function(){return"CopyAnnotController"},e.prototype.handle=function(t){var e=this.component.parent;if(e instanceof i.default){var n=e.getCurrentTarget();n instanceof r.AnnotComponent&&this.pdfUI.getPDFViewer().then((function(t){t.copy(n)}))}},e}(o.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(2);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"PasteAnnotController"},e.prototype.handle=function(t){this.pdfUI.getPDFViewer().then((function(t){t.paste()}))},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(2)),r=a(n(52)),i=n(11);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.getName=function(){return"ShowAnnotFormPropertiesController"},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this),this.component.element.addEventListener("mousedown",(function(t){e.currentMouseX=t.pageX,e.currentMouseY=t.pageY}))},e.prototype.handle=function(){var t=this.component.parent;if(t instanceof r.default){var e=t.getCurrentTarget();e instanceof i.AnnotComponent&&e.showFormPropertiesDialog&&e.showFormPropertiesDialog(null,null,{pageX:this.currentMouseX,pageY:this.currentMouseY})}},e}(o.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(12)),r=a(n(931)),i=a(n(932));function a(t){return t&&t.__esModule?t:{default:t}}var s=o.default.module("ui-rotation",[]);s.registerController(r.default),s.registerController(i.default),e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(2);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"RotateRightController"},e.prototype.handle=function(){var t=this.getPDFUI();return t.getRotation().then((function(e){return t.rotateTo(e+90)}))},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(2);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"RotateLeftController"},e.prototype.handle=function(){var t=this.getPDFUI();return t.getRotation().then((function(e){return t.rotateTo(e-90)}))},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=c},function(t,e,n){"use strict";var o=n(12),r=ge(o),i=n(934),a=ge(i),s=n(935),c=ge(s),u=n(937),l=ge(u),f=n(938),p=ge(f),d=n(939),h=ge(d),g=n(940),m=ge(g),v=n(942),y=ge(v),b=n(943),w=ge(b),_=n(944),P=ge(_),O=ge(n(945)),E=ge(n(946)),x=ge(n(947)),C=ge(n(948)),A=ge(n(949)),S=ge(n(950)),D=ge(n(953)),R=ge(n(956)),j=ge(n(959)),T=ge(n(960)),M=ge(n(961)),I=ge(n(962)),k=ge(n(963)),F=ge(n(964)),N=ge(n(966)),L=ge(n(967)),V=ge(n(968)),B=ge(n(969)),U=ge(n(970)),H=ge(n(971)),q=ge(n(972)),$=ge(n(973)),W=ge(n(977)),z=ge(n(979)),Y=ge(n(980)),G=ge(n(981)),K=ge(n(982)),J=ge(n(983)),X=ge(n(984)),Z=ge(n(985)),Q=ge(n(992)),tt=ge(n(993)),et=ge(n(995)),nt=ge(n(996)),ot=ge(n(998)),rt=ge(n(1e3)),it=ge(n(1003)),at=ge(n(1006)),st=ge(n(1007)),ct=ge(n(1008)),ut=ge(n(1010)),lt=ge(n(1012)),ft=ge(n(1013)),pt=ge(n(1014)),dt=ge(n(1015)),ht=ge(n(1016)),gt=ge(n(1017)),mt=ge(n(1018)),vt=ge(n(1019)),yt=ge(n(1020)),bt=ge(n(1021)),wt=ge(n(1022)),_t=ge(n(1023)),Pt=ge(n(1024)),Ot=ge(n(1025)),Et=ge(n(1026)),xt=ge(n(1027)),Ct=ge(n(1028)),At=ge(n(1029)),St=ge(n(1030)),Dt=ge(n(1031)),Rt=ge(n(1032)),jt=ge(n(1033)),Tt=ge(n(1034)),Mt=ge(n(1035)),It=ge(n(1036)),kt=ge(n(1037)),Ft=ge(n(1038)),Nt=ge(n(1039)),Lt=ge(n(1040)),Vt=ge(n(1041)),Bt=ge(n(1042)),Ut=ge(n(1043)),Ht=ge(n(1044)),qt=ge(n(1045)),$t=ge(n(1046)),Wt=ge(n(1047)),zt=ge(n(1048)),Yt=ge(n(1049)),Gt=ge(n(1050)),Kt=ge(n(1051)),Jt=ge(n(1052)),Xt=ge(n(1053)),Zt=ge(n(1054)),Qt=ge(n(1055)),te=ge(n(1056)),ee=ge(n(1057)),ne=ge(n(1058)),oe=ge(n(1059)),re=ge(n(1060)),ie=ge(n(1061)),ae=ge(n(1062)),se=ge(n(1063)),ce=ge(n(1064)),ue=ge(n(1065)),le=ge(n(1066)),fe=ge(n(1067)),pe=ge(n(1068)),de=ge(n(1070)),he=ge(n(1071));function ge(t){return t&&t.__esModule?t:{default:t}}var me=r.default.root();[ue.default,ce.default,l.default,Z.default,p.default,h.default,c.default,a.default,m.default,y.default,w.default,P.default,O.default,E.default,x.default,C.default,A.default,S.default,D.default,R.default,j.default,T.default,M.default,I.default,k.default,F.default,N.default,L.default,V.default,B.default,U.default,H.default,q.default,$.default,W.default,z.default,Y.default,G.default,K.default,J.default,X.default,Q.default,tt.default,et.default,ot.default,nt.default,rt.default,it.default,at.default,st.default,ct.default,ut.default,lt.default,ft.default,pt.default,dt.default,ht.default,gt.default,mt.default,vt.default,yt.default,bt.default,wt.default,_t.default,Pt.default,Ot.default,Et.default,xt.default,Ct.default,At.default,St.default,Dt.default,Rt.default,jt.default,Tt.default,Mt.default,It.default,re.default,kt.default,Ft.default,te.default,Nt.default,Lt.default,Bt.default,Vt.default,Ut.default,Ht.default,qt.default,$t.default,Wt.default,zt.default,Gt.default,Yt.default,Kt.default,Jt.default,Xt.default,Zt.default,Qt.default,ee.default,ne.default,oe.default,ie.default,ae.default,se.default,le.default,fe.default,pe.default,de.default,he.default].forEach((function(t){Array.isArray(t)||(t=[t]),t.forEach((function(t){me.registerFragment(t.name,t.fragment)}))}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"download-file-button",fragment:{template:'<xbutton @tooltip tooltip-title="toolbar.buttons.download" name="download-file-button" icon-class="fv__icon-toolbar-download" @controller="file:DownloadFileController">toolbar.buttons.download</xbutton>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(936)),r=a(n(202)),i=a(n(201));function a(t){return t&&t.__esModule?t:{default:t}}e.default={name:"goto-page-input",fragment:{template:(0,o.default)(),config:[{target:"gotopage-input",callback:r.default},{target:"gotopage-total",callback:i.default}]}}},function(t,e,n){n(0);t.exports=function(t){"use strict";t=t||{};return'<div class="fv__ui-toolbar-gotopage">\n    <number min="1" @bind.attr.max="pageNumber" @bind.value="currentPageIndex" name="gotopage-input" @on.change="onchange" @on.keydown="onkeydown"></number> \n    <span class="fv__ui-toolbar-gotopage-sep">/</span> \n    <text @sync.text="pageNumber" name="gotopage-total">0</text>\n</div>','<div class="fv__ui-toolbar-gotopage">\n    <number min="1" @bind.attr.max="pageNumber" @bind.value="currentPageIndex" name="gotopage-input" @on.change="onchange" @on.keydown="onkeydown"></number> \n    <span class="fv__ui-toolbar-gotopage-sep">/</span> \n    <text @sync.text="pageNumber" name="gotopage-total">0</text>\n</div>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"hand-button",fragment:{template:'<xbutton @tooltip name="hand-tool" icon-class="fv__icon-toolbar-hand" @controller="states:HandController"></xbutton>',config:{target:"hand-tool",attrs:{"tooltip-title":"toolbar.tooltip.hand.title"}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"goto-prev-page-button",fragment:{template:'\n            <xbutton\n                @tooltip\n                icon-class="fv__icon-toolbar-prev-page"\n                name="goto-prev-page"\n                @controller="gotoview:GotoPrevPageController"\n            ></xbutton>\n        ',config:{target:"goto-prev-page",attrs:{"tooltip-title":"toolbar.tooltip.previousPage.title"}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"goto-next-page-button",fragment:{template:'\n            <xbutton \n                @tooltip\n                icon-class="fv__icon-toolbar-next-page"\n                name="goto-next-page"\n                @controller="gotoview:GotoNextPageController"\n            ></xbutton>\n        ',config:{target:"goto-next-page",attrs:{"tooltip-title":"toolbar.tooltip.nextPage.title"}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(206)),r=a(n(205)),i=a(n(941));function a(t){return t&&t.__esModule?t:{default:t}}e.default={name:"open-file-dropdown",fragment:{template:'\n            <dropdown name="open-file-button-list" class="fv__ui-dropdown-hide-text" @cannotBeDisabled>\n                <dropdown-button icon-class="fv__icon-toolbar-open" name="open-local-file" accept=".pdf,.gif,.jpeg,.jpg,.png,.bmp" @cannotBeDisabled>toolbar.buttons.openfile</dropdown-button>\n                <dropdown-button icon-class="fv__icon-toolbar-open-url" name="open-from-url" accept=".pdf" @cannotBeDisabled>toolbar.buttons.openFromUrl</dropdown-button>\n            </dropdown>\n        ',config:[{target:"open-file-button-list",callback:i.default},{target:"open-local-file",isFileSelector:!0,callback:o.default},{target:"open-from-url",callback:r.default}]}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(2);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"OpenFileDropdownController"},e.prototype.postlink=function(){var t=this.component.getComponentByName("open-local-file");this.component.select(t)},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"open-localfile-button",fragment:{template:'\n            <file-selector \n                name="fv--open-localfile-button"\n                icon-class="fv__icon-toolbar-open" \n                accept=".pdf,.gif,.jpeg,.jpg,.png,.bmp" \n                @controller="file:OpenLocalFileController" \n                @tooltip tooltip-title="toolbar.buttons.openfile"\n                @cannotBeDisabled\n            >toolbar.buttons.openfile</file-selector>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"open-fromurl-button",fragment:{template:'\n            <xbutton \n                name="fv--open-fromurl-button"\n                icon-class="fv__icon-toolbar-open-url" \n                accept=".pdf" \n                @controller="file:OpenRemoteFileController" \n                @tooltip tooltip-title="toolbar.buttons.openFromUrl"\n                @cannotBeDisabled\n            >toolbar.buttons.openFromUrl</xbutton>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(177),i=(o=r)&&o.__esModule?o:{default:o};e.default={name:"create-attachment-button",fragment:{template:'<xbutton name="create-fileattachment" @tooltip icon-class="fv__icon-toolbar-attachment">toolbar.create.fileattachment</xbutton>',config:{target:"create-fileattachment",attrs:{"tooltip-title":"toolbar.tooltip.fileattachment.title"},callback:i.default}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(175),i=(o=r)&&o.__esModule?o:{default:o};e.default={name:"create-area-highlight-button",fragment:{template:'<xbutton name="create-area-highlight" @tooltip icon-class="fv__icon-toolbar-area-highlight">toolbar.create.areahighlight</xbutton>',config:{target:"create-area-highlight",attrs:{"tooltip-title":"toolbar.tooltip.areaHighlight.title"},callback:i.default}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(176),i=(o=r)&&o.__esModule?o:{default:o};e.default={name:"create-caret-button",fragment:{template:'<xbutton name="create-caret" @tooltip icon-class="fv__icon-toolbar-insert">toolbar.create.caret</xbutton>',config:{target:"create-caret",attrs:{"tooltip-title":"toolbar.tooltip.caret.title"},callback:i.default}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(2),i=(o=r)&&o.__esModule?o:{default:o};function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}e.default={name:"create-measure-dropdown",fragment:{template:'\n            <dropdown name="create-measurement-button-list" class="fv__ui-dropdown-hide-text" @cannotBeDisabled>\n                <dropdown-button @tooltip name="create-distance-btn" icon-class="fv__icon-toolbar-distance" @controller="distance:CreateDistanceController">toolbar.buttons.distance</dropdown-button>\n                <dropdown-button @hide-on-sr @tooltip name="create-perimeter-btn" icon-class="fv__icon-toolbar-perimeter" @controller="distance:CreatePerimeterController">toolbar.buttons.perimeter</dropdown-button>\n            </dropdown>\n        ',config:[{target:"create-measurement-button-list",callback:function(t){function e(){return a(this,e),s(this,t.apply(this,arguments))}return c(e,t),e.prototype.postlink=function(){this.component.select(this.component.childAt(0))},e}(i.default)},{target:"create-distance-btn",attrs:{"tooltip-title":"toolbar.buttons.tooltip.distance"}},{target:"create-perimeter-btn",attrs:{"tooltip-title":"toolbar.buttons.tooltip.perimeter"}},{target:"create-area-btn",attrs:{"tooltip-title":"toolbar.buttons.tooltip.area"}}]}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"create-distance-button",fragment:{template:'<xbutton @tooltip name="create-distance-btn" icon-class="fv__icon-toolbar-distance" @controller="distance:CreateDistanceController">toolbar.buttons.distance</xbutton>',config:{target:"create-distance-btn",attrs:{"tooltip-title":"toolbar.buttons.distance"}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(187),i=(o=r)&&o.__esModule?o:{default:o};e.default={name:"eraser-button",fragment:{template:'<xbutton name="eraser-tool" @tooltip icon-class="fv__icon-toolbar-eraser">toolbar.buttons.eraser</xbutton>',config:{target:"eraser-tool",attrs:{"tooltip-title":"toolbar.tooltip.eraser.title"},callback:i.default}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(951),i=(o=r)&&o.__esModule?o:{default:o};e.default={name:"create-typewriter-button",fragment:{template:'<xbutton name="freetext-typewriter" @tooltip icon-class="fv__icon-toolbar-typewriter" >toolbar.create.typewriter</xbutton>',config:{target:"freetext-typewriter",attrs:{"tooltip-title":"toolbar.tooltip.typewriter.title"},callback:i.default}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(952));function r(t){return t&&t.__esModule?t:{default:t}}var i=r(n(14)).default.ext(o.default,"CreateTypewriterController",32);e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=u(n(213)),r=u(n(19)),i=u(n(1)),a=u(n(35)),s=u(n(69)),c=n(4);function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var f=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.cursorStyle="fv__cursor-typewriter",o}return l(e,t),e.getStateName=function(){return"createFreeTextTypewriter"},e.prototype.pageHandler=function(t){var e=this;this.pageRender=t;var n=t.$handler;n.addClass("fv__create-stamp-state-handler "+this.cursorStyle);var o=n[0];(this.hammer=new r.default.Manager(o,{recognizers:[[r.default.Tap]]})).on("tap",(function(n){var r=(0,a.default)(o,n),u=function(n){var a=100*t.scale*4/3,u=20*t.scale*2/3,l={left:r.x,right:r.x+a,top:r.y,bottom:r.y+2*u},f=e.input=document.createElement("div");f.contentEditable=!0;var p=e.pdfViewer.getDefaultAnnotConfig(),d=(0,s.default)({defaultAppearance:{textColor:255,textSize:12}},"function"==typeof p?p("freetext","FreeTextTypewriter"):{}),h=d.defaultAppearance.textSize*t.scale*4/3;f.style.cssText="\n                    position: absolute;\n                    left: "+l.left+"px;\n                    top: "+l.top+"px;\n                    min-width: "+h+"px;\n                    min-height: "+h+"px;\n                    font-size: "+h+"px;\n                    line-height: 1;\n                    font-family: FoxitPDFSDKForWeb;\n                    color: "+(0,c.convertFromNumberToHex)(d.defaultAppearance.textColor)+";\n                    outline:1px solid #5aa;\n                    outline-offset:1px;\n                ",o.appendChild(f),f.focus(),setTimeout((function(){return f.focus()})),f.onmousedown=f.ontouchstart=f.onpointerdown=function(t){t.preventDefault(),t.stopPropagation()},f.onblur=function(){if(0===f.innerText.trim().length)o.removeChild(f),e.input=null;else{var r=f.getBoundingClientRect();l.right=l.left+r.width,l.bottom=l.top+r.height;var a=n.reverseDeviceRect(l,t.scale,t.getRotation());f.innerText=f.innerText.replace(/\n{2}/gi,"\n");var s={type:"freetext",intent:"FreeTextTypewriter",subject:"FreeTextTypewriter",rect:a,contents:f.innerText.trim(),rotate:((360-90*n.getRotation()-t.getRotation())%360+360)%360,flags:4};n.addAnnot(s).then((function(e){o.removeChild(f);var n=e[0],r=t.annotsRender.getAnnotRender(n.getId()).component;r.$textInput.get(0).blur(),t.pdfViewer.eventEmitter.emit(i.default.addAnnotSuccess,r.annot)}))}}};t.page?u(t.page):t.getPDFPage().then(u)}))},e.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass("fv__create-stamp-state-handler "+this.cursorStyle),this.input&&this.input.blur()},e.prototype.out=function(){t.prototype.out.call(this)},e}(o.default);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(954),i=(o=r)&&o.__esModule?o:{default:o};e.default={name:"create-callout-button",fragment:{template:'<xbutton name="freetext-callout" @tooltip icon-class="fv__icon-toolbar-callout" >toolbar.create.callout</xbutton>',config:{target:"freetext-callout",attrs:{"tooltip-title":"toolbar.tooltip.callout.title"},callback:i.default}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(955));function r(t){return t&&t.__esModule?t:{default:t}}var i=r(n(14)).default.ext(o.default,"CreateCalloutController",32);e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=f(n(19)),r=f(n(213)),i=f(n(259)),a=f(n(260)),s=f(n(3)),c=f(n(35)),u=n(37),l=f(n(1));function f(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var d=void 0,h=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.cursorStyle="fv__cursor-typewriter",o}return p(e,t),e.getStateName=function(){return"createFreeTextCallout"},e.prototype.pageHandler=function(t){var e=this;this.pageRender=t;var n=t.$handler;n.addClass("fv__create-callout-state-handler "+this.cursorStyle),this.shapeDom=n.find(".fv__create-callout-canvas"),0==this.shapeDom.length&&(this.shapeDom=(0,s.default)('<canvas class="fv__create-callout-state-canvas" style="position:absolute"></canvas>'),n.append(this.shapeDom));var r=n[0],l=this.hammer=new o.default.Manager(r,{recognizers:[[o.default.Pan,{direction:o.default.DIRECTION_ALL}]]});this.calloutShape=this.calloutShape||new i.default;var f=void 0;l.on("panstart",(function(t){var e=(0,c.default)(r,t);d||(d=e)})).on("panend",(function(t){d=null,f&&e.addAnnot(f),e.calloutShape.hide()})).on("panmove",(function(n){if(d){var o=t.page,i=r.getBoundingClientRect(),c=n.srcEvent,l=(0,u.getClientX)(c)-i.left,p=(0,u.getClientY)(c)-i.top,h=a.default.calcCalloutPosition(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({start:[d.x,d.y],end:[l,p],page:o,width:o.getMediaWidth(),height:o.getMediaHeight(),rotate:o.getRotation(),borderStyle:{style:0},endingStyle:0,scale:t.scale},"rotate",t.rotate));if(h.invalid)return;f=h;for(var g=[],m=0;m<3;m++)g.push(o.getDevicePoint([f.calloutLinePoints[m].x,f.calloutLinePoints[m].y],t.scale,t.rotate));var v=o.getDeviceRect(f.rect,t.scale,t.rotate),y=o.getDeviceRect(f.innerRect,t.scale,t.rotate);(0,s.default)(e.shapeDom).css({left:v.left,top:v.top}),e.calloutShape.init(null,e.shapeDom),e.calloutShape.show(g,v,y)}}))},e.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass("fv__create-callout-state-handler "+this.cursorStyle),d&&(d=null,this.calloutShape.hide())},e.prototype.out=function(){this.destroyPageHandler()},e.prototype.addAnnot=function(t){var e=this.pageRender;return e.getPDFPage().then((function(n){var o=Object.assign({},{type:"freetext",intent:"FreeTextCallout",subject:"FreeTextCallout","interior-color":16777215,rotate:((360-90*n.getRotation()-e.getRotation())%360+360)%360,flags:4},t);return n.addAnnot(o)})).then((function(t){var n=t[0],o=e.annotsRender.getAnnotRender(n.getId()).component,i=e.pdfViewer;return i.eventEmitter.emit(l.default.addAnnotSuccess,o.annot),i.getStateHandlerManager().switchTo(),r.default.edit(e,t)}))},e}(r.default);e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(957),i=(o=r)&&o.__esModule?o:{default:o};e.default={name:"create-textbox-button",fragment:{template:'<xbutton name="freetext-textbox" @tooltip icon-class="fv__icon-toolbar-textbox" >toolbar.create.textbox</xbutton>',config:{target:"freetext-textbox",attrs:{"tooltip-title":"toolbar.tooltip.textbox.title"},callback:i.default}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(14)),r=i(n(958));function i(t){return t&&t.__esModule?t:{default:t}}var a=o.default.ext(r.default,"CreateTextboxController",32);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(19)),r=s(n(213)),i=(s(n(3)),n(37),s(n(1))),a=s(n(35));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.cursorStyle="fv__cursor-typewriter",o}return c(e,t),e.getStateName=function(){return"createFreeTextBox"},e.prototype.pageHandler=function(t){this.pageRender=t;var e=t.$handler;e.addClass("fv__create-stamp-state-handler "+this.cursorStyle);var n=e[0];(this.hammer=new o.default.Manager(n,{recognizers:[[o.default.Tap]]})).on("tap",(function(e){var o=(0,a.default)(n,e);return t.getPDFPage().then((function(e){var n=t.getScale(),r=t.getRotation(),i=100*n*4/3,a=20*n*2/3,s={left:o.x,right:o.x+i,top:o.y-a,bottom:o.y+a},c={type:"freetext",rect:e.reverseDeviceRect(s,n,r),subject:"Textbox","interior-color":16777215,rotate:((360-90*e.getRotation()-r)%360+360)%360,flags:4};return e.addAnnot(c)})).then((function(e){var n=e[0],o=t.annotsRender.getAnnotRender(n.getId()).component,a=t.pdfViewer;return a.eventEmitter.emit(i.default.addAnnotSuccess,o.annot),a.getStateHandlerManager().switchTo(),r.default.edit(t,e)}))}))},e.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass("fv__create-stamp-state-handler "+this.cursorStyle),this.__removeHandlerMouseEvent__&&this.__removeHandlerMouseEvent__()},e.prototype.out=function(){this.destroyPageHandler()},e}(r.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(178),i=(o=r)&&o.__esModule?o:{default:o};e.default={name:"create-text-highlight-button",fragment:{template:'<xbutton name="create-highlight" @tooltip icon-class="fv__icon-toolbar-text-highlight">toolbar.create.highlight</xbutton>',config:{target:"create-highlight",attrs:{"tooltip-title":"toolbar.tooltip.highlight.title"},callback:i.default}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(179),i=(o=r)&&o.__esModule?o:{default:o};e.default={name:"create-image-button",fragment:{template:'<xbutton name="create-image" @tooltip icon-class="fv__icon-toolbar-image">toolbar.create.image</xbutton>',config:{target:"create-image",attrs:{"tooltip-title":"toolbar.tooltip.image.title"},callback:i.default}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(180),i=(o=r)&&o.__esModule?o:{default:o};e.default={name:"create-link-button",fragment:{template:'<xbutton name="create-link" @tooltip icon-class="fv__icon-toolbar-link" >toolbar.create.link</xbutton>',config:{target:"create-link",attrs:{"tooltip-title":"toolbar.tooltip.link.title"},callback:i.default}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(181),i=(o=r)&&o.__esModule?o:{default:o};e.default={name:"create-pencil-button",fragment:{template:'<xbutton name="pencil-tool" @tooltip icon-class="fv__icon-toolbar-pencil">toolbar.buttons.pencil</xbutton>',config:{target:"pencil-tool",attrs:{"tooltip-title":"toolbar.tooltip.pencil.title"},callback:i.default}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(182),i=(o=r)&&o.__esModule?o:{default:o};e.default={name:"create-replace-button",fragment:{template:'<xbutton name="create-replace" @tooltip icon-class="fv__icon-toolbar-replace">toolbar.create.replace</xbutton>',config:{target:"create-replace",attrs:{"tooltip-title":"toolbar.tooltip.replace.title"},callback:i.default}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=h(n(965)),i=h(n(189)),a=h(n(193)),s=h(n(194)),c=h(n(195)),u=h(n(198)),l=h(n(199)),f=h(n(124)),p=h(n(2)),d=h(n(74));function h(t){return t&&t.__esModule?t:{default:t}}function g(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var y=function(){function t(){v(this,t)}return t.prototype.stateIn=function(){this.component.parent.select(this.component),this.component.parent.element.classList.add("selected")},t.prototype.stateOut=function(){this.component.parent.element.classList.remove("selected")},t}();e.default={name:"create-drawings-dropdown",fragment:{template:(0,r.default)(),config:[{target:"create-shape-dropdown",callback:function(t){function e(){return v(this,e),g(this,t.apply(this,arguments))}return m(e,t),e.prototype.postlink=function(){this.component.select(this.component.childAt(0))},o(e,null,[{key:"permission",get:function(){return 32}}]),e}(p.default)},{target:"create-line",callback:d.default.mixin(i.default,y)},{target:"create-arrow",callback:d.default.mixin(a.default,y)},{target:"create-circle",callback:d.default.mixin(s.default,y)},{target:"create-square",callback:d.default.mixin(c.default,y)},{target:"create-polyline",callback:d.default.mixin(f.default,y)},{target:"create-polygon",callback:d.default.mixin(u.default,y)},{target:"create-cloud",callback:d.default.mixin(l.default,y)}]}}},function(t,e,n){n(0);t.exports=function(t){"use strict";t=t||{};return'<dropdown name="create-shape-dropdown" class="fv__ui-dropdown-hide-text">\n    <create-square-button></create-square-button>\n    <create-circle-button></create-circle-button>\n    <create-line-button></create-line-button>\n    <create-arrow-button></create-arrow-button>\n    <create-polygon-button></create-polygon-button>\n    <create-polyline-button></create-polyline-button>\n    <create-cloud-button></create-cloud-button>\n</dropdown>','<dropdown name="create-shape-dropdown" class="fv__ui-dropdown-hide-text">\n    <create-square-button></create-square-button>\n    <create-circle-button></create-circle-button>\n    <create-line-button></create-line-button>\n    <create-arrow-button></create-arrow-button>\n    <create-polygon-button></create-polygon-button>\n    <create-polyline-button></create-polyline-button>\n    <create-cloud-button></create-cloud-button>\n</dropdown>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(183),i=(o=r)&&o.__esModule?o:{default:o};e.default={name:"create-squiggly-button",fragment:{template:'<xbutton name="create-squiggly" @tooltip icon-class="fv__icon-toolbar-squiggly">toolbar.create.squiggly</xbutton>',config:{target:"create-squiggly",attrs:{"tooltip-title":"toolbar.tooltip.squiggly.title"},callback:i.default}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(184),i=(o=r)&&o.__esModule?o:{default:o};e.default={name:"create-strikeout-button",fragment:{template:'<xbutton name="create-strikeout" @tooltip icon-class="fv__icon-toolbar-strikeout">toolbar.create.strikeout</xbutton>',config:{target:"create-strikeout",attrs:{"tooltip-title":"toolbar.tooltip.strikeout.title"},callback:i.default}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(185),i=(o=r)&&o.__esModule?o:{default:o};e.default={name:"create-note-button",fragment:{template:'<xbutton name="create-text" @tooltip icon-class="fv__icon-toolbar-note">toolbar.create.note</xbutton>',config:{target:"create-text",attrs:{"tooltip-title":"toolbar.tooltip.note.title"},callback:i.default}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(186),i=(o=r)&&o.__esModule?o:{default:o};e.default={name:"create-underline-button",fragment:{template:'<xbutton name="create-underline" @tooltip icon-class="fv__icon-toolbar-underline">toolbar.create.underline</xbutton>',config:{target:"create-underline",attrs:{"tooltip-title":"toolbar.tooltip.underline.title"},callback:i.default}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(200),i=(o=r)&&o.__esModule?o:{default:o};e.default={name:"selection-button",fragment:{template:'<xbutton name="selection-text-annotation" @tooltip icon-class="fv__icon-toolbar-select"></xbutton>',config:[{target:"selection-text-annotation",attrs:{"tooltip-title":"toolbar.tooltip.select.title"},callback:i.default}]}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(333),i=(o=r)&&o.__esModule?o:{default:o};e.default={name:"edit-image-button",fragment:{template:'<xbutton name="edit-image-button" icon-class="fv__icon-edit-add-image"></xbutton>',config:{target:"edit-image-button",callback:i.default}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(210),i=(o=r)&&o.__esModule?o:{default:o};e.default={name:"add-image-button",fragment:{template:'<file-selector @tooltip name="image-tool" icon-class="fv__icon-edit-add-image" accept="image/*"></file-selector>',config:{target:"image-tool",isFileSelector:!0,callback:i.default,attrs:{"tooltip-title":"toolbar.tooltip.add-image.title"}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(974)),r=i(n(975));function i(t){return t&&t.__esModule?t:{default:t}}n(976),e.default={name:"editable-zoom-dropdown",fragment:{template:'\n        <dropdown name="editable-zoom-dropdown" class="fv__ui-editable_zoom_dropdown" editable="true">\n            <dropdown-button icon-class="fv__icon-toolbar-fit-page" name="editable-zoom-dropdown-fitpage">toolbar.buttons.fitHeight</dropdown-button>\n            <dropdown-button icon-class="fv__icon-toolbar-fit-width" name="editable-zoom-dropdown-fitwidth">toolbar.buttons.fitWidth</dropdown-button>\n            <li class="fv__ui-dropdown-separator"></li>\n            <dropdown-button @foreach="scale in $pdfui.customScalingValues" @sync.text="scale * 100 + \'%\'" @controller="zoom:EditableZoomToScaleValueController"></dropdown-button>\n        </dropdown>\n    ',config:[{target:"editable-zoom-dropdown-fitpage",action:"fitHeight",callback:o.default},{target:"editable-zoom-dropdown-fitwidth",action:"fitWidth",callback:o.default},{target:"editable-zoom-dropdown",editOptions:{type:"number",min:25,max:600,step:1,value:50,template:"${value}%"},callback:r.default}]}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(126);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"EditableZoomActionController"},e.prototype.handle=function(){var e=this;t.prototype.handle.call(this),this.getPDFUI().getPDFViewerRender().then((function(t){return t.getScaleRatio()})).then((function(t){e.component.parent.setEditValue(100*t)}))},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(8)),r=i(n(2));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=i(n(7)).default.getLogger("EditableZoomDropdownController"),l=function(t){function e(){return a(this,e),s(this,t.apply(this,arguments))}return c(e,t),e.getName=function(){return"EditableZoomDropdownController"},e.prototype.prelink=function(){var t=this;this.getPDFUI().getPDFViewer().then((function(e){var n=Math.max.apply(null,t.getPDFUI().customScalingValues),o=Math.min.apply(null,t.getPDFUI().customScalingValues),r=Math.min(o,e.config.minScale),i=Math.min(n,e.config.maxScale);t.component.toggler.setMinValue(100*r),t.component.toggler.setMaxValue(100*i),t.component.setEditTemplate((function(t){var n=e.getPDFDocRender();if(!n)return t+"%";var o=n.getScale();switch(o){case"fitWidth":case"fitHeight":return"toolbar.buttons."+o;default:return t+"%"}}))})),this.component.on("change",(function(e){var n=t.component.querySelectorAll('dropdown-button[iconCls=""]');u.debug(n),t.getPDFUI().zoomTo(e/100).catch((function(){}))}));var e=function(){t.getPDFUI().getPDFViewerRender().then((function(t){return t.getScaleRatio()})).then((function(e){var n=Math.round(1e4*e)/100;t.component.setEditValue(n)}))};this.addDestroyHook(this.getPDFUI().addViewerEventListener(o.default.beforeZoomTo,(function(e){if("number"==typeof e){var n=Math.round(1e4*e)/100;t.component.setEditValue(n)}})),this.getPDFUI().addViewerEventListener(o.default.zoomToSuccess,e),this.getPDFUI().addViewerEventListener(o.default.openFileSuccess,e))},e}(r.default);e.default=l},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(126)),r=a(n(125)),i=a(n(978));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.prototype.handle=function(){t.prototype.handle.call(this),this.component.parent.select(this.component)},e}(r.default);e.default={name:"zoom-dropdown",fragment:{template:(0,i.default)(),config:[{target:"dropdown-zoom-in",action:"zoomin",callback:l},{target:"dropdown-zoom-out",action:"zoomout",callback:l},{target:"dropdown-zoom-fitpage",action:"fitHeight",callback:o.default},{target:"dropdown-zoom-fitwidth",action:"fitWidth",callback:o.default}]}}},function(t,e,n){n(0);t.exports=function(t){"use strict";t=t||{};return'<dropdown name="dropdown-zoom" icon-class="fv__icon-toolbar-zoom-in" class="fv__ui-dropdown-hide-text">\n    <dropdown-button name="dropdown-zoom-in" icon-class="fv__icon-toolbar-zoom-in">toolbar.buttons.zoomin</dropdown-button>\n    <dropdown-button name="dropdown-zoom-out" icon-class="fv__icon-toolbar-zoom-out">toolbar.buttons.zoomout</dropdown-button>\n    <dropdown-button name="dropdown-zoom-fitpage" icon-class="fv__icon-toolbar-fit-page">toolbar.buttons.fitHeight</dropdown-button>\n    <dropdown-button name="dropdown-zoom-fitwidth" icon-class="fv__icon-toolbar-fit-width">toolbar.buttons.fitWidth</dropdown-button>\n    <li class="fv__ui-dropdown-separator"></li>\n    <dropdown-button @foreach="scale in $pdfui.customScalingValues" @sync.text="scale * 100 + \'%\'" @controller="zoom:ZoomToScaleValueController"></dropdown-button>\n</dropdown>','<dropdown name="dropdown-zoom" icon-class="fv__icon-toolbar-zoom-in" class="fv__ui-dropdown-hide-text">\n    <dropdown-button name="dropdown-zoom-in" icon-class="fv__icon-toolbar-zoom-in">toolbar.buttons.zoomin</dropdown-button>\n    <dropdown-button name="dropdown-zoom-out" icon-class="fv__icon-toolbar-zoom-out">toolbar.buttons.zoomout</dropdown-button>\n    <dropdown-button name="dropdown-zoom-fitpage" icon-class="fv__icon-toolbar-fit-page">toolbar.buttons.fitHeight</dropdown-button>\n    <dropdown-button name="dropdown-zoom-fitwidth" icon-class="fv__icon-toolbar-fit-width">toolbar.buttons.fitWidth</dropdown-button>\n    <li class="fv__ui-dropdown-separator"></li>\n    <dropdown-button @foreach="scale in $pdfui.customScalingValues" @sync.text="scale * 100 + \'%\'" @controller="zoom:ZoomToScaleValueController"></dropdown-button>\n</dropdown>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(125),i=(o=r)&&o.__esModule?o:{default:o};e.default={name:"zoom-in-button",fragment:{template:'\n            <xbutton @tooltip name="zoom-in" icon-class="fv__icon-toolbar-zoom-in">toolbar.buttons.zoomin</xbutton>\n        ',config:{target:"zoom-in",action:"zoomin",callback:i.default,attrs:{"tooltip-title":"toolbar.buttons.zoomin"}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(125),i=(o=r)&&o.__esModule?o:{default:o};e.default={name:"zoom-out-button",fragment:{template:'\n            <xbutton @tooltip name="zoom-out" icon-class="fv__icon-toolbar-zoom-out">toolbar.buttons.zoomout</xbutton>\n        ',config:{target:"zoom-out",action:"zoomout",callback:i.default,attrs:{"tooltip-title":"toolbar.buttons.zoomout"}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(363),i=(o=r)&&o.__esModule?o:{default:o};e.default={name:"single-page-button",fragment:{template:'\n            <xbutton @tooltip name="single-page" icon-class="fv__icon-toolbar-single-page">toolbar.tools.single-page</xbutton>\n        ',config:{target:"single-page",callback:i.default,attrs:{"tooltip-title":"toolbar.tools.single-page"}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(204),i=(o=r)&&o.__esModule?o:{default:o};e.default={name:"continuous-page-button",fragment:{template:'\n            <xbutton @tooltip name="continuous-page" icon-class="fv__icon-toolbar-continuous-page">toolbar.tools.continuous-page</xbutton>\n        ',config:{target:"continuous-page",callback:i.default,attrs:{"tooltip-title":"toolbar.tools.continuous-page"}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(364),i=(o=r)&&o.__esModule?o:{default:o};e.default={name:"facing-page-button",fragment:{template:'\n            <xbutton @tooltip name="facing-page" icon-class="fv__icon-toolbar-double-page">toolbar.tools.facing</xbutton>\n        ',config:{target:"facing-page",callback:i.default,attrs:{"tooltip-title":"toolbar.tools.facing"}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(203),i=(o=r)&&o.__esModule?o:{default:o};e.default={name:"continuous-facing-page-button",fragment:{template:'\n            <xbutton @tooltip name="continuous-facing-page" icon-class="fv__icon-toolbar-facing-continuous-page">toolbar.tools.continuous-facing</xbutton>\n        ',config:{target:"continuous-facing-page",callback:i.default,attrs:{"tooltip-title":"toolbar.tools.continuous-facing"}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(986)),r=i(n(987));function i(t){return t&&t.__esModule?t:{default:t}}e.default={name:"snapshot-button",fragment:{template:'<xbutton @tooltip name="'+o.default.SNAPSHOT_BUTTON+'" icon-class="fv__icon-toolbar-snapshot">toolbar.buttons.snapshot</xbutton>',config:{target:o.default.SNAPSHOT_BUTTON,callback:r.default,attrs:{"tooltip-title":"toolbar.buttons.snapshot"}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={COMMENT_LIST_SIDEBAR_PANEL:"comment-list-sidebar-panel",COMMENT_LIST_EXPAND_ALL:"commentlist-expand-commentlist",COMMENT_LIST_COLLAPSE_ALL:"commentlist-collapse-commentlist",COMMENT_LIST_SHOW_ALL:"commentlist-show-all-comments",COMMENT_LIST_HIDE_ALL:"commentlist-hide-all-comments",COMMENT_PAGE_LIST:"sidebar-commentlist-pagelist",COMMENT_EXPORT_COMMENT:"commentlist-export-comment",COMMENT_IMPORT_COMMENT:"commentlist-import-comment",SNAPSHOT_BUTTON:"snapshot-button",SIDEBAR:"sidebar",BOOKMARK_SIDEBAR_PANEL:"sidebar-bookmark",LAYERS_SIDEBAR_PANEL:"sidebar-layers",SEARCH_SIDEBAR_PANEL:"sidebar-search",ATTACHMENT_SIDEBAR_PANEL:"sidebar-attachment",TOOLBAR:"toolbar",TOOBAR_TABS:"toolbar-tabs",HOME_TAB:"home-tab",HOME_TOOLBAR_GROUP_LIST:"home-toolbar-group-list",HOME_TOOLBAR_GROUP_0:"home-tab-group-hand",HOME_TOOLBAR_GROUP_1:"home-tab-group-io",HOME_TOOLBAR_GROUP_2:"home-tab-group-nav",HOME_TOOLBAR_GROUP_3:"home-tab-group-zoom",HOME_TOOLBAR_GROUP_4:"home-tab-group-page",HOME_TOOLBAR_GROUP_5:"home-tab-group-magnifier",HOME_TOOLBAR_GROUP_6:"home-tab-group-marquee",COMMENT_TAB:"comment-tab",COMMENT_TOOLBAR_GROUP_LIST:"comment-toolbar-group-list",COMMENT_TOOLBAR_GROUP_0:"comment-tab-group-hand",COMMENT_TOOLBAR_GROUP_1:"comment-tab-group-mark",COMMENT_TOOLBAR_GROUP_2:"comment-tab-group-text",COMMENT_TOOLBAR_GROUP_3:"comment-tab-group-drawing",COMMENT_TOOLBAR_GROUP_4:"comment-tab-group-media",COMMENT_TOOLBAR_GROUP_5:"comment-tab-group-inksign",COMMENT_TOOLBAR_GROUP_6:"comment-tab-group-stamp",COMMENT_TOOLBAR_GROUP_7:"comment-tab-group-other",EDIT_TAB:"edit-tab",EDIT_TOOLBAR_GROUP_LIST:"edit-toolbar-group-list",EDIT_TOOLBAR_GROUP_0:"edit-tab-group-hand",EDIT_TOOLBAR_GROUP_1:"edit-tab-group-mode",EDIT_TOOLBAR_GROUP_2:"edit-tab-group-font",EDIT_TOOLBAR_GROUP_3:"edit-tab-group-layer",EDIT_TOOLBAR_GROUP_4:"edit-tab-group-redact",PROTECT_TAB:"protect-tab",PROTECT_TOOLBAR_GROUP_LIST:"protect-toolbar-group-list",PROTECT_TOOLBAR_GROUP_0:"protect-tab-group-hand",PROTECT_TOOLBAR_GROUP_1:"protect-tab-group-sign"};(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(5))).COMPONENT_NAMES=o,e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=p(n(14)),r=p(n(988)),i=p(n(989)),a=p(n(7)),s=n(76),c=(p(n(98)),p(n(8))),u=n(5),l=n(31),f=p(n(40));function p(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var h=a.default.getLogger("SnapshotToolController"),g=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r.default))}return d(e,t),e.getName=function(){return"SnapshotToolController"},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this);var n=this.getPDFUI(),o=void 0;n.getPDFViewerRender().then((function(t){e.addDestroyHook(t.scrollWrap.addScrollEventListener((function(t){o&&o.updateRect()})))}));var a=f.default,p=n.addKeyboardShortcutEventListener(l.KEY_MAP_ESC_CREATING_DRAWING,(function(t){o&&(o.destroy(),o=null,a())}),l.ANNOTATION_CREATING_BINDER),d=this.getComponentByName(u.WEBPDF_VIEWER_COMPONENT_NAME);this.addDestroyHook((function(){a(),p()}),n.addViewerEventListener(c.default.createSnapshotArea,(function(t,r){o&&o.destroy();var s=n.switchKeyboardEventBinder(l.ANNOTATION_CREATING_BINDER);a=function(){s(),a=f.default},(o=new i.default(t.$handler.get(0))).start(),o.appendTo(d.element),o.setRect(r),e.pdfUI.localizer.localizeRecursive(o.element),o.mounted()})),n.addViewerEventListener(c.default.updateSnapshotArea,(function(t,e){o.setRect(e)})),n.addViewerEventListener(c.default.stabilizedSnapshotArea,(function(t,r){o.setRect(r),n.getPDFViewer().then((function(n){n.takeSnapshot(t.index,r.left,r.top,r.right-r.left,r.bottom-r.top).then((function(t){return n.uploadImage(t).then((function(r){o.end(),o.eventEmitter.on("cancel",(function(){o.destroy(),a()})),o.eventEmitter.on("ok",(function(){n.copySnapshot(r),e.afterTakesnapshotSuccess(),o.destroy(),a()})),o.eventEmitter.on("download",(function(){(0,s.download)(t,"snapshot.png","image/png"),o.destroy(),a()}))}))})).catch((function(t){return e.afterTakesnapshotFailed(t)}))}))})),n.addViewerEventListener(c.default.beforeZoomTo,(function(){o&&(o.destroy(),a())})),n.addViewerEventListener(c.default.willCloseDocument,(function(){o&&(o.destroy(),o=null)})),n.addViewerEventListener(c.default.switchStateHandler,(function(t,e){e===r.default&&o&&(o.destroy(),o=null)})))},e.prototype.afterTakesnapshotSuccess=function(){h.debug("take snapshot success!")},e.prototype.afterTakesnapshotFailed=function(t){throw t instanceof Error?t:new Error(t)},e}(o.default);e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(11),r=a(n(35)),i=a(n(1));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.cursorStyle="fv__cursor-crosshair",o}return s(e,t),e.getStateName=function(){return"snapshot-tool"},e.prototype.pageHandler=function(t){var e=this;this.pageRender=t;var n=t.$handler.get(0);n.classList.add(this.cursorStyle);var o=new Hammer.Manager(n);this.hammer=o,o.add(new Hammer.Pan),t.getPDFPage().then((function(a){e.page=a,o.on("panstart",(function(o){var s=(0,r.default)(n,o),c={x:s.x+o.deltaX,y:s.y+o.deltaY},u=e._resolvePointsToRect(a,s,c);e.pdfViewer.eventEmitter.emit(i.default.createSnapshotArea,t,u),e.startPoint={x:u.left,y:u.top}})),o.on("panmove",(function(n){var o={x:e.startPoint.x+n.deltaX,y:e.startPoint.y+n.deltaY},r=e._resolvePointsToRect(a,e.startPoint,o);e.pdfViewer.eventEmitter.emit(i.default.updateSnapshotArea,t,r)})),o.on("panend",(function(n){var o={x:e.startPoint.x+n.deltaX,y:e.startPoint.y+n.deltaY},r=e._resolvePointsToRect(a,e.startPoint,o);e.pdfViewer.eventEmitter.emit(i.default.stabilizedSnapshotArea,t,r)}))}))},e.prototype._resolvePointsToRect=function(t,e,n){var o=this.pageRender.getScale(),r=t.getPxWidth()*o,i=t.getPxHeight()*o;return{left:Math.max(0,Math.min(e.x,n.x)),right:Math.min(r,Math.max(e.x,n.x)),top:Math.max(0,Math.min(e.y,n.y)),bottom:Math.min(i,Math.max(e.y,n.y))}},e.prototype.destroyPageHandler=function(){(this.hammer&&this.hammer.destroy(),this.pageRender)&&this.pageRender.$handler.get(0).classList.remove(this.cursorStyle)},e}(o.IStateHandler);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(990));n(991);var r=i(n(56));n(31);function i(t){return t&&t.__esModule?t:{default:t}}var a=(0,o.default)(),s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.relativeElement=e,this.render(),this.eventEmitter=new r.default}return t.prototype.render=function(){var t=document.createElement("div");t.innerHTML=a,this.element=t.firstElementChild,this.screenshotBoxElement=this.element.querySelector(".fv__ui-screenshot-dashed-box"),this.buttonElements=this.element.querySelectorAll("a[action]")},t.prototype.appendTo=function(t){return t.appendChild(this.element),this.parentElement=t,this},t.prototype.mounted=function(){var t=this;this.buttonElements.forEach((function(e){var n=e.getAttribute("action");e.addEventListener("click",(function(e){t.eventEmitter.emit(n,t)}))}))},t.prototype.start=function(){return this.element.classList.add("handling"),this},t.prototype.end=function(){return this.element.classList.remove("handling"),this},t.prototype.destroy=function(){return this.__esc_event&&this.__esc_event(),this.element.remove(),this},t.prototype.setRect=function(t){this.currentRect=t;var e=this.relativeElement.getBoundingClientRect(),n=this.parentElement.getBoundingClientRect(),o=t.right-t.left,r=t.bottom-t.top,i=e.left-n.left+t.left+this.parentElement.scrollLeft,a=e.top-n.top+t.top+this.parentElement.scrollTop;return this.element.style.cssText+="\n            left: "+i+"px;\n            top: "+a+"px;\n            height: "+r+"px;\n        ",this.screenshotBoxElement.style.cssText+="\n            width: "+o+"px;\n        ",this},t.prototype.updateRect=function(){this.currentRect&&this.setRect(this.currentRect)},t}();e.default=s},function(t,e,n){n(0);t.exports=function(t){"use strict";t=t||{};return'<div class="fv__ui-screenshot-area">\n    <div class="fv__ui-screenshot-dashed-box">\n    </div>\n    <div class="fv__ui-screenshot-tools">\n        <a href="javascript:;" action="ok" data-i18n="[title]screenshot.tips.ok">\n            <i class="fv__icon-screenshot-ok"></i>\n        </a>\n        <a href="javascript:;" action="cancel" data-i18n="[title]screenshot.tips.cancel">\n            <i class="fv__icon-screenshot-cancel"></i>\n        </a>\n        <a href="javascript:;" action="download" data-i18n="[title]screenshot.tips.download">\n            <i class="fv__icon-screenshot-download"></i>\n        </a>\n    </div>\n</div>','<div class="fv__ui-screenshot-area">\n    <div class="fv__ui-screenshot-dashed-box">\n    </div>\n    <div class="fv__ui-screenshot-tools">\n        <a href="javascript:;" action="ok" data-i18n="[title]screenshot.tips.ok">\n            <i class="fv__icon-screenshot-ok"></i>\n        </a>\n        <a href="javascript:;" action="cancel" data-i18n="[title]screenshot.tips.cancel">\n            <i class="fv__icon-screenshot-cancel"></i>\n        </a>\n        <a href="javascript:;" action="download" data-i18n="[title]screenshot.tips.download">\n            <i class="fv__icon-screenshot-download"></i>\n        </a>\n    </div>\n</div>'}},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(211),i=(o=r)&&o.__esModule?o:{default:o};e.default={name:"loupe-tool-button",fragment:{template:'<xbutton \n                    name="loupe-button" \n                    icon-class="fv__icon-toolbar-magnifier"\n                    class="fv__ui-toolbar-show-text-button"\n                    @tooltip\n                >toolbar.tools.loupe</xbutton>',config:{target:"loupe-button",attrs:{"tooltip-title":"toolbar.tooltip.loupe.title"},callback:i.default}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(994),i=(o=r)&&o.__esModule?o:{default:o};e.default={name:"loupe-tool-dialog",fragment:{template:(0,i.default)(),config:[{target:"loupe-tool-zoom-dropdown",editOptions:{step:1,template:"${value}%"}}]}}},function(t,e,n){n(0);t.exports=function(t){"use strict";t=t||{};return'<layer name="loupe-tool-dialog" class="fv__ui-loupe-tool-dialog" @resizable>\n    <layer-header class="fv__ui-loupe-tool-header" title="loupe.title" @draggable="{type: \'parent\'}"></layer-header>\n    <layer-view class="fv__ui-loupe-body">\n    </layer-view>\n    <layer-toolbar class="loupe-tool-bottom-bar" visible="false">\n        <dropdown name="loupe-tool-zoom-dropdown" @controller="loupe:LoupeToolScaleListController" editable="true">\n            <dropdown-button @foreach="scaleItem in scaleList track by value" @controller="loupe:LoupeToolScaleController" @bind.text="scaleItem.text"></dropdown-button>\n        </dropdown>\n        <slider name="loupe-tool-zoom-slider" min="50" max="600" step="1"></slider>\n        <checkbox name="loupe-tool-lock">loupe.lockButton</checkbox>\n    </layer-toolbar>\n</layer>','<layer name="loupe-tool-dialog" class="fv__ui-loupe-tool-dialog" @resizable>\n    <layer-header class="fv__ui-loupe-tool-header" title="loupe.title" @draggable="{type: \'parent\'}"></layer-header>\n    <layer-view class="fv__ui-loupe-body">\n    </layer-view>\n    <layer-toolbar class="loupe-tool-bottom-bar" visible="false">\n        <dropdown name="loupe-tool-zoom-dropdown" @controller="loupe:LoupeToolScaleListController" editable="true">\n            <dropdown-button @foreach="scaleItem in scaleList track by value" @controller="loupe:LoupeToolScaleController" @bind.text="scaleItem.text"></dropdown-button>\n        </dropdown>\n        <slider name="loupe-tool-zoom-slider" min="50" max="600" step="1"></slider>\n        <checkbox name="loupe-tool-lock">loupe.lockButton</checkbox>\n    </layer-toolbar>\n</layer>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(128),i=(o=r)&&o.__esModule?o:{default:o};e.default={name:"marquee-tool-button",fragment:{template:'<xbutton \n                    name="marquee-button" \n                    icon-class="fv__icon-toolbar-marquee"\n                    class="fv__ui-toolbar-show-text-button"\n                    @tooltip\n                >toolbar.buttons.marquee</xbutton>',config:{target:"marquee-button",attrs:{"tooltip-title":"toolbar.tooltip.marquee.title"},callback:i.default}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(997)),r=s(n(334)),i=s(n(335)),a=s(n(2));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}e.default={name:"stamp-dropdown",fragment:{template:(0,o.default)(),config:[{target:"create-stamp-dropdown",callback:r.default},{target:"custom-stamps-list",callback:r.default},{target:"create-stamp-handle-ui",callback:r.default},{target:"add-custom-stamp",callback:i.default},{target:"stamp-drop-down-ui",callback:function(t){function e(){return c(this,e),u(this,t.apply(this,arguments))}return l(e,t),e.prototype.mounted=function(){var t=this;this.component.once("active",(function(e){var n=t.pdfUI;n.getComponentByName("create-stamp-handle-ui").then((function(t){var e=n.initDefaultStamps();e&&t.updateListData(e)}))}))},e}(a.default)}]}}},function(t,e,n){n(0);t.exports=function(t){"use strict";t=t||{};return'<dropdown @tooltip name="stamp-drop-down-ui" tooltip-title="toolbar.tooltip.stamp.title" icon-class="fv__icon-toolbar-stamp" popup-class="fv__ui-stamplist-dropdown">\n    <div class="fv__ui-stamps-list">\n        <dropdown-item name="create-custom-stamps" class="fv__ui-custom-stamps">\n            <listbox name="custom-stamps-list" catalog=""></listbox>\n        </dropdown-item>\n        <dropdown-item name="create-stamp-dropdown" class="fv__ui-template-stamps">\n            <listbox name="create-stamp-handle-ui" catalog=""></listbox>\n        </dropdown-item>\n    </div>\n    <div>\n        <div handleon="click" class="fv__ui-custom-stamp-title" name="add-custom-stamp">\n            <xbutton icon-class="fv__icon-toolbar-stamp"></xbutton>\n            <div><text>toolbar.stamp.customStamps</text></div>\n        </div>\n    </div>\n</dropdown>','<dropdown @tooltip name="stamp-drop-down-ui" tooltip-title="toolbar.tooltip.stamp.title" icon-class="fv__icon-toolbar-stamp" popup-class="fv__ui-stamplist-dropdown">\n    <div class="fv__ui-stamps-list">\n        <dropdown-item name="create-custom-stamps" class="fv__ui-custom-stamps">\n            <listbox name="custom-stamps-list" catalog=""></listbox>\n        </dropdown-item>\n        <dropdown-item name="create-stamp-dropdown" class="fv__ui-template-stamps">\n            <listbox name="create-stamp-handle-ui" catalog=""></listbox>\n        </dropdown-item>\n    </div>\n    <div>\n        <div handleon="click" class="fv__ui-custom-stamp-title" name="add-custom-stamp">\n            <xbutton icon-class="fv__icon-toolbar-stamp"></xbutton>\n            <div><text>toolbar.stamp.customStamps</text></div>\n        </div>\n    </div>\n</dropdown>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(999),i=(o=r)&&o.__esModule?o:{default:o};e.default={name:"create-stamp-dialog",fragment:{template:(0,i.default)()}}},function(t,e,n){n(0);t.exports=function(t){"use strict";t=t||{};return'<layer name="create-stamp-dialog" class="fv__popup-dialog center fv__ui-stamp-dialog" @resizable backdrop style="max-height: calc(100vh - 40px); overflow: auto;">\n    <layer-header title="stamp.dialog.title"></layer-header>\n    <div class="fv__popup-stamp-body">\n        <stamp:stamp-create name="create-stamp-body">\n        </stamp:stamp-create>\n    </div>\n    <layer-toolbar class="fv__ui-create-stamp-bottom-bar">\n        <xbutton data-action="Cancle" class="fv__ui-dialog-cancel-button" handleon="click"  @controller="stamp:CustomStampButtonController">dialog.cancel</xbutton>\n        <xbutton data-action="OK" class="fv__ui-dialog-ok-button" handleon="click"  @controller="stamp:CustomStampButtonController">dialog.ok</xbutton>\n    </layer-toolbar>\n</layer>','<layer name="create-stamp-dialog" class="fv__popup-dialog center fv__ui-stamp-dialog" @resizable backdrop style="max-height: calc(100vh - 40px); overflow: auto;">\n    <layer-header title="stamp.dialog.title"></layer-header>\n    <div class="fv__popup-stamp-body">\n        <stamp:stamp-create name="create-stamp-body">\n        </stamp:stamp-create>\n    </div>\n    <layer-toolbar class="fv__ui-create-stamp-bottom-bar">\n        <xbutton data-action="Cancle" class="fv__ui-dialog-cancel-button" handleon="click"  @controller="stamp:CustomStampButtonController">dialog.cancel</xbutton>\n        <xbutton data-action="OK" class="fv__ui-dialog-ok-button" handleon="click"  @controller="stamp:CustomStampButtonController">dialog.ok</xbutton>\n    </layer-toolbar>\n</layer>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(1001);var o,r=n(1002),i=(o=r)&&o.__esModule?o:{default:o},a=n(337);e.default={name:"create-ink-sign-dialog",fragment:{template:(0,i.default)(),config:{target:"create-signature",callback:a.CreateInkSignDialogController}}}},function(t,e,n){},function(t,e,n){n(0);t.exports=function(t){"use strict";t=t||{};return'<layer name="create-signature" class="fv__ui-sign-layer center" append-to="body" @draggable modal backdrop>\n    <div class="fv__ui-sign-dialog" @stop-drag>\n        <layer-header title="dialog.signDialog.title"></layer-header>\n        \x3c!-- <div class="fv__ui-sign-dialog-header">\n            <div class="fv__ui-sign-dialog-title" data-i18n="dialog.signDialog.title"></div>\n            <i name="sign-dialog-close-icon"></i>\n        </div> --\x3e\n        <div class="fv__ui-sign-dialog-body">\n            <div class="fv__ui-sign-dialog-tab-panel" name="sign-dialog-tab-panel">\n                <div class="fv__ui-sign-dialog-tabs">\n                    <div class="fv__ui-sign-dialog-tab">\n                        <i class="fv__icon-sign-draw-signature"></i>\n                        <span data-i18n="dialog.signDialog.drawSignature"></span>\n                        <div></div>\n                    </div>\n                    <div class="fv__ui-sign-dialog-tab">\n                        <i class="fv__icon-sign-image"></i>\n                        <span data-i18n="dialog.signDialog.image"></span>\n                        <div></div>\n                    </div>\n                </div>\n                <div class="fv__ui-sign-dialog-panel" name="sign-dialog-panel-draw">\n                    <div class="fv__ui-sign-dialog-tools">\n                        <div class="fv__ui-sign-dialog-color"  name="sign-dialog-select-color">\n                            <span class="circle color-wrapper" data-color="#000000"><i class="circle color-icon color-1"></i></span>\n                            <span class="circle color-wrapper" data-color="#000066"><i class="circle color-icon color-2"></i></span>\n                            <span class="circle color-wrapper" data-color="#330066"><i class="circle color-icon color-3"></i></span>\n                            <span class="circle color-wrapper" data-color="#0000cc"><i class="circle color-icon color-4"></i></span>\n                        </div>\n                        <div class="fv__ui-sign-dialog-size"  name="sign-dialog-select-size">\n                            <span class="circle color-wrapper ml-20" data-size="4"><i class="circle size-icon-1 color-5"></i></span>\n                            <span class="circle color-wrapper" data-size="6"><i class="circle size-icon-2 color-5"></i></span>\n                            <span class="circle color-wrapper" data-size="8"><i class="circle size-icon-3 color-5"></i></span>\n                            <span class="circle color-wrapper" data-size="10"><i class="circle size-icon-4 color-5"></i></span>\n                        </div>\n                        <div class="fv__ui-sign-dialog-eraser"><i class="fv__icon-toolbar-clear fv__ui-sign-dialog-icon ml-20" name="sign-dialog-select-eraser"></i></div>\n                    </div>\n                    <div class="fv__ui-sign-dialog-canvas">\n                        <canvas id="createSignature" name="sign-dialog-canvas"></canvas>\n                    </div>  \n                </div>\n                <div class="fv__ui-sign-dialog-panel" name="sign-dialog-panel-image">\n                    <div class="image-title">\n                        <div data-i18n="dialog.signDialog.preview"></div><i class="fv__icon-toolbar-clear"></i>\n                    </div>\n                    <div class="preview-wrapper">\n                        <div class="preview-img-wrapper"><img class="preview-img"/></div>\n                        <input type="file" accept="image/jpeg,image/jpg,image/png" class="preview-input"/>\n                        <div data-i18n="dialog.signDialog.selectImageFile"></div>\n                    </div>\n                    <div class="preview-file-error-message"></div>\n                    \x3c!--\n                    <div class="option-title" data-i18n="dialog.signDialog.option"></div>\n                    --\x3e\n                    <label class="option-item">\n                        <input type="checkbox" class="online-checkbox-input" name="sign-dialog-option-convert-to"/>\n                        <span class="online-checkbox-inner"></span>\n                        <div data-i18n="dialog.signDialog.optionConvertTo"></div>\n                    </label>\n                    <br>\n                </div>\n            </div>\n        </div>\n        <div class="fv__ui-sign-dialog-footer">\n            <label class="fv__ui-sign-dialog-save">\n                <input type="checkbox" class="online-checkbox-input" name="sign-dialog-save" id="sign-dialog-save-checkbox" checked="checked"/>\n                <span class="online-checkbox-inner" style="margin-left: 0;"></span>\n                <div data-i18n="dialog.signDialog.save"></div>\n            </label>\n            <div class="fv__ui-sign-dialog-btns">\n                <button class="fv__ui-sign-btn fv__ui-sign-dialog-cancel fv__ui-dialog-cancel-button fv__button-cancle" data-i18n="dialog.signDialog.cancel" name="sign-dialog-close-btn"></button>\n                <button class="fv__ui-sign-btn fv__ui-sign-dialog-ok fv__ui-dialog-ok-button fv__button-ok" data-i18n="dialog.signDialog.ok" name="sign-dialog-ok-btn"></button>\n            </div>\n        </div>\n    </div>\n</layer>','<layer name="create-signature" class="fv__ui-sign-layer center" append-to="body" @draggable modal backdrop>\n    <div class="fv__ui-sign-dialog" @stop-drag>\n        <layer-header title="dialog.signDialog.title"></layer-header>\n        \x3c!-- <div class="fv__ui-sign-dialog-header">\n            <div class="fv__ui-sign-dialog-title" data-i18n="dialog.signDialog.title"></div>\n            <i name="sign-dialog-close-icon"></i>\n        </div> --\x3e\n        <div class="fv__ui-sign-dialog-body">\n            <div class="fv__ui-sign-dialog-tab-panel" name="sign-dialog-tab-panel">\n                <div class="fv__ui-sign-dialog-tabs">\n                    <div class="fv__ui-sign-dialog-tab">\n                        <i class="fv__icon-sign-draw-signature"></i>\n                        <span data-i18n="dialog.signDialog.drawSignature"></span>\n                        <div></div>\n                    </div>\n                    <div class="fv__ui-sign-dialog-tab">\n                        <i class="fv__icon-sign-image"></i>\n                        <span data-i18n="dialog.signDialog.image"></span>\n                        <div></div>\n                    </div>\n                </div>\n                <div class="fv__ui-sign-dialog-panel" name="sign-dialog-panel-draw">\n                    <div class="fv__ui-sign-dialog-tools">\n                        <div class="fv__ui-sign-dialog-color"  name="sign-dialog-select-color">\n                            <span class="circle color-wrapper" data-color="#000000"><i class="circle color-icon color-1"></i></span>\n                            <span class="circle color-wrapper" data-color="#000066"><i class="circle color-icon color-2"></i></span>\n                            <span class="circle color-wrapper" data-color="#330066"><i class="circle color-icon color-3"></i></span>\n                            <span class="circle color-wrapper" data-color="#0000cc"><i class="circle color-icon color-4"></i></span>\n                        </div>\n                        <div class="fv__ui-sign-dialog-size"  name="sign-dialog-select-size">\n                            <span class="circle color-wrapper ml-20" data-size="4"><i class="circle size-icon-1 color-5"></i></span>\n                            <span class="circle color-wrapper" data-size="6"><i class="circle size-icon-2 color-5"></i></span>\n                            <span class="circle color-wrapper" data-size="8"><i class="circle size-icon-3 color-5"></i></span>\n                            <span class="circle color-wrapper" data-size="10"><i class="circle size-icon-4 color-5"></i></span>\n                        </div>\n                        <div class="fv__ui-sign-dialog-eraser"><i class="fv__icon-toolbar-clear fv__ui-sign-dialog-icon ml-20" name="sign-dialog-select-eraser"></i></div>\n                    </div>\n                    <div class="fv__ui-sign-dialog-canvas">\n                        <canvas id="createSignature" name="sign-dialog-canvas"></canvas>\n                    </div>  \n                </div>\n                <div class="fv__ui-sign-dialog-panel" name="sign-dialog-panel-image">\n                    <div class="image-title">\n                        <div data-i18n="dialog.signDialog.preview"></div><i class="fv__icon-toolbar-clear"></i>\n                    </div>\n                    <div class="preview-wrapper">\n                        <div class="preview-img-wrapper"><img class="preview-img"/></div>\n                        <input type="file" accept="image/jpeg,image/jpg,image/png" class="preview-input"/>\n                        <div data-i18n="dialog.signDialog.selectImageFile"></div>\n                    </div>\n                    <div class="preview-file-error-message"></div>\n                    \x3c!--\n                    <div class="option-title" data-i18n="dialog.signDialog.option"></div>\n                    --\x3e\n                    <label class="option-item">\n                        <input type="checkbox" class="online-checkbox-input" name="sign-dialog-option-convert-to"/>\n                        <span class="online-checkbox-inner"></span>\n                        <div data-i18n="dialog.signDialog.optionConvertTo"></div>\n                    </label>\n                    <br>\n                </div>\n            </div>\n        </div>\n        <div class="fv__ui-sign-dialog-footer">\n            <label class="fv__ui-sign-dialog-save">\n                <input type="checkbox" class="online-checkbox-input" name="sign-dialog-save" id="sign-dialog-save-checkbox" checked="checked"/>\n                <span class="online-checkbox-inner" style="margin-left: 0;"></span>\n                <div data-i18n="dialog.signDialog.save"></div>\n            </label>\n            <div class="fv__ui-sign-dialog-btns">\n                <button class="fv__ui-sign-btn fv__ui-sign-dialog-cancel fv__ui-dialog-cancel-button fv__button-cancle" data-i18n="dialog.signDialog.cancel" name="sign-dialog-close-btn"></button>\n                <button class="fv__ui-sign-btn fv__ui-sign-dialog-ok fv__ui-dialog-ok-button fv__button-ok" data-i18n="dialog.signDialog.ok" name="sign-dialog-ok-btn"></button>\n            </div>\n        </div>\n    </div>\n</layer>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(1004);var o=a(n(1005)),r=a(n(336)),i=a(n(338));function a(t){return t&&t.__esModule?t:{default:t}}e.default={name:"ink-sign-dropdown",fragment:{template:(0,o.default)(),config:[{target:"signature-list",callback:r.default},{target:"create-signature-btn",callback:i.default}]}}},function(t,e,n){},function(t,e,n){n(0);t.exports=function(t){"use strict";t=t||{};return'<dropdown @tooltip tooltip-title="toolbar.tooltip.sign.title" icon-class="fv__icon-toolbar-inksign" popup-class="fv__ui-sign-dropdown-list" class="fv__ui-sign-dropdown" text="toolbar.tooltip.sign.name">\n    <div  class="fv__ui-sign-list">\n        <div  name="signature-list" class="pdf-sign-list">\n            <inksign:signItem  @foreach="signature in signatures" @permission="8" @controller="inksign:InkSignItemController"></inksign:signItem>\n        </div>\n    </div>\n    <dropdown-button class="fv__ui-sign-item" name="create-signature-btn" icon-class="fv__icon-toolbar-add-sign" >\n        toolbar.create.sign\n    </dropdown-button>\n</dropdown>','<dropdown @tooltip tooltip-title="toolbar.tooltip.sign.title" icon-class="fv__icon-toolbar-inksign" popup-class="fv__ui-sign-dropdown-list" class="fv__ui-sign-dropdown" text="toolbar.tooltip.sign.name">\n    <div  class="fv__ui-sign-list">\n        <div  name="signature-list" class="pdf-sign-list">\n            <inksign:signItem  @foreach="signature in signatures" @permission="8" @controller="inksign:InkSignItemController"></inksign:signItem>\n        </div>\n    </div>\n    <dropdown-button class="fv__ui-sign-item" name="create-signature-btn" icon-class="fv__icon-toolbar-add-sign" >\n        toolbar.create.sign\n    </dropdown-button>\n</dropdown>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"quick-search-tool",fragment:{template:'<quick-search:quick-search name="top-quick" @controller="quick-search:QuickSearchController"></quick-search:quick-search>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"attachment-sidebar-panel",fragment:{template:'\n            <sidebar-panel \n                name="sidebar-attachment" \n                title="sidebar.attachment.title" \n                icon-class="fv__icon-sidebar-attachment" \n                >\n                    <attachment:attachment-panel name="fv-attachment-sidebar-panel" @controller="attachment:AttachmentSidebarPanelController as attachment"></attachment:attachment-panel>\n            </sidebar-panel>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(1009),i=(o=r)&&o.__esModule?o:{default:o};e.default={name:"commentlist-sidebar-panel",fragment:{template:(0,i.default)()}}},function(t,e,n){n(0);t.exports=function(t){"use strict";t=t||{};return'<comment-list:sidebar-panel name="comment-list-sidebar-panel" title="sidebar.commentlist.title" class="fv__biz-sidebar-comment-list" icon-class="fv__icon-sidebar-comment-list">\n    <comment-list:search-comment name="fv--search-comment-component" @controller="comment-list:SearchCommentController"></comment-list:search-comment>\n    <commentlist></commentlist>\n    <comment-list:load-all\n        name="fv--commentlist-search-load-all"\n        search-component="fv--search-comment-component"\n        commentlist-component="commentlist"\n    ></comment-list:load-all>\n</comment-list:sidebar-panel>','<comment-list:sidebar-panel name="comment-list-sidebar-panel" title="sidebar.commentlist.title" class="fv__biz-sidebar-comment-list" icon-class="fv__icon-sidebar-comment-list">\n    <comment-list:search-comment name="fv--search-comment-component" @controller="comment-list:SearchCommentController"></comment-list:search-comment>\n    <commentlist></commentlist>\n    <comment-list:load-all\n        name="fv--commentlist-search-load-all"\n        search-component="fv--search-comment-component"\n        commentlist-component="commentlist"\n    ></comment-list:load-all>\n</comment-list:sidebar-panel>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(1011),i=(o=r)&&o.__esModule?o:{default:o};e.default={name:"commentlist",fragment:{template:(0,i.default)()}}},function(t,e,n){n(0);t.exports=function(t){"use strict";t=t||{};return'<comment-list:comment-list \n    name="commentlist"\n    @controller="comment-list:CommentListController as commentList"\n    @comment-list:search-comment-list="fv--search-comment-component"\n    >\n    <comment-list:comment-group\n        @foreach="page in pages track by getId()"\n        @controller="comment-list:CommentGroupController as commentGroup"\n        @comment-list:search-comment-group="fv--search-comment-component"\n    >\n        <comment-list:comment\n            @foreach="annot in annots track by id"\n            @controller="comment-list:CommentItemController as comment"\n            @bind.annot="annot"\n            @on.click="onClick"\n            @on.dblclick="onDoubleClick"\n            @on.publish="onPublish"\n            @on.reply="onReply"\n            @comment-list:search-comment="fv--search-comment-component"\n        >\n            <comment-list:reply \n                @foreach="replyItem in replies track by id"\n                @controller="comment-list:CommentReplyController as reply"\n                @on.click="onClick"\n                @on.dblclick="onDoubleClick"\n                @on.reply="updateReplyMessage"\n                @comment-list:search-comment-reply="fv--search-comment-component"\n            ></comment-list:reply>\n        </comment-list:comment>\n    </comment-list:comment-group>\n</comment-list:comment-list>','<comment-list:comment-list \n    name="commentlist"\n    @controller="comment-list:CommentListController as commentList"\n    @comment-list:search-comment-list="fv--search-comment-component"\n    >\n    <comment-list:comment-group\n        @foreach="page in pages track by getId()"\n        @controller="comment-list:CommentGroupController as commentGroup"\n        @comment-list:search-comment-group="fv--search-comment-component"\n    >\n        <comment-list:comment\n            @foreach="annot in annots track by id"\n            @controller="comment-list:CommentItemController as comment"\n            @bind.annot="annot"\n            @on.click="onClick"\n            @on.dblclick="onDoubleClick"\n            @on.publish="onPublish"\n            @on.reply="onReply"\n            @comment-list:search-comment="fv--search-comment-component"\n        >\n            <comment-list:reply \n                @foreach="replyItem in replies track by id"\n                @controller="comment-list:CommentReplyController as reply"\n                @on.click="onClick"\n                @on.dblclick="onDoubleClick"\n                @on.reply="updateReplyMessage"\n                @comment-list:search-comment-reply="fv--search-comment-component"\n            ></comment-list:reply>\n        </comment-list:comment>\n    </comment-list:comment-group>\n</comment-list:comment-list>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"bookmark",fragment:{template:'<bookmark-panel name="fv-bookmark-sidebar-panel" @controller="bookmark:BookmarkSidebarPanelController"></bookmark-panel>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"bookmark-sidebar-panel",fragment:{template:'\n        <sidebar-panel name="sidebar-bookmark" title="sidebar.bookmark.title" icon-class="fv__icon-sidebar-bookmark">\n            <bookmark></bookmark>\n        </sidebar-panel>\n        '}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"search-pane",fragment:{template:'<search:search-panel name="fv-search-sidebar-panel" @controller="search:SearchController"></search:search-panel>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"search-sidebar-panel",fragment:{template:'\n            <sidebar-panel name="sidebar-search" title="sidebar.search.title" icon-class="fv__icon-sidebar-search" @controller="search:SearchSidebarPanelController">\n                <search-pane></search-pane>\n            </sidebar-panel>\n        '}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"pdflayer-pane",fragment:{template:'<layer:pdflayers @controller="layer:LayerSidebarPanelController" name="fv-layer-sidebar-panel"></layer:pdflayers>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"layer-sidebar-panel",fragment:{template:'\n            <sidebar-panel name="sidebar-layers" title="sidebar.layers.title" icon-class="fv__icon-sidebar-page-manager">\n                <pdflayer-pane></pdflayer-pane>\n            </sidebar-panel>\n        '}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"create-arrow-button",fragment:{template:'<xbutton @controller="states:CreateArrowController" name="create-arrow" icon-class="fv__icon-toolbar-arrow">toolbar.buttons.arrow</xbutton>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"create-circle-button",fragment:{template:'<xbutton @controller="states:CreateCircleController" name="create-circle" icon-class="fv__icon-toolbar-circle">toolbar.buttons.circle</xbutton>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"create-cloud-button",fragment:{template:'<xbutton @controller="states:CreatePolygonCloudController" name="create-cloud" icon-class="fv__icon-toolbar-cloud">toolbar.buttons.cloud</xbutton>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"create-line-button",fragment:{template:'<xbutton @controller="states:CreateLineController" name="create-line" icon-class="fv__icon-toolbar-line">toolbar.buttons.line</xbutton>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"create-polygon-button",fragment:{template:'<xbutton @controller="states:CreatePolygonController" name="create-polygon" icon-class="fv__icon-toolbar-polygon">toolbar.buttons.polygon</xbutton>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"create-polyline-button",fragment:{template:'<xbutton @controller="states:CreatePolylineController" name="create-polyline" icon-class="fv__icon-toolbar-polyline">toolbar.buttons.polyline</xbutton>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"create-square-button",fragment:{template:'<xbutton @controller="states:CreateSquareController" name="create-square" icon-class="fv__icon-toolbar-square">toolbar.buttons.square</xbutton>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"action-annot-contextmenu",fragment:{template:'\n            <contextmenu name="fv--action-annot-contextmenu">\n                <contextmenu-item-delete-annot></contextmenu-item-delete-annot>\n                <contextmenu-separator></contextmenu-separator>\n                <contextmenu-item-annot-actions></contextmenu-item-annot-actions>\n                <contextmenu-separator></contextmenu-separator>\n                <contextmenu-item-properties></contextmenu-item-properties>\n            </contextmenu>\n        '}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"default-annot-contextmenu",fragment:{template:'\n        <contextmenu name="fv--default-annot-contextmenu">\n            <contextmenu-item-reply></contextmenu-item-reply>\n            <contextmenu-separator></contextmenu-separator>\n            <contextmenu-item-delete-annot></contextmenu-item-delete-annot>\n            <contextmenu-separator></contextmenu-separator>\n            <contextmenu-item-properties></contextmenu-item-properties>\n        </contextmenu>\n        '}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"fileattachment-contextmenu",fragment:{template:'\n            <contextmenu name="fv--fileattachment-contextmenu">\n                <contextmenu-item-reply></contextmenu-item-reply>\n                <contextmenu-separator></contextmenu-separator>\n                <contextmenu-item-delete-annot></contextmenu-item-delete-annot>\n                <contextmenu-separator></contextmenu-separator>\n                <contextmenu-item-properties></contextmenu-item-properties>\n            </contextmenu>\n        '}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"comment-card-contextmenu",fragment:{template:'\n            <contextmenu name="fv--comment-card-contextmenu">\n                <contextmenu-item>Reply</contextmenu-item>\n                <contextmenu-item>Copy</contextmenu-item>\n                <contextmenu-item>Delete</contextmenu-item>\n                <contextmenu-item>Properties</contextmenu-item>\n            </contextmenu>\n        '}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"markup-contextmenu",fragment:{template:"\n        <contextmenu name='fv--markup-contextmenu'>\n            <contextmenu-item-reply></contextmenu-item-reply>\n            <contextmenu-item-cut></contextmenu-item-cut>\n            <contextmenu-separator></contextmenu-separator>\n            <contextmenu-item-delete-annot></contextmenu-item-delete-annot>\n            <contextmenu-separator></contextmenu-separator>\n            <contextmenu-item-properties></contextmenu-item-properties>\n        </contextmenu>\n        "}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"freetext-contextmenu",fragment:{template:"\n            <contextmenu name='fv--freetext-contextmenu'>\n                <contextmenu-item-cut></contextmenu-item-cut>\n                <contextmenu-item-delete-annot></contextmenu-item-delete-annot>\n                <contextmenu-separator></contextmenu-separator>\n                <contextmenu-item-properties></contextmenu-item-properties>\n            </contextmenu>\n        "}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"caret-contextmenu",fragment:{template:"\n        <contextmenu name='fv--caret-contextmenu'>\n            <contextmenu-item-reply></contextmenu-item-reply>\n            <contextmenu-separator></contextmenu-separator>\n            <contextmenu-item-delete-annot></contextmenu-item-delete-annot>\n            <contextmenu-separator></contextmenu-separator>\n            <contextmenu-item-properties></contextmenu-item-properties>\n        </contextmenu>\n        "}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"media-contextmenu",fragment:{template:'\n            <contextmenu name="fv--media-contextmenu">\n                <contextmenu-item-media-download></contextmenu-item-media-download>\n                <contextmenu-separator></contextmenu-separator>\n                <contextmenu-item-delete-annot></contextmenu-item-delete-annot>\n                <contextmenu-separator></contextmenu-separator>\n                <contextmenu-item-properties></contextmenu-item-properties>\n                <contextmenu-separator></contextmenu-separator>\n                <contextmenu-item-media-play></contextmenu-item-media-play>\n            </contextmenu>\n        '}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"sound-contextmenu",fragment:{template:'\n            <contextmenu name="fv--sound-contextmenu">\n                <contextmenu-item-media-download></contextmenu-item-media-download>\n                <contextmenu-separator></contextmenu-separator>\n                <contextmenu-item-delete-annot></contextmenu-item-delete-annot>\n                <contextmenu-separator></contextmenu-separator>\n                <contextmenu-item-media-play></contextmenu-item-media-play>\n            </contextmenu>\n        '}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"page-contextmenu",fragment:{template:'\n        <contextmenu name="fv--page-contextmenu">\n            <full-screen:contextmenu-item-fullscreen></full-screen:contextmenu-item-fullscreen>\n            <contextmenu-separator @require-modules="full-screen" @hide-on-device="ios"></contextmenu-separator>\n            <contextmenu-item-select-tool></contextmenu-item-select-tool>\n            <contextmenu-item-hand-tool></contextmenu-item-hand-tool>\n            <contextmenu-item-marquee-zoom></contextmenu-item-marquee-zoom>\n            <contextmenu-separator></contextmenu-separator>\n            \n            <contextmenu-item-zoom-actual-size></contextmenu-item-zoom-actual-size>\n            <contextmenu-item-zoom-fitpage></contextmenu-item-zoom-fitpage>\n            <contextmenu-item-zoom-fitwidth></contextmenu-item-zoom-fitwidth>\n            \n            <contextmenu-separator></contextmenu-separator>\n            <contextmenu-item-rotate-right></contextmenu-item-rotate-right>\n            <contextmenu-item-rotate-left></contextmenu-item-rotate-left>\n            <contextmenu-separator></contextmenu-separator>\n            <print:contextmenu-item-print></print:contextmenu-item-print>\n            <contextmenu-item-search></contextmenu-item-search>\n            <contextmenu-separator @require-modules="fpmodule"></contextmenu-separator>\n            <fpmodule:contextmenu-item-file-property></fpmodule:contextmenu-item-file-property>\n        </contextmenu>\n        '}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"textmarkup-contextmenu",fragment:{template:"\n            <contextmenu name='fv--textmarkup-contextmenu'>\n                <contextmenu-item-reply></contextmenu-item-reply>\n                <contextmenu-separator></contextmenu-separator>\n                <contextmenu-item-copy-text></contextmenu-item-copy-text>\n                <contextmenu-item-delete-annot></contextmenu-item-delete-annot>\n                <contextmenu-separator></contextmenu-separator>\n                <contextmenu-item-properties></contextmenu-item-properties>\n            </contextmenu>\n        "}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"text-field-contextmenu",fragment:{template:"\n        <contextmenu name='fv--text-field-contextmenu'>\n            <contextmenu-item-form-properties></contextmenu-item-form-properties>\n            <contextmenu-separator></contextmenu-separator>\n            <contextmenu-item-delete-annot></contextmenu-item-delete-annot>\n        </contextmenu>\n        "}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contextmenu-item-zoomin",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-zoomin" action=\'zoomin\' @controller="zoom:ZoomInAndOutController">contextmenu.page.zoomin</contextmenu-item>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contextmenu-item-zoomout",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-zoomout" action=\'zoomout\' @controller="zoom:ZoomInAndOutController">contextmenu.page.zoomout</contextmenu-item>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contextmenu-item-zoom-fitpage",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-zoom-fitpage" action="fitHeight" @controller="zoom:ContextMenuZoomActionController">contextmenu.page.fitPage</contextmenu-item>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contextmenu-item-zoom-fitwidth",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-zoom-fitwidth" action="fitWidth" @controller="zoom:ContextMenuZoomActionController">contextmenu.page.fitWidth</contextmenu-item>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contextmenu-item-nav-prevpage",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-nav-prevpage" @controller="gotoview:GotoPrevPageController">contextmenu.page.prevpage</contextmenu-item>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contextmenu-item-nav-nextpage",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-nav-nextpage" @controller="gotoview:GotoNextPageController">contextmenu.page.nextpage</contextmenu-item>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contextmenu-item-reply",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-reply" @controller="annot-opr:ShowAnnotReplyController">contextmenu.annot.reply</contextmenu-item>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contextmenu-item-properties",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-properties" @controller="annot-opr:ShowAnnotPropertiesController">contextmenu.annot.properties</contextmenu-item>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contextmenu-item-form-properties",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-form-properties" @controller="annot-opr:ShowAnnotFormPropertiesController">contextmenu.annot.properties</contextmenu-item>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contextmenu-item-delete-annot",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-delete-annot" @controller="annot-opr:DeleteAnnotController">contextmenu.annot.delete</contextmenu-item>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contextmenu-item-annot-actions",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-annot-actions" @controller="annot-opr:ShowActionsController">contextmenu.annot.actions</contextmenu-item>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contextmenu-item-media-download",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-media-download" @controller="annot-opr:MediaDownloadController">contextmenu.annot.download</contextmenu-item>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contextmenu-item-media-pause",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-media-pause" @controller="annot-opr:MediaDownloadController">contextmenu.annot.pause</contextmenu-item>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contextmenu-item-media-play",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-media-play" @controller="annot-opr:MediaPlayController">contextmenu.annot.play</contextmenu-item>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contextmenu-item-search",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-search" @controller="annot-opr:ShowSearchPanelController"  shortcut="Ctrl + F">contextmenu.page.search</contextmenu-item>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contextmenu-item-copy-text",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-copy-text" @controller="annot-opr:CopyAnnotTextController">contextmenu.annot.copy</contextmenu-item>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contextmenu-item-hand-tool",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-hand-tool" @controller="states:HandController">contextmenu.tools.handTool</contextmenu-item>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contextmenu-item-select-tool",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-select-tool" @controller="states:SelectTextAnnotationController">contextmenu.tools.selectTool</contextmenu-item>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(128),i=(o=r)&&o.__esModule?o:{default:o};e.default={name:"contextmenu-item-marquee-zoom",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-marquee-zoom" @hide-on-sr>contextmenu.tools.marqueeZoom</contextmenu-item>',config:{target:"fv--contextmenu-item-marquee-zoom",callback:i.default}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contextmenu-item-zoom-actual-size",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-zoom-actual-size" action=\'1\' @controller="zoom:ContextMenuZoomActionController">contextmenu.page.actual-size</contextmenu-item>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contextmenu-item-apply",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-apply" @controller="annot-opr:ApplyRedactController">contextmenu.annot.apply</contextmenu-item>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contextmenu-item-apply-all",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-apply-all" @controller="annot-opr:ApplyAllRedactController">contextmenu.annot.applyAll</contextmenu-item>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contextmenu-item-place",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-redact-place" @controller="annot-opr:ShowRedactPlaceDialogController" @hide-on-sr>contextmenu.annot.place</contextmenu-item>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"redact-contextmenu",fragment:{template:'\n            <contextmenu name="fv--redact-contextmenu">\n                <contextmenu-item-reply></contextmenu-item-reply>\n                <contextmenu-separator></contextmenu-separator>\n                <contextmenu-item-delete-annot></contextmenu-item-delete-annot>\n                <contextmenu-separator></contextmenu-separator>\n                <contextmenu-item-apply></contextmenu-item-apply>\n                <contextmenu-item-apply-all></contextmenu-item-apply-all>\n                <contextmenu-item-place></contextmenu-item-place>\n                <contextmenu-separator></contextmenu-separator>\n                <contextmenu-item-properties></contextmenu-item-properties>\n            </contextmenu>\n        '}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contextmenu-item-cancel-measurement",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-cancel-measurement" @controller="distance:CancelCreatingMeasurementController">measurement.contextMenu.cancel</contextmenu-item>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contextmenu-item-complete-measurement",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-complete-measurement" @controller="distance:CompleteCreatingMeasurementController">measurement.contextMenu.complete</contextmenu-item>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"measurement-contextmenu",fragment:{template:'\n            <contextmenu name="fv--creating-measurement-contextmenu">\n                <contextmenu-item-complete-measurement></contextmenu-item-complete-measurement>\n                <contextmenu-item-cancel-measurement></contextmenu-item-cancel-measurement>\n            </contextmenu>\n        '}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contextmenu-item-copy",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-copy" @controller="annot-opr:CopyAnnotController">contextmenu.annot.copyAnnot</contextmenu-item>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contextmenu-item-paste",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-paste" @controller="annot-opr:PasteAnnotController">contextmenu.annot.paste</contextmenu-item>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contextmenu-item-rotate-right",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-rotate-right" @controller="ui-rotation:RotateRightController" @hide-on-sr>contextmenu.page.rotateRight</contextmenu-item>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contextmenu-item-rotate-left",fragment:{template:'<contextmenu-item name="fv--contextmenu-item-rotate-left" @controller="ui-rotation:RotateLeftController" @hide-on-sr>contextmenu.page.rotateLeft</contextmenu-item>'}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(1069)),r=i(n(234));function i(t){return t&&t.__esModule?t:{default:t}}e.default={name:"change-color-dropdown",fragment:{template:(0,o.default)(),config:{target:"change-color-dropdown",callback:r.default}}}},function(t,e,n){n(0);t.exports=function(t){"use strict";t=t||{};return'<dropdown name="change-color-dropdown" @tooltip tooltip-title="toolbar.tooltip.changeColor.title" icon-class="fv__icon-toolbar-change-color" \n          popup-class="fv__ui-change-color-dropdown-popup" class="fv__ui-change-color-dropdown">\n    <div name="change-color-dropdown-list" class="fv__ui-change-color-dropdown-list">\n        <div @foreach="color in colors" \n            @sync.attr.class="\'fv__ui-change-color-dropdown-color-round \' + color.type" \n            @sync.attr.style="color.type === \'moon\' ? \'\' : (\'background-color:\' + color.background)"></div>\n    </div>\n</dropdown>','<dropdown name="change-color-dropdown" @tooltip tooltip-title="toolbar.tooltip.changeColor.title" icon-class="fv__icon-toolbar-change-color" \n          popup-class="fv__ui-change-color-dropdown-popup" class="fv__ui-change-color-dropdown">\n    <div name="change-color-dropdown-list" class="fv__ui-change-color-dropdown-list">\n        <div @foreach="color in colors" \n            @sync.attr.class="\'fv__ui-change-color-dropdown-color-round \' + color.type" \n            @sync.attr.style="color.type === \'moon\' ? \'\' : (\'background-color:\' + color.background)"></div>\n    </div>\n</dropdown>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(320),i=(o=r)&&o.__esModule?o:{default:o};e.default={name:"create-text-field-button",fragment:{template:'<xbutton name="create-text-field" @tooltip icon-class="fv__icon-toolbar-create-text-field">toolbar.create.text.field</xbutton>',config:{target:"create-text-field",attrs:{"tooltip-title":"toolbar.tooltip.textField.title"},callback:i.default}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(124),i=(o=r)&&o.__esModule?o:{default:o};e.default={name:"create-signature-field-button",fragment:{template:'<xbutton name="create-signature-field" @tooltip icon-class="fv__icon-toolbar-create-signature-field">toolbar.create.signature.field</xbutton>',config:{target:"create-signature-field",attrs:{"tooltip-title":"toolbar.tooltip.signatureField.title"},callback:i.default}}}},function(t,e,n){"use strict";var o=a(n(18)),r=a(n(12)),i=a(n(7));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.isFake=function(){return!0},e.getName=function(){return"thumbnail-sidebar-panel"},e.handleParseError=function(t){i.default.getLogger("thumbnail").error("This component <"+t.nodeName+'> is not available until "thumbnail" addon is loaded! \n        To avoid this error, refer to "/docs/developer-guide/main/troubleshooting/thumbnail-sidebar-panel-not-available.html" in SDK package for a solution!')},e}(o.default);r.default.root().registerComponent(l)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(90),r=n(367);var i=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.match(/^https?:\/\//))this.modulePath=e;else{var n=location.pathname.replace(/[^\/\\]+\.[^\/\\]+$/,"");this.modulePath=(0,o.resolvePath)(n,e)}}return t.prototype.loadAddonInfo=function(t){return(0,r.getFromRemote)((0,o.resolvePath)(t,"addon.info.json"),"json")},t.prototype.loadI18N=function(t){var e=this;if(!t.i18n)return Promise.resolve({sources:{}});var n=t.i18n.ns,i=t.i18n.sources||{},a=Object.keys(i),s=a.map((function(t){return i[t]}));return Promise.all(s.map((function(t){return(0,r.getFromRemote)((0,o.resolvePath)(e.modulePath,t),"json")}))).then((function(t){return{ns:n,sources:t.reduce((function(t,e,n){return t[a[n]]=e,t}),{})}}))},t}();e.default=i},function(t,e,n){n(0);t.exports=function(t){"use strict";t=t||{};return'<webpdf>\n    <viewer></viewer>\n    <template name="template-container">\n        <create-stamp-dialog @hide-on-sr></create-stamp-dialog>\n        <print:print-dialog></print:print-dialog>\n        <loupe-tool-dialog></loupe-tool-dialog>\n        <create-ink-sign-dialog></create-ink-sign-dialog>\n        <distance:measurement-popup></distance:measurement-popup>\n        <fpmodule:file-property-dialog></fpmodule:file-property-dialog>\n        <redaction:redaction-page-dialog @hide-on-sr></redaction:redaction-page-dialog>\n        \x3c!-- contextmenus --\x3e\n        <page-contextmenu></page-contextmenu>\n        <default-annot-contextmenu></default-annot-contextmenu>\n        <markup-contextmenu></markup-contextmenu>\n        <markup-contextmenu name="fv--line-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--linearrow-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--linedimension-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--polylinedimention-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--polygondimension-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--circle-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--square-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--polyline-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--polygon-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--polygoncloud-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--ink-contextmenu"></markup-contextmenu>\n        <markup-contextmenu @hide-on-sr name="fv--stamp-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--text-contextmenu"></markup-contextmenu>\n        <caret-contextmenu name="fv--areahighlight-contextmenu"></caret-contextmenu>\n        <caret-contextmenu name="fv--replace-contextmenu"></caret-contextmenu>\n        <measurement-contextmenu></measurement-contextmenu>\n        <caret-contextmenu name="fv--caret-contextmenu"></caret-contextmenu>\n        <textmarkup-contextmenu name="fv--highlight-contextmenu"></textmarkup-contextmenu>\n        <textmarkup-contextmenu name="fv--strikeout-contextmenu"></textmarkup-contextmenu>\n        <textmarkup-contextmenu name="fv--underline-contextmenu"></textmarkup-contextmenu>\n        <textmarkup-contextmenu name="fv--squiggly-contextmenu"></textmarkup-contextmenu>\n        <freetext-contextmenu name="fv--typewriter-contextmenu"></freetext-contextmenu>\n        <freetext-contextmenu name="fv--callout-contextmenu"></freetext-contextmenu>\n        <freetext-contextmenu name="fv--textbox-contextmenu"></freetext-contextmenu>\n        <action-annot-contextmenu @hide-on-sr name="fv--image-contextmenu"></action-annot-contextmenu>\n        <action-annot-contextmenu @hide-on-sr name="fv--link-contextmenu"></action-annot-contextmenu>\n        <comment-card-contextmenu></comment-card-contextmenu>\n        <fileattachment-contextmenu></fileattachment-contextmenu>\n        <media-contextmenu @hide-on-sr></media-contextmenu>\n        <sound-contextmenu @hide-on-sr></sound-contextmenu>\n        <redact-contextmenu></redact-contextmenu>\n        <text-sel:text-selection-tooltip></text-sel:text-selection-tooltip>\n        <freetext:freetext-tooltip></freetext:freetext-tooltip>\n    </template>\n</webpdf>','<webpdf>\n    <viewer></viewer>\n    <template name="template-container">\n        <create-stamp-dialog @hide-on-sr></create-stamp-dialog>\n        <print:print-dialog></print:print-dialog>\n        <loupe-tool-dialog></loupe-tool-dialog>\n        <create-ink-sign-dialog></create-ink-sign-dialog>\n        <distance:measurement-popup></distance:measurement-popup>\n        <fpmodule:file-property-dialog></fpmodule:file-property-dialog>\n        <redaction:redaction-page-dialog @hide-on-sr></redaction:redaction-page-dialog>\n        \x3c!-- contextmenus --\x3e\n        <page-contextmenu></page-contextmenu>\n        <default-annot-contextmenu></default-annot-contextmenu>\n        <markup-contextmenu></markup-contextmenu>\n        <markup-contextmenu name="fv--line-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--linearrow-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--linedimension-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--polylinedimention-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--polygondimension-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--circle-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--square-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--polyline-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--polygon-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--polygoncloud-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--ink-contextmenu"></markup-contextmenu>\n        <markup-contextmenu @hide-on-sr name="fv--stamp-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--text-contextmenu"></markup-contextmenu>\n        <caret-contextmenu name="fv--areahighlight-contextmenu"></caret-contextmenu>\n        <caret-contextmenu name="fv--replace-contextmenu"></caret-contextmenu>\n        <measurement-contextmenu></measurement-contextmenu>\n        <caret-contextmenu name="fv--caret-contextmenu"></caret-contextmenu>\n        <textmarkup-contextmenu name="fv--highlight-contextmenu"></textmarkup-contextmenu>\n        <textmarkup-contextmenu name="fv--strikeout-contextmenu"></textmarkup-contextmenu>\n        <textmarkup-contextmenu name="fv--underline-contextmenu"></textmarkup-contextmenu>\n        <textmarkup-contextmenu name="fv--squiggly-contextmenu"></textmarkup-contextmenu>\n        <freetext-contextmenu name="fv--typewriter-contextmenu"></freetext-contextmenu>\n        <freetext-contextmenu name="fv--callout-contextmenu"></freetext-contextmenu>\n        <freetext-contextmenu name="fv--textbox-contextmenu"></freetext-contextmenu>\n        <action-annot-contextmenu @hide-on-sr name="fv--image-contextmenu"></action-annot-contextmenu>\n        <action-annot-contextmenu @hide-on-sr name="fv--link-contextmenu"></action-annot-contextmenu>\n        <comment-card-contextmenu></comment-card-contextmenu>\n        <fileattachment-contextmenu></fileattachment-contextmenu>\n        <media-contextmenu @hide-on-sr></media-contextmenu>\n        <sound-contextmenu @hide-on-sr></sound-contextmenu>\n        <redact-contextmenu></redact-contextmenu>\n        <text-sel:text-selection-tooltip></text-sel:text-selection-tooltip>\n        <freetext:freetext-tooltip></freetext:freetext-tooltip>\n    </template>\n</webpdf>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(30);(o=r)&&o.__esModule;function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(e){a(this,t),this.partialClass=e,this.partialInstance=null,this.depends=[],this.isLoaded=!1,this.isLinked=!1,this.isConstructed=!1,this.linkResult=void 0,this.constructResult=void 0}return t.prototype.load=function(t){this.isLoaded||(this.depends.forEach((function(e){e.load(t)})),this.partialClass.load(t),this.isLoaded=!0)},t.prototype.construct=function(t,e){var n;if(this.isConstructed)return this.constructResult;var o=this.depends.map((function(n){return n.construct(t,e)})),r=this.depends.map((function(t){return t.partialInstance}));return this.partialInstance=new this.partialClass(t,e,r),this.constructResult=(n=this.partialInstance).construct.apply(n,[t,e].concat(i(o))),this.isConstructed=!0,this.constructResult},t.prototype.link=function(){var t=this;return this.isLinked?this.linkResult:(this.isLinked=!0,this.linkResult=Promise.all(this.depends.map((function(t){return t.link(),t.linkResult}))).then((function(e){var n;return(n=t.partialInstance).link.apply(n,i(e))})))},t.prototype.findDependent=function(t){return this.depends.find((function(e){return e.origin===t}))},t.prototype.destroy=function(){this.partialInstance&&this.partialInstance.destroy(),this.partialInstance=null},t}(),c=function(){function t(e){var n=this;a(this,t),this.partialClasses=e,this.partialDelegators=e.map((function(t){return new s(t)})),this.partialDelegators.forEach((function(t){var o;(o=t.depends).push.apply(o,i(t.partialClass.depends().map((function(o,r){var i=e.indexOf(o);if(-1===i)throw new Error("Couldn't resolve dependency: "+o+", at pos: "+r+" of "+t.partialClass);return n.partialDelegators[i]}))))}))}return t.prototype.load=function(t){this.partialDelegators.forEach((function(e){return e.load(t)}))},t.prototype.construct=function(t,e){this.partialDelegators.forEach((function(n){n.construct(t,e)}))},t.prototype.linkAll=function(){return Promise.all(this.partialDelegators.map((function(t){return t.link()})))},t.prototype.link=function(t){var e=this.partialClasses.indexOf(t);return-1==e?Promise.reject(new Error(t+" not found in this manager.")):this.partialDelegators[e].link()},t.prototype.destroy=function(){this.partialDelegators.forEach((function(t){t.destroy()})),this.partialDelegators=[],this.partialClasses=[]},t}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=h(n(129)),r=h(n(101)),i=h(n(215)),a=h(n(131)),s=h(n(88)),c=h(n(130)),u=h(n(1080)),l=h(n(1081)),f=h(n(368)),p=h(n(1082)),d=h(n(1083));function h(t){return t&&t.__esModule?t:{default:t}}var g=[l.default,c.default,o.default,r.default,i.default,a.default,s.default,u.default,f.default,p.default,d.default];e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=u(n(137)),r=u(n(138)),i=u(n(139)),a=u(n(140)),s=u(n(1078)),c=n(87);function u(t){return t&&t.__esModule?t:{default:t}}function l(){return{prefix:"foxit_pdf_ui_i18next_",expirationTime:6048e6,versions:s.default}}function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/locales",e=l();return e.loadPath=t+"/{{lng}}/{{ns}}.json?v="+s.default.hash,e.crossDomain=!0,e}e.default=function(t){var e=o.default.createInstance();return e.use(r.default).init(Object.assign({},{load:"currentOnly",fallbackLng:"en-US",backend:{backends:[i.default,c.UIXAddonI18nBackend,a.default],backendOptions:[l(),{},f(t.absolutePath)]},defaultNS:"ui_",ns:"ui_"},t)),e}},function(t,e,n){"use strict";n.r(e),e.default={hash:"be36a0d44c32ebca01e0f759a120b9f5","en-US":"958c52164994e21d20774fcf71cfe25e","ko-KR":"c7b506aa657b1d926ead614c57a08423","zh-CN":"ef26af08f4f798007d0523abd796ab44"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=s(n(22)),i=n(90),a=n(367);s(n(87));function s(t){return t&&t.__esModule?t:{default:t}}var c={},u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.loadAddonsPromises=[],this.urlPromises=c}return t.prototype.resolveFilePath=function(t,e){return t.match(/^https?:\/\/.+/)?(0,i.resolvePath)(t,e):(0,i.mergePath)(t,e)},t.prototype.resolveAddonAbsPath=function(t){return this.resolveFilePath(t,"addon.info.json")},t.prototype.loadModule=function(t,e){var n=this;switch(void 0===t?"undefined":o(t)){case"string":var r=this.resolveAddonAbsPath(t);if(this.loadAddonsPromises[r])return this.loadAddonsPromises[r];var a=this.loadJSON(r).then((function(o){var r=o.depends,a=void 0;return a=r&&r.length>0?r.map((function(o){var r=/^((\.\.\/)+)(.*)/.exec(t),a="",s=t;r&&(a=r[1],s=r[3]);var c=a+(0,i.resolvePath)(s,o);return n.loadModule(c,e)})):[],Promise.all(a).then((function(e){return n.loadFromaddonInfo(t,o).then((function(t){return t.depends=e,t.$hasInited||(t.init(),t.$hasInited=!0),t}))}))}));return this.loadAddonsPromises[r]=a,a;case"function":var s=[];Array.isArray(t.depends)&&(s=s.concat(t.depends));var c=(0,i.resolvePath)(e,"uix-addons",t.getName());return this.loadAddonsPromises[c]=this.loadAddonsPromises[c]||Promise.all(s.map((function(t){return n.loadModule(t,e)}))).then((function(){return t.getLoader().loadAddonInfo(c).then((function(n){return t.load(e,n)})).then((function(e){return t.$hasInited||(t.init(),t.$hasInited=!0),t}))}));default:throw new Error("Incorrect UIExtension addon: "+t)}},t.prototype.loadFromaddonInfo=function(t,e){var n=this,o=e.css,r=(e.i18n,e.scripts),i=e.library;if("function"==typeof window[i])return Promise.resolve(window[i]);Array.isArray(o)&&o.forEach((function(e){n.loadCSS(n.resolveFilePath(t,e))}));var a=Promise.resolve();return Array.isArray(r)&&(a=r.reduce((function(t,e){return t.then((function(t){return n.loadScript(e)}))}),a)),(a=a.then((function(e){return n.loadScript(n.resolveFilePath(t,"index.js"))}))).then((function(n){var o=window[i];if("function"!=typeof o)throw new Error("Cannot access the global variable "+i+"! Please ensure that this add-on's module has been exported correct!");return o.load(t,e).then((function(t){return o}))}))},t.prototype.loadCSS=function(t){if(this.urlPromises[t])return this.urlPromises[t];this.urlPromises[t]=Promise.resolve();var e=document.createElement("link");e.rel="stylesheet",e.type="text/css",e.href=t,document.head.appendChild(e)},t.prototype.loadScript=function(t){if(this.urlPromises[t])return this.urlPromises[t];var e=(0,r.default)();this.urlPromises[t]=e.promise;var n=document.createElement("script");return n.type="application/javascript",n.onload=function(){return e.resolve()},n.onerror=function(t){return e.reject(t)},n.src=t,document.head.appendChild(n),e.promise},t.prototype.loadJSON=function(t){return this.loadText(t,"json")},t.prototype.loadText=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";if(this.urlPromises[t])return this.urlPromises[t];var n=(0,a.getFromRemote)(t,e);return this.urlPromises[t]=n,n},t}();e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=f(n(55)),r=f(n(88)),i=f(n(324)),a=f(n(323)),s=f(n(84)),c=f(n(214)),u=f(n(365)),l=f(n(366));function f(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var g=function(t){function e(){return p(this,e),d(this,t.apply(this,arguments))}return h(e,t),e.depends=function(){return[r.default]},e.prototype.link=function(t){t.getViewModeManager().register(i.default),t.getViewModeManager().register(a.default),t.getViewModeManager().register(s.default),t.getViewModeManager().register(c.default),t.getViewModeManager().register(u.default),t.getViewModeManager().register(l.default)},e}(o.default);e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(55);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return s(e,t),e.prototype.construct=function(t,e){var n=e.customs;t.customShowReplyDialogHandler=n.annotationDoubleTipHandler,t.customDefaultExportCommentsFormat=n.defaultExportCommentsFormat,t.customScalingValues=n.scalingValues||[],t.customs=n},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(55)),r=s(n(88)),i=n(13),a=n(5);function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var f=function(t){function e(){return c(this,e),u(this,t.apply(this,arguments))}return l(e,t),e.depends=function(){return[r.default]},e.prototype.link=function(t){var e=this.pdfUI;this.addDestroyHook(e.addKeyboardShortcutEventListener(a.KEY_MAP_EXIT_TO_HAND_STATE,(function(e){t.getStateHandlerManager().switchTo(i.STATE_HANDLER_HAND)})))},e}(o.default);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(55)),r=i(n(88));n(13),n(5);function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(){return a(this,e),s(this,t.apply(this,arguments))}return c(e,t),e.depends=function(){return[r.default]},e.prototype.link=function(t){var e=this.pdfUI,n=e.colorSpectrum=e.parseTemplate("<color-spectrum name='foxit-color-spectrum'></color-spectrum>");n.localize(),n.mounted()},e}(o.default);e.default=u},function(t,e,n){n(0);t.exports=function(t){"use strict";t=t||{};return'<webpdf>\n    <toolbar name="toolbar" class="fv__ui-toolbar-scrollable">\n        <tabs name="toolbar-tabs">\n            <tab title="toolbar.tabs.home.title" name="home-tab">\n                <paddle exclude-devices="tablet" name="fv--home-tab-paddle">\n                    <group-list name="home-toolbar-group-list">\n                        <group name="home-tab-group-hand" retain-count="3">\n                            <hand-button></hand-button>\n                            <selection-button></selection-button>\n                            <snapshot-button @hide-on-sr></snapshot-button>\n                        </group>\n                        <group name="home-tab-group-change-color" @hide-on-sr>\n                            <change-color-dropdown></change-color-dropdown>\n                        </group>\n                        <group name="home-tab-group-io" retain-count="1" shrink-title="toolbar.more.document.title">\n                            <open-file-dropdown></open-file-dropdown>\n                            <download-file-button></download-file-button>\n                            <print:print-button @hide-on-sr></print:print-button>\n                        </group>\n                        <group name="home-tab-group-nav" retain-count="3">\n                            <goto-prev-page-button></goto-prev-page-button>\n                            <goto-next-page-button></goto-next-page-button>\n                            <goto-page-input></goto-page-input>\n                        </group>\n                        <group name="home-tab-group-zoom">\n                            <zoom-out-button></zoom-out-button>\n                            <zoom-in-button></zoom-in-button>\n                            <editable-zoom-dropdown></editable-zoom-dropdown>\n                        </group>\n                        <group name="home-tab-group-page" retain-count="1">\n                            <single-page-button></single-page-button>\n                            <continuous-page-button></continuous-page-button>\n                            <facing-page-button></facing-page-button>\n                            <continuous-facing-page-button></continuous-facing-page-button>\n                            <h-continuous:h-continuous-button></h-continuous:h-continuous-button>\n                            \x3c!--<h-single:h-single-button></h-single:h-single-button>--\x3e\n                            \x3c!--<h-facing:h-facing-button></h-facing:h-facing-button>--\x3e\n                        </group>\n                        <group name="home-tab-group-magnifier" @hide-on-sr>\n                            <loupe-tool-button></loupe-tool-button>\n                        </group>\n                        <group name="home-tab-group-marquee" @hide-on-sr>\n                            <marquee-tool-button></marquee-tool-button>\n                        </group>\n                        <group name="file-property" @require-modules="fpmodule">\n                            <fpmodule:file-property-button></fpmodule:file-property-button>\n                        </group>\n                    </group-list>\n                </paddle>\n            </tab>\n            <tab title="toolbar.tabs.comment.title" name="comment-tab">\n                <paddle exclude-devices="tablet" name="fv--comment-tab-paddle">\n                    <group-list name="comment-toolbar-group-list">\n                        <group name="comment-tab-group-hand" retain-count="3">\n                            <hand-button></hand-button>\n                            <selection-button></selection-button>\n                            <zoom-dropdown></zoom-dropdown>\n                        </group>\n                        <group name="comment-tab-group-note" retain-count="3">\n                            <create-note-button></create-note-button>                        \n                        </group>\n                        <group name="comment-tab-group-mark">\n                            <create-text-highlight-button></create-text-highlight-button>\n                            <create-strikeout-button></create-strikeout-button>\n                            <create-underline-button></create-underline-button>\n                            <create-squiggly-button></create-squiggly-button>\n                            <create-replace-button></create-replace-button>\n                            <create-caret-button></create-caret-button>\n                        </group>\n                        <group name="comment-tab-group-text">                      \n                            <create-typewriter-button></create-typewriter-button>\n                            <create-callout-button></create-callout-button>\n                            <create-textbox-button></create-textbox-button>\n                        </group>\n                        <group name="comment-tab-group-drawing" retain-count="2">\n                            <create-drawings-dropdown></create-drawings-dropdown>                       \n                            <create-area-highlight-button></create-area-highlight-button>\n                        </group>\n                        <group name="comment-tab-group-pencil" retain-count="2">\n                            <create-pencil-button></create-pencil-button>\n                            <eraser-button></eraser-button>\n                        </group>\n                        <group name="comment-tab-group-stamp" @hide-on-sr>\n                            <stamp-dropdown></stamp-dropdown>\n                        </group>\n                        <group name="comment-tab-group-measurement">\n                            <create-measure-dropdown></create-measure-dropdown>\n                        </group>\n                        <group name="comment-tab-group-media" @grp-more-hide-on-sr>\n                            <create-attachment-button></create-attachment-button>\n                            <create-image-button @hide-on-sr></create-image-button>\n                            <create-link-button @hide-on-sr></create-link-button>\n                            <multi-media:multi-media-button @hide-on-sr></multi-media:multi-media-button>\n                        </group>\n                        <group name="comment-tab-group-inksign" visible=\'false\'></group>                    \n                        <group name="comment-tab-group-other" visible=\'false\'></group>\n                    </group-list>\n                </paddle>\n            </tab>\n            <tab title="toolbar.tabs.edit.title" @hide-on-sr name="edit-tab" visible="true" @device="desktop">\n                <paddle exclude-devices="tablet" name="fv--edit-tab-paddle">\n                    <group-list name="edit-toolbar-group-list">\n                        <group name="edit-tab-group-hand" retain-count="3">\n                            <hand-button></hand-button>\n                            <selection-button></selection-button>\n                            <zoom-dropdown></zoom-dropdown>\n                        </group>\n                        <group name="edit-tab-group-mode" retain-count="3">\n                            <edit-pageobjects:edit-all-objects-button></edit-pageobjects:edit-all-objects-button>\n                            <add-image-button></add-image-button>\n                            <edit-pageobjects:path-objects-dropdown></edit-pageobjects:path-objects-dropdown>\n                            \x3c!--<edit-image-button></edit-image-button>--\x3e\n                            <edit-text-object:add-text-button></edit-text-object:add-text-button>\n                        </group>\n                        <group name="edit-tab-group-font" retain-count="5" @require-modules="edit-text-object">\n                            <edit-text-object:text-bold-style-button></edit-text-object:text-bold-style-button>\n                            <edit-text-object:text-italic-style-button></edit-text-object:text-italic-style-button>\n                            <edit-text-object:font-color-picker></edit-text-object:font-color-picker>\n                            <edit-text-object:font-style-dropdown></edit-text-object:font-style-dropdown>\n                        </group>\n                        <group name="edit-tab-group-layer" visible="false"></group>\n                        <group name="edit-tab-group-redact" visible="false"></group>\n                    </group-list>\n                </paddle>\n            </tab>\n            <tab title="toolbar.tabs.form.title" @hide-on-sr name="form-tab" visible="true" @device="desktop">\n                <paddle exclude-devices="tablet" name="fv--form-tab-paddle">\n                    <group-list name="form-toolbar-group-list">\n                        <group name="form-tab-group-hand" retain-count="3">\n                            <hand-button></hand-button>\n                            <selection-button></selection-button>\n                            <zoom-dropdown></zoom-dropdown>\n                        </group>\n                        <group name="form-tab-group-import-export" retain-count="2" @require-modules="import-form-module,export-form-module">\n                            <import-form-module:import-form-button></import-form-module:import-form-button>\n                            <export-form-module:export-form-dropdown></export-form-module:export-form-dropdown>\n                        </group>\n                        <group name="form-tab-group-fields" retain-count="2">\n                            <create-text-field-button></create-text-field-button>\n                            \x3c!-- \n                            <create-signature-field-button></create-signature-field-button>\n                            --\x3e\n                        </group>\n                    </group-list>\n                </paddle>\n            </tab>\n            <tab title="toolbar.tabs.protect.title" @hide-on-sr name="protect-tab" visible="true">\n                <paddle exclude-devices="tablet" name="fv--protect-tab-paddle">\n                    <group-list name="protect-toolbar-group-list">\n                        <group name="protect-tab-group-hand" retain-count="4">\n                            <hand-button></hand-button>\n                            <selection-button></selection-button>\n                            <zoom-dropdown></zoom-dropdown>\n                        </group>\n                        <group name="protect-tab-group-sign" retain-count="4">\n                            <ink-sign-dropdown></ink-sign-dropdown>\n                        </group>\n                        <group name="password-protect-group" retain-count="2" @require-modules="password-protect">\n                            <password-protect:password-protect-button></password-protect:password-protect-button>\n                            <password-protect:remove-protect-button></password-protect:remove-protect-button>\n                        </group>\n                        <group name="redaction" @require-modules="redaction">\n                            <redaction:create-redactions-dropdown></redaction:create-redactions-dropdown>\n                            <redaction:apply-redactions-button></redaction:apply-redactions-button>\n                            <redaction:redaction-search-button></redaction:redaction-search-button>\n                        </group>\n                    </group-list>\n                </paddle>\n            </tab>\n        </tabs>\n    </toolbar>\n    <div class="fv__ui-body">\n        <sidebar name="sidebar" @controller="sidebar:SidebarController">\n            <bookmark-sidebar-panel></bookmark-sidebar-panel>\n            <commentlist-sidebar-panel>\n                <slot for="header">\n                    <comment-list:toggle-commentlist-group-button></comment-list:toggle-commentlist-group-button>\n                    <dropdown class="comment-list-dropdown" icon-class="fv__icon-toolbar-more">\n                        \x3c!-- <comment-list:expand-pages-button></comment-list:expand-pages-button>\n                        <comment-list:collapse-pages-button></comment-list:collapse-pages-button> --\x3e\n                        <comment-list:show-comment-button></comment-list:show-comment-button>\n                        <comment-list:hide-comment-button></comment-list:hide-comment-button>\n                        <comment-list:import-comment-button></comment-list:import-comment-button>\n                        <dropdown-item class="fv__ui-dropdown-container-item">\n                            <comment-list:export-comment-dropdown></comment-list:export-comment-dropdown>\n                        </dropdown-item>\n                    </dropdown>\n                </slot>\n            </commentlist-sidebar-panel>\n            <thumbnail-sidebar-panel></thumbnail-sidebar-panel>\n            <layer-sidebar-panel @hide-on-sr></layer-sidebar-panel>\n            <search-sidebar-panel></search-sidebar-panel>\n            <attachment-sidebar-panel></attachment-sidebar-panel>\n        </sidebar>\n        <distance:ruler-container name="pdf-viewer-container-with-ruler">\n            <slot>\n                <viewer @zoom-on-pinch @zoom-on-doubletap @zoom-on-wheel @touch-to-scroll></viewer>\n            </slot>\n        </distance:ruler-container>\n    </div>\n    <template name="template-container">\n        <create-stamp-dialog @hide-on-sr></create-stamp-dialog>\n        <print:print-dialog @hide-on-sr></print:print-dialog>\n        <loupe-tool-dialog></loupe-tool-dialog>\n        <create-ink-sign-dialog></create-ink-sign-dialog>\n        <distance:measurement-popup></distance:measurement-popup>\n        <fpmodule:file-property-dialog></fpmodule:file-property-dialog>\n        <redaction:redaction-page-dialog @hide-on-sr></redaction:redaction-page-dialog>\n        \x3c!-- contextmenus --\x3e\n        <page-contextmenu></page-contextmenu>\n        <default-annot-contextmenu></default-annot-contextmenu>\n        <markup-contextmenu></markup-contextmenu>\n        <markup-contextmenu name="fv--line-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--linearrow-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--linedimension-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--polylinedimention-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--polygondimension-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--circle-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--square-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--polyline-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--polygon-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--polygoncloud-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--ink-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--stamp-contextmenu" @hide-on-sr></markup-contextmenu>\n        <markup-contextmenu name="fv--text-contextmenu"></markup-contextmenu>\n        <caret-contextmenu name="fv--areahighlight-contextmenu"></caret-contextmenu>\n        <caret-contextmenu name="fv--replace-contextmenu"></caret-contextmenu>\n        <measurement-contextmenu></measurement-contextmenu>\n        <caret-contextmenu name="fv--caret-contextmenu"></caret-contextmenu>\n        <textmarkup-contextmenu name="fv--highlight-contextmenu"></textmarkup-contextmenu>\n        <textmarkup-contextmenu name="fv--strikeout-contextmenu"></textmarkup-contextmenu>\n        <textmarkup-contextmenu name="fv--underline-contextmenu"></textmarkup-contextmenu>\n        <textmarkup-contextmenu name="fv--squiggly-contextmenu"></textmarkup-contextmenu>\n        <freetext-contextmenu name="fv--typewriter-contextmenu"></freetext-contextmenu>\n        <freetext-contextmenu name="fv--callout-contextmenu"></freetext-contextmenu>\n        <freetext-contextmenu name="fv--textbox-contextmenu"></freetext-contextmenu>\n        <action-annot-contextmenu name="fv--image-contextmenu"></action-annot-contextmenu>\n        <action-annot-contextmenu name="fv--link-contextmenu"></action-annot-contextmenu>\n        <comment-card-contextmenu></comment-card-contextmenu>\n        <fileattachment-contextmenu></fileattachment-contextmenu>\n        <media-contextmenu></media-contextmenu>\n        <sound-contextmenu></sound-contextmenu>\n        <redact-contextmenu></redact-contextmenu>\n        <edit-graphics:image-contextmenu></edit-graphics:image-contextmenu>\n        <edit-pageobjects:path-contextmenu></edit-pageobjects:path-contextmenu>\n        <text-field-contextmenu name="fv--text-field-contextmenu"></text-field-contextmenu>\n        <text-sel:text-selection-tooltip></text-sel:text-selection-tooltip>\n        <freetext:freetext-tooltip></freetext:freetext-tooltip>\n    </template>\n</webpdf>','<webpdf>\n    <toolbar name="toolbar" class="fv__ui-toolbar-scrollable">\n        <tabs name="toolbar-tabs">\n            <tab title="toolbar.tabs.home.title" name="home-tab">\n                <paddle exclude-devices="tablet" name="fv--home-tab-paddle">\n                    <group-list name="home-toolbar-group-list">\n                        <group name="home-tab-group-hand" retain-count="3">\n                            <hand-button></hand-button>\n                            <selection-button></selection-button>\n                            <snapshot-button @hide-on-sr></snapshot-button>\n                        </group>\n                        <group name="home-tab-group-change-color" @hide-on-sr>\n                            <change-color-dropdown></change-color-dropdown>\n                        </group>\n                        <group name="home-tab-group-io" retain-count="1" shrink-title="toolbar.more.document.title">\n                            <open-file-dropdown></open-file-dropdown>\n                            <download-file-button></download-file-button>\n                            <print:print-button @hide-on-sr></print:print-button>\n                        </group>\n                        <group name="home-tab-group-nav" retain-count="3">\n                            <goto-prev-page-button></goto-prev-page-button>\n                            <goto-next-page-button></goto-next-page-button>\n                            <goto-page-input></goto-page-input>\n                        </group>\n                        <group name="home-tab-group-zoom">\n                            <zoom-out-button></zoom-out-button>\n                            <zoom-in-button></zoom-in-button>\n                            <editable-zoom-dropdown></editable-zoom-dropdown>\n                        </group>\n                        <group name="home-tab-group-page" retain-count="1">\n                            <single-page-button></single-page-button>\n                            <continuous-page-button></continuous-page-button>\n                            <facing-page-button></facing-page-button>\n                            <continuous-facing-page-button></continuous-facing-page-button>\n                            <h-continuous:h-continuous-button></h-continuous:h-continuous-button>\n                            \x3c!--<h-single:h-single-button></h-single:h-single-button>--\x3e\n                            \x3c!--<h-facing:h-facing-button></h-facing:h-facing-button>--\x3e\n                        </group>\n                        <group name="home-tab-group-magnifier" @hide-on-sr>\n                            <loupe-tool-button></loupe-tool-button>\n                        </group>\n                        <group name="home-tab-group-marquee" @hide-on-sr>\n                            <marquee-tool-button></marquee-tool-button>\n                        </group>\n                        <group name="file-property" @require-modules="fpmodule">\n                            <fpmodule:file-property-button></fpmodule:file-property-button>\n                        </group>\n                    </group-list>\n                </paddle>\n            </tab>\n            <tab title="toolbar.tabs.comment.title" name="comment-tab">\n                <paddle exclude-devices="tablet" name="fv--comment-tab-paddle">\n                    <group-list name="comment-toolbar-group-list">\n                        <group name="comment-tab-group-hand" retain-count="3">\n                            <hand-button></hand-button>\n                            <selection-button></selection-button>\n                            <zoom-dropdown></zoom-dropdown>\n                        </group>\n                        <group name="comment-tab-group-note" retain-count="3">\n                            <create-note-button></create-note-button>                        \n                        </group>\n                        <group name="comment-tab-group-mark">\n                            <create-text-highlight-button></create-text-highlight-button>\n                            <create-strikeout-button></create-strikeout-button>\n                            <create-underline-button></create-underline-button>\n                            <create-squiggly-button></create-squiggly-button>\n                            <create-replace-button></create-replace-button>\n                            <create-caret-button></create-caret-button>\n                        </group>\n                        <group name="comment-tab-group-text">                      \n                            <create-typewriter-button></create-typewriter-button>\n                            <create-callout-button></create-callout-button>\n                            <create-textbox-button></create-textbox-button>\n                        </group>\n                        <group name="comment-tab-group-drawing" retain-count="2">\n                            <create-drawings-dropdown></create-drawings-dropdown>                       \n                            <create-area-highlight-button></create-area-highlight-button>\n                        </group>\n                        <group name="comment-tab-group-pencil" retain-count="2">\n                            <create-pencil-button></create-pencil-button>\n                            <eraser-button></eraser-button>\n                        </group>\n                        <group name="comment-tab-group-stamp" @hide-on-sr>\n                            <stamp-dropdown></stamp-dropdown>\n                        </group>\n                        <group name="comment-tab-group-measurement">\n                            <create-measure-dropdown></create-measure-dropdown>\n                        </group>\n                        <group name="comment-tab-group-media" @grp-more-hide-on-sr>\n                            <create-attachment-button></create-attachment-button>\n                            <create-image-button @hide-on-sr></create-image-button>\n                            <create-link-button @hide-on-sr></create-link-button>\n                            <multi-media:multi-media-button @hide-on-sr></multi-media:multi-media-button>\n                        </group>\n                        <group name="comment-tab-group-inksign" visible=\'false\'></group>                    \n                        <group name="comment-tab-group-other" visible=\'false\'></group>\n                    </group-list>\n                </paddle>\n            </tab>\n            <tab title="toolbar.tabs.edit.title" @hide-on-sr name="edit-tab" visible="true" @device="desktop">\n                <paddle exclude-devices="tablet" name="fv--edit-tab-paddle">\n                    <group-list name="edit-toolbar-group-list">\n                        <group name="edit-tab-group-hand" retain-count="3">\n                            <hand-button></hand-button>\n                            <selection-button></selection-button>\n                            <zoom-dropdown></zoom-dropdown>\n                        </group>\n                        <group name="edit-tab-group-mode" retain-count="3">\n                            <edit-pageobjects:edit-all-objects-button></edit-pageobjects:edit-all-objects-button>\n                            <add-image-button></add-image-button>\n                            <edit-pageobjects:path-objects-dropdown></edit-pageobjects:path-objects-dropdown>\n                            \x3c!--<edit-image-button></edit-image-button>--\x3e\n                            <edit-text-object:add-text-button></edit-text-object:add-text-button>\n                        </group>\n                        <group name="edit-tab-group-font" retain-count="5" @require-modules="edit-text-object">\n                            <edit-text-object:text-bold-style-button></edit-text-object:text-bold-style-button>\n                            <edit-text-object:text-italic-style-button></edit-text-object:text-italic-style-button>\n                            <edit-text-object:font-color-picker></edit-text-object:font-color-picker>\n                            <edit-text-object:font-style-dropdown></edit-text-object:font-style-dropdown>\n                        </group>\n                        <group name="edit-tab-group-layer" visible="false"></group>\n                        <group name="edit-tab-group-redact" visible="false"></group>\n                    </group-list>\n                </paddle>\n            </tab>\n            <tab title="toolbar.tabs.form.title" @hide-on-sr name="form-tab" visible="true" @device="desktop">\n                <paddle exclude-devices="tablet" name="fv--form-tab-paddle">\n                    <group-list name="form-toolbar-group-list">\n                        <group name="form-tab-group-hand" retain-count="3">\n                            <hand-button></hand-button>\n                            <selection-button></selection-button>\n                            <zoom-dropdown></zoom-dropdown>\n                        </group>\n                        <group name="form-tab-group-import-export" retain-count="2" @require-modules="import-form-module,export-form-module">\n                            <import-form-module:import-form-button></import-form-module:import-form-button>\n                            <export-form-module:export-form-dropdown></export-form-module:export-form-dropdown>\n                        </group>\n                        <group name="form-tab-group-fields" retain-count="2">\n                            <create-text-field-button></create-text-field-button>\n                            \x3c!-- \n                            <create-signature-field-button></create-signature-field-button>\n                            --\x3e\n                        </group>\n                    </group-list>\n                </paddle>\n            </tab>\n            <tab title="toolbar.tabs.protect.title" @hide-on-sr name="protect-tab" visible="true">\n                <paddle exclude-devices="tablet" name="fv--protect-tab-paddle">\n                    <group-list name="protect-toolbar-group-list">\n                        <group name="protect-tab-group-hand" retain-count="4">\n                            <hand-button></hand-button>\n                            <selection-button></selection-button>\n                            <zoom-dropdown></zoom-dropdown>\n                        </group>\n                        <group name="protect-tab-group-sign" retain-count="4">\n                            <ink-sign-dropdown></ink-sign-dropdown>\n                        </group>\n                        <group name="password-protect-group" retain-count="2" @require-modules="password-protect">\n                            <password-protect:password-protect-button></password-protect:password-protect-button>\n                            <password-protect:remove-protect-button></password-protect:remove-protect-button>\n                        </group>\n                        <group name="redaction" @require-modules="redaction">\n                            <redaction:create-redactions-dropdown></redaction:create-redactions-dropdown>\n                            <redaction:apply-redactions-button></redaction:apply-redactions-button>\n                            <redaction:redaction-search-button></redaction:redaction-search-button>\n                        </group>\n                    </group-list>\n                </paddle>\n            </tab>\n        </tabs>\n    </toolbar>\n    <div class="fv__ui-body">\n        <sidebar name="sidebar" @controller="sidebar:SidebarController">\n            <bookmark-sidebar-panel></bookmark-sidebar-panel>\n            <commentlist-sidebar-panel>\n                <slot for="header">\n                    <comment-list:toggle-commentlist-group-button></comment-list:toggle-commentlist-group-button>\n                    <dropdown class="comment-list-dropdown" icon-class="fv__icon-toolbar-more">\n                        \x3c!-- <comment-list:expand-pages-button></comment-list:expand-pages-button>\n                        <comment-list:collapse-pages-button></comment-list:collapse-pages-button> --\x3e\n                        <comment-list:show-comment-button></comment-list:show-comment-button>\n                        <comment-list:hide-comment-button></comment-list:hide-comment-button>\n                        <comment-list:import-comment-button></comment-list:import-comment-button>\n                        <dropdown-item class="fv__ui-dropdown-container-item">\n                            <comment-list:export-comment-dropdown></comment-list:export-comment-dropdown>\n                        </dropdown-item>\n                    </dropdown>\n                </slot>\n            </commentlist-sidebar-panel>\n            <thumbnail-sidebar-panel></thumbnail-sidebar-panel>\n            <layer-sidebar-panel @hide-on-sr></layer-sidebar-panel>\n            <search-sidebar-panel></search-sidebar-panel>\n            <attachment-sidebar-panel></attachment-sidebar-panel>\n        </sidebar>\n        <distance:ruler-container name="pdf-viewer-container-with-ruler">\n            <slot>\n                <viewer @zoom-on-pinch @zoom-on-doubletap @zoom-on-wheel @touch-to-scroll></viewer>\n            </slot>\n        </distance:ruler-container>\n    </div>\n    <template name="template-container">\n        <create-stamp-dialog @hide-on-sr></create-stamp-dialog>\n        <print:print-dialog @hide-on-sr></print:print-dialog>\n        <loupe-tool-dialog></loupe-tool-dialog>\n        <create-ink-sign-dialog></create-ink-sign-dialog>\n        <distance:measurement-popup></distance:measurement-popup>\n        <fpmodule:file-property-dialog></fpmodule:file-property-dialog>\n        <redaction:redaction-page-dialog @hide-on-sr></redaction:redaction-page-dialog>\n        \x3c!-- contextmenus --\x3e\n        <page-contextmenu></page-contextmenu>\n        <default-annot-contextmenu></default-annot-contextmenu>\n        <markup-contextmenu></markup-contextmenu>\n        <markup-contextmenu name="fv--line-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--linearrow-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--linedimension-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--polylinedimention-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--polygondimension-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--circle-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--square-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--polyline-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--polygon-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--polygoncloud-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--ink-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--stamp-contextmenu" @hide-on-sr></markup-contextmenu>\n        <markup-contextmenu name="fv--text-contextmenu"></markup-contextmenu>\n        <caret-contextmenu name="fv--areahighlight-contextmenu"></caret-contextmenu>\n        <caret-contextmenu name="fv--replace-contextmenu"></caret-contextmenu>\n        <measurement-contextmenu></measurement-contextmenu>\n        <caret-contextmenu name="fv--caret-contextmenu"></caret-contextmenu>\n        <textmarkup-contextmenu name="fv--highlight-contextmenu"></textmarkup-contextmenu>\n        <textmarkup-contextmenu name="fv--strikeout-contextmenu"></textmarkup-contextmenu>\n        <textmarkup-contextmenu name="fv--underline-contextmenu"></textmarkup-contextmenu>\n        <textmarkup-contextmenu name="fv--squiggly-contextmenu"></textmarkup-contextmenu>\n        <freetext-contextmenu name="fv--typewriter-contextmenu"></freetext-contextmenu>\n        <freetext-contextmenu name="fv--callout-contextmenu"></freetext-contextmenu>\n        <freetext-contextmenu name="fv--textbox-contextmenu"></freetext-contextmenu>\n        <action-annot-contextmenu name="fv--image-contextmenu"></action-annot-contextmenu>\n        <action-annot-contextmenu name="fv--link-contextmenu"></action-annot-contextmenu>\n        <comment-card-contextmenu></comment-card-contextmenu>\n        <fileattachment-contextmenu></fileattachment-contextmenu>\n        <media-contextmenu></media-contextmenu>\n        <sound-contextmenu></sound-contextmenu>\n        <redact-contextmenu></redact-contextmenu>\n        <edit-graphics:image-contextmenu></edit-graphics:image-contextmenu>\n        <edit-pageobjects:path-contextmenu></edit-pageobjects:path-contextmenu>\n        <text-field-contextmenu name="fv--text-field-contextmenu"></text-field-contextmenu>\n        <text-sel:text-selection-tooltip></text-sel:text-selection-tooltip>\n        <freetext:freetext-tooltip></freetext:freetext-tooltip>\n    </template>\n</webpdf>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=g(n(117)),r=g(n(1086)),i=g(n(1087)),a=g(n(1090)),s=g(n(1093)),c=g(n(1096)),u=g(n(372)),l=n(5),f=g(n(30)),p=n(11),d=(g(n(159)),n(31)),h=(g(n(268)),n(9),g(n(292)));function g(t){return t&&t.__esModule?t:{default:t}}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var b=void 0,w=function(t){function e(){m(this,e);var n=v(this,t.call(this));return n.annotMap={},n.activePropertiesDialog=null,n.viewerComponents=[],n.wrapperElement=document.createElement("div"),n.wrapperElement.classList.add("fv__ui-pdfviewer"),n.element=document.createElement("div"),n}return y(e,t),e.prototype.create=function(t,e,n){var r=this;return this.wrapperElement.appendChild(this.element),this.pdfUIbinder=new o.default(document.body,l.PDFUI_BINDER,0),this.modalBinder=new o.default(document.body,l.MODAL_LAYER_BINDER,0),this.viewer=this.constructPDFViewer(t,e,n),this.addDestroyHook((function(){r.viewer.destroy()})),this.viewer.init(this.element),this.viewer},e.prototype.getWrapperElement=function(){return this.wrapperElement},e.prototype.localize=function(){return Promise.all(this.viewerComponents.map((function(t){return t.localize()})))},e.prototype.constructPDFViewer=function(t,e,n){var o=t.customs||{};this.wrapperElement;return o.ScrollWrap||(o.ScrollWrap=h.default.create(this.wrapperElement)),t.customs=o,t.viewerUI||(t.viewerUI=new u.default),this.viewer=new p.PDFViewer(this.prepareViewerOptions(t,n)),this.viewer},e.prototype.postConstructPDFViewer=function(t){var e=this,n=this.viewer,o=n.keyboard;for(var u in this.pdfUIbinder.attach(o.getBinder(d.VIEWER_BINDER)),this.modalBinder.attach(o.getBinder(d.GLOBAL_BINDER)),o.addEventBinder(this.pdfUIbinder),o.addEventBinder(this.modalBinder),r.default){var f=r.default[u];o.registerKeybinding(f.binder,u,f.shortcut)}o.activeDefaultBinder();var p=n.getKeyboardEventBinder(d.ACTIVATION_ANNOTATION_BINDER);this.addDestroyHook(p.before(l.KEY_MAP_COPY_ANNOT,(function(){e.viewer.isShortcutKeyEnabled()&&e.viewer.copy()}),!1));var h=new i.default(t),g=new a.default(t),m=new s.default(t),v=new c.default(t);n.registerMatchRule(this.createAnnotMatcherRule(h,g,m,v,t)),this.viewerComponents.push(h,g,m,v);var y=function(t){if(!(!e.viewer.isShortcutKeyEnabled()||!t.clipboardData||!t.clipboardData.items||document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLTextAreaElement||document.activeElement instanceof HTMLInputElement||"true"==document.activeElement.contentEditable)){var n=[],o=t.clipboardData;if(o&&o.items){var r=o.items,i=o.types[0],a=0;if(o.types.length>1&&(i="Files",-1==(a=o.types.indexOf("Files"))&&(a=o.types.indexOf("text/plain"),i="text/plain"),-1==a))return;switch(i){case"text/plain":r[a].getAsString((function(t){n="["===t[0]?JSON.parse(t).map((function(t){return{type:"string",value:JSON.stringify(t)}})):[{type:"string",value:t}],e.viewer.paste(n)}));break;case"text/html":break;case"Files":var s=r[a].getAsFile();n=[{type:"file",value:s}],e.viewer.paste(n)}}}};document.addEventListener("paste",y),n.activePropertiesDialog=h,this.addDestroyHook((function(){h.destroy(),g.destroy(),m.destroy(),document.removeEventListener("paste",y)}))},e.prototype.prepareViewerOptions=function(t,e){t.i18n||(t.i18n=e);var n=t.i18nOptions;n||(n={});var o=n.initOption;return o||(n.initOption=o={}),o.fallbackLng||(o.fallbackLng=e.options.fallbackLng),n.fallbackLng="en-US",t.i18nOptions=n,t.defaultKeyboardEventBinder=this.pdfUIbinder,t},e.prototype.createAnnotMatcherRule=function(t,e,n,o,r){var i=this.annotMap;return function(a,s){var c=a.getType();if("popup"===c||"psink"===c)return s;var u=(a.getIntent&&a.getIntent()||"default")+"_"+((a.info||{}).fieldType||"default");if(i[c]&&i[c][u])return i[c][u];var l=function(i){function a(){return m(this,a),v(this,i.apply(this,arguments))}return y(a,i),a.prototype.active=function(e){t.isOpened()&&(clearTimeout(b),t.show(),this.showPropertiesDialog()),i.prototype.active.call(this,e)},a.prototype.unActive=function(){t.dialog.unSwitchBinder(),i.prototype.unActive.call(this),clearTimeout(b),t.isOpened()&&(b=setTimeout((function(){t.hide()}),100))},a.prototype.showPropertiesDialog=function(e,n,o){t.show(o).setViewerComponent(this)},a.prototype.hidePropertiesDialog=function(){"freetext"==this.annot.getType()&&i.prototype.hidePropertiesDialog.call(this),t.hide()},a.prototype.showActionsDialog=function(){e.setAnnot(this).show()},a.prototype.hideActionsDialog=function(){e.hide()},a.prototype.showPlaceMarkDialog=function(t,e,o){n.setAnnot(this).show(o)},a.prototype.hidePlaceMarkDialog=function(){n.hide()},a.prototype.showReplyDialog=function(t){var e=this;"function"==typeof r.customShowReplyDialogHandler&&"freetext"!=this.annot.getType()?r.customShowReplyDialogHandler(this,t,(function(){i.prototype.showReplyDialog.call(e,t)})):i.prototype.showReplyDialog.call(this,t)},a.prototype.showContextMenu=function(t,e){return i.prototype.showContextMenu.call(this,t,e)},a.prototype.showFormPropertiesDialog=function(t,e,n){o.setAnnot(this).show(n)},a.prototype.hideFormPropertiesDialog=function(){o.hide()},a}(s);return i[c]=i[c]||{},i[c][u]=l}},e}(f.default);e.default=w},function(t,e,n){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0});var r=n(5),i=n(31),a=n(9);function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.default=(s(o={},r.KEY_MAP_OPEN_SIDEBAR,{binder:r.PDFUI_BINDER,shortcut:a.isMac?"Meta+Right":"Ctrl+Right"}),s(o,r.KEY_MAP_CLOSE_SIDEBAR,{binder:r.PDFUI_BINDER,shortcut:a.isMac?"Meta+Left":"Ctrl+Left"}),s(o,r.KEY_MAP_OPEN_QUICK_SEARCH,{binder:r.PDFUI_BINDER,shortcut:a.isMac?"Meta+F":"Ctrl+F"}),s(o,r.KEY_MAP_EXIT_TO_HAND_STATE,{binder:r.PDFUI_BINDER,shortcut:"Escape"}),s(o,r.KEY_MAP_EXIT_LAYER,{binder:r.MODAL_LAYER_BINDER,shortcut:"Escape"}),s(o,i.KEY_MAP_FIELD_TAB_NEXT,{binder:r.PDFUI_BINDER,shortcut:"Tab"}),s(o,r.KEY_MAP_COPY_ANNOT,{binder:i.ACTIVATION_ANNOTATION_BINDER,shortcut:a.isMac?"Meta+C":"Ctrl+C"}),o)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=f(n(1088));n(1089);var r=n(9),i=n(371),a=n(4),s=f(n(7)),c=n(5),u=n(171),l=n(6);function f(t){return t&&t.__esModule?t:{default:t}}var p={borderWidth:"borderWidth",borderStyle:"borderStyle",highlightingMode:"highlightingMode",rotation:"rotation",lineStartStyle:"lineStartStyle",lineEndStyle:"lineEndStyle",opacity:"opacity",color:"color",fillColor:"fillColor",applyFillColor:"applyFillColor",font:"font",hasCap:"hasCap",fontColor:"fontColor",fontSize:"fontSize"},d=s.default.getLogger("pdf-ui.CustomDialog"),h=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.PDFUI=e,this.executor=new u.QueuedAsyncTaskExecutor;var r=(0,o.default)(Object.assign({},p,{iconBorderWidth:"fv__ui-property-icon-border-width",iconOpacity:"fv__ui-property-icon-opacity",iconFontSize:"fv__ui-property-icon-font-size"}));this.dialog=e.parseTemplate(r,[{target:"annot-property-close",config:{callback:function(){Object.keys(p).map((function(t){var e=n._getComponnet(t);e?e.commit&&e.commit():d.info(t)})),n.dialog.lock(),n.dialog.hide(),n.viewerComponent.hidePropertiesDialog&&n.viewerComponent.hidePropertiesDialog()}}},{target:"annot-property-"+p.borderStyle,config:i.borderstyleConfig},{target:"annot-property-"+p.highlightingMode,config:i.hilightmodeConfig},{target:"annot-property-"+p.rotation,config:i.rotateConfig},{target:"annot-property-"+p.lineEndStyle,config:i.endstyleConfig},{target:"annot-property-"+p.lineStartStyle,config:i.startstyleConfig},{target:"annot-property-"+p.color,config:i.colorConfig},{target:"annot-property-"+p.fillColor,config:i.fillColorConfig},{target:"annot-property-"+p.applyFillColor,config:i.applyFillColorConfig},{target:"annot-property-"+p.hasCap,config:{text:"propertiesDialog.showCap",lableClass:"fv__ui-hasCap-lable",inputClass:"fv__ui-hasCap-input"}},{target:"annot-property-"+p.fontColor,config:i.fontColorConfig}]),this.dialog.localize(),this.dialog.mounted(),e.addViewerEventListener("will-close-document",(function(t){n.dialog.hide()})),this.tabsComponent=this.dialog.getComponentByName("annot-property-tabs"),this.dialog.on(c.COMPONENT_EVENTS.HIDDEN,(function(){n.dialog.querySelectorAll("@color").forEach((function(t){t.hide()}))})),this._bindEvent()}return t.prototype.localize=function(){return this.dialog.localize()},t.prototype.setViewerComponent=function(t){return this.viewerComponent=t,this.annotProperties=this.viewerComponent.getPropertyOptions(),this.synchronizeProperties(),this},t.prototype.show=function(t){var e=this;return this.dialog.unlock(),this.PDFUI.getRootComponent().then((function(n){t&&!r.isMobile&&(t.pageX+260>n.element.offsetWidth?e.dialog.element.style.left=n.element.offsetWidth-260+"px":e.dialog.element.style.left=t.pageX+"px",t.pageY+410>n.element.offsetHeight?e.dialog.element.style.top=n.element.offsetHeight-410+"px":e.dialog.element.style.top=t.pageY+"px"),e.dialog.isVisible,e.dialog.open(n.element)})),this},t.prototype.hide=function(){return this._getComponnet("opacity").deactive(),this.dialog.hide(),this},t.prototype.toggle=function(t){[this._getComponnet(p.color),this._getComponnet(p.fillColor),this._getComponnet(p.fontColor),this._getComponnet(p.applyFillColor)].forEach((function(e){t?e.enable():e.disable()})),t?this.dialog.enable():this.dialog.disable()},t.prototype.isOpened=function(){return this.dialog.isVisible},t.prototype._bindEvent=function(){var t=this;this._getComponnet(p.font).hide(),Object.keys(p).map((function(e){var n=t._getComponnet(e);if(n){var o=function(o){var r=n.getValue();t.dataAccess("w",e,r),p.color===e&&(t.dialog.element.querySelector(".fv__ui-property-icon-border-width").style.borderColor=0===r?"transparent":r),p.borderWidth===e&&(t.dialog.element.querySelector(".fv__ui-property-icon-border-width").style.borderWidth=9*r/12+"px")};n.on("change",o);n.on("compositionupdate",o);n.on("active",(function(e){return function(e,n){t.focusComponent&&"annot-property-tabs"!=t.focusComponent.parent.name&&t.focusComponent.deactive(),t.focusComponent=n}(0,n)}))}else d.info(e)})),this._getComponnet("opacity").on("willCommit",(function(e){var n=e.oldValue,o=e.commitValue;t.viewerComponent.setOpacity(o/100,!0,{oldValue:n/100,commitValue:o/100})})),this._getComponnet("borderWidth").on("willCommit",(function(e){var n=e.oldValue,o=e.commitValue;t.viewerComponent.setBorderWidth(o,!0,{oldValue:n,commitValue:o})})),this._getComponnet("fontSize").on("willCommit",(function(t){t.oldValue,t.commitValue}))},t.prototype.synchronizeProperties=function(){var t=this,e=this.annotProperties;(this.toggle(!e.disabled),this._getComponnet(p.fillColor).showTransparentColor(!("redact"===this.viewerComponent.name)),void 0!==e.borderTransparent)&&this._getComponnet(p.color).showTransparentColor(e.borderTransparent);!1===e.borderStyle?delete e.borderStyle:e.borderStyle=this.getBorderStyle(),Object.keys(p).map((function(n){t.updateComponent(e[p[n]],n)}));var n=this.dialog.element.querySelector(".fv__ui-property-icon-border-width").style;n.borderColor=e.borderTransparent?"transparent":e.color,n.borderWidth=3*e.borderWidth/4+"px";var o=this._countTabsNumber(e),r=this.tabsComponent.element.querySelectorAll(".fv__ui-annot-properties-dialog .fv__ui-tab-nav li");switch(o){case 0:this.tabsComponent.hide();break;default:this.tabsComponent.show();var i=!0,a=!1,s=void 0;try{for(var c,u=r[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var l=c.value;l.style.cssText+="width:"+100/o+"%",l.style.display=1==o?"none":"block"}}catch(t){a=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(a)throw s}}}var f=function(e,n){var o=n?"block":"none";t.dialog.element.querySelector(e).parentElement.style.display=o};f.call(this,"div.fv__ui-line-style-7",e.cloudy),f.call(this,"div.fv__ui-line-style-8",e.cloudy)},t.prototype._countTabsNumber=function(t){var e=0;return void 0!==t.color&&e++,void 0!==t.fillColor&&e++,void 0!==t.applyFillColor&&e++,void 0!==t.font&&e++,void 0!==t.fontColor&&e++,e},t.prototype.updateComponent=function(t,e){var n=void 0;if(n=this._getComponnet(e))if(void 0!==t){switch(e){case p.opacity:t*=100;break;case p.fillColor:"0"!=t&&(t=(0,a.colorConvertor)(16777215&t,"#")),n.parent.show(),n.parent.active();break;case p.applyFillColor:"0"!=t&&(t=(0,a.colorConvertor)(16777215&t,"#")),n.parent.show();break;case p.color:t.length>7&&(t=t.replace(/#(\w\w)/,"#")),n.parent.show(),n.parent.active();break;case p.rotation:t=parseInt(t%360/90);break;case p.fontColor:t.length>7&&(t=t.replace(/#(\w\w)/,"#")),n.parent.show(),n.parent.active()}n.setValue&&n.setValue(t),n.show()}else switch(n.hide(),e){case p.color:case p.fillColor:case p.fontColor:case p.applyFillColor:n.parent.hide()}},t.prototype.dataAccess=function(t,e,n){var o=this;this.PDFUI.getAllActiveElements().then((function(r){r.forEach((function(r){o.executor.exec((function(){var i=o.updateComponentProperty(r,t,e,n);return i instanceof Promise?i:l.RESOLVED_PROMISE_VOID}))}))}))},t.prototype.updateComponentProperty=function(t,e,n,o){switch(n){case p.borderWidth:return"w"==e&&t.setBorderWidth&&t.setBorderWidth(o,!1);case p.opacity:return"w"==e&&t.setOpacity&&t.setOpacity(o/100,!1);case p.borderStyle:return"w"==e&&t.setBorderStyle&&this.setBorderStyle(t,o);case p.highlightingMode:return"w"==e&&t.setHighlightingMode&&t.setHighlightingMode(o);case p.rotation:return"w"==e&&t.setRotation&&t.setRotation(90*o);case p.lineEndStyle:return"w"==e&&t.setEndingStyle&&t.setEndingStyle(!1,o);case p.lineStartStyle:return"w"==e&&t.setEndingStyle&&t.setEndingStyle(!0,o);case p.color:if("w"==e&&t.setColor){var r=0===o?0:(0,a.colorConvertor)(o,"int",1);return t.setColor(r)}break;case p.fillColor:if("w"==e&&t.setFillColor)return t.setFillColor(0===o?0:(0,a.colorConvertor)(o,"int",1));break;case p.applyFillColor:if("w"==e&&t.setApplyFillColor)return t.setApplyFillColor(0===o?0:(0,a.colorConvertor)(o,"int",1));break;case p.hasCap:return"w"==e&&t.enableCaption&&t.enableCaption(o);case p.fontColor:case p.fontSize:return"w"==e&&t.setDefaultAppearance&&t.setDefaultAppearance(n.replace("font","text"),o)}},t.prototype.getBorderStyle=function(){var t=this.viewerComponent.getModel(),e=t.getBorderStyle(),n=0,o=t.getBorderDashes();if(1==e&&o.length>0){var r=Math.max.apply(Math,o),i=Math.min.apply(Math,o);n=i==r?i>3?3:i>2?2:i<2||2==i?1:3:r>8?6:r>4?5:4}else if(5==t.getBorderStyle()){n=t.getCloudIntensity()+6}return n},t.prototype.setBorderStyle=function(t,e){var n=void 0,o=1;switch(e+""){case"0":n=[],o=0;break;case"1":n=[2,2,2,2];break;case"2":n=[3,3,3,3];break;case"3":n=[4,4,4,4];break;case"4":n=[4,3,2,3];break;case"5":n=[8,4,4,4];break;case"6":n=[4,3,16,3];break;case"7":n=1,o=5;break;case"8":n=2,o=5}t.setBorderStyle(o,n)},t.prototype._getComponnet=function(t){return this.dialog.getComponentByName("annot-property-"+t)},t.prototype.destroy=function(){this.dialog.destroy()},t}();e.default=h},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";var e="",n=(t=t||{}).dialogName,r=o.$escape,i=t.color,a=t.fillColor,s=t.fontColor,c=t.applyFillColor,u=t.font,l=t.borderWidth,f=t.iconBorderWidth,p=t.opacity,d=t.iconOpacity,h=t.borderStyle,g=t.highlightingMode,m=t.rotation,v=t.lineStartStyle,y=t.lineEndStyle,b=t.hasCap,w=t.fontSize,_=t.iconFontSize;return e+="\n",e+="\n<layer name='",e+=r(n="annot-properties-dialog"),e+="' class=\"fv__ui-",e+=r(n),e+="\" @draggable=\"{type: 'closest', target:'",e+=r(n),e+="', overflow: 'ignore'}\">\n<div class=\"fv__ui-",e+=r(n),e+='-container">\n    <div name="',e+=r(n),e+='-body" class="fv__properties-body">\n        <tabs name="annot-property-tabs" canBeDisabled=\'false\'>\n            <tab title="propertiesDialog.color" class="fv__ui-',e+=r(i),e+='">\n            <color name="annot-property-',e+=r(i),e+='"></color>\n            </tab>\n            <tab title="propertiesDialog.fillColor" class="fv__ui-',e+=r(a),e+='">\n            <color name="annot-property-',e+=r(a),e+='"></color>\n            </tab>\n            <tab title="propertiesDialog.fontColor" class="fv__ui-',e+=r(s),e+='">\n                <color name="annot-property-',e+=r(s),e+='"></color>\n            </tab>\n            <tab title="propertiesDialog.applyFillColor" class="fv__ui-',e+=r(c),e+='">\n            <color name="annot-property-',e+=r(c),e+='"></color>\n            </tab>\n            <tab name="annot-property-',e+=r(u),e+='" title="propertiesDialog.font" class="fv__ui-',e+=r(u),e+='">\n            </tab>\n        </tabs>\n        <slider class="fv__property-component" unit=\'pt\' max="12" min="0" step="1" value="0"\n            name="annot-property-',e+=r(l),e+='" iconclass="',e+=r(f),e+='" @stop-drag></slider>\n        <slider class="fv__property-component" unit=\'%\' max="100" min="0" step="1" value="100"\n            name="annot-property-',e+=r(p),e+='" iconclass="',e+=r(d),e+='" @stop-drag></slider>\n        <choice class="fv__property-component" name="annot-property-',e+=r(h),e+='"></choice>\n        <choice class="fv__property-component" name="annot-property-',e+=r(g),e+='"></choice>\n        <choice class="fv__property-component" name="annot-property-',e+=r(m),e+='"></choice>\n        <choice class="fv__property-component fv__property-line-ending-style" name="annot-property-',e+=r(v),e+='"></choice>\n        <choice class="fv__property-component fv__property-line-ending-style" name="annot-property-',e+=r(y),e+='"></choice>\n        <checkbox class="fv__property-component" name="annot-property-',e+=r(b),e+='"></checkbox>\n        <slider class="fv__property-component" unit=\'pt\' max="40" min="6" step="1" value="0"\n            name="annot-property-',e+=r(w),e+='" iconclass="',e+=r(_),e+='" @stop-drag></slider>\n        <div handleon="click" name="annot-property-close" class="fv__ui-dialog-button fv__ui-dialog-cancel-button fv__ui-annot-property-close" canBeDisabled=false style=\'margin-top: 12px;\'>dialog.close</div>\n    </div>\n</div>\n</layer>'}},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=s(n(1091)),i=s(n(3)),a=s(n(8));function s(t){return t&&t.__esModule?t:{default:t}}n(1092);var c=n(11).PDF.actions,u=c.URIAction,l=c.GoToAction,f=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.PDFUI=e;var o=(0,r.default)();this.dialog=e.parseTemplate(o,[{target:"annot-action-close",config:{callback:function(){n.hide()}}}]),this.dialog.localize(),this.dialog.mounted(),this.$gotoInput=(0,i.default)(this._getComponnet("goto-input").element),this.$urlInput=(0,i.default)(this._getComponnet("url-input").element),this.$selectAction=(0,i.default)(this._getComponnet("select-action").element),this.$gotoLeftValue=(0,i.default)(this._getComponnet("goto-left").element),this.$gotoTopValue=(0,i.default)(this._getComponnet("goto-top").element),this.$okButton=(0,i.default)(this._getComponnet("annot-action-ok").element),e.addViewerEventListener("will-close-document",(function(t){n.dialog.hide()})),this._bindEvent(),this.hidden=!0}return t.prototype.localize=function(){return this.dialog.localize()},t.prototype.setAnnot=function(t){return this.annotRender=t,this.annot=t.annot,this},t.prototype.show=function(t){var e=this;return this.hidden=!1,this.annot.getActionPromise().then((function(t){return e.action=t,e.PDFUI.getRootComponent()})).then((function(n){t&&(t.pageX+260>n.element.offsetWidth?e.dialog.element.style.left=n.element.offsetWidth-260+"px":e.dialog.element.style.left=t.pageX+"px",t.pageY+410>n.element.offsetHeight?e.dialog.element.style.top=n.element.offsetHeight-410+"px":e.dialog.element.style.top=t.pageY+"px"),e.dialog.open(n.element);var r=e.formatAction(),a=(0,i.default)(e.dialog.element);e.PDFUI.getPDFViewer().then((function(t){var n=e.pageCount=t.getPDFDocRender().getPDFDoc().getPageCount();if(e.$gotoInput.attr("max",n),r&&r.type)switch(a.find("#select-action [value="+r.type+"]").prop("selected",!0),a.find(".fv__action-dialog-box").css("display","none"),a.find("[data-type="+r.type+"]").css("display","block"),r.type){case"TypeURI":e.$urlInput.val(r.uri),r.uri,e.$okButton.addClass("disabled");break;case"TypeGoto":if(!r.destination)break;e.$okButton.removeClass("disabled"),e.$gotoInput.val(r.destination.pageIndex+1);var i=t.getPDFPageRender(r.destination.pageIndex);i.getPDFPage().then((function(t){var n=t.getDevicePoint([r.destination.left,r.destination.top],i.getScale(),i.getRotation()),a=o(n,2),s=a[0],c=a[1];e.$gotoLeftValue.html(s.toFixed(2)),e.$gotoTopValue.html(c.toFixed(2))}))}else{var s=t.getDeviceCurrentPosition();e.$gotoInput.val(s.pageIndex+1),e.$gotoLeftValue.html(s.left.toFixed(2)),e.$gotoTopValue.html(s.top.toFixed(2))}}))})),this},t.prototype.hide=function(){return this.clear(),this.dialog.hide(),this.hidden=!0,this},t.prototype._getComponnet=function(t){return this.dialog.getComponentByName(t)},t.prototype.clear=function(){this.$gotoInput.val(1),this.$gotoLeftValue.html(0),this.$gotoTopValue.html(0),this.$urlInput.val("")},t.prototype._bindEvent=function(){var t=this,e=this;this.PDFUI.getPDFViewer().then((function(n){var r=t.$selectAction,s=(0,i.default)(t.dialog.element),c=t.$gotoInput,f=t.$urlInput,p=t.$gotoLeftValue,d=t.$gotoTopValue,h=t.$okButton,g=n.getPDFViewerRender().scrollWrap,m=function(){if(!t.hidden&&!s.is(":hidden")){var e=n.getDeviceCurrentPosition();c.val(e.pageIndex+1),p.html(e.left.toFixed(2)),d.html(e.top.toFixed(2))}};n.eventEmitter.on(a.default.zoomToSuccess,(function(t,e){m()}));var v=g.addScrollEventListener(m);t.dialog.on("destroy",(function(){return v()})),r.on("change",(function(e){var n=e.target.value;s.find(".fv__action-dialog-box").css("display","none"),s.find("[data-type="+n+"]").css("display","block"),"TypeURI"==n&&t.$urlInput.val().length<1&&t.$okButton.addClass("disabled"),"TypeURI"!=n&&t.$okButton.removeClass("disabled")})),r.on("pointerdown",(function(t){t.stopPropagation(),t.stopImmediatePropagation()})),c.on("change",(function(e){var o=e.target,r=o.value;1>r?r=1:r>t.pageCount&&(r=t.pageCount),(o.value=r)&&n.getPDFDocRender().goToPage(r-1,{x:0,y:0})})),h.on("click",(function(i){var s=r.val();if(!t.$okButton.hasClass("disabled"))if("TypeURI"===s){var h=f.val();t.annot.setAction(new u).then((function(){t.annot.getAction().setURI(h).then((function(){n.eventEmitter.emit(a.default.addActionSuccess,t.annot),t.hide()}))}))}else if("TypeGoto"===s){var g=n.getPDFDocRender().getScale();t.annot.setAction(new l).then((function(){var r={};r.pageIndex=c.val()-1;var i=n.getPDFPageRender(r.pageIndex);i.getPDFPage().then((function(s){var c=s.reverseDevicePoint([Number(p.html()),Number(d.html())],i.getScale(),i.getRotation()),u=o(c,2),l=u[0],f=u[1];r.left=l,r.top=f,"fitWidth"===g?r.zoomMode="ZoomFitHorz":"fitHeight"===g?r.zoomMode="ZoomFitPage":(r.zoomMode="ZoomXYZ",r.zoomFactor=n.getPDFPageRender(r.pageIndex).getScale()),t.annot.getAction().setDestination(r).then((function(){n.eventEmitter.emit(a.default.addActionSuccess,e.annot),t.hide()}))}))}))}}))})),this.$urlInput.on("keyup",(function(e){t.$urlInput.val().length>0?t.$okButton.removeClass("disabled"):t.$okButton.addClass("disabled")}))},t.prototype.formatAction=function(){var t=this.action,e={};if(t)switch(e.type=t.getType(),e.type){case"TypeURI":e.uri=t.getURI();break;case"TypeGoto":e.destination=t.getDestination()}return e},t.prototype.destroy=function(){this.dialog.destroy()},t}();e.default=f},function(t,e,n){var o=n(0);t.exports=function(t){"use strict";var e="",n=((t=t||{}).dialogName,o.$escape);return e+="\n<layer name='",e+=n("annot-actions-dialog"),e+="' class=\"fv__ui-",e+=n("annot-actions-dialog"),e+=' center" @draggable="">\n    <layer-header title="dialog.actionDialog.title"></layer-header>\n    <div class="fv__action-dialog-container" @stop-drag>\n        <div class="fv__action-dialog-body">\n            <div class="fv__action-dialog-select">\n                <span class="fv__action-dialog-select-title"><span data-i18n="dialog.actionDialog.selectKey"></span><span>:</span></span>\n                <select id="select-action" name="select-action">\n                    <option value="TypeGoto" data-i18n="dialog.actionDialog.selectAction.goto"></option>\n                    <option value="TypeURI" data-i18n="dialog.actionDialog.selectAction.webLink"></option>\n                </select>\n            </div>\n            <div class="fv__action-dialog-url fv__action-dialog-box" data-type="TypeURI">\n                <div class="fv__action-dialog-url-title fv__action-box-title" data-i18n="dialog.actionDialog.URLAction.title"></div>\n                <div class="fv__action-dialog-url-input">\n                    <input class="fv__action-dialog-input" id="url-input" name="url-input" />\n                </div>\n            </div>\n            <div class="fv__action-dialog-goto fv__action-dialog-box" style="display:block;" data-type="TypeGoto">\n                <div class="fv__action-dialog-goto-container">\n                    <div class="fv__action-dialog-goto-center">\n                        <div class="fv__action-dialog-goto-left">\n                            <div class="fv__action-dialog-goto-target"><span data-i18n="dialog.actionDialog.GotoAction.target"></span><span>:</span></div>\n                        </div>\n                        <div class="fv__action-dialog-goto-right">\n                        <div class="fv__action-dialog-goto-right">\n                            <div class="fv__action-dialog-goto-input">\n                                <input type="number" min="1" class="fv__action-dialog-input" id="goto-input" name="goto-input" />\n                            </div>\n                            <div class="fv__action-dialog-goto-position">\n                                <span class="fv__action-dialog-goto-position-left" data-i18n="dialog.actionDialog.GotoAction.left"></span><span>:</span><span class="fv__action-dialog-goto-left-value" name="goto-left">0</span>\n                                <span class="fv__action-dialog-goto-position-top" data-i18n="dialog.actionDialog.GotoAction.top"></span><span>:</span><span class="fv__action-dialog-goto-top-value" name="goto-top">0</span>\n                            </div>\n                        </div>\n                        <div class="fv__action-dialog-goto-title fv__action-box-title" data-i18n="dialog.actionDialog.GotoAction.title"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="fv__action-dialog-footer">\n            <div class="fv__action-dialog-btns">\n                <button type="button" class="fv__ui-dialog-cancel-button" data-i18n="dialog.actionDialog.Cancel" name="annot-action-close"></button>\n                <button type="button" class="fv__ui-dialog-ok-button" data-i18n="dialog.actionDialog.OK" name="annot-action-ok"></button>\n            </div>\n        </div>\n    </div>\n</layer>'}},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(1094)),r=a(n(3));n(1095);a(n(8));var i=n(9);function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.PDFUI=e;var i=(0,o.default)();this.dialog=e.parseTemplate(i,[]),this.dialog.localize(),this.dialog.mounted(),e.addViewerEventListener("will-close-document",(function(t){n.dialog.hide()})),this.$dialog=(0,r.default)(this.dialog.element),this._bindEvent()}return t.prototype.localize=function(){return this.dialog.localize()},t.prototype.setAnnot=function(t){return this.annotRender=t,this.annot=t.annot,this},t.prototype.show=function(t){var e=this;return this.PDFUI.getPDFViewer().then((function(t){e.docPageCount=t.currentPDFDoc.info.pageCount,e.$dialog.find(".fv__redaction-page-range").val("").attr("placeholder","Max: "+e.docPageCount)})),this.PDFUI.getRootComponent().then((function(n){if(e.dialog.open(n.element),t){var o=e.dialog.element,r=o.offsetWidth,a=o.offsetHeight;i.isMobile?e.dialog.element.style.cssText="\n                        left: "+(n.element.offsetWidth/2-r/2)+"px;\n                        top: "+(n.element.offsetHeight/2-a/2)+"px;\n                    ":(t.pageX+260>n.element.offsetWidth?e.dialog.element.style.left=n.element.offsetWidth-260+"px":e.dialog.element.style.left=t.pageX+"px",t.pageY+410>n.element.offsetHeight?e.dialog.element.style.top=n.element.offsetHeight-410+"px":e.dialog.element.style.top=t.pageY+"px")}e.dialog.element.querySelector(".redaction-page-radio").checked=!0})),this},t.prototype.hide=function(){return this.dialog.hide(),this},t.prototype._getComponnet=function(t){return this.dialog.getComponentByName(t)},t.prototype._bindEvent=function(){var t=this;this.$dialog.on("click",".fv__redaction-cancel",(function(){t.hide()})).on("click",".fv__redaction-btn",(function(e){t.submit()})).on("change",".redaction-page-radio",(function(e){e.target.checked&&(t.hideError(),"1"==e.target.value?(0,r.default)(".fv__redaction-page-range").attr("disabled",""):(0,r.default)(".fv__redaction-page-range").removeAttr("disabled"))})).on("keydown",".fv__redaction-page-range",(function(e){t.hideError()}))},t.prototype.submit=function(){var t=this,e=this.docPageCount,n="1"==(0,r.default)(".redaction-page-radio:checked").val(),o=this.annot.getPDFPage().getIndex(),i=[];if(n)for(var a=0;a<e;a++)o!=a&&i.push(a);else{var s=(0,r.default)(".fv__redaction-page-range").val();if(new RegExp(/[^\d\-,]/).test(s))return void this.showError();for(var c=s.split(","),u=0;u<c.length;u++){var l=c[u];if(l.indexOf("-")>-1){var f=l.split("-");if(f.length>2)return void this.showError();if(f[0]<1||f[0]>e||f[1]<1||f[1]>e)return void this.showError();for(var p=Math.min(f[0],f[1]),d=Math.max(f[0],f[1]),h=p;h<=d;h++)o!=h&&i.push(h-1)}else{if(l<1||l>e)return void this.showError();-1===i.indexOf(i)&&i.push(l-1)}}}this.annotRender.placeRedact(i).then((function(e){t.hide()}))},t.prototype.hideError=function(){this.dialog.element.querySelector(".fv__redaction-page-range").classList.remove("fv__redaction-error")},t.prototype.showError=function(){this.dialog.element.querySelector(".fv__redaction-page-range").classList.add("fv__redaction-error")},t.prototype.destroy=function(){this.dialog.destroy()},t}();e.default=s},function(t,e,n){n(0);t.exports=function(t){"use strict";t=t||{};return'<layer name=\'place-redact-dialog\' class="fv__ui-place-redact-dialog" @draggable="">\n   <layer-header title="dialog.placeRedactionDialog.title"></layer-header>\n   <div class="fv__place-redaction-dialog-body">\n        <div class="fv__redaction-container">\n        <label>\n            <input name="redaction-page-type" class="redaction-page-radio" type="radio" checked value="1" /><span data-i18n="dialog.placeRedactionDialog.allPage"></span>\n        </label>\n        </div>\n        <div class="fv__redaction-container">\n            <label>\n                <input name="redaction-page-type" class="redaction-page-radio" type="radio" value="2" /><span data-i18n="dialog.placeRedactionDialog.specificPage"></span>\n                <div class="fv__redaction-range"><span data-i18n=\'dialog.placeRedactionDialog.pageRange\'></span> <input type="text" class="fv__redaction-page-range" disabled /></div>\n                </label>\n        </div> \n   </div>\n   <div class="fv__place-redaction-dialog-footer">\n        <div class="fv__redaction-container" style="text-align:right">\n            <button type="button" class="fv__redaction-cancel fv__ui-dialog-cancel-button" name="place-redaction-dialog-close" data-i18n="dialog.cancel"></button>\n            <button type="button" class="fv__redaction-btn fv__ui-dialog-ok-button" data-i18n="dialog.ok"></button>\n        </div>\n   </div>\n</layer>\n\n\n','<layer name=\'place-redact-dialog\' class="fv__ui-place-redact-dialog" @draggable="">\n   <layer-header title="dialog.placeRedactionDialog.title"></layer-header>\n   <div class="fv__place-redaction-dialog-body">\n        <div class="fv__redaction-container">\n        <label>\n            <input name="redaction-page-type" class="redaction-page-radio" type="radio" checked value="1" /><span data-i18n="dialog.placeRedactionDialog.allPage"></span>\n        </label>\n        </div>\n        <div class="fv__redaction-container">\n            <label>\n                <input name="redaction-page-type" class="redaction-page-radio" type="radio" value="2" /><span data-i18n="dialog.placeRedactionDialog.specificPage"></span>\n                <div class="fv__redaction-range"><span data-i18n=\'dialog.placeRedactionDialog.pageRange\'></span> <input type="text" class="fv__redaction-page-range" disabled /></div>\n                </label>\n        </div> \n   </div>\n   <div class="fv__place-redaction-dialog-footer">\n        <div class="fv__redaction-container" style="text-align:right">\n            <button type="button" class="fv__redaction-cancel fv__ui-dialog-cancel-button" name="place-redaction-dialog-close" data-i18n="dialog.cancel"></button>\n            <button type="button" class="fv__redaction-btn fv__ui-dialog-ok-button" data-i18n="dialog.ok"></button>\n        </div>\n   </div>\n</layer>\n\n\n'}},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=l(n(1097)),i=l(n(3));n(1098);l(n(8)),n(9);var a=n(38),s=l(n(106)),c=n(4),u=n(371);function l(t){return t&&t.__esModule?t:{default:t}}var f=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.PDFUI=e;var o=(0,r.default)();this.dialog=e.parseTemplate(o,[{target:"color-picker",config:u.colorConfig}]),this.dialog.localize(),this.dialog.mounted(),e.addViewerEventListener("will-close-document",(function(t){n.dialog.hide()})),this.$dialog=(0,i.default)(this.dialog.element),this.$tabNav=(0,i.default)(".fv__ui-form-tab-nav > div",this.$dialog),this.$closeDialog=(0,i.default)("[name=closeDialog]",this.$dialog),this.$closeColorPicker=(0,i.default)("[name=closeColorPicker]",this.$dialog),this.$visibleType=(0,i.default)("select[name=visibleType]",this.$dialog),this.$readOnly=(0,i.default)("input[name=readOnly]",this.$dialog),this.$required=(0,i.default)("input[name=required]",this.$dialog),this.$borderStyle=(0,i.default)("select[name=borderStyle]",this.$dialog),this.$borderWidth=(0,i.default)("select[name=borderWidth]",this.$dialog),this.$colorPickerAnchor=(0,i.default)(".color-picker-anchor",this.$dialog),this.$locked=(0,i.default)("input[name=locked]",this.$dialog),this._bindEvent(),this.dialog.getAllComponentsByName("color-picker").forEach((function(t){t.showTransparentColor(!0)}))}return t.prototype.localize=function(){return this.dialog.localize()},t.prototype.setAnnot=function(t){this.annotRender=t,this.annot=t.annot;var e=Object.keys(a.FieldType).find((function(e){return a.FieldType[e]===t.annot.info.fieldType}))||"";return this.$dialog.addClass("fv__ui-form-"+e.toLowerCase()),this},t.prototype.show=function(t){var e=this;return this._setValue(),this.PDFUI.getRootComponent().then((function(t){e.dialog.open(t.element),e.$tabNav.eq(0).click()})),this},t.prototype.hide=function(){return this.dialog.hide(),this},t.prototype.destroy=function(){this.dialog.destroy()},t.prototype._bindEvent=function(){var t=this;this.$tabNav.on("click",(function(e){t.$tabNav.removeClass("active"),(0,i.default)(e.target).addClass("active");var n=(0,i.default)(e.target).index(),o=(0,i.default)(".fv__ui-form-tab-body > div",t.$dialog);o.hide(),o.eq(n).show(),t.$closeColorPicker.click()})),this.$closeDialog.on("click",(function(e){t.hide(),t.$closeColorPicker.click()})),this.$visibleType.on("change",(function(e){var n=(0,i.default)(e.target).val().split("_"),r=o(n,3),a=r[0],c=r[1],u=r[2],l=t.annotRender.getAnnotFlag(),f=l.getValue();l.checkHidden()&&(f-=s.default.hidden),l.checkPrint()&&(f-=s.default.print),l.checkNoView()&&(f-=s.default.noView),f=f+Number(a)+Number(c)+Number(u),t.annot.setFlagValue(f).then((function(){t.annotRender.render()}))})),this.$readOnly.on("change",(function(e){t.annot.getField().setReadonly((0,i.default)(e.target).prop("checked"))})),this.$required.on("change",(function(e){t.annot.getField().setRequired((0,i.default)(e.target).prop("checked"))})),this.$borderStyle.on("change",(function(e){t.annot.getField().setBorderStyle((0,i.default)(e.target).val())})),this.$borderWidth.on("change",(function(e){t.annot.getField().setBorderWidth((0,i.default)(e.target).val())})),this.$colorPickerAnchor.on("click",(function(e){(0,i.default)(e.target).parents(".color-picker-anchor").eq(0).attr("disabled")||(t.$closeColorPicker.click(),(0,i.default)(e.target).parents(".color-picker").eq(0).find(".color-picker-dialog").show())})),this.$closeColorPicker.on("click",(function(t){(0,i.default)(t.target).parents(".color-picker-dialog").eq(0).hide()})),this.dialog.getAllComponentsByName("color-picker").forEach((function(e){e.on("change",(function(n){var o=e.getValue(),r=t.annot.getField();"border"===(e.attrs||{}).type?r.setBorderColor(o):"fill"===(e.attrs||{}).type&&r.setFillColor(o),(0,i.default)(n.target).parents(".color-picker").eq(0).find(".mask").css({backgroundColor:o||"transparent"})}))})),this.$locked.on("change",(function(e){var n=t.annotRender.getAnnotFlag().getValue()+((0,i.default)(e.target).prop("checked")?+s.default.locked:-s.default.locked);t.annot.setFlagValue(n),t._lockedHandler((0,i.default)(e.target).prop("checked")),t.$closeColorPicker.click()}))},t.prototype._setValue=function(){var t=this,e=this.annot.getField(),n=this.annot.getBorderInfo(),o=this.annotRender.getAnnotFlag(),r=e.getFlags();this.$visibleType.val(o.checkHidden()+"_"+o.checkPrint()+"_"+o.checkNoView()),this.$readOnly.prop("checked",!!a.FieldFlag.isReadOnly(r)),this.$required.prop("checked",!!a.FieldFlag.isRequired(r)),this.$borderStyle.val({0:"solid",1:"dashed",3:"beveled",4:"inset",2:"underline"}[n.style]),this.$borderWidth.val({1:"thin",2:"medium",3:"thick"}[n.width]),this.dialog.getAllComponentsByName("color-picker").forEach((function(e){var n=void 0,o=void 0;"border"===(e.attrs||{}).type?(n=t.annot.getMKProperty("borderColor"),o=(0,c.getTransparentOrColor)(n)):"fill"===(e.attrs||{}).type&&(n=t.annot.getMKProperty("fillColor"),o=(0,c.getTransparentOrColor)(n)),e.setValue(n?(0,c.colorConvertor)(n,"#"):0),(0,i.default)(e.element).parents(".color-picker").eq(0).find(".mask").css({backgroundColor:o})})),this.$locked.prop("checked",!!o.checkLocked()),this._lockedHandler(!!o.checkLocked())},t.prototype._lockedHandler=function(t){this.$visibleType.prop("disabled",t),this.$readOnly.prop("disabled",t),this.$required.prop("disabled",t),this.$borderStyle.prop("disabled",t),this.$borderWidth.prop("disabled",t),this.$colorPickerAnchor.attr("disabled",t)},t}();e.default=f},function(t,e,n){n(0);t.exports=function(t){"use strict";t=t||{};return'<layer name="form-properties-dialog" class="fv__ui-form-properties-dialog" @draggable="">\n    <div class="fv__ui-form-tab-nav">\n        <div data-i18n="dialog.formPropertiesDialog.tabNav.general"></div>\n        <div data-i18n="dialog.formPropertiesDialog.tabNav.appearance"></div>\n    </div>\n    <div class="fv__ui-form-tab-body">\n        <div>\n            \x3c!-- PDFForm.renameField \n            <div class="item">\n                <div class="title-sub" data-i18n="dialog.formPropertiesDialog.general.name"></div>\n                <input type="text" name="name">\n            </div>\n            --\x3e\n            <div class="item"><div class="title" data-i18n="dialog.formPropertiesDialog.general.commonProperties"></div></div>\n            <div class="item">\n                <div class="title-sub" data-i18n="dialog.formPropertiesDialog.general.formField"></div>\n                <select name="visibleType">\n                    <option data-i18n="dialog.formPropertiesDialog.general.visible" value="0_4_0"></option>\n                    <option data-i18n="dialog.formPropertiesDialog.general.hidden" value="2_4_0"></option>\n                    <option data-i18n="dialog.formPropertiesDialog.general.visibleButUnprintable" value="0_0_0"></option>\n                    <option data-i18n="dialog.formPropertiesDialog.general.hiddenButPrintable" value="0_4_32"></option>\n                </select>\n            </div>\n            <div class="item">\n                <div class="title-sub"></div>\n                <label class="d-f ai-c">\n                    <input type="checkbox" name="readOnly"/><div data-i18n="dialog.formPropertiesDialog.general.readOnly"></div>\n                </label>\n            </div>\n            <div class="item">\n                <div class="title-sub"></div>\n                <label class="d-f ai-c">\n                    <input type="checkbox" name="required"/><div data-i18n="dialog.formPropertiesDialog.general.required"></div>\n                </label>\n            </div>\n        </div>\n        <div>\n            <div class="item"><div class="title" data-i18n="dialog.formPropertiesDialog.appearance.bordersAndColors"></div></div>\n            <div class="item">\n                <div class="title-sub" data-i18n="dialog.formPropertiesDialog.appearance.lineStyle"></div>\n                <select name="borderStyle">\n                    <option data-i18n="dialog.formPropertiesDialog.appearance.solid" value="solid"></option>\n                    <option data-i18n="dialog.formPropertiesDialog.appearance.dashed" value="dashed"></option>\n                    <option data-i18n="dialog.formPropertiesDialog.appearance.beveled" value="beveled"></option>\n                    <option data-i18n="dialog.formPropertiesDialog.appearance.inset" value="inset"></option>\n                    <option data-i18n="dialog.formPropertiesDialog.appearance.underline" value="underline"></option>\n                </select>\n            </div>\n            <div class="item">\n                <div class="title-sub" data-i18n="dialog.formPropertiesDialog.appearance.thickness"></div>\n                <select name="borderWidth">\n                    <option data-i18n="dialog.formPropertiesDialog.appearance.thin" value="thin"></option>\n                    <option data-i18n="dialog.formPropertiesDialog.appearance.medium" value="medium"></option>\n                    <option data-i18n="dialog.formPropertiesDialog.appearance.thick" value="thick"></option>\n                </select>\n            </div>\n            <div class="item">\n                <div class="title-sub" data-i18n="dialog.formPropertiesDialog.appearance.borderColor"></div>\n                <div class="color-picker">\n                    <div class="color-picker-anchor"><div class="label">?</div><div class="mask"></div></div>\n                    <div class="color-picker-dialog">\n                        <color name="color-picker" type="border"></color>\n                        <div class="d-f ai-c jc-fe">\n                            <div class="fv__ui-dialog-button fv__ui-dialog-cancel-button mt-20" name="closeColorPicker">dialog.close</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="item">\n                <div class="title-sub" data-i18n="dialog.formPropertiesDialog.appearance.fillColor"></div>\n                <div class="color-picker">\n                    <div class="color-picker-anchor"><div class="label">?</div><div class="mask"></div></div>\n                    <div class="color-picker-dialog">\n                        <color name="color-picker" type="fill"></color>\n                        <div class="d-f ai-c jc-fe">\n                            <div class="fv__ui-dialog-button fv__ui-dialog-cancel-button mt-20" name="closeColorPicker">dialog.close</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="footer">\n        <label class="d-f ai-c">\n            <input type="checkbox" name="locked"/><div data-i18n="dialog.formPropertiesDialog.footer.locked"></div>\n        </label>\n        <div class="fv__ui-dialog-button fv__ui-dialog-cancel-button" name="closeDialog">dialog.close</div>\n    </div>\n</layer>','<layer name="form-properties-dialog" class="fv__ui-form-properties-dialog" @draggable="">\n    <div class="fv__ui-form-tab-nav">\n        <div data-i18n="dialog.formPropertiesDialog.tabNav.general"></div>\n        <div data-i18n="dialog.formPropertiesDialog.tabNav.appearance"></div>\n    </div>\n    <div class="fv__ui-form-tab-body">\n        <div>\n            \x3c!-- PDFForm.renameField \n            <div class="item">\n                <div class="title-sub" data-i18n="dialog.formPropertiesDialog.general.name"></div>\n                <input type="text" name="name">\n            </div>\n            --\x3e\n            <div class="item"><div class="title" data-i18n="dialog.formPropertiesDialog.general.commonProperties"></div></div>\n            <div class="item">\n                <div class="title-sub" data-i18n="dialog.formPropertiesDialog.general.formField"></div>\n                <select name="visibleType">\n                    <option data-i18n="dialog.formPropertiesDialog.general.visible" value="0_4_0"></option>\n                    <option data-i18n="dialog.formPropertiesDialog.general.hidden" value="2_4_0"></option>\n                    <option data-i18n="dialog.formPropertiesDialog.general.visibleButUnprintable" value="0_0_0"></option>\n                    <option data-i18n="dialog.formPropertiesDialog.general.hiddenButPrintable" value="0_4_32"></option>\n                </select>\n            </div>\n            <div class="item">\n                <div class="title-sub"></div>\n                <label class="d-f ai-c">\n                    <input type="checkbox" name="readOnly"/><div data-i18n="dialog.formPropertiesDialog.general.readOnly"></div>\n                </label>\n            </div>\n            <div class="item">\n                <div class="title-sub"></div>\n                <label class="d-f ai-c">\n                    <input type="checkbox" name="required"/><div data-i18n="dialog.formPropertiesDialog.general.required"></div>\n                </label>\n            </div>\n        </div>\n        <div>\n            <div class="item"><div class="title" data-i18n="dialog.formPropertiesDialog.appearance.bordersAndColors"></div></div>\n            <div class="item">\n                <div class="title-sub" data-i18n="dialog.formPropertiesDialog.appearance.lineStyle"></div>\n                <select name="borderStyle">\n                    <option data-i18n="dialog.formPropertiesDialog.appearance.solid" value="solid"></option>\n                    <option data-i18n="dialog.formPropertiesDialog.appearance.dashed" value="dashed"></option>\n                    <option data-i18n="dialog.formPropertiesDialog.appearance.beveled" value="beveled"></option>\n                    <option data-i18n="dialog.formPropertiesDialog.appearance.inset" value="inset"></option>\n                    <option data-i18n="dialog.formPropertiesDialog.appearance.underline" value="underline"></option>\n                </select>\n            </div>\n            <div class="item">\n                <div class="title-sub" data-i18n="dialog.formPropertiesDialog.appearance.thickness"></div>\n                <select name="borderWidth">\n                    <option data-i18n="dialog.formPropertiesDialog.appearance.thin" value="thin"></option>\n                    <option data-i18n="dialog.formPropertiesDialog.appearance.medium" value="medium"></option>\n                    <option data-i18n="dialog.formPropertiesDialog.appearance.thick" value="thick"></option>\n                </select>\n            </div>\n            <div class="item">\n                <div class="title-sub" data-i18n="dialog.formPropertiesDialog.appearance.borderColor"></div>\n                <div class="color-picker">\n                    <div class="color-picker-anchor"><div class="label">?</div><div class="mask"></div></div>\n                    <div class="color-picker-dialog">\n                        <color name="color-picker" type="border"></color>\n                        <div class="d-f ai-c jc-fe">\n                            <div class="fv__ui-dialog-button fv__ui-dialog-cancel-button mt-20" name="closeColorPicker">dialog.close</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="item">\n                <div class="title-sub" data-i18n="dialog.formPropertiesDialog.appearance.fillColor"></div>\n                <div class="color-picker">\n                    <div class="color-picker-anchor"><div class="label">?</div><div class="mask"></div></div>\n                    <div class="color-picker-dialog">\n                        <color name="color-picker" type="fill"></color>\n                        <div class="d-f ai-c jc-fe">\n                            <div class="fv__ui-dialog-button fv__ui-dialog-cancel-button mt-20" name="closeColorPicker">dialog.close</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="footer">\n        <label class="d-f ai-c">\n            <input type="checkbox" name="locked"/><div data-i18n="dialog.formPropertiesDialog.footer.locked"></div>\n        </label>\n        <div class="fv__ui-dialog-button fv__ui-dialog-cancel-button" name="closeDialog">dialog.close</div>\n    </div>\n</layer>'}},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(118),i=(o=r)&&o.__esModule?o:{default:o},a=n(11),s=n(107);function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n,o,r,i,c){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return u.target=o,u.anchor=i,u.pdfViewer=n,u.contextMenuComponent=r,u.contextmenuHandler=function(t){var e=u.findTarget(c.selector,t.target);if(e&&!u.isDisabled){if(u.currentAnchorElement=e,u.target instanceof a.AnnotComponent){if(!u.getAnnotTarget().showContextMenu(t.clientX,t.clientY))return}else if("function"==typeof u.target.getContextMenuComponentName){if(u.setCurrentTarget(u.target),!u.showAt(t.clientX,t.clientY))return}else{var n=+u.currentAnchorElement.closest("[data-index]").getAttribute("data-index"),o=u.pdfViewer.getPDFPageRender(n);if(u.setCurrentTarget(o.page),!u.showAt(t.clientX,t.clientY))return}t.stopPropagation(),t.preventDefault()}},r.on("hidden",(function(){u.hiddenCallbacks.forEach((function(t){return t.call(u)}))})),u.detachContextMenuEvent=(0,s.attachContextMenuEvent)(i,u.contextmenuHandler),u}return c(e,t),e.prototype.setCurrentTarget=function(e){t.prototype.setCurrentTarget.call(this,e),this.contextMenuComponent.setCurrentTarget(e)},e.prototype.findTarget=function(t,e){var n=e.querySelector(t);if(n)return n;for(var o=e;o;){if(o.matches(t))return o;o=o.parentElement}},e.prototype.getAnnotTarget=function(){var t=this.target,e=t.annot;if(e.isGrouped&&e.isGrouped()){var n=e.getGroupHeader(),o=n.getIntent();o&&"replace"===o.toLowerCase()&&(t=t.annotsRender.getAnnotRender(n.getId()).component)}return this.setCurrentTarget(t),t},e.prototype.showAt=function(e,n){return!this.contextMenuComponent.isDestroyed&&(t.prototype.showAt.call(this,e,n),this.contextMenuComponent.trigger("beforeshow"),this.contextMenuComponent.showAt(e,n),this.contextMenuComponent.trigger("aftershow"),!0)},e.prototype.destroy=function(){this.detachContextMenuEvent()},e}(i.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(119);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o));return i.tooltipComponent=r,i}return i(e,t),e.prototype.onShow=function(t){this.callback=t},e.prototype.showAt=function(e,n,o,r,i){if(t.prototype.showAt.call(this,e,n),!this.callback||!this.callback()){o||(o=this.pageRender.$ui);var a=o[0];this.tooltipComponent.showAt(e,n,a),this.tooltipComponent.addCSSClass(r),this.tooltipComponent.removeCSSClass(i)}},e.prototype.hide=function(){t.prototype.hide.call(this),this.tooltipComponent.hide()},e.prototype.destroy=function(){this.tooltipComponent.hide()},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(119)),r=a(n(160)),i=n(5);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n,o,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o));s.textSelectionTool=new r.default(n,o),s.tooltipComponent=a;var c=function(t){var e=t.getPermissionsSync(),n=s.tooltipComponent.children();n&&0==n.length||(n.forEach((function(t){32&e?t.enable():t.disable()})),16&e?n[0].enable():n[0].disable())};return n.eventEmitter.on("permission-changed",c),s.addDestroyHook(a.on(i.COMPONENT_EVENTS.HIDDEN,(function(){t.prototype.hide.call(s)})),(function(t){return n.eventEmitter.off("permission-changed",c)})),n.currentPDFDoc&&c(n.currentPDFDoc),s}return s(e,t),e.prototype.showAt=function(e,n){t.prototype.showAt.call(this,e,n);var o=this.pageRender.$ui.get(0),r=this.tooltipComponent;r.setCurrentSelectionTool(this.textSelectionTool),r.showAt(e,n,o,(function(t){var o=t.offsetHeight,r=t.offsetWidth;return{left:e-r/2,top:n-o-10}}))},e.prototype.hide=function(){t.prototype.hide.call(this),this.tooltipComponent.hide()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.tooltipComponent.hide(),this.textSelectionTool.destroy()},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=c(n(78)),r=c(n(216)),i=c(n(373)),a=c(n(1111)),s=c(n(1115));function c(t){return t&&t.__esModule?t:{default:t}}e.default={simple:o.default,adaptive:s.default,ribbon:r.default,nonRibbon:a.default,mobile:i.default,Appearance:o.default,AdaptiveAppearance:s.default,RibbonAppearance:r.default,NonRibbonAppearance:a.default,MobileAppearance:i.default}},function(t,e,n){n(0);t.exports=function(t){"use strict";t=t||{};return'<webpdf>\n    <div class="fv__ui-mobile-header" name="fv--mobile-header">\n        <div class="fv__ui-mobile-header-left" name="fv--mobile-header-left">\n            <mobile:sidebar-toggler-button name="fv--mobile-sidebar-tottler-button"></mobile:sidebar-toggler-button>\n        </div>\n        <div class="fv__ui-mobile-header-main" name="fv--mobile-header-main">\n            <dropdown name="tabs" class="fv__ui-mobile-tabs-dropdown" @selectable-dropdown="first" @controller="mobile:MobileDropdownTabController as mtabc">\n                <dropdown-button tab="comment" @on.click="mtabc.switchTab($component)" active>toolbar.tabs.comment.title</dropdown-button>\n                <dropdown-button tab="edit" visible=\'false\' @on.click="mtabc.switchTab($component)">toolbar.tabs.edit.title</dropdown-button>\n                <dropdown-button tab="protect" @hide-on-sr @on.click="mtabc.switchTab($component)">toolbar.tabs.protect.title</dropdown-button>\n            </dropdown>\n        </div>\n        <div class="fv__ui-mobile-header-right" name="fv--mobile-header-right">\n            <hand-button icon-class="fv__icon-mobile-topbar-hand"></hand-button>\n            <change-color-dropdown></change-color-dropdown>\n            <mobile:pageview-dropdown name="fv--mobile-pageview-dropdown" @selectable-dropdown="1">\n                <single-page-button></single-page-button>\n                <continuous-page-button></continuous-page-button>\n                \x3c!-- <facing-page-button></facing-page-button>\n                <continuous-facing-page-button></continuous-facing-page-button> --\x3e\n                <h-continuous:h-continuous-button></h-continuous:h-continuous-button>\n                \x3c!--<h-single:h-single-button></h-single:h-single-button>--\x3e\n                \x3c!--<h-facing:h-facing-button></h-facing:h-facing-button>--\x3e\n            </mobile:pageview-dropdown>\n            <xbutton name="fv--mobile-topbar-search-button" icon-class="fv__icon-mobile-topbar-search" @controller="mobile:SearchToggleButtonController"></xbutton>\n            <dropdown class="fv__ui-mobile-topbar-tools-dropdown fv__ui-dropdown-hide-text" name="fv--mobile-topbar-tools-dropdown" @cannotBeDisabled>\n                <open-localfile-button @cannotBeDisabled></open-localfile-button>\n                <open-fromurl-button @cannotBeDisabled></open-fromurl-button>\n                <print:print-button @hide-on-sr></print:print-button>\n                <download-file-button></download-file-button>\n                <full-screen:toggle-full-screen-button name="fv--toggle-full-screen-button" @hide-on-device="ios"></full-screen:toggle-full-screen-button>\n                <fpmodule:file-property-button name="fv--file-property-button"></fpmodule:file-property-button>\n            </dropdown>\n        </div>\n    </div>\n    <toolbar>\n        <div class="fv__ui-mobile-toolbar-tabs" name="fv--mobile-toolbar-tabs">\n            <div class="fv__ui-mobile-toolbar-tab" tab="comment">\n                <group-list shrink-size="-1">\n                    <group>\n                        <dropdown @selectable-dropdown="first" class="fv__ui-dropdown-hide-text">\n                            <create-text-highlight-button></create-text-highlight-button>\n                            <create-area-highlight-button></create-area-highlight-button>\n                            <create-strikeout-button></create-strikeout-button>\n                            <create-underline-button></create-underline-button>\n                            <create-squiggly-button></create-squiggly-button>\n                            <create-replace-button></create-replace-button>\n                            <create-caret-button></create-caret-button>\n                        </dropdown>\n                        <dropdown @selectable-dropdown="first" class="fv__ui-dropdown-hide-text">\n                            <create-textbox-button></create-textbox-button>\n                            <create-typewriter-button></create-typewriter-button>\n                            <create-callout-button></create-callout-button>\n                        </dropdown>\n                        <create-drawings-dropdown></create-drawings-dropdown>\n                    </group>\n                    <group>\n                        <dropdown @selectable-dropdown="first" class="fv__ui-dropdown-hide-text">\n                            <create-pencil-button></create-pencil-button>\n                            <eraser-button></eraser-button>\n                        </dropdown>\n                        <stamp-dropdown align="client-center" @hide-on-sr></stamp-dropdown>\n                        <dropdown name="fv-mobile-attachment-dropdown" @selectable-dropdown="first" class="fv__ui-dropdown-hide-text">\n                            <create-note-button></create-note-button>\n                            <create-attachment-button></create-attachment-button>\n                            <create-image-button @hide-on-sr></create-image-button>\n                            <create-link-button @hide-on-sr></create-link-button>\n                        </dropdown>\n                    </group>\n                    <group name="fv--mobile-media-group" @hide-on-sr>\n                        <multi-media:multi-media-button></multi-media:multi-media-button>\n                    </group>\n                    <group name="home-tab-group-form" @hide-on-sr class="fv__ui-form-group">\n                        <import-form-module:import-form-button></import-form-module:import-form-button>\n                        <export-form-module:export-form-dropdown></export-form-module:export-form-dropdown>\n                    </group>\n                </group-list>\n            </div>\n            <div class="fv__ui-mobile-toolbar-tab" tab="edit" @hide-on-sr>\n                <group-list shrink-size="-1">\n                    <group name="edit-tab-group-mode">\n                        <edit-pageobjects:edit-all-objects-button></edit-pageobjects:edit-all-objects-button>\n                        <add-image-button></add-image-button>\n                        <edit-pageobjects:path-objects-dropdown></edit-pageobjects:path-objects-dropdown>\n                        \x3c!--<edit-image-button></edit-image-button>--\x3e\n                    </group>\n                    <group name="edit-tab-group-font" retain-count="6">\n                        <edit-text-object:add-text-button></edit-text-object:add-text-button>\n                        <edit-text-object:text-bold-style-button></edit-text-object:text-bold-style-button>\n                        <edit-text-object:text-italic-style-button></edit-text-object:text-italic-style-button>\n                        <edit-text-object:font-color-picker></edit-text-object:font-color-picker>\n                        <edit-text-object:font-style-dropdown align="right"></edit-text-object:font-style-dropdown>\n                    </group>\n                    <group name="edit-tab-group-layer" visible="false"></group>\n                    <group name="edit-tab-group-redact" visible="false"></group>\n                </group-list>\n            </div>\n            <div class="fv__ui-mobile-toolbar-tab" tab="protect" @hide-on-sr>\n                <group-list shrink-size="-1" name="protect-toolbar-group-list">\n                    <group name="protect-tab-group-sign">\n                        <ink-sign-dropdown name="fv--ink-sign-dropdown"></ink-sign-dropdown>\n                    </group>\n                    <group name="password-protect-group">\n                        <password-protect:password-protect-button></password-protect:password-protect-button>\n                        <password-protect:remove-protect-button></password-protect:remove-protect-button>\n                    </group>\n                    <group name="redaction">\n                        <redaction:create-redactions-dropdown></redaction:create-redactions-dropdown>\n                        <redaction:apply-redactions-button></redaction:apply-redactions-button>\n                        <redaction:redaction-search-button></redaction:redaction-search-button>\n                    </group>\n                </group-list>\n            </div>\n        </div>\n    </toolbar>\n    <div class="fv__ui-body">\n        <sidebar name="sidebar" @controller="sidebar:SidebarController" width="0.64" @mobile:sidebar-toggler>\n            <bookmark-sidebar-panel></bookmark-sidebar-panel>\n            <commentlist-sidebar-panel>\n                <slot for="header">\n                    <comment-list:toggle-commentlist-group-button></comment-list:toggle-commentlist-group-button>\n                    <dropdown class="comment-list-dropdown" icon-class="fv__icon-toolbar-more">\n                        \x3c!-- <comment-list:expand-pages-button></comment-list:expand-pages-button>\n                        <comment-list:collapse-pages-button></comment-list:collapse-pages-button> --\x3e\n                        <comment-list:show-comment-button></comment-list:show-comment-button>\n                        <comment-list:hide-comment-button></comment-list:hide-comment-button>\n                        <comment-list:import-comment-button></comment-list:import-comment-button>\n                        <dropdown-item class="fv__ui-dropdown-container-item">\n                            <comment-list:export-comment-dropdown></comment-list:export-comment-dropdown>\n                        </dropdown-item>\n                    </dropdown>\n                </slot>\n            </commentlist-sidebar-panel>\n            <thumbnail-sidebar-panel @require-modules="thumbnail" @hide-on-sr></thumbnail-sidebar-panel>\n            <layer-sidebar-panel @hide-on-sr></layer-sidebar-panel>\n            <search-sidebar-panel></search-sidebar-panel>\n            <attachment-sidebar-panel></attachment-sidebar-panel>\n        </sidebar>\n        <viewer @zoom-on-pinch @zoom-on-doubletap @touch-to-scroll></viewer>\n        <page-nav-button></page-nav-button>\n    </div>\n    <template name="template-container">\n        <create-stamp-dialog @hide-on-sr></create-stamp-dialog>\n        <print:print-dialog></print:print-dialog>\n        <loupe-tool-dialog></loupe-tool-dialog>\n        <create-ink-sign-dialog></create-ink-sign-dialog>\n        <measurement-popup></measurement-popup>\n        <fpmodule:file-property-dialog></fpmodule:file-property-dialog>\n        <redaction:redaction-page-dialog @hide-on-sr></redaction:redaction-page-dialog>\n        \x3c!-- contextmenus --\x3e\n        <page-contextmenu></page-contextmenu>\n        <measurement-contextmenu></measurement-contextmenu>\n        <default-annot-contextmenu></default-annot-contextmenu>\n        <markup-contextmenu name="fv--line-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--linearrow-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--linedimension-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--polylinedimention-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--polygondimension-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--circle-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--square-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--polyline-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--polygon-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--polygoncloud-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--ink-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--stamp-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--text-contextmenu"></markup-contextmenu>\n        <caret-contextmenu name="fv--areahighlight-contextmenu"></caret-contextmenu>\n        <caret-contextmenu name="fv--replace-contextmenu"></caret-contextmenu>\n        <markup-contextmenu></markup-contextmenu>\n        <caret-contextmenu name="fv--caret-contextmenu"></caret-contextmenu>\n        <textmarkup-contextmenu name="fv--highlight-contextmenu"></textmarkup-contextmenu>\n        <textmarkup-contextmenu name="fv--strikeout-contextmenu"></textmarkup-contextmenu>\n        <textmarkup-contextmenu name="fv--underline-contextmenu"></textmarkup-contextmenu>\n        <textmarkup-contextmenu name="fv--squiggly-contextmenu"></textmarkup-contextmenu>\n        <freetext-contextmenu name="fv--typewriter-contextmenu"></freetext-contextmenu>\n        <freetext-contextmenu name="fv--callout-contextmenu"></freetext-contextmenu>\n        <freetext-contextmenu name="fv--textbox-contextmenu"></freetext-contextmenu>\n        <action-annot-contextmenu name="fv--image-contextmenu"></action-annot-contextmenu>\n        <action-annot-contextmenu name="fv--link-contextmenu"></action-annot-contextmenu>\n        <comment-card-contextmenu></comment-card-contextmenu>\n        <fileattachment-contextmenu></fileattachment-contextmenu>\n        <media-contextmenu @hide-on-sr></media-contextmenu>\n        <sound-contextmenu @hide-on-sr></sound-contextmenu>\n        <redact-contextmenu></redact-contextmenu>\n        <edit-graphics:image-contextmenu></edit-graphics:image-contextmenu>\n        <edit-pageobjects:path-contextmenu></edit-pageobjects:path-contextmenu>\n        <text-sel:text-selection-tooltip></text-sel:text-selection-tooltip>\n        <freetext:freetext-tooltip></freetext:freetext-tooltip>\n    </template>\n</webpdf>','<webpdf>\n    <div class="fv__ui-mobile-header" name="fv--mobile-header">\n        <div class="fv__ui-mobile-header-left" name="fv--mobile-header-left">\n            <mobile:sidebar-toggler-button name="fv--mobile-sidebar-tottler-button"></mobile:sidebar-toggler-button>\n        </div>\n        <div class="fv__ui-mobile-header-main" name="fv--mobile-header-main">\n            <dropdown name="tabs" class="fv__ui-mobile-tabs-dropdown" @selectable-dropdown="first" @controller="mobile:MobileDropdownTabController as mtabc">\n                <dropdown-button tab="comment" @on.click="mtabc.switchTab($component)" active>toolbar.tabs.comment.title</dropdown-button>\n                <dropdown-button tab="edit" visible=\'false\' @on.click="mtabc.switchTab($component)">toolbar.tabs.edit.title</dropdown-button>\n                <dropdown-button tab="protect" @hide-on-sr @on.click="mtabc.switchTab($component)">toolbar.tabs.protect.title</dropdown-button>\n            </dropdown>\n        </div>\n        <div class="fv__ui-mobile-header-right" name="fv--mobile-header-right">\n            <hand-button icon-class="fv__icon-mobile-topbar-hand"></hand-button>\n            <change-color-dropdown></change-color-dropdown>\n            <mobile:pageview-dropdown name="fv--mobile-pageview-dropdown" @selectable-dropdown="1">\n                <single-page-button></single-page-button>\n                <continuous-page-button></continuous-page-button>\n                \x3c!-- <facing-page-button></facing-page-button>\n                <continuous-facing-page-button></continuous-facing-page-button> --\x3e\n                <h-continuous:h-continuous-button></h-continuous:h-continuous-button>\n                \x3c!--<h-single:h-single-button></h-single:h-single-button>--\x3e\n                \x3c!--<h-facing:h-facing-button></h-facing:h-facing-button>--\x3e\n            </mobile:pageview-dropdown>\n            <xbutton name="fv--mobile-topbar-search-button" icon-class="fv__icon-mobile-topbar-search" @controller="mobile:SearchToggleButtonController"></xbutton>\n            <dropdown class="fv__ui-mobile-topbar-tools-dropdown fv__ui-dropdown-hide-text" name="fv--mobile-topbar-tools-dropdown" @cannotBeDisabled>\n                <open-localfile-button @cannotBeDisabled></open-localfile-button>\n                <open-fromurl-button @cannotBeDisabled></open-fromurl-button>\n                <print:print-button @hide-on-sr></print:print-button>\n                <download-file-button></download-file-button>\n                <full-screen:toggle-full-screen-button name="fv--toggle-full-screen-button" @hide-on-device="ios"></full-screen:toggle-full-screen-button>\n                <fpmodule:file-property-button name="fv--file-property-button"></fpmodule:file-property-button>\n            </dropdown>\n        </div>\n    </div>\n    <toolbar>\n        <div class="fv__ui-mobile-toolbar-tabs" name="fv--mobile-toolbar-tabs">\n            <div class="fv__ui-mobile-toolbar-tab" tab="comment">\n                <group-list shrink-size="-1">\n                    <group>\n                        <dropdown @selectable-dropdown="first" class="fv__ui-dropdown-hide-text">\n                            <create-text-highlight-button></create-text-highlight-button>\n                            <create-area-highlight-button></create-area-highlight-button>\n                            <create-strikeout-button></create-strikeout-button>\n                            <create-underline-button></create-underline-button>\n                            <create-squiggly-button></create-squiggly-button>\n                            <create-replace-button></create-replace-button>\n                            <create-caret-button></create-caret-button>\n                        </dropdown>\n                        <dropdown @selectable-dropdown="first" class="fv__ui-dropdown-hide-text">\n                            <create-textbox-button></create-textbox-button>\n                            <create-typewriter-button></create-typewriter-button>\n                            <create-callout-button></create-callout-button>\n                        </dropdown>\n                        <create-drawings-dropdown></create-drawings-dropdown>\n                    </group>\n                    <group>\n                        <dropdown @selectable-dropdown="first" class="fv__ui-dropdown-hide-text">\n                            <create-pencil-button></create-pencil-button>\n                            <eraser-button></eraser-button>\n                        </dropdown>\n                        <stamp-dropdown align="client-center" @hide-on-sr></stamp-dropdown>\n                        <dropdown name="fv-mobile-attachment-dropdown" @selectable-dropdown="first" class="fv__ui-dropdown-hide-text">\n                            <create-note-button></create-note-button>\n                            <create-attachment-button></create-attachment-button>\n                            <create-image-button @hide-on-sr></create-image-button>\n                            <create-link-button @hide-on-sr></create-link-button>\n                        </dropdown>\n                    </group>\n                    <group name="fv--mobile-media-group" @hide-on-sr>\n                        <multi-media:multi-media-button></multi-media:multi-media-button>\n                    </group>\n                    <group name="home-tab-group-form" @hide-on-sr class="fv__ui-form-group">\n                        <import-form-module:import-form-button></import-form-module:import-form-button>\n                        <export-form-module:export-form-dropdown></export-form-module:export-form-dropdown>\n                    </group>\n                </group-list>\n            </div>\n            <div class="fv__ui-mobile-toolbar-tab" tab="edit" @hide-on-sr>\n                <group-list shrink-size="-1">\n                    <group name="edit-tab-group-mode">\n                        <edit-pageobjects:edit-all-objects-button></edit-pageobjects:edit-all-objects-button>\n                        <add-image-button></add-image-button>\n                        <edit-pageobjects:path-objects-dropdown></edit-pageobjects:path-objects-dropdown>\n                        \x3c!--<edit-image-button></edit-image-button>--\x3e\n                    </group>\n                    <group name="edit-tab-group-font" retain-count="6">\n                        <edit-text-object:add-text-button></edit-text-object:add-text-button>\n                        <edit-text-object:text-bold-style-button></edit-text-object:text-bold-style-button>\n                        <edit-text-object:text-italic-style-button></edit-text-object:text-italic-style-button>\n                        <edit-text-object:font-color-picker></edit-text-object:font-color-picker>\n                        <edit-text-object:font-style-dropdown align="right"></edit-text-object:font-style-dropdown>\n                    </group>\n                    <group name="edit-tab-group-layer" visible="false"></group>\n                    <group name="edit-tab-group-redact" visible="false"></group>\n                </group-list>\n            </div>\n            <div class="fv__ui-mobile-toolbar-tab" tab="protect" @hide-on-sr>\n                <group-list shrink-size="-1" name="protect-toolbar-group-list">\n                    <group name="protect-tab-group-sign">\n                        <ink-sign-dropdown name="fv--ink-sign-dropdown"></ink-sign-dropdown>\n                    </group>\n                    <group name="password-protect-group">\n                        <password-protect:password-protect-button></password-protect:password-protect-button>\n                        <password-protect:remove-protect-button></password-protect:remove-protect-button>\n                    </group>\n                    <group name="redaction">\n                        <redaction:create-redactions-dropdown></redaction:create-redactions-dropdown>\n                        <redaction:apply-redactions-button></redaction:apply-redactions-button>\n                        <redaction:redaction-search-button></redaction:redaction-search-button>\n                    </group>\n                </group-list>\n            </div>\n        </div>\n    </toolbar>\n    <div class="fv__ui-body">\n        <sidebar name="sidebar" @controller="sidebar:SidebarController" width="0.64" @mobile:sidebar-toggler>\n            <bookmark-sidebar-panel></bookmark-sidebar-panel>\n            <commentlist-sidebar-panel>\n                <slot for="header">\n                    <comment-list:toggle-commentlist-group-button></comment-list:toggle-commentlist-group-button>\n                    <dropdown class="comment-list-dropdown" icon-class="fv__icon-toolbar-more">\n                        \x3c!-- <comment-list:expand-pages-button></comment-list:expand-pages-button>\n                        <comment-list:collapse-pages-button></comment-list:collapse-pages-button> --\x3e\n                        <comment-list:show-comment-button></comment-list:show-comment-button>\n                        <comment-list:hide-comment-button></comment-list:hide-comment-button>\n                        <comment-list:import-comment-button></comment-list:import-comment-button>\n                        <dropdown-item class="fv__ui-dropdown-container-item">\n                            <comment-list:export-comment-dropdown></comment-list:export-comment-dropdown>\n                        </dropdown-item>\n                    </dropdown>\n                </slot>\n            </commentlist-sidebar-panel>\n            <thumbnail-sidebar-panel @require-modules="thumbnail" @hide-on-sr></thumbnail-sidebar-panel>\n            <layer-sidebar-panel @hide-on-sr></layer-sidebar-panel>\n            <search-sidebar-panel></search-sidebar-panel>\n            <attachment-sidebar-panel></attachment-sidebar-panel>\n        </sidebar>\n        <viewer @zoom-on-pinch @zoom-on-doubletap @touch-to-scroll></viewer>\n        <page-nav-button></page-nav-button>\n    </div>\n    <template name="template-container">\n        <create-stamp-dialog @hide-on-sr></create-stamp-dialog>\n        <print:print-dialog></print:print-dialog>\n        <loupe-tool-dialog></loupe-tool-dialog>\n        <create-ink-sign-dialog></create-ink-sign-dialog>\n        <measurement-popup></measurement-popup>\n        <fpmodule:file-property-dialog></fpmodule:file-property-dialog>\n        <redaction:redaction-page-dialog @hide-on-sr></redaction:redaction-page-dialog>\n        \x3c!-- contextmenus --\x3e\n        <page-contextmenu></page-contextmenu>\n        <measurement-contextmenu></measurement-contextmenu>\n        <default-annot-contextmenu></default-annot-contextmenu>\n        <markup-contextmenu name="fv--line-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--linearrow-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--linedimension-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--polylinedimention-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--polygondimension-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--circle-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--square-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--polyline-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--polygon-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--polygoncloud-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--ink-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--stamp-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--text-contextmenu"></markup-contextmenu>\n        <caret-contextmenu name="fv--areahighlight-contextmenu"></caret-contextmenu>\n        <caret-contextmenu name="fv--replace-contextmenu"></caret-contextmenu>\n        <markup-contextmenu></markup-contextmenu>\n        <caret-contextmenu name="fv--caret-contextmenu"></caret-contextmenu>\n        <textmarkup-contextmenu name="fv--highlight-contextmenu"></textmarkup-contextmenu>\n        <textmarkup-contextmenu name="fv--strikeout-contextmenu"></textmarkup-contextmenu>\n        <textmarkup-contextmenu name="fv--underline-contextmenu"></textmarkup-contextmenu>\n        <textmarkup-contextmenu name="fv--squiggly-contextmenu"></textmarkup-contextmenu>\n        <freetext-contextmenu name="fv--typewriter-contextmenu"></freetext-contextmenu>\n        <freetext-contextmenu name="fv--callout-contextmenu"></freetext-contextmenu>\n        <freetext-contextmenu name="fv--textbox-contextmenu"></freetext-contextmenu>\n        <action-annot-contextmenu name="fv--image-contextmenu"></action-annot-contextmenu>\n        <action-annot-contextmenu name="fv--link-contextmenu"></action-annot-contextmenu>\n        <comment-card-contextmenu></comment-card-contextmenu>\n        <fileattachment-contextmenu></fileattachment-contextmenu>\n        <media-contextmenu @hide-on-sr></media-contextmenu>\n        <sound-contextmenu @hide-on-sr></sound-contextmenu>\n        <redact-contextmenu></redact-contextmenu>\n        <edit-graphics:image-contextmenu></edit-graphics:image-contextmenu>\n        <edit-pageobjects:path-contextmenu></edit-pageobjects:path-contextmenu>\n        <text-sel:text-selection-tooltip></text-sel:text-selection-tooltip>\n        <freetext:freetext-tooltip></freetext:freetext-tooltip>\n    </template>\n</webpdf>'}},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n(10)),r=s(n(82)),i=n(5),a=n(11);function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n))}return c(e,t),e.getName=function(){return"selectable-dropdown"},e.prototype.init=function(e){if(!(e instanceof r.default))throw new TypeError("@selectable-dropdown directive must be used for dropdown component");t.prototype.init.call(this,e)},e.prototype.componentPrelink=function(){var t=this;this.component.on(i.COMPONENT_EVENTS.CHILD_INSERTED,(function(e){var n=void 0;n=e.isFileSelector?"change":"click",e.on(n,(function(){t.component.select(e)}))}))},e.prototype.componentMounted=function(){var t=-1,e=this.component;switch(this.attrValue){case"none":case"":break;case"first":t=0;break;case"last":t=e.size()-1;break;default:isFinite(Number(this.attrValue))&&(t=Number(this.attrValue))}t>=0&&t<e.size()&&e.select(e.childAt(t));var n=e.children().map((function(t){return t.controller.stateName})).filter((function(t){return"string"==typeof t}));e.pdfUI.addViewerEventListener(a.Events.switchStateHandler,(function(t,o){var r=t.getStateName();n.indexOf(r)>-1?e.element.classList.add("selected"):e.element.classList.remove("selected")}))},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(2);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.currentTabName,o}return i(e,t),e.getName=function(){return"MobileDropdownTabController"},e.prototype.postlink=function(){var t=this.component.findChildren((function(t){return t.isActive}),!1)[0];t&&(this.currentTabName=t.getAttribute("tab"))},e.prototype.mounted=function(){if(this.tabsContainer=this.getComponentByName("fv--mobile-toolbar-tabs"),!this.tabsContainer)throw new Error("tabs body not found!");this.currentTabName&&this.doShowTab(this.currentTabName)},e.prototype.doShowTab=function(t){var e=this.tabsContainer.findChildren((function(e){return e.getAttribute("tab")==t}))[0];e&&e.element.classList.add("active")},e.prototype.doHideTab=function(t){var e=this.tabsContainer.findChildren((function(e){return e.getAttribute("tab")==t}))[0];e&&e.element.classList.remove("active")},e.prototype.toggleTab=function(t){var e=this.tabsContainer.findChildren((function(e){return e.getAttribute("tab")==t}))[0].element.classList;e.contains("active")?e.remove("active"):e.add("active")},e.prototype.switchTab=function(t){var e=t.getAttribute("tab");e===this.currentTabName?this.toggleTab(e):(this.doHideTab(this.currentTabName),this.doShowTab(this.currentTabName=e))},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(53)),r=n(48);i(n(8));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(){return a(this,e),s(this,t.apply(this,arguments))}return c(e,t),e.getName=function(){return"sidebar-toggler-button"},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this);var n=this.getRoot().getAllComponentsByType("sidebar");this.on("click",(function(){n.forEach((function(t){switch(t.status){case r.SidebarComponent.STATUS_COLLAPSED_TOTALLY:t.$lastStatus===r.SidebarComponent.STATUS_COLLAPSED?t.collapse():t.expand();break;case r.SidebarComponent.STATUS_COLLAPSED:case r.SidebarComponent.STATUS_EXPANDED:t.collapseTotally()}})),e.getPDFUI().redraw().catch((function(){}))}))},e}(o.default.createSuperClass({template:'\n        <xbutton icon-class="fv__icon-mobile-topbar-sidebar-toggler"></xbutton>\n    '}));e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(2);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(){return i(this,e),a(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"SearchToggleButtonController"},e.prototype.handle=function(){var t=this.getComponentByName("sidebar-search");t&&t.active(),this.getPDFUI().redraw().catch((function(){}))},e}(((o=r)&&o.__esModule?o:{default:o}).default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});r(n(223));var o=r(n(82));r(n(8));function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var a=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.align="center",i}return i(e,t),e.getName=function(){return"pageview-dropdown"},e.getMetadata=function(){return{options:{separate:{type:"boolean",defaultValue:!1}}}},e.prototype.render=function(){this.element.classList.add("fv__ui-mobile-pageview-dropdown","fv__ui-dropdown-direction-row","fv__ui-dropdown-hide-text"),t.prototype.render.call(this)},e.prototype.mounted=function(){t.prototype.mounted.call(this)},e}(o.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(10)),r=a(n(8)),i=n(48);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var l=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.getName=function(){return"sidebar-toggler"},e.prototype.componentMounted=function(){var t=this.component,e=this.component.getPDFUI();setTimeout((function(){t.collapseTotally()}));var n=t.status;this.addDestroyHook(e.addUIEventListener(r.default.fullscreenchange,(function(e){if(e)n=t.status,t.collapseTotally();else{if(n!==t.$lastStatus)return;switch(n){case i.SidebarComponent.STATUS_COLLAPSED:case i.SidebarComponent.STATUS_EXPANDED:t.expand()}}})))},e}(o.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1112)),i=n(78);function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(){return a(this,e),s(this,t.apply(this,arguments))}return c(e,t),e.prototype.getLayoutTemplate=function(){return r.template},e.prototype.getDefaultFragments=function(){return r.fragments},e}(((o=i)&&o.__esModule?o:{default:o}).default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.template=e.fragments=void 0;var o=n(370);Object.defineProperty(e,"fragments",{enumerable:!0,get:function(){return o.fragments}});var r,i=n(1113),a=(r=i)&&r.__esModule?r:{default:r};n(1114);e.template=(0,a.default)()},function(t,e,n){n(0);t.exports=function(t){"use strict";t=t||{};return'<webpdf>\n    <toolbar name="toolbar" class="fv__ui-non-ribbon-toolbar" @full-screen:fullscreen="hide">\n        <paddle name="fv--ui-non-ribbon-paddle">\n            <div class="fv__ui-flat-group-list-container">\n                <group-list name="home-toolbar-group-list">\n                    <group name="home-tab-group-hand" retain-count="3">\n                        <hand-button></hand-button>\n                        <selection-button></selection-button>\n                        <snapshot-button @hide-on-sr></snapshot-button>\n                    </group>\n                    <group name="home-tab-group-io" retain-count="1" shrink-title="toolbar.more.document.title">\n                        <open-file-dropdown></open-file-dropdown>\n                        <download-file-button></download-file-button>\n                        <print:print-button @hide-on-sr></print:print-button>\n                    </group>\n                    <group name="home-tab-group-nav" retain-count="3">\n                        <goto-prev-page-button></goto-prev-page-button>\n                        <goto-next-page-button></goto-next-page-button>\n                        <goto-page-input></goto-page-input>\n                    </group>\n                    <group name="home-tab-group-zoom">\n                        <zoom-out-button></zoom-out-button>\n                        <zoom-in-button></zoom-in-button>\n                        <editable-zoom-dropdown></editable-zoom-dropdown>\n                    </group>\n                    <group name="home-tab-group-page" retain-count="1">\n                        <single-page-button></single-page-button>\n                        <continuous-page-button></continuous-page-button>\n                        <facing-page-button></facing-page-button>\n                        <continuous-facing-page-button></continuous-facing-page-button>\n                        <h-continuous:h-continuous-button></h-continuous:h-continuous-button>\n                        \x3c!--<h-single:h-single-button></h-single:h-single-button>--\x3e\n                        \x3c!--<h-facing:h-facing-button></h-facing:h-facing-button>--\x3e\n                    </group>\n                    <group name="home-tab-group-magnifier" @hide-on-sr>\n                        <loupe-tool-button></loupe-tool-button>\n                    </group>\n                    <group name="home-tab-group-marquee" @hide-on-sr>\n                        <marquee-tool-button></marquee-tool-button>\n                    </group>\n                    <group name="home-tab-group-form" @hide-on-sr retain-count="2" @require-modules="import-form-module,export-form-module">\n                        <import-form-module:import-form-button></import-form-module:import-form-button>\n                        <export-form-module:export-form-dropdown></export-form-module:export-form-dropdown>\n                    </group>\n                    <group name="file-property" @require-modules="fpmodule">\n                        <fpmodule:file-property-button></fpmodule:file-property-button>\n                    </group>\n                </group-list>\n                <group-list name="comment-toolbar-group-list">\n                    <group name="comment-tab-group-hand" retain-count="3">\n                        <hand-button></hand-button>\n                        <selection-button></selection-button>\n                        <zoom-dropdown></zoom-dropdown>\n                    </group>\n                    <group name="comment-tab-group-note" retain-count="3">\n                        <create-note-button></create-note-button>                        \n                    </group>\n                    <group name="comment-tab-group-mark">\n                        <create-text-highlight-button></create-text-highlight-button>\n                        <create-strikeout-button></create-strikeout-button>\n                        <create-underline-button></create-underline-button>\n                        <create-squiggly-button></create-squiggly-button>\n                        <create-replace-button></create-replace-button>\n                        <create-caret-button></create-caret-button>\n                    </group>\n                    <group name="comment-tab-group-text">                      \n                        <create-typewriter-button></create-typewriter-button>\n                        <create-callout-button></create-callout-button>\n                        <create-textbox-button></create-textbox-button>\n                    </group>\n                    <group name="comment-tab-group-drawing" retain-count="2">\n                        <create-drawings-dropdown></create-drawings-dropdown>                       \n                        <create-area-highlight-button></create-area-highlight-button>\n                    </group>\n                    <group name="comment-tab-group-pencil" retain-count="2">\n                        <create-pencil-button></create-pencil-button>\n                        <eraser-button></eraser-button>\n                    </group>\n                    <group name="comment-tab-group-stamp" @hide-on-sr>\n                        <stamp-dropdown></stamp-dropdown>\n                    </group>\n                    <group name="comment-tab-group-measurement">\n                        <create-measure-dropdown></create-measure-dropdown>\n                    </group>\n                    <group name="comment-tab-group-media">\n                        <create-attachment-button></create-attachment-button>\n                        <create-image-button @hide-on-sr></create-image-button>\n                        <create-link-button @hide-on-sr></create-link-button>\n                        <multi-media:multi-media-button @hide-on-sr></multi-media:multi-media-button>\n                    </group>\n                    <group name="comment-tab-group-inksign" visible=\'false\'></group>                    \n                    <group name="comment-tab-group-other" visible=\'false\'></group>\n                </group-list>\n                <group-list name="edit-toolbar-group-list" @hide-on-sr>\n                    <group name="edit-tab-group-hand" retain-count="3">\n                        <hand-button></hand-button>\n                        <selection-button></selection-button>\n                        <zoom-dropdown></zoom-dropdown>\n                    </group>\n                    <group name="edit-tab-group-mode" retain-count="3">\n                        <edit-pageobjects:edit-all-objects-button></edit-pageobjects:edit-all-objects-button>\n                        <add-image-button></add-image-button>\n                        <edit-pageobjects:path-objects-dropdown></edit-pageobjects:path-objects-dropdown>\n                        \x3c!--<edit-image-button></edit-image-button>--\x3e\n                        <edit-text-object:add-text-button></edit-text-object:add-text-button>\n                    </group>\n                    <group name="edit-tab-group-font" retain-count="5" @require-modules="edit-text-object">\n                        <edit-text-object:text-bold-style-button></edit-text-object:text-bold-style-button>\n                        <edit-text-object:text-italic-style-button></edit-text-object:text-italic-style-button>\n                        <edit-text-object:font-color-picker></edit-text-object:font-color-picker>\n                        <edit-text-object:font-style-dropdown></edit-text-object:font-style-dropdown>\n                    </group>\n                    <group name="edit-tab-group-layer" visible="false"></group>\n                    <group name="edit-tab-group-redact" visible="false"></group>\n                </group-list>\n                <group-list name="protect-toolbar-group-list" @hide-on-sr>\n                    <group name="protect-tab-group-hand" retain-count="4">\n                        <hand-button></hand-button>\n                        <selection-button></selection-button>\n                        <zoom-dropdown></zoom-dropdown>\n                    </group>\n                    <group name="protect-tab-group-sign" retain-count="4">\n                        <ink-sign-dropdown></ink-sign-dropdown>\n                    </group>\n                    <group name="password-protect-group" @hide-on-sr retain-count="2" @require-modules="password-protect">\n                        <password-protect:password-protect-button></password-protect:password-protect-button>\n                        <password-protect:remove-protect-button></password-protect:remove-protect-button>\n                    </group>\n                    <group name="redaction" @require-modules="redaction">\n                        <redaction:create-redactions-dropdown></redaction:create-redactions-dropdown>\n                        <redaction:apply-redactions-button></redaction:apply-redactions-button>\n                        <redaction:redaction-search-button></redaction:redaction-search-button>\n                    </group>\n                </group-list>\n            </div>\n        </paddle>\n    </toolbar>\n    <div class="fv__ui-body">\n        <sidebar name="sidebar" @controller="sidebar:SidebarController">\n            <bookmark-sidebar-panel></bookmark-sidebar-panel>\n            <commentlist-sidebar-panel>\n                <slot for="header">\n                    <comment-list:toggle-commentlist-group-button></comment-list:toggle-commentlist-group-button>\n                    <dropdown class="comment-list-dropdown" icon-class="fv__icon-toolbar-more">\n                        \x3c!-- <comment-list:expand-pages-button></comment-list:expand-pages-button>\n                        <comment-list:collapse-pages-button></comment-list:collapse-pages-button> --\x3e\n                        <comment-list:show-comment-button></comment-list:show-comment-button>\n                        <comment-list:hide-comment-button></comment-list:hide-comment-button>\n                        <comment-list:import-comment-button></comment-list:import-comment-button>\n                        <dropdown-item class="fv__ui-dropdown-container-item">\n                            <comment-list:export-comment-dropdown></comment-list:export-comment-dropdown>\n                        </dropdown-item>\n                    </dropdown>\n                </slot>\n            </commentlist-sidebar-panel>\n            <layer-sidebar-panel @hide-on-sr></layer-sidebar-panel>\n            <search-sidebar-panel></search-sidebar-panel>\n            <attachment-sidebar-panel></attachment-sidebar-panel>\n        </sidebar>\n        <distance:ruler-container name="pdf-viewer-container-with-ruler">\n            <slot>\n                <viewer @zoom-on-pinch @zoom-on-doubletap @zoom-on-wheel @touch-to-scroll></viewer>\n            </slot>\n        </distance:ruler-container>\n    </div>\n    <template name="template-container">\n        <create-stamp-dialog @hide-on-sr></create-stamp-dialog>\n        <print:print-dialog @hide-on-sr></print:print-dialog>\n        <loupe-tool-dialog @hide-on-sr></loupe-tool-dialog>\n        <create-ink-sign-dialog></create-ink-sign-dialog>\n        <distance:measurement-popup></distance:measurement-popup>\n        <fpmodule:file-property-dialog></fpmodule:file-property-dialog>\n        <redaction:redaction-page-dialog @hide-on-sr></redaction:redaction-page-dialog>\n        \x3c!-- contextmenus --\x3e\n        <page-contextmenu></page-contextmenu>\n        <default-annot-contextmenu></default-annot-contextmenu>\n        <markup-contextmenu></markup-contextmenu>\n        <markup-contextmenu name="fv--line-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--linearrow-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--linedimension-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--polylinedimention-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--polygondimension-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--circle-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--square-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--polyline-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--polygon-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--polygoncloud-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--ink-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--stamp-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--text-contextmenu"></markup-contextmenu>\n        <caret-contextmenu name="fv--areahighlight-contextmenu"></caret-contextmenu>\n        <caret-contextmenu name="fv--replace-contextmenu"></caret-contextmenu>\n        <measurement-contextmenu></measurement-contextmenu>\n        <caret-contextmenu name="fv--caret-contextmenu"></caret-contextmenu>\n        <textmarkup-contextmenu name="fv--highlight-contextmenu"></textmarkup-contextmenu>\n        <textmarkup-contextmenu name="fv--strikeout-contextmenu"></textmarkup-contextmenu>\n        <textmarkup-contextmenu name="fv--underline-contextmenu"></textmarkup-contextmenu>\n        <textmarkup-contextmenu name="fv--squiggly-contextmenu"></textmarkup-contextmenu>\n        <freetext-contextmenu name="fv--typewriter-contextmenu"></freetext-contextmenu>\n        <freetext-contextmenu name="fv--callout-contextmenu"></freetext-contextmenu>\n        <freetext-contextmenu name="fv--textbox-contextmenu"></freetext-contextmenu>\n        <action-annot-contextmenu name="fv--image-contextmenu"></action-annot-contextmenu>\n        <action-annot-contextmenu name="fv--link-contextmenu"></action-annot-contextmenu>\n        <comment-card-contextmenu></comment-card-contextmenu>\n        <fileattachment-contextmenu></fileattachment-contextmenu>\n        <media-contextmenu @hide-on-sr></media-contextmenu>\n        <sound-contextmenu @hide-on-sr></sound-contextmenu>\n        <redact-contextmenu @hide-on-sr></redact-contextmenu>\n        <edit-graphics:image-contextmenu></edit-graphics:image-contextmenu>\n        <edit-pageobjects:path-contextmenu></edit-pageobjects:path-contextmenu>\n        <text-sel:text-selection-tooltip></text-sel:text-selection-tooltip>\n        <freetext:freetext-tooltip></freetext:freetext-tooltip>\n    </template>\n</webpdf>','<webpdf>\n    <toolbar name="toolbar" class="fv__ui-non-ribbon-toolbar" @full-screen:fullscreen="hide">\n        <paddle name="fv--ui-non-ribbon-paddle">\n            <div class="fv__ui-flat-group-list-container">\n                <group-list name="home-toolbar-group-list">\n                    <group name="home-tab-group-hand" retain-count="3">\n                        <hand-button></hand-button>\n                        <selection-button></selection-button>\n                        <snapshot-button @hide-on-sr></snapshot-button>\n                    </group>\n                    <group name="home-tab-group-io" retain-count="1" shrink-title="toolbar.more.document.title">\n                        <open-file-dropdown></open-file-dropdown>\n                        <download-file-button></download-file-button>\n                        <print:print-button @hide-on-sr></print:print-button>\n                    </group>\n                    <group name="home-tab-group-nav" retain-count="3">\n                        <goto-prev-page-button></goto-prev-page-button>\n                        <goto-next-page-button></goto-next-page-button>\n                        <goto-page-input></goto-page-input>\n                    </group>\n                    <group name="home-tab-group-zoom">\n                        <zoom-out-button></zoom-out-button>\n                        <zoom-in-button></zoom-in-button>\n                        <editable-zoom-dropdown></editable-zoom-dropdown>\n                    </group>\n                    <group name="home-tab-group-page" retain-count="1">\n                        <single-page-button></single-page-button>\n                        <continuous-page-button></continuous-page-button>\n                        <facing-page-button></facing-page-button>\n                        <continuous-facing-page-button></continuous-facing-page-button>\n                        <h-continuous:h-continuous-button></h-continuous:h-continuous-button>\n                        \x3c!--<h-single:h-single-button></h-single:h-single-button>--\x3e\n                        \x3c!--<h-facing:h-facing-button></h-facing:h-facing-button>--\x3e\n                    </group>\n                    <group name="home-tab-group-magnifier" @hide-on-sr>\n                        <loupe-tool-button></loupe-tool-button>\n                    </group>\n                    <group name="home-tab-group-marquee" @hide-on-sr>\n                        <marquee-tool-button></marquee-tool-button>\n                    </group>\n                    <group name="home-tab-group-form" @hide-on-sr retain-count="2" @require-modules="import-form-module,export-form-module">\n                        <import-form-module:import-form-button></import-form-module:import-form-button>\n                        <export-form-module:export-form-dropdown></export-form-module:export-form-dropdown>\n                    </group>\n                    <group name="file-property" @require-modules="fpmodule">\n                        <fpmodule:file-property-button></fpmodule:file-property-button>\n                    </group>\n                </group-list>\n                <group-list name="comment-toolbar-group-list">\n                    <group name="comment-tab-group-hand" retain-count="3">\n                        <hand-button></hand-button>\n                        <selection-button></selection-button>\n                        <zoom-dropdown></zoom-dropdown>\n                    </group>\n                    <group name="comment-tab-group-note" retain-count="3">\n                        <create-note-button></create-note-button>                        \n                    </group>\n                    <group name="comment-tab-group-mark">\n                        <create-text-highlight-button></create-text-highlight-button>\n                        <create-strikeout-button></create-strikeout-button>\n                        <create-underline-button></create-underline-button>\n                        <create-squiggly-button></create-squiggly-button>\n                        <create-replace-button></create-replace-button>\n                        <create-caret-button></create-caret-button>\n                    </group>\n                    <group name="comment-tab-group-text">                      \n                        <create-typewriter-button></create-typewriter-button>\n                        <create-callout-button></create-callout-button>\n                        <create-textbox-button></create-textbox-button>\n                    </group>\n                    <group name="comment-tab-group-drawing" retain-count="2">\n                        <create-drawings-dropdown></create-drawings-dropdown>                       \n                        <create-area-highlight-button></create-area-highlight-button>\n                    </group>\n                    <group name="comment-tab-group-pencil" retain-count="2">\n                        <create-pencil-button></create-pencil-button>\n                        <eraser-button></eraser-button>\n                    </group>\n                    <group name="comment-tab-group-stamp" @hide-on-sr>\n                        <stamp-dropdown></stamp-dropdown>\n                    </group>\n                    <group name="comment-tab-group-measurement">\n                        <create-measure-dropdown></create-measure-dropdown>\n                    </group>\n                    <group name="comment-tab-group-media">\n                        <create-attachment-button></create-attachment-button>\n                        <create-image-button @hide-on-sr></create-image-button>\n                        <create-link-button @hide-on-sr></create-link-button>\n                        <multi-media:multi-media-button @hide-on-sr></multi-media:multi-media-button>\n                    </group>\n                    <group name="comment-tab-group-inksign" visible=\'false\'></group>                    \n                    <group name="comment-tab-group-other" visible=\'false\'></group>\n                </group-list>\n                <group-list name="edit-toolbar-group-list" @hide-on-sr>\n                    <group name="edit-tab-group-hand" retain-count="3">\n                        <hand-button></hand-button>\n                        <selection-button></selection-button>\n                        <zoom-dropdown></zoom-dropdown>\n                    </group>\n                    <group name="edit-tab-group-mode" retain-count="3">\n                        <edit-pageobjects:edit-all-objects-button></edit-pageobjects:edit-all-objects-button>\n                        <add-image-button></add-image-button>\n                        <edit-pageobjects:path-objects-dropdown></edit-pageobjects:path-objects-dropdown>\n                        \x3c!--<edit-image-button></edit-image-button>--\x3e\n                        <edit-text-object:add-text-button></edit-text-object:add-text-button>\n                    </group>\n                    <group name="edit-tab-group-font" retain-count="5" @require-modules="edit-text-object">\n                        <edit-text-object:text-bold-style-button></edit-text-object:text-bold-style-button>\n                        <edit-text-object:text-italic-style-button></edit-text-object:text-italic-style-button>\n                        <edit-text-object:font-color-picker></edit-text-object:font-color-picker>\n                        <edit-text-object:font-style-dropdown></edit-text-object:font-style-dropdown>\n                    </group>\n                    <group name="edit-tab-group-layer" visible="false"></group>\n                    <group name="edit-tab-group-redact" visible="false"></group>\n                </group-list>\n                <group-list name="protect-toolbar-group-list" @hide-on-sr>\n                    <group name="protect-tab-group-hand" retain-count="4">\n                        <hand-button></hand-button>\n                        <selection-button></selection-button>\n                        <zoom-dropdown></zoom-dropdown>\n                    </group>\n                    <group name="protect-tab-group-sign" retain-count="4">\n                        <ink-sign-dropdown></ink-sign-dropdown>\n                    </group>\n                    <group name="password-protect-group" @hide-on-sr retain-count="2" @require-modules="password-protect">\n                        <password-protect:password-protect-button></password-protect:password-protect-button>\n                        <password-protect:remove-protect-button></password-protect:remove-protect-button>\n                    </group>\n                    <group name="redaction" @require-modules="redaction">\n                        <redaction:create-redactions-dropdown></redaction:create-redactions-dropdown>\n                        <redaction:apply-redactions-button></redaction:apply-redactions-button>\n                        <redaction:redaction-search-button></redaction:redaction-search-button>\n                    </group>\n                </group-list>\n            </div>\n        </paddle>\n    </toolbar>\n    <div class="fv__ui-body">\n        <sidebar name="sidebar" @controller="sidebar:SidebarController">\n            <bookmark-sidebar-panel></bookmark-sidebar-panel>\n            <commentlist-sidebar-panel>\n                <slot for="header">\n                    <comment-list:toggle-commentlist-group-button></comment-list:toggle-commentlist-group-button>\n                    <dropdown class="comment-list-dropdown" icon-class="fv__icon-toolbar-more">\n                        \x3c!-- <comment-list:expand-pages-button></comment-list:expand-pages-button>\n                        <comment-list:collapse-pages-button></comment-list:collapse-pages-button> --\x3e\n                        <comment-list:show-comment-button></comment-list:show-comment-button>\n                        <comment-list:hide-comment-button></comment-list:hide-comment-button>\n                        <comment-list:import-comment-button></comment-list:import-comment-button>\n                        <dropdown-item class="fv__ui-dropdown-container-item">\n                            <comment-list:export-comment-dropdown></comment-list:export-comment-dropdown>\n                        </dropdown-item>\n                    </dropdown>\n                </slot>\n            </commentlist-sidebar-panel>\n            <layer-sidebar-panel @hide-on-sr></layer-sidebar-panel>\n            <search-sidebar-panel></search-sidebar-panel>\n            <attachment-sidebar-panel></attachment-sidebar-panel>\n        </sidebar>\n        <distance:ruler-container name="pdf-viewer-container-with-ruler">\n            <slot>\n                <viewer @zoom-on-pinch @zoom-on-doubletap @zoom-on-wheel @touch-to-scroll></viewer>\n            </slot>\n        </distance:ruler-container>\n    </div>\n    <template name="template-container">\n        <create-stamp-dialog @hide-on-sr></create-stamp-dialog>\n        <print:print-dialog @hide-on-sr></print:print-dialog>\n        <loupe-tool-dialog @hide-on-sr></loupe-tool-dialog>\n        <create-ink-sign-dialog></create-ink-sign-dialog>\n        <distance:measurement-popup></distance:measurement-popup>\n        <fpmodule:file-property-dialog></fpmodule:file-property-dialog>\n        <redaction:redaction-page-dialog @hide-on-sr></redaction:redaction-page-dialog>\n        \x3c!-- contextmenus --\x3e\n        <page-contextmenu></page-contextmenu>\n        <default-annot-contextmenu></default-annot-contextmenu>\n        <markup-contextmenu></markup-contextmenu>\n        <markup-contextmenu name="fv--line-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--linearrow-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--linedimension-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--polylinedimention-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--polygondimension-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--circle-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--square-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--polyline-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--polygon-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--polygoncloud-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--ink-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--stamp-contextmenu"></markup-contextmenu>\n        <markup-contextmenu name="fv--text-contextmenu"></markup-contextmenu>\n        <caret-contextmenu name="fv--areahighlight-contextmenu"></caret-contextmenu>\n        <caret-contextmenu name="fv--replace-contextmenu"></caret-contextmenu>\n        <measurement-contextmenu></measurement-contextmenu>\n        <caret-contextmenu name="fv--caret-contextmenu"></caret-contextmenu>\n        <textmarkup-contextmenu name="fv--highlight-contextmenu"></textmarkup-contextmenu>\n        <textmarkup-contextmenu name="fv--strikeout-contextmenu"></textmarkup-contextmenu>\n        <textmarkup-contextmenu name="fv--underline-contextmenu"></textmarkup-contextmenu>\n        <textmarkup-contextmenu name="fv--squiggly-contextmenu"></textmarkup-contextmenu>\n        <freetext-contextmenu name="fv--typewriter-contextmenu"></freetext-contextmenu>\n        <freetext-contextmenu name="fv--callout-contextmenu"></freetext-contextmenu>\n        <freetext-contextmenu name="fv--textbox-contextmenu"></freetext-contextmenu>\n        <action-annot-contextmenu name="fv--image-contextmenu"></action-annot-contextmenu>\n        <action-annot-contextmenu name="fv--link-contextmenu"></action-annot-contextmenu>\n        <comment-card-contextmenu></comment-card-contextmenu>\n        <fileattachment-contextmenu></fileattachment-contextmenu>\n        <media-contextmenu @hide-on-sr></media-contextmenu>\n        <sound-contextmenu @hide-on-sr></sound-contextmenu>\n        <redact-contextmenu @hide-on-sr></redact-contextmenu>\n        <edit-graphics:image-contextmenu></edit-graphics:image-contextmenu>\n        <edit-pageobjects:path-contextmenu></edit-pageobjects:path-contextmenu>\n        <text-sel:text-selection-tooltip></text-sel:text-selection-tooltip>\n        <freetext:freetext-tooltip></freetext:freetext-tooltip>\n    </template>\n</webpdf>'}},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(374);var o=s(n(78)),r=(s(n(87)),n(9)),i=s(n(373)),a=s(n(216));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var u=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.origin=r.isMobile?new i.default(n):new a.default(n),o}return c(e,t),e.prototype.getLayoutTemplate=function(){return this.origin.getLayoutTemplate()},e.prototype.getDefaultFragments=function(){return[]},e.prototype.beforeMounted=function(t){this.origin.beforeMounted(t)},e.prototype.afterMounted=function(t){this.origin.afterMounted(t)},e.prototype.processAddon=function(t){this.origin.processAddon(t)},e.prototype.disableAll=function(){this.origin.disableAll()},e.prototype.enableAll=function(){this.origin.enableAll()},e}(o.default);e.default=u},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.getName=function(){return"mobile-webpdf"},e.prototype.render=function(){t.prototype.render.call(this),this.element.classList.add("webpdf-mobile")},e}(n(48).WebPDFComponent);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(53)),r=i(n(1118));i(n(1));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}n(1119);var u=function(t){function e(){return a(this,e),s(this,t.apply(this,arguments))}return c(e,t),e.getName=function(){return"page-nav-layer"},e.prototype.postlink=function(){t.prototype.postlink.call(this),this.pageNumberInput=this.getComponentByName("page-number-input")},e.prototype.doShown=function(){var e=this;t.prototype.doShown.call(this),this.pageNumberInput.select(),setTimeout((function(){e.pageNumberInput.select()}))},e.prototype.getPageNumber=function(){return this.pageNumberInput.getValue()},e}(o.default.createSuperClass({template:(0,r.default)()}));e.default=u},function(t,e,n){n(0);t.exports=function(t){"use strict";t=t||{};return'<layer modal @controller="PageNavigationLayerController as navLayer" class="center fv__ui-page-nav-layer">\n    <layer-header title="mobile.nav-layer.title"></layer-header>\n    <layer-view>\n        <label>\n            <div class="fv__ui-page-nav-label">\n                <text>mobile.nav-layer.label</text>(1-<text @sync.text="navLayer.currentPageCount"></text>):\n            </div>\n            <number class="fv__ui-page-nav-page-number" name="page-number-input" min="1" step="1" @sync.value="navLayer.currentPageNumber" @sync.max="navLayer.currentPageCount"></number>\n        </label>\n    </layer-view>\n    <layer-toolbar>\n        <xbutton class="fv__ui-page-nav-button" @on.click="navLayer.component.hide()">mobile.nav-layer.cancel</xbutton>\n        <xbutton class="fv__ui-page-nav-button" @on.click="navLayer.confirm()">mobile.nav-layer.ok</xbutton>\n    </layer-toolbar>\n</layer>','<layer modal @controller="PageNavigationLayerController as navLayer" class="center fv__ui-page-nav-layer">\n    <layer-header title="mobile.nav-layer.title"></layer-header>\n    <layer-view>\n        <label>\n            <div class="fv__ui-page-nav-label">\n                <text>mobile.nav-layer.label</text>(1-<text @sync.text="navLayer.currentPageCount"></text>):\n            </div>\n            <number class="fv__ui-page-nav-page-number" name="page-number-input" min="1" step="1" @sync.value="navLayer.currentPageNumber" @sync.max="navLayer.currentPageCount"></number>\n        </label>\n    </layer-view>\n    <layer-toolbar>\n        <xbutton class="fv__ui-page-nav-button" @on.click="navLayer.component.hide()">mobile.nav-layer.cancel</xbutton>\n        <xbutton class="fv__ui-page-nav-button" @on.click="navLayer.confirm()">mobile.nav-layer.ok</xbutton>\n    </layer-toolbar>\n</layer>'}},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(53)),r=a(n(1121)),i=a(n(19));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}n(1122);var c=function(t){function e(n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,r));return i.checkValues(i.orientation,i.placement),i.position=0,i.totalLength=0,i}return s(e,t),e.getName=function(){return"page-nav-button"},e.getMetadata=function(){return{options:{orientation:{type:"enum",enums:["vertical","horizontal"],defaultValue:"vertical"},placement:{type:"enum",enums:["left","top","right","bottom"],defaultValue:"right"}}}},e.prototype.render=function(){t.prototype.render.call(this),this.element.classList.add(this.orientation,this.placement)},e.prototype.postlink=function(){t.prototype.postlink.call(this),this.button=this.childAt(0),this.showPageLayer=this.getComponentByName("nav-btn-show-page")},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this),this.updatePlace();var n=new i.default.Manager(this.button.element);n.add(new i.default.Pan({direction:i.default.DIRECTION_ALL})),n.add(new i.default.Press({time:0}));var o,r,a,s=function(t,n){switch(e.orientation){case"vertical":return n;case"horizontal":return t}},c=0;n.on("panstart",(function(t){if(!e.disabled){var n=c=s(t.deltaX,t.deltaY);e.showPageLayer.show(),e.trigger("movestart"),e._move(n)}})),n.on("panmove",(function(t){if(!e.disabled){var n=s(t.deltaX,t.deltaY),o=n-c,r=e.button.element.getBoundingClientRect();switch(e.orientation){case"vertical":var a=r.top+r.height/2;t.center.y<a&&t.direction&i.default.DIRECTION_DOWN&&(o=0),t.center.y>a&&t.direction&i.default.DIRECTION_UP&&(o=0);break;case"horizontal":var u=r.left+r.width/2;t.center.x<u&&t.direction&i.default.DIRECTION_RIGHT&&(offsetX=0),t.center.x>u&&t.direction&i.default.DIRECTION_LEFT&&(offsetX=0)}if(0!=o){e._move(o);var l=0===e.totalLength?0:e.position/e.totalLength;e.trigger("move",l)}c=n}})),n.on("panend",(function(){e.disabled||(e.trigger("moveend"),e.showPageLayer.hide())})),n.on("pressup",(function(){e.disabled||e.querySelector("@page-nav-layer").show()})),this.addDestroyHook((function(){return n.destroy()})),this.addDestroyHook((o=0,r=0,a=requestAnimationFrame((function t(){var n,i,s;a=requestAnimationFrame(t),n=e.element.parentElement,i=n.offsetHeight,(s=n.offsetHeight)===r&&i===o||e.updatePlace(),o=i,r=s})),function(){cancelAnimationFrame(a)}))},e.prototype.setPlace=function(t,e){this.checkValues(t,e),this.orientation=t,this.placement=e,this.updatePlace()},e.prototype.setPositionRatio=function(t){this.position=this.totalLength*t;var e=this.button.element;switch(this.orientation){case"vertical":e.style.cssText+="\n                    left: 0;\n                    top: "+this.position+"px;\n                ";break;case"horizontal":e.style.cssText+="\n                    top: 0;\n                    left: "+this.position+"px;\n                "}},e.prototype.checkValues=function(t,e){if("vertical"===t&&"left"!==e&&"right"!==e||"horizontal"===t&&"top"!==e&&"bottom"!==e)throw new Error("Illegal combination of origentation and placement: "+t+", "+e+" ")},e.prototype.updatePlace=function(){var t=0===this.totalLength?0:this.position/this.totalLength,e=this.element.parentElement,n=screen.width*(20/750)*2;switch(this.orientation){case"vertical":this.totalLength=e.offsetHeight-n-this.button.element.offsetHeight;break;case"horizontal":this.totalLength=e.offsetWidth-n-this.button.element.offsetWidth}this.setPositionRatio(t)},e.prototype._move=function(t){var e=this.button.element,n=this.position+t;if(!(n<0||n>this.totalLength))switch(this.position=n,this.orientation){case"vertical":e.style.top=this.position+"px";break;case"horizontal":e.style.left=this.position+"px"}},e}(o.default.createSuperClass({template:(0,r.default)()}));e.default=c},function(t,e,n){n(0);t.exports=function(t){"use strict";t=t||{};return'<div class="fv__ui-page-nav-container" @controller="PageNavigationController as ctrl">\n    <div class="fv__ui-page-scroll-button">\n        <span>\n            <text @sync.text="ctrl.currentPageNumber"></text>\n        </span>\n        <template>\n            <layer name="nav-btn-show-page" append-to="body" class="fv__ui-page-nav-info-layer center">\n                <layer-view>\n                    <div class="fv__ui-page-nav-info">\n                        <div class="fv__ui-page-nav-info-current">\n                            <text @sync.text="ctrl.currentPageNumber"></text>\n                        </div>\n                        <span class="fv__ui-page-nav-info-sep"></span>\n                        <div class="fv__ui-page-nav-info-total">\n                            <text @sync.text="ctrl.currentPageCount"></text>\n                        </div>\n                    </div>\n                </layer-view>\n            </layer>\n            <page-nav-layer></page-nav-layer>\n        </template>\n    </div>\n</div>','<div class="fv__ui-page-nav-container" @controller="PageNavigationController as ctrl">\n    <div class="fv__ui-page-scroll-button">\n        <span>\n            <text @sync.text="ctrl.currentPageNumber"></text>\n        </span>\n        <template>\n            <layer name="nav-btn-show-page" append-to="body" class="fv__ui-page-nav-info-layer center">\n                <layer-view>\n                    <div class="fv__ui-page-nav-info">\n                        <div class="fv__ui-page-nav-info-current">\n                            <text @sync.text="ctrl.currentPageNumber"></text>\n                        </div>\n                        <span class="fv__ui-page-nav-info-sep"></span>\n                        <div class="fv__ui-page-nav-info-total">\n                            <text @sync.text="ctrl.currentPageCount"></text>\n                        </div>\n                    </div>\n                </layer-view>\n            </layer>\n            <page-nav-layer></page-nav-layer>\n        </template>\n    </div>\n</div>'}},function(t,e,n){},function(t,e,n){"use strict";var o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(375)),r=s(n(12)),i=s(n(1124)),a=s(n(1125));function s(t){return t&&t.__esModule?t:{default:t}}Object.values(o).forEach((function(t){r.default.root().registerComponent(t)})),r.default.root().registerController(i.default),r.default.root().registerController(a.default)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(2)),r=a(n(1)),i=n(5);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var c=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.currentPageCount=0,o.currentPageNumber=1,o}return s(e,t),e.getName=function(){return"PageNavigationLayerController"},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this),this.addDestroyHook(this.getPDFUI().addViewerEventListener(r.default.openFileSuccess,(function(t){e.currentPageCount=t.getPageCount(),e.digest()})),this.component.on(i.COMPONENT_EVENTS.SHOWN,(function(){e._updatePageNumber()})))},e.prototype._updatePageNumber=function(){var t=this;return this.getPDFUI().getPDFDocRender().then((function(e){if(e){var n=e.getCurrentPageIndex();t.currentPageNumber=n+1,t.digest()}}))},e.prototype.confirm=function(){var t=this,e=this.getPDFUI().goToPage(this.component.getPageNumber()-1,0,0,!1);e?e.then((function(){t._updatePageNumber(),t.component.hide()})):this.component.hide()},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(2)),r=i(n(8));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}var s=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return o.currentPageNumber=1,o.currentPageCount=0,o}return a(e,t),e.getName=function(){return"PageNavigationController"},e.prototype.mounted=function(){var e=this;t.prototype.mounted.call(this),this.addDestroyHook(this.getPDFUI().addViewerEventListener(r.default.pageNumberChange,(function(t){e.currentPageNumber=t,e.digest()})),this.getPDFUI().addViewerEventListener(r.default.willCloseDocument,(function(t){e.component.disable()})),this.getPDFUI().addViewerEventListener(r.default.openFileSuccess,(function(t){e.component.enable(),e.currentPageCount=t.getPageCount(),e.currentPageNumber=1,e.digest()}))),this.getPDFUI().getPDFViewer().then((function(t){var n=t.getPDFViewerRender(),o=n.scrollWrap;e.addDestroyHook(o.addScrollEventListener((function(){var t=o.getScrollHost(),n=o.getScrollTop(),r=t.scrollHeight,i=o.getHeight(),a=void 0;a=r<=i?0:n/(r-i),e.component.setPositionRatio(a)}))),e.component.on("move",(function(t){var e=n.scrollWrap,o=t*(e.getScrollHost().scrollHeight-e.getHeight());e.scrollTo(e.getScrollLeft(),o)}))}))},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(314);Object.defineProperty(e,"HandController",{enumerable:!0,get:function(){return rt(o).default}});var r=n(175);Object.defineProperty(e,"CreateAreaHighlightController",{enumerable:!0,get:function(){return rt(r).default}});var i=n(176);Object.defineProperty(e,"CreateCaretController",{enumerable:!0,get:function(){return rt(i).default}});var a=n(177);Object.defineProperty(e,"CreateFileAttachmentController",{enumerable:!0,get:function(){return rt(a).default}});var s=n(178);Object.defineProperty(e,"CreateHighlightController",{enumerable:!0,get:function(){return rt(s).default}});var c=n(179);Object.defineProperty(e,"CreateImageController",{enumerable:!0,get:function(){return rt(c).default}});var u=n(180);Object.defineProperty(e,"CreateLinkController",{enumerable:!0,get:function(){return rt(u).default}});var l=n(181);Object.defineProperty(e,"CreatePencilController",{enumerable:!0,get:function(){return rt(l).default}});var f=n(182);Object.defineProperty(e,"CreateReplaceController",{enumerable:!0,get:function(){return rt(f).default}});var p=n(183);Object.defineProperty(e,"CreateSquigglyController",{enumerable:!0,get:function(){return rt(p).default}});var d=n(184);Object.defineProperty(e,"CreateStrikeoutController",{enumerable:!0,get:function(){return rt(d).default}});var h=n(185);Object.defineProperty(e,"CreateTextController",{enumerable:!0,get:function(){return rt(h).default}});var g=n(186);Object.defineProperty(e,"CreateUnderlineController",{enumerable:!0,get:function(){return rt(g).default}});var m=n(187);Object.defineProperty(e,"EraserController",{enumerable:!0,get:function(){return rt(m).default}});var v=n(189);Object.defineProperty(e,"CreateLineController",{enumerable:!0,get:function(){return rt(v).default}});var y=n(193);Object.defineProperty(e,"CreateArrowController",{enumerable:!0,get:function(){return rt(y).default}});var b=n(194);Object.defineProperty(e,"CreateCircleController",{enumerable:!0,get:function(){return rt(b).default}});var w=n(195);Object.defineProperty(e,"CreateSquareController",{enumerable:!0,get:function(){return rt(w).default}});var _=n(124);Object.defineProperty(e,"CreatePolylineController",{enumerable:!0,get:function(){return rt(_).default}});var P=n(198);Object.defineProperty(e,"CreatePolygonController",{enumerable:!0,get:function(){return rt(P).default}});var O=n(199);Object.defineProperty(e,"CreatePolygonCloudController",{enumerable:!0,get:function(){return rt(O).default}});var E=n(200);Object.defineProperty(e,"SelectTextAnnotationController",{enumerable:!0,get:function(){return rt(E).default}});var x=n(211);Object.defineProperty(e,"LoupeController",{enumerable:!0,get:function(){return rt(x).default}});var C=n(128);Object.defineProperty(e,"MarqueeToolController",{enumerable:!0,get:function(){return rt(C).default}});var A=n(204);Object.defineProperty(e,"ContinuousPageModeController",{enumerable:!0,get:function(){return rt(A).default}});var S=n(203);Object.defineProperty(e,"ContinuousFacingPageModeController",{enumerable:!0,get:function(){return rt(S).default}});var D=n(99);Object.defineProperty(e,"ViewModeController",{enumerable:!0,get:function(){return rt(D).default}});var R=n(363);Object.defineProperty(e,"SinglePageModeController",{enumerable:!0,get:function(){return rt(R).default}});var j=n(364);Object.defineProperty(e,"FacingPageModeController",{enumerable:!0,get:function(){return rt(j).default}});var T=n(202);Object.defineProperty(e,"GotoPageController",{enumerable:!0,get:function(){return rt(T).default}});var M=n(322);Object.defineProperty(e,"GotoNextPageController",{enumerable:!0,get:function(){return rt(M).default}});var I=n(321);Object.defineProperty(e,"GotoPrevPageController",{enumerable:!0,get:function(){return rt(I).default}});var k=n(201);Object.defineProperty(e,"TotalPageTextController",{enumerable:!0,get:function(){return rt(k).default}});var F=n(54);Object.defineProperty(e,"AnnotOperationController",{enumerable:!0,get:function(){return rt(F).default}});var N=n(331);Object.defineProperty(e,"CancelCreatingMeasurementController",{enumerable:!0,get:function(){return rt(N).default}});var L=n(332);Object.defineProperty(e,"CompleteCreatingMeasurementController",{enumerable:!0,get:function(){return rt(L).default}});var V=n(327);Object.defineProperty(e,"CreateDistanceController",{enumerable:!0,get:function(){return rt(V).default}});var B=n(328);Object.defineProperty(e,"CreatePerimeterController",{enumerable:!0,get:function(){return rt(B).default}});var U=n(210);Object.defineProperty(e,"AddImageController",{enumerable:!0,get:function(){return rt(U).default}});var H=n(326);Object.defineProperty(e,"DownloadFileController",{enumerable:!0,get:function(){return rt(H).default}});var q=n(206);Object.defineProperty(e,"OpenLocalFileController",{enumerable:!0,get:function(){return rt(q).default}});var $=n(205);Object.defineProperty(e,"OpenRemoteFileController",{enumerable:!0,get:function(){return rt($).default}});var W=n(359);Object.defineProperty(e,"ApplyAllRedactController",{enumerable:!0,get:function(){return rt(W).default}});var z=n(358);Object.defineProperty(e,"ApplyRedactController",{enumerable:!0,get:function(){return rt(z).default}});var Y=n(356);Object.defineProperty(e,"CopyAnnotTextController",{enumerable:!0,get:function(){return rt(Y).default}});var G=n(353);Object.defineProperty(e,"DeleteAnnotController",{enumerable:!0,get:function(){return rt(G).default}});var K=n(355);Object.defineProperty(e,"MediaDownloadController",{enumerable:!0,get:function(){return rt(K).default}});var J=n(362);Object.defineProperty(e,"MediaPauseController",{enumerable:!0,get:function(){return rt(J).default}});var X=n(361);Object.defineProperty(e,"MediaPlayController",{enumerable:!0,get:function(){return rt(X).default}});var Z=n(354);Object.defineProperty(e,"ShowActionsController",{enumerable:!0,get:function(){return rt(Z).default}});var Q=n(352);Object.defineProperty(e,"ShowAnnotPropertiesController",{enumerable:!0,get:function(){return rt(Q).default}});var tt=n(351);Object.defineProperty(e,"ShowAnnotReplyController",{enumerable:!0,get:function(){return rt(tt).default}});var et=n(360);Object.defineProperty(e,"ShowRedactPlaceDialogController",{enumerable:!0,get:function(){return rt(et).default}});var nt=n(357);Object.defineProperty(e,"ShowSearchPanelController",{enumerable:!0,get:function(){return rt(nt).default}});var ot=n(14);function rt(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"StatefulController",{enumerable:!0,get:function(){return rt(ot).default}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(1128);Object.defineProperty(e,"TypingInkSignImageGenerator",{enumerable:!0,get:function(){return i(o).default}});var r=n(1129);function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"InkSignImageDataTool",{enumerable:!0,get:function(){return i(r).default}})},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";o(this,t),this.fontFamily="Microsoft YaHei",this.fontSize=50,this.content=e}return t.prototype.setFontFamily=function(t){this.fontFamily=t},t.prototype.getFontFamily=function(){return this.fontFamily},t.prototype.setFontSize=function(t){this.fontSize=t},t.prototype.getFontSize=function(){return this.fontSize},t.prototype.setContent=function(t){this.content=t},t.prototype.generateImage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:114,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:57;if(!this.content)return null;var n=document.createElement("canvas");n.width=t,n.height=e;var o=n.getContext("2d");return o.font=this.fontSize+"px "+this.fontFamily,o.strokeStyle="#000000",o.textAlign="center",o.textBaseline="middle",o.fillText(this.content,n.width/2,n.height/2),o.stroke(),n.toDataURL("image/png",1)},t.prototype.importFontFamily=function(t,e){var n=document.createElement("style"),o=document.createElement("div");n.innerHTML="@font-face{font-family:"+t+";src:url("+e+")}",o.style.fontFamily=t,document.body.appendChild(n),document.body.appendChild(o),setTimeout((function(){document.body.removeChild(o)}),100)},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(22),i=(o=r)&&o.__esModule?o:{default:o};var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.transformImageToBase64FromURL=function(e){return t.getDataUrlFromImageUrlSrc(e).then(s)},t.transformImageToBase64FromBlob=function(e){if(e){var n=URL.createObjectURL(e);return t.getDataUrlFromImageUrlSrc(n).then(s).finally((function(t){URL.revokeObjectURL(n)}))}},t.getDataUrlFromImageUrlSrc=function(t){var e=new Image,n=(0,i.default)();return e.onload=function(){var t=document.createElement("canvas");t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0),n.resolve(t.toDataURL())},e.onerror=function(e){var o=new Error("Failed to load image from "+t);o.originEvent=e,n.reject(o)},e.oncancel=function(e){var o=new Error("Load image from "+t+" has been cancelled");o.originEvent=e,n.reject(o)},e.crossOrigin="anonymous",e.src=t,n.promise},t}();function s(t){var e=t.indexOf("base64,");return t.slice(e+"base64,".length)}e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.saveAs=e.EventEmitter=e.Hammer=e.dialogPolyfill=e.i18nextXHRBackend=e.i18nextLocalStorageBackend=e.i18nextChainedBackend=e.i18next=e.jQuery=void 0;var o=p(n(3)),r=p(n(137)),i=p(n(138)),a=p(n(139)),s=p(n(140));n(89);var c=p(n(91)),u=p(n(19)),l=p(n(56)),f=n(253);function p(t){return t&&t.__esModule?t:{default:t}}e.jQuery=o.default,e.i18next=r.default,e.i18nextChainedBackend=i.default,e.i18nextLocalStorageBackend=a.default,e.i18nextXHRBackend=s.default,e.dialogPolyfill=c.default,e.Hammer=u.default,e.EventEmitter=l.default,e.saveAs=f.saveAs},function(t,e,n){"use strict";n.r(e);var o=n(64);var r=function(){function t(t){Object(o.assertThat)(Array.isArray(t),"Illegal Matrix values, it should be an array! But actual: "+t),Object(o.assertThat)(16===t.length,"Incorrect matrix values size, it must be 16!"),this.values=t,this.cols=Math.sqrt(t.length)}return t.prototype.multiVec4=function(t,e,n,o){return void 0===o&&(o=1),[this.getAt(0,0)*t+this.getAt(0,1)*e+this.getAt(0,2)*n+this.getAt(0,3)*o,this.getAt(1,0)*t+this.getAt(1,1)*e+this.getAt(1,2)*n+this.getAt(1,3)*o,this.getAt(2,0)*t+this.getAt(2,1)*e+this.getAt(2,2)*n+this.getAt(2,3)*o,this.getAt(3,0)*t+this.getAt(3,1)*e+this.getAt(3,2)*n+this.getAt(3,3)*o]},t.prototype.getAt=function(t,e){var n=t*this.cols+e;return Object(o.assertThat)(n<this.values.length,"Cannot access value at ("+t+","+e+"), it out bound of this matrix!"),this.values[n]},t}(),i=function(){function t(t,e,n,o){void 0===n&&(n=0),void 0===o&&(o=1),this.a=t,this.b=e,this.c=n,this.d=o}return t.prototype.transform=function(e){var n=e.multiVec4(this.a,this.b,this.c,this.d);return new t(n[0],n[1],n[2],n[3])},t.prototype.scale=function(t,e,n){return void 0===e&&(e=t),void 0===n&&(n=e),this.transform(function(t,e,n){return void 0===e&&(e=t),void 0===n&&(n=e),new r([t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1])}(t,e,n))},t.prototype.rotateZ=function(t){return this.transform(function(t){void 0===t&&(t=0);var e=t/180*Math.PI,n=Math.cos(e),o=Math.sin(e);return new r([n,o,0,0,-o,n,0,0,0,0,1,0,0,0,0,1])}(t))},t.prototype.translate=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),this.transform(function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),new r([1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1])}(t,e,n))},t}();e.default=i}])}));