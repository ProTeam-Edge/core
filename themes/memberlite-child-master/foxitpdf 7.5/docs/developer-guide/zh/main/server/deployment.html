<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Deployment | Foxit PDF SDK For Web - V7.5.0</title>
    <meta name="generator" content="VuePress 1.5.2">
    <script src="/docs/developer-guide/resetHref.js"></script>
    <link rel="icon" href="/docs/developer-guide/favicon.ico">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800">
    <meta name="description" content="Foxit PDF SDK For Web development guide">
    <link rel="preload" href="/docs/developer-guide/assets/css/0.styles.8320695b.css" as="style"><link rel="preload" href="/docs/developer-guide/assets/js/app.e59b660e.js" as="script"><link rel="preload" href="/docs/developer-guide/assets/js/2.dc56942b.js" as="script"><link rel="preload" href="/docs/developer-guide/assets/js/76.8d7c04f2.js" as="script"><link rel="prefetch" href="/docs/developer-guide/assets/js/10.262961a2.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/100.40b70042.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/101.df4a4f46.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/102.9a5be7a0.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/103.7c03f97e.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/104.e4af67b0.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/105.741f148e.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/106.f6190c71.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/107.f4b1a1cc.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/108.2260311b.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/109.8dc3929f.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/11.c6c9afdb.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/110.d3733c6a.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/111.2ef13dd5.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/112.8c6b24ee.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/113.6161b167.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/114.37fb4820.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/115.c1703bf0.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/12.9eff1569.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/13.7ce955e0.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/14.9117e1a5.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/15.d43c4b11.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/16.a5314043.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/17.69f57fa3.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/18.a3189b80.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/19.8a19fa31.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/20.60999365.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/21.88dfe8ee.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/22.686c9506.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/23.c610a600.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/24.9b93458a.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/25.1043fd62.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/26.de0fa995.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/27.56b86eac.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/28.ece55fe6.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/29.79c45335.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/3.c56447e9.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/30.8d8f56f1.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/31.1e312257.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/32.275b15e6.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/33.40095eba.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/34.5ee13856.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/35.ebcef28d.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/36.bdfea51a.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/37.9379c771.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/38.b33d305c.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/39.aacf9cb8.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/4.25fce326.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/40.548a18c7.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/41.6a20d37a.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/42.bf276140.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/43.ea1c88e2.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/44.2084dd86.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/45.30f58f73.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/46.b278736e.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/47.473284fe.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/48.9a235e72.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/49.15c59e08.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/5.8e9c1074.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/50.9980ee3b.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/51.142ecb77.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/52.b90eb3ba.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/53.b376fc69.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/54.ed24c8f8.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/55.6ab7b45b.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/56.aafc357f.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/57.ea37f1f1.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/58.c1f9df86.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/59.3d61b9b3.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/6.35a51e97.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/60.17ce3f43.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/61.92006174.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/62.ae873b2d.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/63.24fc939c.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/64.010c0d3a.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/65.7b924d8d.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/66.6c87de38.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/67.c17470fb.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/68.8b7e8601.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/69.066665a7.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/7.5d73e73f.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/70.0d6e7863.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/71.29b241d0.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/72.7eeced98.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/73.9201778d.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/74.8060fcb6.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/75.0ddf6b91.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/77.fab4cc23.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/78.d2d1b788.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/79.14baf29a.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/8.857238ad.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/80.582cad2b.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/81.0ae0c41d.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/82.bc06df82.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/83.42eef793.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/84.228cf203.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/85.383c4f28.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/86.7df18dbe.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/87.1812c48b.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/88.22d52af0.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/89.291e726f.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/9.65921ad7.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/90.4fc15f90.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/91.45daa6a3.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/92.856d3396.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/93.01ed4023.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/94.0df9de9c.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/95.e1cb6a1e.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/96.299a36b9.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/97.db61fa81.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/98.5511b01c.js"><link rel="prefetch" href="/docs/developer-guide/assets/js/99.b4283054.js">
    <link rel="stylesheet" href="/docs/developer-guide/assets/css/0.styles.8320695b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/developer-guide/" class="home-link router-link-active"><!----> <span class="site-name">Foxit PDF SDK For Web - V7.5.0</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/API_Reference/FoxitPDFSDK_API_Reference.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  API Reference
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/docs/developer-guide/ui-extension/" class="nav-link">
  UIExtension
</a></div><div class="nav-item"><a href="/docs/developer-guide/technical-support/" class="nav-link">
  Technical Support
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="More" class="dropdown-title"><span class="title">More</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          devtools
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.npmjs.com/package/@foxitsoftware/gulp-merge-addon" target="_blank" rel="noopener noreferrer" class="nav-link external">
  @foxitsoftware/addon-loader
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.npmjs.com/package/@foxitsoftware/addon-loader" target="_blank" rel="noopener noreferrer" class="nav-link external">
  @foxitsoftware/gulp-merge-addon
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/API_Reference/FoxitPDFSDK_API_Reference.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  API Reference
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/docs/developer-guide/ui-extension/" class="nav-link">
  UIExtension
</a></div><div class="nav-item"><a href="/docs/developer-guide/technical-support/" class="nav-link">
  Technical Support
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="More" class="dropdown-title"><span class="title">More</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          devtools
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.npmjs.com/package/@foxitsoftware/gulp-merge-addon" target="_blank" rel="noopener noreferrer" class="nav-link external">
  @foxitsoftware/addon-loader
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.npmjs.com/package/@foxitsoftware/addon-loader" target="_blank" rel="noopener noreferrer" class="nav-link external">
  @foxitsoftware/gulp-merge-addon
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Getting Started</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/developer-guide/main/getting-started/understanding-the-package-structure.html" class="sidebar-link">Understanding the Package Structure</a></li><li><a href="/docs/developer-guide/main/getting-started/quickly-run-samples.html" class="sidebar-link">Quickly Run Examples</a></li><li><a href="/docs/developer-guide/main/getting-started/integration.html" class="sidebar-link">Integration</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Examples</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Features</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/docs/developer-guide/main/best-practice.html" class="sidebar-link">Best Practice</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Troubleshooting</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="deployment"><a href="#deployment" class="header-anchor">#</a> Deployment</h1> <h2 id="deployment-in-single-host"><a href="#deployment-in-single-host" class="header-anchor">#</a> Deployment in single host</h2> <h3 id="set-up-the-server"><a href="#set-up-the-server" class="header-anchor">#</a> Set up the server</h3> <p><strong>Prerequisite:</strong> Make sure you have <code>Docker</code> and <code>docker-compose</code> installed and running.</p> <ol><li><p>Pull webPDF Server image from our Docker hub</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># pull the latest published version</span>
docker pull harbor-us.cpdf.io:4430/websdk-sr/master:latest
</code></pre></div><div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># pull a specific version</span>
docker pull harbor-us.cpdf.io:4430/websdk-sr/master:7.4.0
</code></pre></div></li> <li><p>We use MongoDB as the database. If you don't use an existing MongoDB service, you should create an <code>init-mongo.js</code> file somewhere on your file system to initialize the MongoDB. If you use an existing MongoDB, ignore this step and go to next step.</p> <div class="language-sh extra-class"><pre class="language-sh"><code>db.createUser<span class="token punctuation">(</span>
<span class="token punctuation">{</span>
    user: <span class="token string">'mongo'</span>,
    pwd: <span class="token string">'mongo'</span>,
    roles: <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        role: <span class="token string">'readWrite'</span>,
        db: <span class="token string">'com-foxit-webpdf'</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token punctuation">)</span>
</code></pre></div></li> <li><p>In the same directory of <code>init-mongo.js</code>, create the docker-compose.yml. If you use an existing MongoDB, you should modify <code>S8_WEBPDF_MONGO_URI</code> value and other fields in the <code>mongo</code> section like hostname, ports, username, password and database name, so webViewer Server can connect to your MongoDB.</p></li></ol> <div class="language-sh extra-class"><pre class="language-sh"><code>version: <span class="token string">'2'</span>
services:
  mongo:
    image: mongo:4.2.2
    restart: always
    hostname: mongo
    ports:
      - <span class="token number">27017</span>:27017
    environment:
      MONGO_INITDB_ROOT_USERNAME: root
      MONGO_INITDB_ROOT_PASSWORD: root
      MONGO_NON_ROOT_USERNAME: mongo
      MONGO_NON_ROOT_PASSWORD: mongo
      MONGO_INITDB_DATABASE: com-foxit-webpdf
    volumes:
      - ./init-mongo.js:/docker-entrypoint-initdb.d/mongo-init.js:ro
  webpdf:
    image: harbor.cpdf.io:4430/websdk-sr/master:latest
    ports:
      - <span class="token number">8890</span>:8080
    environment:
      S8_WEBPDF_MONGO_URI: mongodb://mongo:mongo@mongo:27017/com-foxit-webpdf
      S8_WEBPDF_GSDK_SN:Copy the whole text string after <span class="token variable"><span class="token variable">`</span><span class="token assign-left variable">SN</span><span class="token operator">=</span><span class="token variable">`</span></span> <span class="token keyword">in</span> the SN license <span class="token function">file</span> you received and <span class="token function">paste</span> here.
      S8_WEBPDF_GSDK_KEY:Copy the whole text string after <span class="token variable"><span class="token variable">`</span><span class="token assign-left variable">Sign</span><span class="token operator">=</span><span class="token variable">`</span></span> <span class="token keyword">in</span> the KEY license <span class="token function">file</span> you received and <span class="token function">paste</span> here.
    depends_on: <span class="token comment"># to ensure MongoDB will be started before webViewer Server .</span>
      - <span class="token string">&quot;mongo&quot;</span>
</code></pre></div><p>4.  Navigate to the directory where you placed the <code>docker-compose.yml</code> in your terminal and run:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>docker-compose up -d
</code></pre></div><p>Now your webViewer Server is running at this point: <code>http://&lt;host_ip_address or localhost&gt;:8890/webpdf/</code>.  For instance, my host IP address is <code>0.0.0.0</code>,  then the server base URL would be <code>http://0.0.0.0:8890/webpdf/</code>.</p> <h3 id="set-up-the-webviewer"><a href="#set-up-the-webviewer" class="header-anchor">#</a> Set up the webViewer</h3> <p>In SDK package, navigate to <a target="_blank" href="/examples/UIExtension/complete_webViewer_sr">complete_webViewer_sr</a>, open the index.html, configure the <code>viewerOptions.server/root:</code> as follows:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>var pdfui <span class="token operator">=</span> new PDFUI<span class="token punctuation">(</span><span class="token punctuation">{</span>
viewerOptions: <span class="token punctuation">{</span>
sr: <span class="token punctuation">{</span>
server: <span class="token punctuation">{</span>
root: <span class="token string">'http://0.0.0.0:8890/webpdf/'</span>,
//other options
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>,
libPath: <span class="token string">'../../../lib'</span>,
 
<span class="token punctuation">}</span>,
</code></pre></div><p>Now you get your webViewer running with server rendering.  For how to start webViewer, refer to <a href="/docs/developer-guide/zh/main/main/getting-started/Quickly ;Run ;Samples.html">Quickly Run Samples</a>.</p> <h2 id="deployment-in-distributed-environment"><a href="#deployment-in-distributed-environment" class="header-anchor">#</a> Deployment in distributed environment</h2> <p><strong>Prerequisite:</strong> Make sure you have <code>Docker</code> and <code>docker-compose</code> installed and running.</p> <p>In a distributed environment, each webViewer Server will connect to a same MongoDB, and requires a share storage for the purpose of data caching.  The MongoDB is used to log PDF conversion tasks like which PDFs have bee parsed, the parsing results and so on. The MongoDB data storing duration depends on the <code>S8_WEBPDF_CACHE_AGE:</code> your set in <code>docker-composer.yml</code>.  And the share storage is used to cache the PDF files, rendered page image and other PDF related data.</p> <h3 id="set-up-multiple-webviewer-servers-in-a-single-node-environment"><a href="#set-up-multiple-webviewer-servers-in-a-single-node-environment" class="header-anchor">#</a> Set up multiple webViewer servers in a single-node environment</h3> <p>This section will walk you through how to set up multiple webViewer Servers in a single-node environment.</p> <p>Repeated the steps 1 ~ 2 in <a href="#deployment_in_single_host">Deployment in single host</a>, and then create the docker-compose.yml. Here you will add environment variable <code>S8_WEBPDF_CACHE_DIRS</code> for data caching, and add the mount in <code>volumes</code> so that the cache can be accessed by multiple webViewer servers.  Below is the configuration example:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>version: <span class="token string">'2'</span>
services:
  mongo:
    image: mongo:4.2.2
    restart: always
    hostname: mongo
    ports:
      - <span class="token number">27017</span>:27017
    environment:
      MONGO_INITDB_ROOT_USERNAME: root
      MONGO_INITDB_ROOT_PASSWORD: root
      MONGO_NON_ROOT_USERNAME: mongo
      MONGO_NON_ROOT_PASSWORD: mongo
      MONGO_INITDB_DATABASE: com-foxit-webpdf
    volumes:
      - ./init-mongo.js:/docker-entrypoint-initdb.d/mongo-init.js:ro
  webpdf1:
    image: harbor.cpdf.io:4430/websdk-sr/master:latest
    ports:
      - <span class="token number">8890</span>:8080
    environment:
      S8_WEBPDF_MONGO_URI: mongodb://mongo:mongo@mongo:27017/com-foxit-webpdf
      S8_WEBPDF_CACHE_DIRS: /srdata
      S8_WEBPDF_GSDK_SN:Copy the whole text string after <span class="token variable"><span class="token variable">`</span><span class="token assign-left variable">SN</span><span class="token operator">=</span><span class="token variable">`</span></span> <span class="token keyword">in</span> the SN license <span class="token function">file</span> you received and <span class="token function">paste</span> here
      S8_WEBPDF_GSDK_KEY:Copy the whole text string after <span class="token variable"><span class="token variable">`</span><span class="token assign-left variable">Sign</span><span class="token operator">=</span><span class="token variable">`</span></span> <span class="token keyword">in</span> the KEY license <span class="token function">file</span> you received and <span class="token function">paste</span> here
    volumes:
      - ./srdata:/srdata
    depends_on:
      - <span class="token string">&quot;mongo&quot;</span>
  webpdf2:
    image: harbor.cpdf.io:4430/websdk-sr/master:latest
    ports:
      - <span class="token number">8890</span>:8080
    environment:
      S8_WEBPDF_MONGO_URI: mongodb://mongo:mongo@mongo:27017/com-foxit-webpdf
      S8_WEBPDF_CACHE_DIRS: /srdata
      S8_WEBPDF_GSDK_SN:Copy the whole text string after <span class="token variable"><span class="token variable">`</span><span class="token assign-left variable">SN</span><span class="token operator">=</span><span class="token variable">`</span></span><span class="token keyword">in</span> the SN license <span class="token function">file</span> you received and <span class="token function">paste</span> here
      S8_WEBPDF_GSDK_KEY:Copy the whole text string after <span class="token variable"><span class="token variable">`</span><span class="token assign-left variable">Sign</span><span class="token operator">=</span><span class="token variable">`</span></span><span class="token keyword">in</span> the KEY license <span class="token function">file</span> you received and <span class="token function">paste</span> here
    volumes:
      - ./srdata:/srdata
    depends_on:
      - <span class="token string">&quot;mongo&quot;</span>
</code></pre></div><h3 id="set-up-multiple-webviewer-servers-in-a-multiple-node-environment"><a href="#set-up-multiple-webviewer-servers-in-a-multiple-node-environment" class="header-anchor">#</a> Set up multiple webViewer servers in a multiple-node environment</h3> <p>In a multiple-node environment, you should create a File Share for data caching so they can be accessible by different nodes. The File Share can be implemented by any utils like NFS, SMB, k8s, ceph etc.</p> <p>In the following section, we assume you have 3 machines, they are allocated as follows:</p> <table><thead><tr><th>Name</th> <th>IP</th> <th>Description</th></tr></thead> <tbody><tr><td>database</td> <td>192.168.0.2</td> <td>Provide MongoDB service, and  SMB File Share service</td></tr> <tr><td>webpdf-1</td> <td>192.168.0.3</td> <td>Provide webViewer Server service</td></tr> <tr><td>webpdf-2</td> <td>192.168.0.4</td> <td>Provide webViewer Server service</td></tr></tbody></table> <p><strong>database:</strong></p> <ol><li><p><strong>File Share:</strong> It is an assumption that this host has SMB File Share installed, and a mount point directory <code>/share</code> has been created.</p></li> <li><p><strong>MongoDB:</strong></p></li></ol> <p>If you don't use an existing MongoDB service, you should create an <code>init-mongo.js</code> file somewhere on your file system to initialize the MongoDB.  If you use an existing MongoDB, ignore this step and go to next step.</p> <div class="language-sh extra-class"><pre class="language-sh"><code>db.createUser<span class="token punctuation">(</span>
  <span class="token punctuation">{</span>
    user: <span class="token string">'mongo'</span>,
    pwd: <span class="token string">'mongo'</span>,
    roles: <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        role: <span class="token string">'readWrite'</span>,
        db: <span class="token string">'com-foxit-webpdf'</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
</code></pre></div><p>In the same directory, create the <code>docker-compose.yml</code>. If you use an existing MongoDB, you should modify <code>S8_WEBPDF_MONGO_URI</code> value and other fields in the <code>mongo</code> section like hostname, ports, username, password and database name,so webViewer Server can connect to your MongoDB.</p> <div class="language-sh extra-class"><pre class="language-sh"><code>version: <span class="token string">'2'</span>
services:
  mongo:
    image: mongo:4.2.2
    restart: always
    hostname: mongo
    ports:
      - <span class="token number">27017</span>:27017
    environment:
      MONGO_INITDB_ROOT_USERNAME: root
      MONGO_INITDB_ROOT_PASSWORD: root
      MONGO_NON_ROOT_USERNAME: mongo
      MONGO_NON_ROOT_PASSWORD: mongo
      MONGO_INITDB_DATABASE: com-foxit-webpdf
    volumes:
      - ./init-mongo.js:/docker-entrypoint-initdb.d/mongo-init.js:ro
</code></pre></div><p><strong>webpdf-1 node:</strong></p> <ol><li>On the host where webViewer Server is installed, mount the share in database node to webpdf-1:</li></ol> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">mount</span> -t cifs -o <span class="token assign-left variable">username</span><span class="token operator">=</span>smb,password<span class="token operator">=</span>password //192.168.0.2/share /mnt/share
</code></pre></div><p>2.  Add the share to the list of permanently associated mount points in the /etc/fstab file, to avoid losing data after a system restart.</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;//192.168.0.2/share /mnt/share cifs username=smb,password=password 0 0&quot;</span> <span class="token operator">&gt;&gt;</span> /etc/fstab`
</code></pre></div><p>3. Repeated the steps 1 ~ 2 in <a href="#deployment_in_single_host">Deployment in single host</a>, and then create the <code>docker-compose.yml</code>. Here, you will add environment variable <code>S8_WEBPDF_CACHE_DIRS</code> for data caching, and add the mount in <code>volumes</code> so that the cache can be shared by multiple webViewer servers.  Below is the configuration example:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>version: <span class="token string">'2'</span>
services:
  webpdf1:
    image: harbor.cpdf.io:4430/websdk-sr/master:latest
    ports:
      - <span class="token number">8890</span>:8080
    environment:
      S8_WEBPDF_MONGO_URI: mongodb://mongo:mongo@192.168.0.2:27017/com-foxit-webpdf
      S8_WEBPDF_CACHE_DIRS: /srdata
      S8_WEBPDF_GSDK_SN:Copy the whole text string after <span class="token variable"><span class="token variable">`</span><span class="token assign-left variable">SN</span><span class="token operator">=</span><span class="token variable">`</span></span> <span class="token keyword">in</span> the SN license <span class="token function">file</span> you received and <span class="token function">paste</span> here
      S8_WEBPDF_GSDK_KEY:Copy the whole text string after <span class="token variable"><span class="token variable">`</span><span class="token assign-left variable">Sign</span><span class="token operator">=</span><span class="token variable">`</span></span> <span class="token keyword">in</span> the KEY license <span class="token function">file</span> you received and <span class="token function">paste</span> here
    volumes:
      - /mnt/share:/srdata
</code></pre></div><p><strong>Note:</strong> If you use an existing MongoDB, you should modify <code>S8_WEBPDF_MONGO_URI</code> value and other fields in the <code>mongo</code> section like hostname, ports, username, password and database name, so webViewer Server can connect to your MongoDB.</p> <p><strong>webpdf-2  node:</strong></p> <p>Repeated the procedures in webpdf-1 node.</p> <h3 id="set-up-the-webviewer-2"><a href="#set-up-the-webviewer-2" class="header-anchor">#</a> Set up the webViewer</h3> <p>After done, open webViewer SDK package,  configure the webViewer to access server at the point <code>http://192.168.0.3:8890/webpdf/</code>  or <code>http://192.168.0.4:8890/webpdf/</code>. For details, refer to <a href="#set_up_the_viewer">Set up the webViewer</a> in the section of <a href="#deployment_in_single_host">Deployment in single host</a>.</p> <p><strong>Note:</strong> If you don't want the actual IP to be exposed directly, you can use nginx or other tools to do the reverse proxy, and configure https access.</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/docs/developer-guide/assets/js/app.e59b660e.js" defer></script><script src="/docs/developer-guide/assets/js/2.dc56942b.js" defer></script><script src="/docs/developer-guide/assets/js/76.8d7c04f2.js" defer></script>
  </body>
</html>
